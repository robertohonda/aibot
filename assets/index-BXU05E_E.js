var SC=Object.defineProperty;var EC=(t,e,n)=>e in t?SC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var pr=(t,e,n)=>EC(t,typeof e!="symbol"?e+"":e,n);function xC(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Kc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Kp={exports:{}},Ol={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ow;function TC(){if(ow)return Ol;ow=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,o){var u=null;if(o!==void 0&&(u=""+o),i.key!==void 0&&(u=""+i.key),"key"in i){o={};for(var c in i)c!=="key"&&(o[c]=i[c])}else o=i;return i=o.ref,{$$typeof:t,type:r,key:u,ref:i!==void 0?i:null,props:o}}return Ol.Fragment=e,Ol.jsx=n,Ol.jsxs=n,Ol}var lw;function OC(){return lw||(lw=1,Kp.exports=TC()),Kp.exports}var X=OC(),Xp={exports:{}},je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uw;function RC(){if(uw)return je;uw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),b=Symbol.iterator;function y(k){return k===null||typeof k!="object"?null:(k=b&&k[b]||k["@@iterator"],typeof k=="function"?k:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,w={};function S(k,H,W){this.props=k,this.context=H,this.refs=w,this.updater=W||_}S.prototype.isReactComponent={},S.prototype.setState=function(k,H){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,H,"setState")},S.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function T(){}T.prototype=S.prototype;function N(k,H,W){this.props=k,this.context=H,this.refs=w,this.updater=W||_}var x=N.prototype=new T;x.constructor=N,v(x,S.prototype),x.isPureReactComponent=!0;var R=Array.isArray,O={H:null,A:null,T:null,S:null,V:null},j=Object.prototype.hasOwnProperty;function L(k,H,W,ee,oe,le){return W=le.ref,{$$typeof:t,type:k,key:H,ref:W!==void 0?W:null,props:le}}function D(k,H){return L(k.type,H,void 0,void 0,void 0,k.props)}function te(k){return typeof k=="object"&&k!==null&&k.$$typeof===t}function C(k){var H={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(W){return H[W]})}var F=/\/+/g;function J(k,H){return typeof k=="object"&&k!==null&&k.key!=null?C(""+k.key):H.toString(36)}function ne(){}function G(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(ne,ne):(k.status="pending",k.then(function(H){k.status==="pending"&&(k.status="fulfilled",k.value=H)},function(H){k.status==="pending"&&(k.status="rejected",k.reason=H)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function U(k,H,W,ee,oe){var le=typeof k;(le==="undefined"||le==="boolean")&&(k=null);var fe=!1;if(k===null)fe=!0;else switch(le){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(k.$$typeof){case t:case e:fe=!0;break;case m:return fe=k._init,U(fe(k._payload),H,W,ee,oe)}}if(fe)return oe=oe(k),fe=ee===""?"."+J(k,0):ee,R(oe)?(W="",fe!=null&&(W=fe.replace(F,"$&/")+"/"),U(oe,H,W,"",function(Oe){return Oe})):oe!=null&&(te(oe)&&(oe=D(oe,W+(oe.key==null||k&&k.key===oe.key?"":(""+oe.key).replace(F,"$&/")+"/")+fe)),H.push(oe)),1;fe=0;var he=ee===""?".":ee+":";if(R(k))for(var me=0;me<k.length;me++)ee=k[me],le=he+J(ee,me),fe+=U(ee,H,W,le,oe);else if(me=y(k),typeof me=="function")for(k=me.call(k),me=0;!(ee=k.next()).done;)ee=ee.value,le=he+J(ee,me++),fe+=U(ee,H,W,le,oe);else if(le==="object"){if(typeof k.then=="function")return U(G(k),H,W,ee,oe);throw H=String(k),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return fe}function I(k,H,W){if(k==null)return k;var ee=[],oe=0;return U(k,ee,"","",function(le){return H.call(W,le,oe++)}),ee}function M(k){if(k._status===-1){var H=k._result;H=H(),H.then(function(W){(k._status===0||k._status===-1)&&(k._status=1,k._result=W)},function(W){(k._status===0||k._status===-1)&&(k._status=2,k._result=W)}),k._status===-1&&(k._status=0,k._result=H)}if(k._status===1)return k._result.default;throw k._result}var Z=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function B(){}return je.Children={map:I,forEach:function(k,H,W){I(k,function(){H.apply(this,arguments)},W)},count:function(k){var H=0;return I(k,function(){H++}),H},toArray:function(k){return I(k,function(H){return H})||[]},only:function(k){if(!te(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},je.Component=S,je.Fragment=n,je.Profiler=i,je.PureComponent=N,je.StrictMode=r,je.Suspense=d,je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,je.__COMPILER_RUNTIME={__proto__:null,c:function(k){return O.H.useMemoCache(k)}},je.cache=function(k){return function(){return k.apply(null,arguments)}},je.cloneElement=function(k,H,W){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ee=v({},k.props),oe=k.key,le=void 0;if(H!=null)for(fe in H.ref!==void 0&&(le=void 0),H.key!==void 0&&(oe=""+H.key),H)!j.call(H,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&H.ref===void 0||(ee[fe]=H[fe]);var fe=arguments.length-2;if(fe===1)ee.children=W;else if(1<fe){for(var he=Array(fe),me=0;me<fe;me++)he[me]=arguments[me+2];ee.children=he}return L(k.type,oe,void 0,void 0,le,ee)},je.createContext=function(k){return k={$$typeof:u,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:o,_context:k},k},je.createElement=function(k,H,W){var ee,oe={},le=null;if(H!=null)for(ee in H.key!==void 0&&(le=""+H.key),H)j.call(H,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(oe[ee]=H[ee]);var fe=arguments.length-2;if(fe===1)oe.children=W;else if(1<fe){for(var he=Array(fe),me=0;me<fe;me++)he[me]=arguments[me+2];oe.children=he}if(k&&k.defaultProps)for(ee in fe=k.defaultProps,fe)oe[ee]===void 0&&(oe[ee]=fe[ee]);return L(k,le,void 0,void 0,null,oe)},je.createRef=function(){return{current:null}},je.forwardRef=function(k){return{$$typeof:c,render:k}},je.isValidElement=te,je.lazy=function(k){return{$$typeof:m,_payload:{_status:-1,_result:k},_init:M}},je.memo=function(k,H){return{$$typeof:h,type:k,compare:H===void 0?null:H}},je.startTransition=function(k){var H=O.T,W={};O.T=W;try{var ee=k(),oe=O.S;oe!==null&&oe(W,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(B,Z)}catch(le){Z(le)}finally{O.T=H}},je.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},je.use=function(k){return O.H.use(k)},je.useActionState=function(k,H,W){return O.H.useActionState(k,H,W)},je.useCallback=function(k,H){return O.H.useCallback(k,H)},je.useContext=function(k){return O.H.useContext(k)},je.useDebugValue=function(){},je.useDeferredValue=function(k,H){return O.H.useDeferredValue(k,H)},je.useEffect=function(k,H,W){var ee=O.H;if(typeof W=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ee.useEffect(k,H)},je.useId=function(){return O.H.useId()},je.useImperativeHandle=function(k,H,W){return O.H.useImperativeHandle(k,H,W)},je.useInsertionEffect=function(k,H){return O.H.useInsertionEffect(k,H)},je.useLayoutEffect=function(k,H){return O.H.useLayoutEffect(k,H)},je.useMemo=function(k,H){return O.H.useMemo(k,H)},je.useOptimistic=function(k,H){return O.H.useOptimistic(k,H)},je.useReducer=function(k,H,W){return O.H.useReducer(k,H,W)},je.useRef=function(k){return O.H.useRef(k)},je.useState=function(k){return O.H.useState(k)},je.useSyncExternalStore=function(k,H,W){return O.H.useSyncExternalStore(k,H,W)},je.useTransition=function(){return O.H.useTransition()},je.version="19.1.0",je}var cw;function wy(){return cw||(cw=1,Xp.exports=RC()),Xp.exports}var $=wy();const Zr=vi($),$g=xC({__proto__:null,default:Zr},[$]);var Wp={exports:{}},Rl={},Qp={exports:{}},Jp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fw;function CC(){return fw||(fw=1,function(t){function e(I,M){var Z=I.length;I.push(M);e:for(;0<Z;){var B=Z-1>>>1,k=I[B];if(0<i(k,M))I[B]=M,I[Z]=k,Z=B;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var M=I[0],Z=I.pop();if(Z!==M){I[0]=Z;e:for(var B=0,k=I.length,H=k>>>1;B<H;){var W=2*(B+1)-1,ee=I[W],oe=W+1,le=I[oe];if(0>i(ee,Z))oe<k&&0>i(le,ee)?(I[B]=le,I[oe]=Z,B=oe):(I[B]=ee,I[W]=Z,B=W);else if(oe<k&&0>i(le,Z))I[B]=le,I[oe]=Z,B=oe;else break e}}return M}function i(I,M){var Z=I.sortIndex-M.sortIndex;return Z!==0?Z:I.id-M.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,c=u.now();t.unstable_now=function(){return u.now()-c}}var d=[],h=[],m=1,b=null,y=3,_=!1,v=!1,w=!1,S=!1,T=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;function R(I){for(var M=n(h);M!==null;){if(M.callback===null)r(h);else if(M.startTime<=I)r(h),M.sortIndex=M.expirationTime,e(d,M);else break;M=n(h)}}function O(I){if(w=!1,R(I),!v)if(n(d)!==null)v=!0,j||(j=!0,J());else{var M=n(h);M!==null&&U(O,M.startTime-I)}}var j=!1,L=-1,D=5,te=-1;function C(){return S?!0:!(t.unstable_now()-te<D)}function F(){if(S=!1,j){var I=t.unstable_now();te=I;var M=!0;try{e:{v=!1,w&&(w=!1,N(L),L=-1),_=!0;var Z=y;try{t:{for(R(I),b=n(d);b!==null&&!(b.expirationTime>I&&C());){var B=b.callback;if(typeof B=="function"){b.callback=null,y=b.priorityLevel;var k=B(b.expirationTime<=I);if(I=t.unstable_now(),typeof k=="function"){b.callback=k,R(I),M=!0;break t}b===n(d)&&r(d),R(I)}else r(d);b=n(d)}if(b!==null)M=!0;else{var H=n(h);H!==null&&U(O,H.startTime-I),M=!1}}break e}finally{b=null,y=Z,_=!1}M=void 0}}finally{M?J():j=!1}}}var J;if(typeof x=="function")J=function(){x(F)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,G=ne.port2;ne.port1.onmessage=F,J=function(){G.postMessage(null)}}else J=function(){T(F,0)};function U(I,M){L=T(function(){I(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(I){switch(y){case 1:case 2:case 3:var M=3;break;default:M=y}var Z=y;y=M;try{return I()}finally{y=Z}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(I,M){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var Z=y;y=I;try{return M()}finally{y=Z}},t.unstable_scheduleCallback=function(I,M,Z){var B=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?B+Z:B):Z=B,I){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=Z+k,I={id:m++,callback:M,priorityLevel:I,startTime:Z,expirationTime:k,sortIndex:-1},Z>B?(I.sortIndex=Z,e(h,I),n(d)===null&&I===n(h)&&(w?(N(L),L=-1):w=!0,U(O,Z-B))):(I.sortIndex=k,e(d,I),v||_||(v=!0,j||(j=!0,J()))),I},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(I){var M=y;return function(){var Z=y;y=M;try{return I.apply(this,arguments)}finally{y=Z}}}}(Jp)),Jp}var dw;function AC(){return dw||(dw=1,Qp.exports=CC()),Qp.exports}var em={exports:{}},_n={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hw;function NC(){if(hw)return _n;hw=1;var t=wy();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(d,h,m){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:b==null?null:""+b,children:d,containerInfo:h,implementation:m}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return _n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,_n.createPortal=function(d,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return o(d,h,null,m)},_n.flushSync=function(d){var h=u.T,m=r.p;try{if(u.T=null,r.p=2,d)return d()}finally{u.T=h,r.p=m,r.d.f()}},_n.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(d,h))},_n.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},_n.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var m=h.as,b=c(m,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,_=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?r.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:b,integrity:y,fetchPriority:_}):m==="script"&&r.d.X(d,{crossOrigin:b,integrity:y,fetchPriority:_,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},_n.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=c(h.as,h.crossOrigin);r.d.M(d,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(d)},_n.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,b=c(m,h.crossOrigin);r.d.L(d,m,{crossOrigin:b,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},_n.preloadModule=function(d,h){if(typeof d=="string")if(h){var m=c(h.as,h.crossOrigin);r.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(d)},_n.requestFormReset=function(d){r.d.r(d)},_n.unstable_batchedUpdates=function(d,h){return d(h)},_n.useFormState=function(d,h,m){return u.H.useFormState(d,h,m)},_n.useFormStatus=function(){return u.H.useHostTransitionStatus()},_n.version="19.1.0",_n}var pw;function nx(){if(pw)return em.exports;pw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),em.exports=NC(),em.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mw;function kC(){if(mw)return Rl;mw=1;var t=AC(),e=wy(),n=nx();function r(a){var s="https://react.dev/errors/"+a;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var s=a,l=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&4098)!==0&&(l=s.return),a=s.return;while(a)}return s.tag===3?l:null}function u(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function c(a){if(o(a)!==a)throw Error(r(188))}function d(a){var s=a.alternate;if(!s){if(s=o(a),s===null)throw Error(r(188));return s!==a?null:a}for(var l=a,f=s;;){var p=l.return;if(p===null)break;var g=p.alternate;if(g===null){if(f=p.return,f!==null){l=f;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===l)return c(p),a;if(g===f)return c(p),s;g=g.sibling}throw Error(r(188))}if(l.return!==f.return)l=p,f=g;else{for(var E=!1,A=p.child;A;){if(A===l){E=!0,l=p,f=g;break}if(A===f){E=!0,f=p,l=g;break}A=A.sibling}if(!E){for(A=g.child;A;){if(A===l){E=!0,l=g,f=p;break}if(A===f){E=!0,f=g,l=p;break}A=A.sibling}if(!E)throw Error(r(189))}}if(l.alternate!==f)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?a:s}function h(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a;for(a=a.child;a!==null;){if(s=h(a),s!==null)return s;a=a.sibling}return null}var m=Object.assign,b=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),N=Symbol.for("react.consumer"),x=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),te=Symbol.for("react.activity"),C=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function J(a){return a===null||typeof a!="object"?null:(a=F&&a[F]||a["@@iterator"],typeof a=="function"?a:null)}var ne=Symbol.for("react.client.reference");function G(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===ne?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case v:return"Fragment";case S:return"Profiler";case w:return"StrictMode";case O:return"Suspense";case j:return"SuspenseList";case te:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case _:return"Portal";case x:return(a.displayName||"Context")+".Provider";case N:return(a._context.displayName||"Context")+".Consumer";case R:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case L:return s=a.displayName||null,s!==null?s:G(a.type)||"Memo";case D:s=a._payload,a=a._init;try{return G(a(s))}catch{}}return null}var U=Array.isArray,I=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},B=[],k=-1;function H(a){return{current:a}}function W(a){0>k||(a.current=B[k],B[k]=null,k--)}function ee(a,s){k++,B[k]=a.current,a.current=s}var oe=H(null),le=H(null),fe=H(null),he=H(null);function me(a,s){switch(ee(fe,s),ee(le,a),ee(oe,null),s.nodeType){case 9:case 11:a=(a=s.documentElement)&&(a=a.namespaceURI)?P_(a):0;break;default:if(a=s.tagName,s=s.namespaceURI)s=P_(s),a=M_(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}W(oe),ee(oe,a)}function Oe(){W(oe),W(le),W(fe)}function ge(a){a.memoizedState!==null&&ee(he,a);var s=oe.current,l=M_(s,a.type);s!==l&&(ee(le,a),ee(oe,l))}function Ne(a){le.current===a&&(W(oe),W(le)),he.current===a&&(W(he),wl._currentValue=Z)}var Ce=Object.prototype.hasOwnProperty,it=t.unstable_scheduleCallback,Ae=t.unstable_cancelCallback,Ye=t.unstable_shouldYield,Lt=t.unstable_requestPaint,Ge=t.unstable_now,bt=t.unstable_getCurrentPriorityLevel,Zt=t.unstable_ImmediatePriority,st=t.unstable_UserBlockingPriority,Xe=t.unstable_NormalPriority,ve=t.unstable_LowPriority,un=t.unstable_IdlePriority,Ot=t.log,Hn=t.unstable_setDisableYieldValue,yn=null,St=null;function Bt(a){if(typeof Ot=="function"&&Hn(a),St&&typeof St.setStrictMode=="function")try{St.setStrictMode(yn,a)}catch{}}var Et=Math.clz32?Math.clz32:An,qn=Math.log,Ue=Math.LN2;function An(a){return a>>>=0,a===0?32:31-(qn(a)/Ue|0)|0}var Jt=256,Yt=4194304;function _e(a){var s=a&42;if(s!==0)return s;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Ve(a,s,l){var f=a.pendingLanes;if(f===0)return 0;var p=0,g=a.suspendedLanes,E=a.pingedLanes;a=a.warmLanes;var A=f&134217727;return A!==0?(f=A&~g,f!==0?p=_e(f):(E&=A,E!==0?p=_e(E):l||(l=A&~a,l!==0&&(p=_e(l))))):(A=f&~g,A!==0?p=_e(A):E!==0?p=_e(E):l||(l=f&~a,l!==0&&(p=_e(l)))),p===0?0:s!==0&&s!==p&&(s&g)===0&&(g=p&-p,l=s&-s,g>=l||g===32&&(l&4194048)!==0)?s:p}function Rt(a,s){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&s)===0}function Fn(a,s){switch(a){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wi(){var a=Jt;return Jt<<=1,(Jt&4194048)===0&&(Jt=256),a}function Pu(){var a=Yt;return Yt<<=1,(Yt&62914560)===0&&(Yt=4194304),a}function No(a){for(var s=[],l=0;31>l;l++)s.push(a);return s}function Si(a,s){a.pendingLanes|=s,s!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function zd(a,s,l,f,p,g){var E=a.pendingLanes;a.pendingLanes=l,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=l,a.entangledLanes&=l,a.errorRecoveryDisabledLanes&=l,a.shellSuspendCounter=0;var A=a.entanglements,P=a.expirationTimes,Y=a.hiddenUpdates;for(l=E&~l;0<l;){var ae=31-Et(l),se=1<<ae;A[ae]=0,P[ae]=-1;var K=Y[ae];if(K!==null)for(Y[ae]=null,ae=0;ae<K.length;ae++){var Q=K[ae];Q!==null&&(Q.lane&=-536870913)}l&=~se}f!==0&&Mu(a,f,0),g!==0&&p===0&&a.tag!==0&&(a.suspendedLanes|=g&~(E&~s))}function Mu(a,s,l){a.pendingLanes|=s,a.suspendedLanes&=~s;var f=31-Et(s);a.entangledLanes|=s,a.entanglements[f]=a.entanglements[f]|1073741824|l&4194090}function Lu(a,s){var l=a.entangledLanes|=s;for(a=a.entanglements;l;){var f=31-Et(l),p=1<<f;p&s|a[f]&s&&(a[f]|=s),l&=~p}}function ko(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Ie(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Nn(){var a=M.p;return a!==0?a:(a=window.event,a===void 0?32:tw(a.type))}function Du(a,s){var l=M.p;try{return M.p=a,s()}finally{M.p=l}}var Ia=Math.random().toString(36).slice(2),bn="__reactFiber$"+Ia,kn="__reactProps$"+Ia,as="__reactContainer$"+Ia,Bd="__reactEvents$"+Ia,dO="__reactListeners$"+Ia,hO="__reactHandles$"+Ia,Eb="__reactResources$"+Ia,Io="__reactMarker$"+Ia;function Hd(a){delete a[bn],delete a[kn],delete a[Bd],delete a[dO],delete a[hO]}function is(a){var s=a[bn];if(s)return s;for(var l=a.parentNode;l;){if(s=l[as]||l[bn]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(a=z_(a);a!==null;){if(l=a[bn])return l;a=z_(a)}return s}a=l,l=a.parentNode}return null}function ss(a){if(a=a[bn]||a[as]){var s=a.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return a}return null}function $o(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a.stateNode;throw Error(r(33))}function os(a){var s=a[Eb];return s||(s=a[Eb]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function en(a){a[Io]=!0}var xb=new Set,Tb={};function Ei(a,s){ls(a,s),ls(a+"Capture",s)}function ls(a,s){for(Tb[a]=s,a=0;a<s.length;a++)xb.add(s[a])}var pO=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ob={},Rb={};function mO(a){return Ce.call(Rb,a)?!0:Ce.call(Ob,a)?!1:pO.test(a)?Rb[a]=!0:(Ob[a]=!0,!1)}function Uu(a,s,l){if(mO(s))if(l===null)a.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":a.removeAttribute(s);return;case"boolean":var f=s.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){a.removeAttribute(s);return}}a.setAttribute(s,""+l)}}function zu(a,s,l){if(l===null)a.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(s);return}a.setAttribute(s,""+l)}}function na(a,s,l,f){if(f===null)a.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttributeNS(s,l,""+f)}}var qd,Cb;function us(a){if(qd===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);qd=s&&s[1]||"",Cb=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qd+a+Cb}var Fd=!1;function Gd(a,s){if(!a||Fd)return"";Fd=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(s){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(Q){var K=Q}Reflect.construct(a,[],se)}else{try{se.call()}catch(Q){K=Q}a.call(se.prototype)}}else{try{throw Error()}catch(Q){K=Q}(se=a())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(Q){if(Q&&K&&typeof Q.stack=="string")return[Q.stack,K.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=f.DetermineComponentFrameRoot(),E=g[0],A=g[1];if(E&&A){var P=E.split(`
`),Y=A.split(`
`);for(p=f=0;f<P.length&&!P[f].includes("DetermineComponentFrameRoot");)f++;for(;p<Y.length&&!Y[p].includes("DetermineComponentFrameRoot");)p++;if(f===P.length||p===Y.length)for(f=P.length-1,p=Y.length-1;1<=f&&0<=p&&P[f]!==Y[p];)p--;for(;1<=f&&0<=p;f--,p--)if(P[f]!==Y[p]){if(f!==1||p!==1)do if(f--,p--,0>p||P[f]!==Y[p]){var ae=`
`+P[f].replace(" at new "," at ");return a.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",a.displayName)),ae}while(1<=f&&0<=p);break}}}finally{Fd=!1,Error.prepareStackTrace=l}return(l=a?a.displayName||a.name:"")?us(l):""}function gO(a){switch(a.tag){case 26:case 27:case 5:return us(a.type);case 16:return us("Lazy");case 13:return us("Suspense");case 19:return us("SuspenseList");case 0:case 15:return Gd(a.type,!1);case 11:return Gd(a.type.render,!1);case 1:return Gd(a.type,!0);case 31:return us("Activity");default:return""}}function Ab(a){try{var s="";do s+=gO(a),a=a.return;while(a);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function ir(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Nb(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function yO(a){var s=Nb(a)?"checked":"value",l=Object.getOwnPropertyDescriptor(a.constructor.prototype,s),f=""+a[s];if(!a.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,g=l.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return p.call(this)},set:function(E){f=""+E,g.call(this,E)}}),Object.defineProperty(a,s,{enumerable:l.enumerable}),{getValue:function(){return f},setValue:function(E){f=""+E},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function Bu(a){a._valueTracker||(a._valueTracker=yO(a))}function kb(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var l=s.getValue(),f="";return a&&(f=Nb(a)?a.checked?"true":"false":a.value),a=f,a!==l?(s.setValue(a),!0):!1}function Hu(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var bO=/[\n"\\]/g;function sr(a){return a.replace(bO,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Vd(a,s,l,f,p,g,E,A){a.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?a.type=E:a.removeAttribute("type"),s!=null?E==="number"?(s===0&&a.value===""||a.value!=s)&&(a.value=""+ir(s)):a.value!==""+ir(s)&&(a.value=""+ir(s)):E!=="submit"&&E!=="reset"||a.removeAttribute("value"),s!=null?Zd(a,E,ir(s)):l!=null?Zd(a,E,ir(l)):f!=null&&a.removeAttribute("value"),p==null&&g!=null&&(a.defaultChecked=!!g),p!=null&&(a.checked=p&&typeof p!="function"&&typeof p!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?a.name=""+ir(A):a.removeAttribute("name")}function Ib(a,s,l,f,p,g,E,A){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(a.type=g),s!=null||l!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;l=l!=null?""+ir(l):"",s=s!=null?""+ir(s):l,A||s===a.value||(a.value=s),a.defaultValue=s}f=f??p,f=typeof f!="function"&&typeof f!="symbol"&&!!f,a.checked=A?a.checked:!!f,a.defaultChecked=!!f,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(a.name=E)}function Zd(a,s,l){s==="number"&&Hu(a.ownerDocument)===a||a.defaultValue===""+l||(a.defaultValue=""+l)}function cs(a,s,l,f){if(a=a.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<a.length;l++)p=s.hasOwnProperty("$"+a[l].value),a[l].selected!==p&&(a[l].selected=p),p&&f&&(a[l].defaultSelected=!0)}else{for(l=""+ir(l),s=null,p=0;p<a.length;p++){if(a[p].value===l){a[p].selected=!0,f&&(a[p].defaultSelected=!0);return}s!==null||a[p].disabled||(s=a[p])}s!==null&&(s.selected=!0)}}function $b(a,s,l){if(s!=null&&(s=""+ir(s),s!==a.value&&(a.value=s),l==null)){a.defaultValue!==s&&(a.defaultValue=s);return}a.defaultValue=l!=null?""+ir(l):""}function jb(a,s,l,f){if(s==null){if(f!=null){if(l!=null)throw Error(r(92));if(U(f)){if(1<f.length)throw Error(r(93));f=f[0]}l=f}l==null&&(l=""),s=l}l=ir(s),a.defaultValue=l,f=a.textContent,f===l&&f!==""&&f!==null&&(a.value=f)}function fs(a,s){if(s){var l=a.firstChild;if(l&&l===a.lastChild&&l.nodeType===3){l.nodeValue=s;return}}a.textContent=s}var vO=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pb(a,s,l){var f=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?f?a.setProperty(s,""):s==="float"?a.cssFloat="":a[s]="":f?a.setProperty(s,l):typeof l!="number"||l===0||vO.has(s)?s==="float"?a.cssFloat=l:a[s]=(""+l).trim():a[s]=l+"px"}function Mb(a,s,l){if(s!=null&&typeof s!="object")throw Error(r(62));if(a=a.style,l!=null){for(var f in l)!l.hasOwnProperty(f)||s!=null&&s.hasOwnProperty(f)||(f.indexOf("--")===0?a.setProperty(f,""):f==="float"?a.cssFloat="":a[f]="");for(var p in s)f=s[p],s.hasOwnProperty(p)&&l[p]!==f&&Pb(a,p,f)}else for(var g in s)s.hasOwnProperty(g)&&Pb(a,g,s[g])}function Yd(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _O=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wO=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qu(a){return wO.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var Kd=null;function Xd(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var ds=null,hs=null;function Lb(a){var s=ss(a);if(s&&(a=s.stateNode)){var l=a[kn]||null;e:switch(a=s.stateNode,s.type){case"input":if(Vd(a,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=a;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+sr(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var f=l[s];if(f!==a&&f.form===a.form){var p=f[kn]||null;if(!p)throw Error(r(90));Vd(f,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<l.length;s++)f=l[s],f.form===a.form&&kb(f)}break e;case"textarea":$b(a,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&cs(a,!!l.multiple,s,!1)}}}var Wd=!1;function Db(a,s,l){if(Wd)return a(s,l);Wd=!0;try{var f=a(s);return f}finally{if(Wd=!1,(ds!==null||hs!==null)&&(Cc(),ds&&(s=ds,a=hs,hs=ds=null,Lb(s),a)))for(s=0;s<a.length;s++)Lb(a[s])}}function jo(a,s){var l=a.stateNode;if(l===null)return null;var f=l[kn]||null;if(f===null)return null;l=f[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(a=a.type,f=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!f;break e;default:a=!1}if(a)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var ra=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qd=!1;if(ra)try{var Po={};Object.defineProperty(Po,"passive",{get:function(){Qd=!0}}),window.addEventListener("test",Po,Po),window.removeEventListener("test",Po,Po)}catch{Qd=!1}var $a=null,Jd=null,Fu=null;function Ub(){if(Fu)return Fu;var a,s=Jd,l=s.length,f,p="value"in $a?$a.value:$a.textContent,g=p.length;for(a=0;a<l&&s[a]===p[a];a++);var E=l-a;for(f=1;f<=E&&s[l-f]===p[g-f];f++);return Fu=p.slice(a,1<f?1-f:void 0)}function Gu(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function Vu(){return!0}function zb(){return!1}function In(a){function s(l,f,p,g,E){this._reactName=l,this._targetInst=p,this.type=f,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var A in a)a.hasOwnProperty(A)&&(l=a[A],this[A]=l?l(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Vu:zb,this.isPropagationStopped=zb,this}return m(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Vu)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Vu)},persist:function(){},isPersistent:Vu}),s}var xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zu=In(xi),Mo=m({},xi,{view:0,detail:0}),SO=In(Mo),eh,th,Lo,Yu=m({},Mo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rh,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Lo&&(Lo&&a.type==="mousemove"?(eh=a.screenX-Lo.screenX,th=a.screenY-Lo.screenY):th=eh=0,Lo=a),eh)},movementY:function(a){return"movementY"in a?a.movementY:th}}),Bb=In(Yu),EO=m({},Yu,{dataTransfer:0}),xO=In(EO),TO=m({},Mo,{relatedTarget:0}),nh=In(TO),OO=m({},xi,{animationName:0,elapsedTime:0,pseudoElement:0}),RO=In(OO),CO=m({},xi,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),AO=In(CO),NO=m({},xi,{data:0}),Hb=In(NO),kO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},IO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$O={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jO(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=$O[a])?!!s[a]:!1}function rh(){return jO}var PO=m({},Mo,{key:function(a){if(a.key){var s=kO[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=Gu(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?IO[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rh,charCode:function(a){return a.type==="keypress"?Gu(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Gu(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),MO=In(PO),LO=m({},Yu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qb=In(LO),DO=m({},Mo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rh}),UO=In(DO),zO=m({},xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),BO=In(zO),HO=m({},Yu,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),qO=In(HO),FO=m({},xi,{newState:0,oldState:0}),GO=In(FO),VO=[9,13,27,32],ah=ra&&"CompositionEvent"in window,Do=null;ra&&"documentMode"in document&&(Do=document.documentMode);var ZO=ra&&"TextEvent"in window&&!Do,Fb=ra&&(!ah||Do&&8<Do&&11>=Do),Gb=" ",Vb=!1;function Zb(a,s){switch(a){case"keyup":return VO.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yb(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var ps=!1;function YO(a,s){switch(a){case"compositionend":return Yb(s);case"keypress":return s.which!==32?null:(Vb=!0,Gb);case"textInput":return a=s.data,a===Gb&&Vb?null:a;default:return null}}function KO(a,s){if(ps)return a==="compositionend"||!ah&&Zb(a,s)?(a=Ub(),Fu=Jd=$a=null,ps=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Fb&&s.locale!=="ko"?null:s.data;default:return null}}var XO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kb(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!XO[a.type]:s==="textarea"}function Xb(a,s,l,f){ds?hs?hs.push(f):hs=[f]:ds=f,s=jc(s,"onChange"),0<s.length&&(l=new Zu("onChange","change",null,l,f),a.push({event:l,listeners:s}))}var Uo=null,zo=null;function WO(a){N_(a,0)}function Ku(a){var s=$o(a);if(kb(s))return a}function Wb(a,s){if(a==="change")return s}var Qb=!1;if(ra){var ih;if(ra){var sh="oninput"in document;if(!sh){var Jb=document.createElement("div");Jb.setAttribute("oninput","return;"),sh=typeof Jb.oninput=="function"}ih=sh}else ih=!1;Qb=ih&&(!document.documentMode||9<document.documentMode)}function ev(){Uo&&(Uo.detachEvent("onpropertychange",tv),zo=Uo=null)}function tv(a){if(a.propertyName==="value"&&Ku(zo)){var s=[];Xb(s,zo,a,Xd(a)),Db(WO,s)}}function QO(a,s,l){a==="focusin"?(ev(),Uo=s,zo=l,Uo.attachEvent("onpropertychange",tv)):a==="focusout"&&ev()}function JO(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Ku(zo)}function eR(a,s){if(a==="click")return Ku(s)}function tR(a,s){if(a==="input"||a==="change")return Ku(s)}function nR(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var Gn=typeof Object.is=="function"?Object.is:nR;function Bo(a,s){if(Gn(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var l=Object.keys(a),f=Object.keys(s);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var p=l[f];if(!Ce.call(s,p)||!Gn(a[p],s[p]))return!1}return!0}function nv(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function rv(a,s){var l=nv(a);a=0;for(var f;l;){if(l.nodeType===3){if(f=a+l.textContent.length,a<=s&&f>=s)return{node:l,offset:s-a};a=f}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=nv(l)}}function av(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?av(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function iv(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var s=Hu(a.document);s instanceof a.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)a=s.contentWindow;else break;s=Hu(a.document)}return s}function oh(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}var rR=ra&&"documentMode"in document&&11>=document.documentMode,ms=null,lh=null,Ho=null,uh=!1;function sv(a,s,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;uh||ms==null||ms!==Hu(f)||(f=ms,"selectionStart"in f&&oh(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Ho&&Bo(Ho,f)||(Ho=f,f=jc(lh,"onSelect"),0<f.length&&(s=new Zu("onSelect","select",null,s,l),a.push({event:s,listeners:f}),s.target=ms)))}function Ti(a,s){var l={};return l[a.toLowerCase()]=s.toLowerCase(),l["Webkit"+a]="webkit"+s,l["Moz"+a]="moz"+s,l}var gs={animationend:Ti("Animation","AnimationEnd"),animationiteration:Ti("Animation","AnimationIteration"),animationstart:Ti("Animation","AnimationStart"),transitionrun:Ti("Transition","TransitionRun"),transitionstart:Ti("Transition","TransitionStart"),transitioncancel:Ti("Transition","TransitionCancel"),transitionend:Ti("Transition","TransitionEnd")},ch={},ov={};ra&&(ov=document.createElement("div").style,"AnimationEvent"in window||(delete gs.animationend.animation,delete gs.animationiteration.animation,delete gs.animationstart.animation),"TransitionEvent"in window||delete gs.transitionend.transition);function Oi(a){if(ch[a])return ch[a];if(!gs[a])return a;var s=gs[a],l;for(l in s)if(s.hasOwnProperty(l)&&l in ov)return ch[a]=s[l];return a}var lv=Oi("animationend"),uv=Oi("animationiteration"),cv=Oi("animationstart"),aR=Oi("transitionrun"),iR=Oi("transitionstart"),sR=Oi("transitioncancel"),fv=Oi("transitionend"),dv=new Map,fh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fh.push("scrollEnd");function xr(a,s){dv.set(a,s),Ei(s,[a])}var hv=new WeakMap;function or(a,s){if(typeof a=="object"&&a!==null){var l=hv.get(a);return l!==void 0?l:(s={value:a,source:s,stack:Ab(s)},hv.set(a,s),s)}return{value:a,source:s,stack:Ab(s)}}var lr=[],ys=0,dh=0;function Xu(){for(var a=ys,s=dh=ys=0;s<a;){var l=lr[s];lr[s++]=null;var f=lr[s];lr[s++]=null;var p=lr[s];lr[s++]=null;var g=lr[s];if(lr[s++]=null,f!==null&&p!==null){var E=f.pending;E===null?p.next=p:(p.next=E.next,E.next=p),f.pending=p}g!==0&&pv(l,p,g)}}function Wu(a,s,l,f){lr[ys++]=a,lr[ys++]=s,lr[ys++]=l,lr[ys++]=f,dh|=f,a.lanes|=f,a=a.alternate,a!==null&&(a.lanes|=f)}function hh(a,s,l,f){return Wu(a,s,l,f),Qu(a)}function bs(a,s){return Wu(a,null,null,s),Qu(a)}function pv(a,s,l){a.lanes|=l;var f=a.alternate;f!==null&&(f.lanes|=l);for(var p=!1,g=a.return;g!==null;)g.childLanes|=l,f=g.alternate,f!==null&&(f.childLanes|=l),g.tag===22&&(a=g.stateNode,a===null||a._visibility&1||(p=!0)),a=g,g=g.return;return a.tag===3?(g=a.stateNode,p&&s!==null&&(p=31-Et(l),a=g.hiddenUpdates,f=a[p],f===null?a[p]=[s]:f.push(s),s.lane=l|536870912),g):null}function Qu(a){if(50<hl)throw hl=0,vp=null,Error(r(185));for(var s=a.return;s!==null;)a=s,s=a.return;return a.tag===3?a.stateNode:null}var vs={};function oR(a,s,l,f){this.tag=a,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(a,s,l,f){return new oR(a,s,l,f)}function ph(a){return a=a.prototype,!(!a||!a.isReactComponent)}function aa(a,s){var l=a.alternate;return l===null?(l=Vn(a.tag,s,a.key,a.mode),l.elementType=a.elementType,l.type=a.type,l.stateNode=a.stateNode,l.alternate=a,a.alternate=l):(l.pendingProps=s,l.type=a.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=a.flags&65011712,l.childLanes=a.childLanes,l.lanes=a.lanes,l.child=a.child,l.memoizedProps=a.memoizedProps,l.memoizedState=a.memoizedState,l.updateQueue=a.updateQueue,s=a.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=a.sibling,l.index=a.index,l.ref=a.ref,l.refCleanup=a.refCleanup,l}function mv(a,s){a.flags&=65011714;var l=a.alternate;return l===null?(a.childLanes=0,a.lanes=s,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,s=l.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),a}function Ju(a,s,l,f,p,g){var E=0;if(f=a,typeof a=="function")ph(a)&&(E=1);else if(typeof a=="string")E=uC(a,l,oe.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case te:return a=Vn(31,l,s,p),a.elementType=te,a.lanes=g,a;case v:return Ri(l.children,p,g,s);case w:E=8,p|=24;break;case S:return a=Vn(12,l,s,p|2),a.elementType=S,a.lanes=g,a;case O:return a=Vn(13,l,s,p),a.elementType=O,a.lanes=g,a;case j:return a=Vn(19,l,s,p),a.elementType=j,a.lanes=g,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case T:case x:E=10;break e;case N:E=9;break e;case R:E=11;break e;case L:E=14;break e;case D:E=16,f=null;break e}E=29,l=Error(r(130,a===null?"null":typeof a,"")),f=null}return s=Vn(E,l,s,p),s.elementType=a,s.type=f,s.lanes=g,s}function Ri(a,s,l,f){return a=Vn(7,a,f,s),a.lanes=l,a}function mh(a,s,l){return a=Vn(6,a,null,s),a.lanes=l,a}function gh(a,s,l){return s=Vn(4,a.children!==null?a.children:[],a.key,s),s.lanes=l,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}var _s=[],ws=0,ec=null,tc=0,ur=[],cr=0,Ci=null,ia=1,sa="";function Ai(a,s){_s[ws++]=tc,_s[ws++]=ec,ec=a,tc=s}function gv(a,s,l){ur[cr++]=ia,ur[cr++]=sa,ur[cr++]=Ci,Ci=a;var f=ia;a=sa;var p=32-Et(f)-1;f&=~(1<<p),l+=1;var g=32-Et(s)+p;if(30<g){var E=p-p%5;g=(f&(1<<E)-1).toString(32),f>>=E,p-=E,ia=1<<32-Et(s)+p|l<<p|f,sa=g+a}else ia=1<<g|l<<p|f,sa=a}function yh(a){a.return!==null&&(Ai(a,1),gv(a,1,0))}function bh(a){for(;a===ec;)ec=_s[--ws],_s[ws]=null,tc=_s[--ws],_s[ws]=null;for(;a===Ci;)Ci=ur[--cr],ur[cr]=null,sa=ur[--cr],ur[cr]=null,ia=ur[--cr],ur[cr]=null}var xn=null,It=null,Je=!1,Ni=null,Mr=!1,vh=Error(r(519));function ki(a){var s=Error(r(418,""));throw Go(or(s,a)),vh}function yv(a){var s=a.stateNode,l=a.type,f=a.memoizedProps;switch(s[bn]=a,s[kn]=f,l){case"dialog":Fe("cancel",s),Fe("close",s);break;case"iframe":case"object":case"embed":Fe("load",s);break;case"video":case"audio":for(l=0;l<ml.length;l++)Fe(ml[l],s);break;case"source":Fe("error",s);break;case"img":case"image":case"link":Fe("error",s),Fe("load",s);break;case"details":Fe("toggle",s);break;case"input":Fe("invalid",s),Ib(s,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),Bu(s);break;case"select":Fe("invalid",s);break;case"textarea":Fe("invalid",s),jb(s,f.value,f.defaultValue,f.children),Bu(s)}l=f.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||f.suppressHydrationWarning===!0||j_(s.textContent,l)?(f.popover!=null&&(Fe("beforetoggle",s),Fe("toggle",s)),f.onScroll!=null&&Fe("scroll",s),f.onScrollEnd!=null&&Fe("scrollend",s),f.onClick!=null&&(s.onclick=Pc),s=!0):s=!1,s||ki(a)}function bv(a){for(xn=a.return;xn;)switch(xn.tag){case 5:case 13:Mr=!1;return;case 27:case 3:Mr=!0;return;default:xn=xn.return}}function qo(a){if(a!==xn)return!1;if(!Je)return bv(a),Je=!0,!1;var s=a.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=a.type,l=!(l!=="form"&&l!=="button")||Pp(a.type,a.memoizedProps)),l=!l),l&&It&&ki(a),bv(a),s===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));e:{for(a=a.nextSibling,s=0;a;){if(a.nodeType===8)if(l=a.data,l==="/$"){if(s===0){It=Or(a.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++;a=a.nextSibling}It=null}}else s===27?(s=It,Ka(a.type)?(a=Up,Up=null,It=a):It=s):It=xn?Or(a.stateNode.nextSibling):null;return!0}function Fo(){It=xn=null,Je=!1}function vv(){var a=Ni;return a!==null&&(Pn===null?Pn=a:Pn.push.apply(Pn,a),Ni=null),a}function Go(a){Ni===null?Ni=[a]:Ni.push(a)}var _h=H(null),Ii=null,oa=null;function ja(a,s,l){ee(_h,s._currentValue),s._currentValue=l}function la(a){a._currentValue=_h.current,W(_h)}function wh(a,s,l){for(;a!==null;){var f=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),a===l)break;a=a.return}}function Sh(a,s,l,f){var p=a.child;for(p!==null&&(p.return=a);p!==null;){var g=p.dependencies;if(g!==null){var E=p.child;g=g.firstContext;e:for(;g!==null;){var A=g;g=p;for(var P=0;P<s.length;P++)if(A.context===s[P]){g.lanes|=l,A=g.alternate,A!==null&&(A.lanes|=l),wh(g.return,l,a),f||(E=null);break e}g=A.next}}else if(p.tag===18){if(E=p.return,E===null)throw Error(r(341));E.lanes|=l,g=E.alternate,g!==null&&(g.lanes|=l),wh(E,l,a),E=null}else E=p.child;if(E!==null)E.return=p;else for(E=p;E!==null;){if(E===a){E=null;break}if(p=E.sibling,p!==null){p.return=E.return,E=p;break}E=E.return}p=E}}function Vo(a,s,l,f){a=null;for(var p=s,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var E=p.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var A=p.type;Gn(p.pendingProps.value,E.value)||(a!==null?a.push(A):a=[A])}}else if(p===he.current){if(E=p.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(a!==null?a.push(wl):a=[wl])}p=p.return}a!==null&&Sh(s,a,l,f),s.flags|=262144}function nc(a){for(a=a.firstContext;a!==null;){if(!Gn(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function $i(a){Ii=a,oa=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function vn(a){return _v(Ii,a)}function rc(a,s){return Ii===null&&$i(a),_v(a,s)}function _v(a,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},oa===null){if(a===null)throw Error(r(308));oa=s,a.dependencies={lanes:0,firstContext:s},a.flags|=524288}else oa=oa.next=s;return l}var lR=typeof AbortController<"u"?AbortController:function(){var a=[],s=this.signal={aborted:!1,addEventListener:function(l,f){a.push(f)}};this.abort=function(){s.aborted=!0,a.forEach(function(l){return l()})}},uR=t.unstable_scheduleCallback,cR=t.unstable_NormalPriority,Kt={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Eh(){return{controller:new lR,data:new Map,refCount:0}}function Zo(a){a.refCount--,a.refCount===0&&uR(cR,function(){a.controller.abort()})}var Yo=null,xh=0,Ss=0,Es=null;function fR(a,s){if(Yo===null){var l=Yo=[];xh=0,Ss=Op(),Es={status:"pending",value:void 0,then:function(f){l.push(f)}}}return xh++,s.then(wv,wv),s}function wv(){if(--xh===0&&Yo!==null){Es!==null&&(Es.status="fulfilled");var a=Yo;Yo=null,Ss=0,Es=null;for(var s=0;s<a.length;s++)(0,a[s])()}}function dR(a,s){var l=[],f={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return a.then(function(){f.status="fulfilled",f.value=s;for(var p=0;p<l.length;p++)(0,l[p])(s)},function(p){for(f.status="rejected",f.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),f}var Sv=I.S;I.S=function(a,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&fR(a,s),Sv!==null&&Sv(a,s)};var ji=H(null);function Th(){var a=ji.current;return a!==null?a:xt.pooledCache}function ac(a,s){s===null?ee(ji,ji.current):ee(ji,s.pool)}function Ev(){var a=Th();return a===null?null:{parent:Kt._currentValue,pool:a}}var Ko=Error(r(460)),xv=Error(r(474)),ic=Error(r(542)),Oh={then:function(){}};function Tv(a){return a=a.status,a==="fulfilled"||a==="rejected"}function sc(){}function Ov(a,s,l){switch(l=a[l],l===void 0?a.push(s):l!==s&&(s.then(sc,sc),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,Cv(a),a;default:if(typeof s.status=="string")s.then(sc,sc);else{if(a=xt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=s,a.status="pending",a.then(function(f){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=f}},function(f){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=f}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,Cv(a),a}throw Xo=s,Ko}}var Xo=null;function Rv(){if(Xo===null)throw Error(r(459));var a=Xo;return Xo=null,a}function Cv(a){if(a===Ko||a===ic)throw Error(r(483))}var Pa=!1;function Rh(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ch(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Ma(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function La(a,s,l){var f=a.updateQueue;if(f===null)return null;if(f=f.shared,(ot&2)!==0){var p=f.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),f.pending=s,s=Qu(a),pv(a,null,l),s}return Wu(a,f,s,l),Qu(a)}function Wo(a,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var f=s.lanes;f&=a.pendingLanes,l|=f,s.lanes=l,Lu(a,l)}}function Ah(a,s){var l=a.updateQueue,f=a.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var p=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var E={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};g===null?p=g=E:g=g.next=E,l=l.next}while(l!==null);g===null?p=g=s:g=g.next=s}else p=g=s;l={baseState:f.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:f.shared,callbacks:f.callbacks},a.updateQueue=l;return}a=l.lastBaseUpdate,a===null?l.firstBaseUpdate=s:a.next=s,l.lastBaseUpdate=s}var Nh=!1;function Qo(){if(Nh){var a=Es;if(a!==null)throw a}}function Jo(a,s,l,f){Nh=!1;var p=a.updateQueue;Pa=!1;var g=p.firstBaseUpdate,E=p.lastBaseUpdate,A=p.shared.pending;if(A!==null){p.shared.pending=null;var P=A,Y=P.next;P.next=null,E===null?g=Y:E.next=Y,E=P;var ae=a.alternate;ae!==null&&(ae=ae.updateQueue,A=ae.lastBaseUpdate,A!==E&&(A===null?ae.firstBaseUpdate=Y:A.next=Y,ae.lastBaseUpdate=P))}if(g!==null){var se=p.baseState;E=0,ae=Y=P=null,A=g;do{var K=A.lane&-536870913,Q=K!==A.lane;if(Q?(Ze&K)===K:(f&K)===K){K!==0&&K===Ss&&(Nh=!0),ae!==null&&(ae=ae.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Re=a,xe=A;K=s;var dt=l;switch(xe.tag){case 1:if(Re=xe.payload,typeof Re=="function"){se=Re.call(dt,se,K);break e}se=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=xe.payload,K=typeof Re=="function"?Re.call(dt,se,K):Re,K==null)break e;se=m({},se,K);break e;case 2:Pa=!0}}K=A.callback,K!==null&&(a.flags|=64,Q&&(a.flags|=8192),Q=p.callbacks,Q===null?p.callbacks=[K]:Q.push(K))}else Q={lane:K,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ae===null?(Y=ae=Q,P=se):ae=ae.next=Q,E|=K;if(A=A.next,A===null){if(A=p.shared.pending,A===null)break;Q=A,A=Q.next,Q.next=null,p.lastBaseUpdate=Q,p.shared.pending=null}}while(!0);ae===null&&(P=se),p.baseState=P,p.firstBaseUpdate=Y,p.lastBaseUpdate=ae,g===null&&(p.shared.lanes=0),Ga|=E,a.lanes=E,a.memoizedState=se}}function Av(a,s){if(typeof a!="function")throw Error(r(191,a));a.call(s)}function Nv(a,s){var l=a.callbacks;if(l!==null)for(a.callbacks=null,a=0;a<l.length;a++)Av(l[a],s)}var xs=H(null),oc=H(0);function kv(a,s){a=ma,ee(oc,a),ee(xs,s),ma=a|s.baseLanes}function kh(){ee(oc,ma),ee(xs,xs.current)}function Ih(){ma=oc.current,W(xs),W(oc)}var Da=0,De=null,ct=null,Ht=null,lc=!1,Ts=!1,Pi=!1,uc=0,el=0,Os=null,hR=0;function Dt(){throw Error(r(321))}function $h(a,s){if(s===null)return!1;for(var l=0;l<s.length&&l<a.length;l++)if(!Gn(a[l],s[l]))return!1;return!0}function jh(a,s,l,f,p,g){return Da=g,De=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,I.H=a===null||a.memoizedState===null?p0:m0,Pi=!1,g=l(f,p),Pi=!1,Ts&&(g=$v(s,l,f,p)),Iv(a),g}function Iv(a){I.H=mc;var s=ct!==null&&ct.next!==null;if(Da=0,Ht=ct=De=null,lc=!1,el=0,Os=null,s)throw Error(r(300));a===null||tn||(a=a.dependencies,a!==null&&nc(a)&&(tn=!0))}function $v(a,s,l,f){De=a;var p=0;do{if(Ts&&(Os=null),el=0,Ts=!1,25<=p)throw Error(r(301));if(p+=1,Ht=ct=null,a.updateQueue!=null){var g=a.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}I.H=_R,g=s(l,f)}while(Ts);return g}function pR(){var a=I.H,s=a.useState()[0];return s=typeof s.then=="function"?tl(s):s,a=a.useState()[0],(ct!==null?ct.memoizedState:null)!==a&&(De.flags|=1024),s}function Ph(){var a=uc!==0;return uc=0,a}function Mh(a,s,l){s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~l}function Lh(a){if(lc){for(a=a.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}lc=!1}Da=0,Ht=ct=De=null,Ts=!1,el=uc=0,Os=null}function $n(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?De.memoizedState=Ht=a:Ht=Ht.next=a,Ht}function qt(){if(ct===null){var a=De.alternate;a=a!==null?a.memoizedState:null}else a=ct.next;var s=Ht===null?De.memoizedState:Ht.next;if(s!==null)Ht=s,ct=a;else{if(a===null)throw De.alternate===null?Error(r(467)):Error(r(310));ct=a,a={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},Ht===null?De.memoizedState=Ht=a:Ht=Ht.next=a}return Ht}function Dh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tl(a){var s=el;return el+=1,Os===null&&(Os=[]),a=Ov(Os,a,s),s=De,(Ht===null?s.memoizedState:Ht.next)===null&&(s=s.alternate,I.H=s===null||s.memoizedState===null?p0:m0),a}function cc(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return tl(a);if(a.$$typeof===x)return vn(a)}throw Error(r(438,String(a)))}function Uh(a){var s=null,l=De.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var f=De.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(s={data:f.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=Dh(),De.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(a),f=0;f<a;f++)l[f]=C;return s.index++,l}function ua(a,s){return typeof s=="function"?s(a):s}function fc(a){var s=qt();return zh(s,ct,a)}function zh(a,s,l){var f=a.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=l;var p=a.baseQueue,g=f.pending;if(g!==null){if(p!==null){var E=p.next;p.next=g.next,g.next=E}s.baseQueue=p=g,f.pending=null}if(g=a.baseState,p===null)a.memoizedState=g;else{s=p.next;var A=E=null,P=null,Y=s,ae=!1;do{var se=Y.lane&-536870913;if(se!==Y.lane?(Ze&se)===se:(Da&se)===se){var K=Y.revertLane;if(K===0)P!==null&&(P=P.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),se===Ss&&(ae=!0);else if((Da&K)===K){Y=Y.next,K===Ss&&(ae=!0);continue}else se={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},P===null?(A=P=se,E=g):P=P.next=se,De.lanes|=K,Ga|=K;se=Y.action,Pi&&l(g,se),g=Y.hasEagerState?Y.eagerState:l(g,se)}else K={lane:se,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},P===null?(A=P=K,E=g):P=P.next=K,De.lanes|=se,Ga|=se;Y=Y.next}while(Y!==null&&Y!==s);if(P===null?E=g:P.next=A,!Gn(g,a.memoizedState)&&(tn=!0,ae&&(l=Es,l!==null)))throw l;a.memoizedState=g,a.baseState=E,a.baseQueue=P,f.lastRenderedState=g}return p===null&&(f.lanes=0),[a.memoizedState,f.dispatch]}function Bh(a){var s=qt(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=l.dispatch,p=l.pending,g=s.memoizedState;if(p!==null){l.pending=null;var E=p=p.next;do g=a(g,E.action),E=E.next;while(E!==p);Gn(g,s.memoizedState)||(tn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),l.lastRenderedState=g}return[g,f]}function jv(a,s,l){var f=De,p=qt(),g=Je;if(g){if(l===void 0)throw Error(r(407));l=l()}else l=s();var E=!Gn((ct||p).memoizedState,l);E&&(p.memoizedState=l,tn=!0),p=p.queue;var A=Lv.bind(null,f,p,a);if(nl(2048,8,A,[a]),p.getSnapshot!==s||E||Ht!==null&&Ht.memoizedState.tag&1){if(f.flags|=2048,Rs(9,dc(),Mv.bind(null,f,p,l,s),null),xt===null)throw Error(r(349));g||(Da&124)!==0||Pv(f,s,l)}return l}function Pv(a,s,l){a.flags|=16384,a={getSnapshot:s,value:l},s=De.updateQueue,s===null?(s=Dh(),De.updateQueue=s,s.stores=[a]):(l=s.stores,l===null?s.stores=[a]:l.push(a))}function Mv(a,s,l,f){s.value=l,s.getSnapshot=f,Dv(s)&&Uv(a)}function Lv(a,s,l){return l(function(){Dv(s)&&Uv(a)})}function Dv(a){var s=a.getSnapshot;a=a.value;try{var l=s();return!Gn(a,l)}catch{return!0}}function Uv(a){var s=bs(a,2);s!==null&&Wn(s,a,2)}function Hh(a){var s=$n();if(typeof a=="function"){var l=a;if(a=l(),Pi){Bt(!0);try{l()}finally{Bt(!1)}}}return s.memoizedState=s.baseState=a,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ua,lastRenderedState:a},s}function zv(a,s,l,f){return a.baseState=l,zh(a,ct,typeof f=="function"?f:ua)}function mR(a,s,l,f,p){if(pc(a))throw Error(r(485));if(a=s.action,a!==null){var g={payload:p,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){g.listeners.push(E)}};I.T!==null?l(!0):g.isTransition=!1,f(g),l=s.pending,l===null?(g.next=s.pending=g,Bv(s,g)):(g.next=l.next,s.pending=l.next=g)}}function Bv(a,s){var l=s.action,f=s.payload,p=a.state;if(s.isTransition){var g=I.T,E={};I.T=E;try{var A=l(p,f),P=I.S;P!==null&&P(E,A),Hv(a,s,A)}catch(Y){qh(a,s,Y)}finally{I.T=g}}else try{g=l(p,f),Hv(a,s,g)}catch(Y){qh(a,s,Y)}}function Hv(a,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(f){qv(a,s,f)},function(f){return qh(a,s,f)}):qv(a,s,l)}function qv(a,s,l){s.status="fulfilled",s.value=l,Fv(s),a.state=l,s=a.pending,s!==null&&(l=s.next,l===s?a.pending=null:(l=l.next,s.next=l,Bv(a,l)))}function qh(a,s,l){var f=a.pending;if(a.pending=null,f!==null){f=f.next;do s.status="rejected",s.reason=l,Fv(s),s=s.next;while(s!==f)}a.action=null}function Fv(a){a=a.listeners;for(var s=0;s<a.length;s++)(0,a[s])()}function Gv(a,s){return s}function Vv(a,s){if(Je){var l=xt.formState;if(l!==null){e:{var f=De;if(Je){if(It){t:{for(var p=It,g=Mr;p.nodeType!==8;){if(!g){p=null;break t}if(p=Or(p.nextSibling),p===null){p=null;break t}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){It=Or(p.nextSibling),f=p.data==="F!";break e}}ki(f)}f=!1}f&&(s=l[0])}}return l=$n(),l.memoizedState=l.baseState=s,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gv,lastRenderedState:s},l.queue=f,l=f0.bind(null,De,f),f.dispatch=l,f=Hh(!1),g=Yh.bind(null,De,!1,f.queue),f=$n(),p={state:s,dispatch:null,action:a,pending:null},f.queue=p,l=mR.bind(null,De,p,g,l),p.dispatch=l,f.memoizedState=a,[s,l,!1]}function Zv(a){var s=qt();return Yv(s,ct,a)}function Yv(a,s,l){if(s=zh(a,s,Gv)[0],a=fc(ua)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var f=tl(s)}catch(E){throw E===Ko?ic:E}else f=s;s=qt();var p=s.queue,g=p.dispatch;return l!==s.memoizedState&&(De.flags|=2048,Rs(9,dc(),gR.bind(null,p,l),null)),[f,g,a]}function gR(a,s){a.action=s}function Kv(a){var s=qt(),l=ct;if(l!==null)return Yv(s,l,a);qt(),s=s.memoizedState,l=qt();var f=l.queue.dispatch;return l.memoizedState=a,[s,f,!1]}function Rs(a,s,l,f){return a={tag:a,create:l,deps:f,inst:s,next:null},s=De.updateQueue,s===null&&(s=Dh(),De.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=a.next=a:(f=l.next,l.next=a,a.next=f,s.lastEffect=a),a}function dc(){return{destroy:void 0,resource:void 0}}function Xv(){return qt().memoizedState}function hc(a,s,l,f){var p=$n();f=f===void 0?null:f,De.flags|=a,p.memoizedState=Rs(1|s,dc(),l,f)}function nl(a,s,l,f){var p=qt();f=f===void 0?null:f;var g=p.memoizedState.inst;ct!==null&&f!==null&&$h(f,ct.memoizedState.deps)?p.memoizedState=Rs(s,g,l,f):(De.flags|=a,p.memoizedState=Rs(1|s,g,l,f))}function Wv(a,s){hc(8390656,8,a,s)}function Qv(a,s){nl(2048,8,a,s)}function Jv(a,s){return nl(4,2,a,s)}function e0(a,s){return nl(4,4,a,s)}function t0(a,s){if(typeof s=="function"){a=a();var l=s(a);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function n0(a,s,l){l=l!=null?l.concat([a]):null,nl(4,4,t0.bind(null,s,a),l)}function Fh(){}function r0(a,s){var l=qt();s=s===void 0?null:s;var f=l.memoizedState;return s!==null&&$h(s,f[1])?f[0]:(l.memoizedState=[a,s],a)}function a0(a,s){var l=qt();s=s===void 0?null:s;var f=l.memoizedState;if(s!==null&&$h(s,f[1]))return f[0];if(f=a(),Pi){Bt(!0);try{a()}finally{Bt(!1)}}return l.memoizedState=[f,s],f}function Gh(a,s,l){return l===void 0||(Da&1073741824)!==0?a.memoizedState=s:(a.memoizedState=l,a=o_(),De.lanes|=a,Ga|=a,l)}function i0(a,s,l,f){return Gn(l,s)?l:xs.current!==null?(a=Gh(a,l,f),Gn(a,s)||(tn=!0),a):(Da&42)===0?(tn=!0,a.memoizedState=l):(a=o_(),De.lanes|=a,Ga|=a,s)}function s0(a,s,l,f,p){var g=M.p;M.p=g!==0&&8>g?g:8;var E=I.T,A={};I.T=A,Yh(a,!1,s,l);try{var P=p(),Y=I.S;if(Y!==null&&Y(A,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var ae=dR(P,f);rl(a,s,ae,Xn(a))}else rl(a,s,f,Xn(a))}catch(se){rl(a,s,{then:function(){},status:"rejected",reason:se},Xn())}finally{M.p=g,I.T=E}}function yR(){}function Vh(a,s,l,f){if(a.tag!==5)throw Error(r(476));var p=o0(a).queue;s0(a,p,s,Z,l===null?yR:function(){return l0(a),l(f)})}function o0(a){var s=a.memoizedState;if(s!==null)return s;s={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ua,lastRenderedState:Z},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ua,lastRenderedState:l},next:null},a.memoizedState=s,a=a.alternate,a!==null&&(a.memoizedState=s),s}function l0(a){var s=o0(a).next.queue;rl(a,s,{},Xn())}function Zh(){return vn(wl)}function u0(){return qt().memoizedState}function c0(){return qt().memoizedState}function bR(a){for(var s=a.return;s!==null;){switch(s.tag){case 24:case 3:var l=Xn();a=Ma(l);var f=La(s,a,l);f!==null&&(Wn(f,s,l),Wo(f,s,l)),s={cache:Eh()},a.payload=s;return}s=s.return}}function vR(a,s,l){var f=Xn();l={lane:f,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},pc(a)?d0(s,l):(l=hh(a,s,l,f),l!==null&&(Wn(l,a,f),h0(l,s,f)))}function f0(a,s,l){var f=Xn();rl(a,s,l,f)}function rl(a,s,l,f){var p={lane:f,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(pc(a))d0(s,p);else{var g=a.alternate;if(a.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var E=s.lastRenderedState,A=g(E,l);if(p.hasEagerState=!0,p.eagerState=A,Gn(A,E))return Wu(a,s,p,0),xt===null&&Xu(),!1}catch{}finally{}if(l=hh(a,s,p,f),l!==null)return Wn(l,a,f),h0(l,s,f),!0}return!1}function Yh(a,s,l,f){if(f={lane:2,revertLane:Op(),action:f,hasEagerState:!1,eagerState:null,next:null},pc(a)){if(s)throw Error(r(479))}else s=hh(a,l,f,2),s!==null&&Wn(s,a,2)}function pc(a){var s=a.alternate;return a===De||s!==null&&s===De}function d0(a,s){Ts=lc=!0;var l=a.pending;l===null?s.next=s:(s.next=l.next,l.next=s),a.pending=s}function h0(a,s,l){if((l&4194048)!==0){var f=s.lanes;f&=a.pendingLanes,l|=f,s.lanes=l,Lu(a,l)}}var mc={readContext:vn,use:cc,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useLayoutEffect:Dt,useInsertionEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useSyncExternalStore:Dt,useId:Dt,useHostTransitionStatus:Dt,useFormState:Dt,useActionState:Dt,useOptimistic:Dt,useMemoCache:Dt,useCacheRefresh:Dt},p0={readContext:vn,use:cc,useCallback:function(a,s){return $n().memoizedState=[a,s===void 0?null:s],a},useContext:vn,useEffect:Wv,useImperativeHandle:function(a,s,l){l=l!=null?l.concat([a]):null,hc(4194308,4,t0.bind(null,s,a),l)},useLayoutEffect:function(a,s){return hc(4194308,4,a,s)},useInsertionEffect:function(a,s){hc(4,2,a,s)},useMemo:function(a,s){var l=$n();s=s===void 0?null:s;var f=a();if(Pi){Bt(!0);try{a()}finally{Bt(!1)}}return l.memoizedState=[f,s],f},useReducer:function(a,s,l){var f=$n();if(l!==void 0){var p=l(s);if(Pi){Bt(!0);try{l(s)}finally{Bt(!1)}}}else p=s;return f.memoizedState=f.baseState=p,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:p},f.queue=a,a=a.dispatch=vR.bind(null,De,a),[f.memoizedState,a]},useRef:function(a){var s=$n();return a={current:a},s.memoizedState=a},useState:function(a){a=Hh(a);var s=a.queue,l=f0.bind(null,De,s);return s.dispatch=l,[a.memoizedState,l]},useDebugValue:Fh,useDeferredValue:function(a,s){var l=$n();return Gh(l,a,s)},useTransition:function(){var a=Hh(!1);return a=s0.bind(null,De,a.queue,!0,!1),$n().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,s,l){var f=De,p=$n();if(Je){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),xt===null)throw Error(r(349));(Ze&124)!==0||Pv(f,s,l)}p.memoizedState=l;var g={value:l,getSnapshot:s};return p.queue=g,Wv(Lv.bind(null,f,g,a),[a]),f.flags|=2048,Rs(9,dc(),Mv.bind(null,f,g,l,s),null),l},useId:function(){var a=$n(),s=xt.identifierPrefix;if(Je){var l=sa,f=ia;l=(f&~(1<<32-Et(f)-1)).toString(32)+l,s=""+s+"R"+l,l=uc++,0<l&&(s+="H"+l.toString(32)),s+=""}else l=hR++,s=""+s+"r"+l.toString(32)+"";return a.memoizedState=s},useHostTransitionStatus:Zh,useFormState:Vv,useActionState:Vv,useOptimistic:function(a){var s=$n();s.memoizedState=s.baseState=a;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=Yh.bind(null,De,!0,l),l.dispatch=s,[a,s]},useMemoCache:Uh,useCacheRefresh:function(){return $n().memoizedState=bR.bind(null,De)}},m0={readContext:vn,use:cc,useCallback:r0,useContext:vn,useEffect:Qv,useImperativeHandle:n0,useInsertionEffect:Jv,useLayoutEffect:e0,useMemo:a0,useReducer:fc,useRef:Xv,useState:function(){return fc(ua)},useDebugValue:Fh,useDeferredValue:function(a,s){var l=qt();return i0(l,ct.memoizedState,a,s)},useTransition:function(){var a=fc(ua)[0],s=qt().memoizedState;return[typeof a=="boolean"?a:tl(a),s]},useSyncExternalStore:jv,useId:u0,useHostTransitionStatus:Zh,useFormState:Zv,useActionState:Zv,useOptimistic:function(a,s){var l=qt();return zv(l,ct,a,s)},useMemoCache:Uh,useCacheRefresh:c0},_R={readContext:vn,use:cc,useCallback:r0,useContext:vn,useEffect:Qv,useImperativeHandle:n0,useInsertionEffect:Jv,useLayoutEffect:e0,useMemo:a0,useReducer:Bh,useRef:Xv,useState:function(){return Bh(ua)},useDebugValue:Fh,useDeferredValue:function(a,s){var l=qt();return ct===null?Gh(l,a,s):i0(l,ct.memoizedState,a,s)},useTransition:function(){var a=Bh(ua)[0],s=qt().memoizedState;return[typeof a=="boolean"?a:tl(a),s]},useSyncExternalStore:jv,useId:u0,useHostTransitionStatus:Zh,useFormState:Kv,useActionState:Kv,useOptimistic:function(a,s){var l=qt();return ct!==null?zv(l,ct,a,s):(l.baseState=a,[a,l.queue.dispatch])},useMemoCache:Uh,useCacheRefresh:c0},Cs=null,al=0;function gc(a){var s=al;return al+=1,Cs===null&&(Cs=[]),Ov(Cs,a,s)}function il(a,s){s=s.props.ref,a.ref=s!==void 0?s:null}function yc(a,s){throw s.$$typeof===b?Error(r(525)):(a=Object.prototype.toString.call(s),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a)))}function g0(a){var s=a._init;return s(a._payload)}function y0(a){function s(q,z){if(a){var V=q.deletions;V===null?(q.deletions=[z],q.flags|=16):V.push(z)}}function l(q,z){if(!a)return null;for(;z!==null;)s(q,z),z=z.sibling;return null}function f(q){for(var z=new Map;q!==null;)q.key!==null?z.set(q.key,q):z.set(q.index,q),q=q.sibling;return z}function p(q,z){return q=aa(q,z),q.index=0,q.sibling=null,q}function g(q,z,V){return q.index=V,a?(V=q.alternate,V!==null?(V=V.index,V<z?(q.flags|=67108866,z):V):(q.flags|=67108866,z)):(q.flags|=1048576,z)}function E(q){return a&&q.alternate===null&&(q.flags|=67108866),q}function A(q,z,V,ie){return z===null||z.tag!==6?(z=mh(V,q.mode,ie),z.return=q,z):(z=p(z,V),z.return=q,z)}function P(q,z,V,ie){var pe=V.type;return pe===v?ae(q,z,V.props.children,ie,V.key):z!==null&&(z.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===D&&g0(pe)===z.type)?(z=p(z,V.props),il(z,V),z.return=q,z):(z=Ju(V.type,V.key,V.props,null,q.mode,ie),il(z,V),z.return=q,z)}function Y(q,z,V,ie){return z===null||z.tag!==4||z.stateNode.containerInfo!==V.containerInfo||z.stateNode.implementation!==V.implementation?(z=gh(V,q.mode,ie),z.return=q,z):(z=p(z,V.children||[]),z.return=q,z)}function ae(q,z,V,ie,pe){return z===null||z.tag!==7?(z=Ri(V,q.mode,ie,pe),z.return=q,z):(z=p(z,V),z.return=q,z)}function se(q,z,V){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=mh(""+z,q.mode,V),z.return=q,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case y:return V=Ju(z.type,z.key,z.props,null,q.mode,V),il(V,z),V.return=q,V;case _:return z=gh(z,q.mode,V),z.return=q,z;case D:var ie=z._init;return z=ie(z._payload),se(q,z,V)}if(U(z)||J(z))return z=Ri(z,q.mode,V,null),z.return=q,z;if(typeof z.then=="function")return se(q,gc(z),V);if(z.$$typeof===x)return se(q,rc(q,z),V);yc(q,z)}return null}function K(q,z,V,ie){var pe=z!==null?z.key:null;if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return pe!==null?null:A(q,z,""+V,ie);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case y:return V.key===pe?P(q,z,V,ie):null;case _:return V.key===pe?Y(q,z,V,ie):null;case D:return pe=V._init,V=pe(V._payload),K(q,z,V,ie)}if(U(V)||J(V))return pe!==null?null:ae(q,z,V,ie,null);if(typeof V.then=="function")return K(q,z,gc(V),ie);if(V.$$typeof===x)return K(q,z,rc(q,V),ie);yc(q,V)}return null}function Q(q,z,V,ie,pe){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return q=q.get(V)||null,A(z,q,""+ie,pe);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case y:return q=q.get(ie.key===null?V:ie.key)||null,P(z,q,ie,pe);case _:return q=q.get(ie.key===null?V:ie.key)||null,Y(z,q,ie,pe);case D:var ze=ie._init;return ie=ze(ie._payload),Q(q,z,V,ie,pe)}if(U(ie)||J(ie))return q=q.get(V)||null,ae(z,q,ie,pe,null);if(typeof ie.then=="function")return Q(q,z,V,gc(ie),pe);if(ie.$$typeof===x)return Q(q,z,V,rc(z,ie),pe);yc(z,ie)}return null}function Re(q,z,V,ie){for(var pe=null,ze=null,we=z,Te=z=0,rn=null;we!==null&&Te<V.length;Te++){we.index>Te?(rn=we,we=null):rn=we.sibling;var We=K(q,we,V[Te],ie);if(We===null){we===null&&(we=rn);break}a&&we&&We.alternate===null&&s(q,we),z=g(We,z,Te),ze===null?pe=We:ze.sibling=We,ze=We,we=rn}if(Te===V.length)return l(q,we),Je&&Ai(q,Te),pe;if(we===null){for(;Te<V.length;Te++)we=se(q,V[Te],ie),we!==null&&(z=g(we,z,Te),ze===null?pe=we:ze.sibling=we,ze=we);return Je&&Ai(q,Te),pe}for(we=f(we);Te<V.length;Te++)rn=Q(we,q,Te,V[Te],ie),rn!==null&&(a&&rn.alternate!==null&&we.delete(rn.key===null?Te:rn.key),z=g(rn,z,Te),ze===null?pe=rn:ze.sibling=rn,ze=rn);return a&&we.forEach(function(ei){return s(q,ei)}),Je&&Ai(q,Te),pe}function xe(q,z,V,ie){if(V==null)throw Error(r(151));for(var pe=null,ze=null,we=z,Te=z=0,rn=null,We=V.next();we!==null&&!We.done;Te++,We=V.next()){we.index>Te?(rn=we,we=null):rn=we.sibling;var ei=K(q,we,We.value,ie);if(ei===null){we===null&&(we=rn);break}a&&we&&ei.alternate===null&&s(q,we),z=g(ei,z,Te),ze===null?pe=ei:ze.sibling=ei,ze=ei,we=rn}if(We.done)return l(q,we),Je&&Ai(q,Te),pe;if(we===null){for(;!We.done;Te++,We=V.next())We=se(q,We.value,ie),We!==null&&(z=g(We,z,Te),ze===null?pe=We:ze.sibling=We,ze=We);return Je&&Ai(q,Te),pe}for(we=f(we);!We.done;Te++,We=V.next())We=Q(we,q,Te,We.value,ie),We!==null&&(a&&We.alternate!==null&&we.delete(We.key===null?Te:We.key),z=g(We,z,Te),ze===null?pe=We:ze.sibling=We,ze=We);return a&&we.forEach(function(wC){return s(q,wC)}),Je&&Ai(q,Te),pe}function dt(q,z,V,ie){if(typeof V=="object"&&V!==null&&V.type===v&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case y:e:{for(var pe=V.key;z!==null;){if(z.key===pe){if(pe=V.type,pe===v){if(z.tag===7){l(q,z.sibling),ie=p(z,V.props.children),ie.return=q,q=ie;break e}}else if(z.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===D&&g0(pe)===z.type){l(q,z.sibling),ie=p(z,V.props),il(ie,V),ie.return=q,q=ie;break e}l(q,z);break}else s(q,z);z=z.sibling}V.type===v?(ie=Ri(V.props.children,q.mode,ie,V.key),ie.return=q,q=ie):(ie=Ju(V.type,V.key,V.props,null,q.mode,ie),il(ie,V),ie.return=q,q=ie)}return E(q);case _:e:{for(pe=V.key;z!==null;){if(z.key===pe)if(z.tag===4&&z.stateNode.containerInfo===V.containerInfo&&z.stateNode.implementation===V.implementation){l(q,z.sibling),ie=p(z,V.children||[]),ie.return=q,q=ie;break e}else{l(q,z);break}else s(q,z);z=z.sibling}ie=gh(V,q.mode,ie),ie.return=q,q=ie}return E(q);case D:return pe=V._init,V=pe(V._payload),dt(q,z,V,ie)}if(U(V))return Re(q,z,V,ie);if(J(V)){if(pe=J(V),typeof pe!="function")throw Error(r(150));return V=pe.call(V),xe(q,z,V,ie)}if(typeof V.then=="function")return dt(q,z,gc(V),ie);if(V.$$typeof===x)return dt(q,z,rc(q,V),ie);yc(q,V)}return typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint"?(V=""+V,z!==null&&z.tag===6?(l(q,z.sibling),ie=p(z,V),ie.return=q,q=ie):(l(q,z),ie=mh(V,q.mode,ie),ie.return=q,q=ie),E(q)):l(q,z)}return function(q,z,V,ie){try{al=0;var pe=dt(q,z,V,ie);return Cs=null,pe}catch(we){if(we===Ko||we===ic)throw we;var ze=Vn(29,we,null,q.mode);return ze.lanes=ie,ze.return=q,ze}finally{}}}var As=y0(!0),b0=y0(!1),fr=H(null),Lr=null;function Ua(a){var s=a.alternate;ee(Xt,Xt.current&1),ee(fr,a),Lr===null&&(s===null||xs.current!==null||s.memoizedState!==null)&&(Lr=a)}function v0(a){if(a.tag===22){if(ee(Xt,Xt.current),ee(fr,a),Lr===null){var s=a.alternate;s!==null&&s.memoizedState!==null&&(Lr=a)}}else za()}function za(){ee(Xt,Xt.current),ee(fr,fr.current)}function ca(a){W(fr),Lr===a&&(Lr=null),W(Xt)}var Xt=H(0);function bc(a){for(var s=a;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Dp(l)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Kh(a,s,l,f){s=a.memoizedState,l=l(f,s),l=l==null?s:m({},s,l),a.memoizedState=l,a.lanes===0&&(a.updateQueue.baseState=l)}var Xh={enqueueSetState:function(a,s,l){a=a._reactInternals;var f=Xn(),p=Ma(f);p.payload=s,l!=null&&(p.callback=l),s=La(a,p,f),s!==null&&(Wn(s,a,f),Wo(s,a,f))},enqueueReplaceState:function(a,s,l){a=a._reactInternals;var f=Xn(),p=Ma(f);p.tag=1,p.payload=s,l!=null&&(p.callback=l),s=La(a,p,f),s!==null&&(Wn(s,a,f),Wo(s,a,f))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var l=Xn(),f=Ma(l);f.tag=2,s!=null&&(f.callback=s),s=La(a,f,l),s!==null&&(Wn(s,a,l),Wo(s,a,l))}};function _0(a,s,l,f,p,g,E){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(f,g,E):s.prototype&&s.prototype.isPureReactComponent?!Bo(l,f)||!Bo(p,g):!0}function w0(a,s,l,f){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,f),s.state!==a&&Xh.enqueueReplaceState(s,s.state,null)}function Mi(a,s){var l=s;if("ref"in s){l={};for(var f in s)f!=="ref"&&(l[f]=s[f])}if(a=a.defaultProps){l===s&&(l=m({},l));for(var p in a)l[p]===void 0&&(l[p]=a[p])}return l}var vc=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function S0(a){vc(a)}function E0(a){console.error(a)}function x0(a){vc(a)}function _c(a,s){try{var l=a.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(f){setTimeout(function(){throw f})}}function T0(a,s,l){try{var f=a.onCaughtError;f(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Wh(a,s,l){return l=Ma(l),l.tag=3,l.payload={element:null},l.callback=function(){_c(a,s)},l}function O0(a){return a=Ma(a),a.tag=3,a}function R0(a,s,l,f){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var g=f.value;a.payload=function(){return p(g)},a.callback=function(){T0(s,l,f)}}var E=l.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(a.callback=function(){T0(s,l,f),typeof p!="function"&&(Va===null?Va=new Set([this]):Va.add(this));var A=f.stack;this.componentDidCatch(f.value,{componentStack:A!==null?A:""})})}function wR(a,s,l,f,p){if(l.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(s=l.alternate,s!==null&&Vo(s,l,p,!0),l=fr.current,l!==null){switch(l.tag){case 13:return Lr===null?wp():l.alternate===null&&$t===0&&($t=3),l.flags&=-257,l.flags|=65536,l.lanes=p,f===Oh?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([f]):s.add(f),Ep(a,f,p)),!1;case 22:return l.flags|=65536,f===Oh?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([f])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([f]):l.add(f)),Ep(a,f,p)),!1}throw Error(r(435,l.tag))}return Ep(a,f,p),wp(),!1}if(Je)return s=fr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,f!==vh&&(a=Error(r(422),{cause:f}),Go(or(a,l)))):(f!==vh&&(s=Error(r(423),{cause:f}),Go(or(s,l))),a=a.current.alternate,a.flags|=65536,p&=-p,a.lanes|=p,f=or(f,l),p=Wh(a.stateNode,f,p),Ah(a,p),$t!==4&&($t=2)),!1;var g=Error(r(520),{cause:f});if(g=or(g,l),dl===null?dl=[g]:dl.push(g),$t!==4&&($t=2),s===null)return!0;f=or(f,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,a=p&-p,l.lanes|=a,a=Wh(l.stateNode,f,a),Ah(l,a),!1;case 1:if(s=l.type,g=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Va===null||!Va.has(g))))return l.flags|=65536,p&=-p,l.lanes|=p,p=O0(p),R0(p,a,l,f),Ah(l,p),!1}l=l.return}while(l!==null);return!1}var C0=Error(r(461)),tn=!1;function cn(a,s,l,f){s.child=a===null?b0(s,null,l,f):As(s,a.child,l,f)}function A0(a,s,l,f,p){l=l.render;var g=s.ref;if("ref"in f){var E={};for(var A in f)A!=="ref"&&(E[A]=f[A])}else E=f;return $i(s),f=jh(a,s,l,E,g,p),A=Ph(),a!==null&&!tn?(Mh(a,s,p),fa(a,s,p)):(Je&&A&&yh(s),s.flags|=1,cn(a,s,f,p),s.child)}function N0(a,s,l,f,p){if(a===null){var g=l.type;return typeof g=="function"&&!ph(g)&&g.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=g,k0(a,s,g,f,p)):(a=Ju(l.type,null,f,s,s.mode,p),a.ref=s.ref,a.return=s,s.child=a)}if(g=a.child,!ip(a,p)){var E=g.memoizedProps;if(l=l.compare,l=l!==null?l:Bo,l(E,f)&&a.ref===s.ref)return fa(a,s,p)}return s.flags|=1,a=aa(g,f),a.ref=s.ref,a.return=s,s.child=a}function k0(a,s,l,f,p){if(a!==null){var g=a.memoizedProps;if(Bo(g,f)&&a.ref===s.ref)if(tn=!1,s.pendingProps=f=g,ip(a,p))(a.flags&131072)!==0&&(tn=!0);else return s.lanes=a.lanes,fa(a,s,p)}return Qh(a,s,l,f,p)}function I0(a,s,l){var f=s.pendingProps,p=f.children,g=a!==null?a.memoizedState:null;if(f.mode==="hidden"){if((s.flags&128)!==0){if(f=g!==null?g.baseLanes|l:l,a!==null){for(p=s.child=a.child,g=0;p!==null;)g=g|p.lanes|p.childLanes,p=p.sibling;s.childLanes=g&~f}else s.childLanes=0,s.child=null;return $0(a,s,f,l)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},a!==null&&ac(s,g!==null?g.cachePool:null),g!==null?kv(s,g):kh(),v0(s);else return s.lanes=s.childLanes=536870912,$0(a,s,g!==null?g.baseLanes|l:l,l)}else g!==null?(ac(s,g.cachePool),kv(s,g),za(),s.memoizedState=null):(a!==null&&ac(s,null),kh(),za());return cn(a,s,p,l),s.child}function $0(a,s,l,f){var p=Th();return p=p===null?null:{parent:Kt._currentValue,pool:p},s.memoizedState={baseLanes:l,cachePool:p},a!==null&&ac(s,null),kh(),v0(s),a!==null&&Vo(a,s,f,!0),null}function wc(a,s){var l=s.ref;if(l===null)a!==null&&a.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(a===null||a.ref!==l)&&(s.flags|=4194816)}}function Qh(a,s,l,f,p){return $i(s),l=jh(a,s,l,f,void 0,p),f=Ph(),a!==null&&!tn?(Mh(a,s,p),fa(a,s,p)):(Je&&f&&yh(s),s.flags|=1,cn(a,s,l,p),s.child)}function j0(a,s,l,f,p,g){return $i(s),s.updateQueue=null,l=$v(s,f,l,p),Iv(a),f=Ph(),a!==null&&!tn?(Mh(a,s,g),fa(a,s,g)):(Je&&f&&yh(s),s.flags|=1,cn(a,s,l,g),s.child)}function P0(a,s,l,f,p){if($i(s),s.stateNode===null){var g=vs,E=l.contextType;typeof E=="object"&&E!==null&&(g=vn(E)),g=new l(f,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Xh,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=f,g.state=s.memoizedState,g.refs={},Rh(s),E=l.contextType,g.context=typeof E=="object"&&E!==null?vn(E):vs,g.state=s.memoizedState,E=l.getDerivedStateFromProps,typeof E=="function"&&(Kh(s,l,E,f),g.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(E=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),E!==g.state&&Xh.enqueueReplaceState(g,g.state,null),Jo(s,f,g,p),Qo(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),f=!0}else if(a===null){g=s.stateNode;var A=s.memoizedProps,P=Mi(l,A);g.props=P;var Y=g.context,ae=l.contextType;E=vs,typeof ae=="object"&&ae!==null&&(E=vn(ae));var se=l.getDerivedStateFromProps;ae=typeof se=="function"||typeof g.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,ae||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A||Y!==E)&&w0(s,g,f,E),Pa=!1;var K=s.memoizedState;g.state=K,Jo(s,f,g,p),Qo(),Y=s.memoizedState,A||K!==Y||Pa?(typeof se=="function"&&(Kh(s,l,se,f),Y=s.memoizedState),(P=Pa||_0(s,l,P,f,K,Y,E))?(ae||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=Y),g.props=f,g.state=Y,g.context=E,f=P):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{g=s.stateNode,Ch(a,s),E=s.memoizedProps,ae=Mi(l,E),g.props=ae,se=s.pendingProps,K=g.context,Y=l.contextType,P=vs,typeof Y=="object"&&Y!==null&&(P=vn(Y)),A=l.getDerivedStateFromProps,(Y=typeof A=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E!==se||K!==P)&&w0(s,g,f,P),Pa=!1,K=s.memoizedState,g.state=K,Jo(s,f,g,p),Qo();var Q=s.memoizedState;E!==se||K!==Q||Pa||a!==null&&a.dependencies!==null&&nc(a.dependencies)?(typeof A=="function"&&(Kh(s,l,A,f),Q=s.memoizedState),(ae=Pa||_0(s,l,ae,f,K,Q,P)||a!==null&&a.dependencies!==null&&nc(a.dependencies))?(Y||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(f,Q,P),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(f,Q,P)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||E===a.memoizedProps&&K===a.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===a.memoizedProps&&K===a.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=Q),g.props=f,g.state=Q,g.context=P,f=ae):(typeof g.componentDidUpdate!="function"||E===a.memoizedProps&&K===a.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===a.memoizedProps&&K===a.memoizedState||(s.flags|=1024),f=!1)}return g=f,wc(a,s),f=(s.flags&128)!==0,g||f?(g=s.stateNode,l=f&&typeof l.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,a!==null&&f?(s.child=As(s,a.child,null,p),s.child=As(s,null,l,p)):cn(a,s,l,p),s.memoizedState=g.state,a=s.child):a=fa(a,s,p),a}function M0(a,s,l,f){return Fo(),s.flags|=256,cn(a,s,l,f),s.child}var Jh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ep(a){return{baseLanes:a,cachePool:Ev()}}function tp(a,s,l){return a=a!==null?a.childLanes&~l:0,s&&(a|=dr),a}function L0(a,s,l){var f=s.pendingProps,p=!1,g=(s.flags&128)!==0,E;if((E=g)||(E=a!==null&&a.memoizedState===null?!1:(Xt.current&2)!==0),E&&(p=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,a===null){if(Je){if(p?Ua(s):za(),Je){var A=It,P;if(P=A){e:{for(P=A,A=Mr;P.nodeType!==8;){if(!A){A=null;break e}if(P=Or(P.nextSibling),P===null){A=null;break e}}A=P}A!==null?(s.memoizedState={dehydrated:A,treeContext:Ci!==null?{id:ia,overflow:sa}:null,retryLane:536870912,hydrationErrors:null},P=Vn(18,null,null,0),P.stateNode=A,P.return=s,s.child=P,xn=s,It=null,P=!0):P=!1}P||ki(s)}if(A=s.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return Dp(A)?s.lanes=32:s.lanes=536870912,null;ca(s)}return A=f.children,f=f.fallback,p?(za(),p=s.mode,A=Sc({mode:"hidden",children:A},p),f=Ri(f,p,l,null),A.return=s,f.return=s,A.sibling=f,s.child=A,p=s.child,p.memoizedState=ep(l),p.childLanes=tp(a,E,l),s.memoizedState=Jh,f):(Ua(s),np(s,A))}if(P=a.memoizedState,P!==null&&(A=P.dehydrated,A!==null)){if(g)s.flags&256?(Ua(s),s.flags&=-257,s=rp(a,s,l)):s.memoizedState!==null?(za(),s.child=a.child,s.flags|=128,s=null):(za(),p=f.fallback,A=s.mode,f=Sc({mode:"visible",children:f.children},A),p=Ri(p,A,l,null),p.flags|=2,f.return=s,p.return=s,f.sibling=p,s.child=f,As(s,a.child,null,l),f=s.child,f.memoizedState=ep(l),f.childLanes=tp(a,E,l),s.memoizedState=Jh,s=p);else if(Ua(s),Dp(A)){if(E=A.nextSibling&&A.nextSibling.dataset,E)var Y=E.dgst;E=Y,f=Error(r(419)),f.stack="",f.digest=E,Go({value:f,source:null,stack:null}),s=rp(a,s,l)}else if(tn||Vo(a,s,l,!1),E=(l&a.childLanes)!==0,tn||E){if(E=xt,E!==null&&(f=l&-l,f=(f&42)!==0?1:ko(f),f=(f&(E.suspendedLanes|l))!==0?0:f,f!==0&&f!==P.retryLane))throw P.retryLane=f,bs(a,f),Wn(E,a,f),C0;A.data==="$?"||wp(),s=rp(a,s,l)}else A.data==="$?"?(s.flags|=192,s.child=a.child,s=null):(a=P.treeContext,It=Or(A.nextSibling),xn=s,Je=!0,Ni=null,Mr=!1,a!==null&&(ur[cr++]=ia,ur[cr++]=sa,ur[cr++]=Ci,ia=a.id,sa=a.overflow,Ci=s),s=np(s,f.children),s.flags|=4096);return s}return p?(za(),p=f.fallback,A=s.mode,P=a.child,Y=P.sibling,f=aa(P,{mode:"hidden",children:f.children}),f.subtreeFlags=P.subtreeFlags&65011712,Y!==null?p=aa(Y,p):(p=Ri(p,A,l,null),p.flags|=2),p.return=s,f.return=s,f.sibling=p,s.child=f,f=p,p=s.child,A=a.child.memoizedState,A===null?A=ep(l):(P=A.cachePool,P!==null?(Y=Kt._currentValue,P=P.parent!==Y?{parent:Y,pool:Y}:P):P=Ev(),A={baseLanes:A.baseLanes|l,cachePool:P}),p.memoizedState=A,p.childLanes=tp(a,E,l),s.memoizedState=Jh,f):(Ua(s),l=a.child,a=l.sibling,l=aa(l,{mode:"visible",children:f.children}),l.return=s,l.sibling=null,a!==null&&(E=s.deletions,E===null?(s.deletions=[a],s.flags|=16):E.push(a)),s.child=l,s.memoizedState=null,l)}function np(a,s){return s=Sc({mode:"visible",children:s},a.mode),s.return=a,a.child=s}function Sc(a,s){return a=Vn(22,a,null,s),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function rp(a,s,l){return As(s,a.child,null,l),a=np(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function D0(a,s,l){a.lanes|=s;var f=a.alternate;f!==null&&(f.lanes|=s),wh(a.return,s,l)}function ap(a,s,l,f,p){var g=a.memoizedState;g===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:p}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=f,g.tail=l,g.tailMode=p)}function U0(a,s,l){var f=s.pendingProps,p=f.revealOrder,g=f.tail;if(cn(a,s,f.children,l),f=Xt.current,(f&2)!==0)f=f&1|2,s.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&D0(a,l,s);else if(a.tag===19)D0(a,l,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}f&=1}switch(ee(Xt,f),p){case"forwards":for(l=s.child,p=null;l!==null;)a=l.alternate,a!==null&&bc(a)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),ap(s,!1,p,l,g);break;case"backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(a=p.alternate,a!==null&&bc(a)===null){s.child=p;break}a=p.sibling,p.sibling=l,l=p,p=a}ap(s,!0,l,null,g);break;case"together":ap(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function fa(a,s,l){if(a!==null&&(s.dependencies=a.dependencies),Ga|=s.lanes,(l&s.childLanes)===0)if(a!==null){if(Vo(a,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(a!==null&&s.child!==a.child)throw Error(r(153));if(s.child!==null){for(a=s.child,l=aa(a,a.pendingProps),s.child=l,l.return=s;a.sibling!==null;)a=a.sibling,l=l.sibling=aa(a,a.pendingProps),l.return=s;l.sibling=null}return s.child}function ip(a,s){return(a.lanes&s)!==0?!0:(a=a.dependencies,!!(a!==null&&nc(a)))}function SR(a,s,l){switch(s.tag){case 3:me(s,s.stateNode.containerInfo),ja(s,Kt,a.memoizedState.cache),Fo();break;case 27:case 5:ge(s);break;case 4:me(s,s.stateNode.containerInfo);break;case 10:ja(s,s.type,s.memoizedProps.value);break;case 13:var f=s.memoizedState;if(f!==null)return f.dehydrated!==null?(Ua(s),s.flags|=128,null):(l&s.child.childLanes)!==0?L0(a,s,l):(Ua(s),a=fa(a,s,l),a!==null?a.sibling:null);Ua(s);break;case 19:var p=(a.flags&128)!==0;if(f=(l&s.childLanes)!==0,f||(Vo(a,s,l,!1),f=(l&s.childLanes)!==0),p){if(f)return U0(a,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ee(Xt,Xt.current),f)break;return null;case 22:case 23:return s.lanes=0,I0(a,s,l);case 24:ja(s,Kt,a.memoizedState.cache)}return fa(a,s,l)}function z0(a,s,l){if(a!==null)if(a.memoizedProps!==s.pendingProps)tn=!0;else{if(!ip(a,l)&&(s.flags&128)===0)return tn=!1,SR(a,s,l);tn=(a.flags&131072)!==0}else tn=!1,Je&&(s.flags&1048576)!==0&&gv(s,tc,s.index);switch(s.lanes=0,s.tag){case 16:e:{a=s.pendingProps;var f=s.elementType,p=f._init;if(f=p(f._payload),s.type=f,typeof f=="function")ph(f)?(a=Mi(f,a),s.tag=1,s=P0(null,s,f,a,l)):(s.tag=0,s=Qh(null,s,f,a,l));else{if(f!=null){if(p=f.$$typeof,p===R){s.tag=11,s=A0(null,s,f,a,l);break e}else if(p===L){s.tag=14,s=N0(null,s,f,a,l);break e}}throw s=G(f)||f,Error(r(306,s,""))}}return s;case 0:return Qh(a,s,s.type,s.pendingProps,l);case 1:return f=s.type,p=Mi(f,s.pendingProps),P0(a,s,f,p,l);case 3:e:{if(me(s,s.stateNode.containerInfo),a===null)throw Error(r(387));f=s.pendingProps;var g=s.memoizedState;p=g.element,Ch(a,s),Jo(s,f,null,l);var E=s.memoizedState;if(f=E.cache,ja(s,Kt,f),f!==g.cache&&Sh(s,[Kt],l,!0),Qo(),f=E.element,g.isDehydrated)if(g={element:f,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=M0(a,s,f,l);break e}else if(f!==p){p=or(Error(r(424)),s),Go(p),s=M0(a,s,f,l);break e}else{switch(a=s.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(It=Or(a.firstChild),xn=s,Je=!0,Ni=null,Mr=!0,l=b0(s,null,f,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Fo(),f===p){s=fa(a,s,l);break e}cn(a,s,f,l)}s=s.child}return s;case 26:return wc(a,s),a===null?(l=F_(s.type,null,s.pendingProps,null))?s.memoizedState=l:Je||(l=s.type,a=s.pendingProps,f=Mc(fe.current).createElement(l),f[bn]=s,f[kn]=a,dn(f,l,a),en(f),s.stateNode=f):s.memoizedState=F_(s.type,a.memoizedProps,s.pendingProps,a.memoizedState),null;case 27:return ge(s),a===null&&Je&&(f=s.stateNode=B_(s.type,s.pendingProps,fe.current),xn=s,Mr=!0,p=It,Ka(s.type)?(Up=p,It=Or(f.firstChild)):It=p),cn(a,s,s.pendingProps.children,l),wc(a,s),a===null&&(s.flags|=4194304),s.child;case 5:return a===null&&Je&&((p=f=It)&&(f=XR(f,s.type,s.pendingProps,Mr),f!==null?(s.stateNode=f,xn=s,It=Or(f.firstChild),Mr=!1,p=!0):p=!1),p||ki(s)),ge(s),p=s.type,g=s.pendingProps,E=a!==null?a.memoizedProps:null,f=g.children,Pp(p,g)?f=null:E!==null&&Pp(p,E)&&(s.flags|=32),s.memoizedState!==null&&(p=jh(a,s,pR,null,null,l),wl._currentValue=p),wc(a,s),cn(a,s,f,l),s.child;case 6:return a===null&&Je&&((a=l=It)&&(l=WR(l,s.pendingProps,Mr),l!==null?(s.stateNode=l,xn=s,It=null,a=!0):a=!1),a||ki(s)),null;case 13:return L0(a,s,l);case 4:return me(s,s.stateNode.containerInfo),f=s.pendingProps,a===null?s.child=As(s,null,f,l):cn(a,s,f,l),s.child;case 11:return A0(a,s,s.type,s.pendingProps,l);case 7:return cn(a,s,s.pendingProps,l),s.child;case 8:return cn(a,s,s.pendingProps.children,l),s.child;case 12:return cn(a,s,s.pendingProps.children,l),s.child;case 10:return f=s.pendingProps,ja(s,s.type,f.value),cn(a,s,f.children,l),s.child;case 9:return p=s.type._context,f=s.pendingProps.children,$i(s),p=vn(p),f=f(p),s.flags|=1,cn(a,s,f,l),s.child;case 14:return N0(a,s,s.type,s.pendingProps,l);case 15:return k0(a,s,s.type,s.pendingProps,l);case 19:return U0(a,s,l);case 31:return f=s.pendingProps,l=s.mode,f={mode:f.mode,children:f.children},a===null?(l=Sc(f,l),l.ref=s.ref,s.child=l,l.return=s,s=l):(l=aa(a.child,f),l.ref=s.ref,s.child=l,l.return=s,s=l),s;case 22:return I0(a,s,l);case 24:return $i(s),f=vn(Kt),a===null?(p=Th(),p===null&&(p=xt,g=Eh(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=l),p=g),s.memoizedState={parent:f,cache:p},Rh(s),ja(s,Kt,p)):((a.lanes&l)!==0&&(Ch(a,s),Jo(s,null,null,l),Qo()),p=a.memoizedState,g=s.memoizedState,p.parent!==f?(p={parent:f,cache:f},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),ja(s,Kt,f)):(f=g.cache,ja(s,Kt,f),f!==p.cache&&Sh(s,[Kt],l,!0))),cn(a,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function da(a){a.flags|=4}function B0(a,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!K_(s)){if(s=fr.current,s!==null&&((Ze&4194048)===Ze?Lr!==null:(Ze&62914560)!==Ze&&(Ze&536870912)===0||s!==Lr))throw Xo=Oh,xv;a.flags|=8192}}function Ec(a,s){s!==null&&(a.flags|=4),a.flags&16384&&(s=a.tag!==22?Pu():536870912,a.lanes|=s,$s|=s)}function sl(a,s){if(!Je)switch(a.tailMode){case"hidden":s=a.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?a.tail=null:l.sibling=null;break;case"collapsed":l=a.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:f.sibling=null}}function Nt(a){var s=a.alternate!==null&&a.alternate.child===a.child,l=0,f=0;if(s)for(var p=a.child;p!==null;)l|=p.lanes|p.childLanes,f|=p.subtreeFlags&65011712,f|=p.flags&65011712,p.return=a,p=p.sibling;else for(p=a.child;p!==null;)l|=p.lanes|p.childLanes,f|=p.subtreeFlags,f|=p.flags,p.return=a,p=p.sibling;return a.subtreeFlags|=f,a.childLanes=l,s}function ER(a,s,l){var f=s.pendingProps;switch(bh(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(s),null;case 1:return Nt(s),null;case 3:return l=s.stateNode,f=null,a!==null&&(f=a.memoizedState.cache),s.memoizedState.cache!==f&&(s.flags|=2048),la(Kt),Oe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(a===null||a.child===null)&&(qo(s)?da(s):a===null||a.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,vv())),Nt(s),null;case 26:return l=s.memoizedState,a===null?(da(s),l!==null?(Nt(s),B0(s,l)):(Nt(s),s.flags&=-16777217)):l?l!==a.memoizedState?(da(s),Nt(s),B0(s,l)):(Nt(s),s.flags&=-16777217):(a.memoizedProps!==f&&da(s),Nt(s),s.flags&=-16777217),null;case 27:Ne(s),l=fe.current;var p=s.type;if(a!==null&&s.stateNode!=null)a.memoizedProps!==f&&da(s);else{if(!f){if(s.stateNode===null)throw Error(r(166));return Nt(s),null}a=oe.current,qo(s)?yv(s):(a=B_(p,f,l),s.stateNode=a,da(s))}return Nt(s),null;case 5:if(Ne(s),l=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==f&&da(s);else{if(!f){if(s.stateNode===null)throw Error(r(166));return Nt(s),null}if(a=oe.current,qo(s))yv(s);else{switch(p=Mc(fe.current),a){case 1:a=p.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:a=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":a=p.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":a=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":a=p.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof f.is=="string"?p.createElement("select",{is:f.is}):p.createElement("select"),f.multiple?a.multiple=!0:f.size&&(a.size=f.size);break;default:a=typeof f.is=="string"?p.createElement(l,{is:f.is}):p.createElement(l)}}a[bn]=s,a[kn]=f;e:for(p=s.child;p!==null;){if(p.tag===5||p.tag===6)a.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===s)break e;for(;p.sibling===null;){if(p.return===null||p.return===s)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}s.stateNode=a;e:switch(dn(a,l,f),l){case"button":case"input":case"select":case"textarea":a=!!f.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&da(s)}}return Nt(s),s.flags&=-16777217,null;case 6:if(a&&s.stateNode!=null)a.memoizedProps!==f&&da(s);else{if(typeof f!="string"&&s.stateNode===null)throw Error(r(166));if(a=fe.current,qo(s)){if(a=s.stateNode,l=s.memoizedProps,f=null,p=xn,p!==null)switch(p.tag){case 27:case 5:f=p.memoizedProps}a[bn]=s,a=!!(a.nodeValue===l||f!==null&&f.suppressHydrationWarning===!0||j_(a.nodeValue,l)),a||ki(s)}else a=Mc(a).createTextNode(f),a[bn]=s,s.stateNode=a}return Nt(s),null;case 13:if(f=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(p=qo(s),f!==null&&f.dehydrated!==null){if(a===null){if(!p)throw Error(r(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[bn]=s}else Fo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Nt(s),p=!1}else p=vv(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(ca(s),s):(ca(s),null)}if(ca(s),(s.flags&128)!==0)return s.lanes=l,s;if(l=f!==null,a=a!==null&&a.memoizedState!==null,l){f=s.child,p=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(p=f.alternate.memoizedState.cachePool.pool);var g=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(g=f.memoizedState.cachePool.pool),g!==p&&(f.flags|=2048)}return l!==a&&l&&(s.child.flags|=8192),Ec(s,s.updateQueue),Nt(s),null;case 4:return Oe(),a===null&&Np(s.stateNode.containerInfo),Nt(s),null;case 10:return la(s.type),Nt(s),null;case 19:if(W(Xt),p=s.memoizedState,p===null)return Nt(s),null;if(f=(s.flags&128)!==0,g=p.rendering,g===null)if(f)sl(p,!1);else{if($t!==0||a!==null&&(a.flags&128)!==0)for(a=s.child;a!==null;){if(g=bc(a),g!==null){for(s.flags|=128,sl(p,!1),a=g.updateQueue,s.updateQueue=a,Ec(s,a),s.subtreeFlags=0,a=l,l=s.child;l!==null;)mv(l,a),l=l.sibling;return ee(Xt,Xt.current&1|2),s.child}a=a.sibling}p.tail!==null&&Ge()>Oc&&(s.flags|=128,f=!0,sl(p,!1),s.lanes=4194304)}else{if(!f)if(a=bc(g),a!==null){if(s.flags|=128,f=!0,a=a.updateQueue,s.updateQueue=a,Ec(s,a),sl(p,!0),p.tail===null&&p.tailMode==="hidden"&&!g.alternate&&!Je)return Nt(s),null}else 2*Ge()-p.renderingStartTime>Oc&&l!==536870912&&(s.flags|=128,f=!0,sl(p,!1),s.lanes=4194304);p.isBackwards?(g.sibling=s.child,s.child=g):(a=p.last,a!==null?a.sibling=g:s.child=g,p.last=g)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=Ge(),s.sibling=null,a=Xt.current,ee(Xt,f?a&1|2:a&1),s):(Nt(s),null);case 22:case 23:return ca(s),Ih(),f=s.memoizedState!==null,a!==null?a.memoizedState!==null!==f&&(s.flags|=8192):f&&(s.flags|=8192),f?(l&536870912)!==0&&(s.flags&128)===0&&(Nt(s),s.subtreeFlags&6&&(s.flags|=8192)):Nt(s),l=s.updateQueue,l!==null&&Ec(s,l.retryQueue),l=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),f=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),f!==l&&(s.flags|=2048),a!==null&&W(ji),null;case 24:return l=null,a!==null&&(l=a.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),la(Kt),Nt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function xR(a,s){switch(bh(s),s.tag){case 1:return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return la(Kt),Oe(),a=s.flags,(a&65536)!==0&&(a&128)===0?(s.flags=a&-65537|128,s):null;case 26:case 27:case 5:return Ne(s),null;case 13:if(ca(s),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Fo()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return W(Xt),null;case 4:return Oe(),null;case 10:return la(s.type),null;case 22:case 23:return ca(s),Ih(),a!==null&&W(ji),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 24:return la(Kt),null;case 25:return null;default:return null}}function H0(a,s){switch(bh(s),s.tag){case 3:la(Kt),Oe();break;case 26:case 27:case 5:Ne(s);break;case 4:Oe();break;case 13:ca(s);break;case 19:W(Xt);break;case 10:la(s.type);break;case 22:case 23:ca(s),Ih(),a!==null&&W(ji);break;case 24:la(Kt)}}function ol(a,s){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var p=f.next;l=p;do{if((l.tag&a)===a){f=void 0;var g=l.create,E=l.inst;f=g(),E.destroy=f}l=l.next}while(l!==p)}}catch(A){vt(s,s.return,A)}}function Ba(a,s,l){try{var f=s.updateQueue,p=f!==null?f.lastEffect:null;if(p!==null){var g=p.next;f=g;do{if((f.tag&a)===a){var E=f.inst,A=E.destroy;if(A!==void 0){E.destroy=void 0,p=s;var P=l,Y=A;try{Y()}catch(ae){vt(p,P,ae)}}}f=f.next}while(f!==g)}}catch(ae){vt(s,s.return,ae)}}function q0(a){var s=a.updateQueue;if(s!==null){var l=a.stateNode;try{Nv(s,l)}catch(f){vt(a,a.return,f)}}}function F0(a,s,l){l.props=Mi(a.type,a.memoizedProps),l.state=a.memoizedState;try{l.componentWillUnmount()}catch(f){vt(a,s,f)}}function ll(a,s){try{var l=a.ref;if(l!==null){switch(a.tag){case 26:case 27:case 5:var f=a.stateNode;break;case 30:f=a.stateNode;break;default:f=a.stateNode}typeof l=="function"?a.refCleanup=l(f):l.current=f}}catch(p){vt(a,s,p)}}function Dr(a,s){var l=a.ref,f=a.refCleanup;if(l!==null)if(typeof f=="function")try{f()}catch(p){vt(a,s,p)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){vt(a,s,p)}else l.current=null}function G0(a){var s=a.type,l=a.memoizedProps,f=a.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&f.focus();break e;case"img":l.src?f.src=l.src:l.srcSet&&(f.srcset=l.srcSet)}}catch(p){vt(a,a.return,p)}}function sp(a,s,l){try{var f=a.stateNode;GR(f,a.type,l,s),f[kn]=s}catch(p){vt(a,a.return,p)}}function V0(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Ka(a.type)||a.tag===4}function op(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||V0(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Ka(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function lp(a,s,l){var f=a.tag;if(f===5||f===6)a=a.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(a,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(a),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Pc));else if(f!==4&&(f===27&&Ka(a.type)&&(l=a.stateNode,s=null),a=a.child,a!==null))for(lp(a,s,l),a=a.sibling;a!==null;)lp(a,s,l),a=a.sibling}function xc(a,s,l){var f=a.tag;if(f===5||f===6)a=a.stateNode,s?l.insertBefore(a,s):l.appendChild(a);else if(f!==4&&(f===27&&Ka(a.type)&&(l=a.stateNode),a=a.child,a!==null))for(xc(a,s,l),a=a.sibling;a!==null;)xc(a,s,l),a=a.sibling}function Z0(a){var s=a.stateNode,l=a.memoizedProps;try{for(var f=a.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);dn(s,f,l),s[bn]=a,s[kn]=l}catch(g){vt(a,a.return,g)}}var ha=!1,Ut=!1,up=!1,Y0=typeof WeakSet=="function"?WeakSet:Set,nn=null;function TR(a,s){if(a=a.containerInfo,$p=Hc,a=iv(a),oh(a)){if("selectionStart"in a)var l={start:a.selectionStart,end:a.selectionEnd};else e:{l=(l=a.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var p=f.anchorOffset,g=f.focusNode;f=f.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var E=0,A=-1,P=-1,Y=0,ae=0,se=a,K=null;t:for(;;){for(var Q;se!==l||p!==0&&se.nodeType!==3||(A=E+p),se!==g||f!==0&&se.nodeType!==3||(P=E+f),se.nodeType===3&&(E+=se.nodeValue.length),(Q=se.firstChild)!==null;)K=se,se=Q;for(;;){if(se===a)break t;if(K===l&&++Y===p&&(A=E),K===g&&++ae===f&&(P=E),(Q=se.nextSibling)!==null)break;se=K,K=se.parentNode}se=Q}l=A===-1||P===-1?null:{start:A,end:P}}else l=null}l=l||{start:0,end:0}}else l=null;for(jp={focusedElem:a,selectionRange:l},Hc=!1,nn=s;nn!==null;)if(s=nn,a=s.child,(s.subtreeFlags&1024)!==0&&a!==null)a.return=s,nn=a;else for(;nn!==null;){switch(s=nn,g=s.alternate,a=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&g!==null){a=void 0,l=s,p=g.memoizedProps,g=g.memoizedState,f=l.stateNode;try{var Re=Mi(l.type,p,l.elementType===l.type);a=f.getSnapshotBeforeUpdate(Re,g),f.__reactInternalSnapshotBeforeUpdate=a}catch(xe){vt(l,l.return,xe)}}break;case 3:if((a&1024)!==0){if(a=s.stateNode.containerInfo,l=a.nodeType,l===9)Lp(a);else if(l===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Lp(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=s.sibling,a!==null){a.return=s.return,nn=a;break}nn=s.return}}function K0(a,s,l){var f=l.flags;switch(l.tag){case 0:case 11:case 15:Ha(a,l),f&4&&ol(5,l);break;case 1:if(Ha(a,l),f&4)if(a=l.stateNode,s===null)try{a.componentDidMount()}catch(E){vt(l,l.return,E)}else{var p=Mi(l.type,s.memoizedProps);s=s.memoizedState;try{a.componentDidUpdate(p,s,a.__reactInternalSnapshotBeforeUpdate)}catch(E){vt(l,l.return,E)}}f&64&&q0(l),f&512&&ll(l,l.return);break;case 3:if(Ha(a,l),f&64&&(a=l.updateQueue,a!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{Nv(a,s)}catch(E){vt(l,l.return,E)}}break;case 27:s===null&&f&4&&Z0(l);case 26:case 5:Ha(a,l),s===null&&f&4&&G0(l),f&512&&ll(l,l.return);break;case 12:Ha(a,l);break;case 13:Ha(a,l),f&4&&Q0(a,l),f&64&&(a=l.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(l=jR.bind(null,l),QR(a,l))));break;case 22:if(f=l.memoizedState!==null||ha,!f){s=s!==null&&s.memoizedState!==null||Ut,p=ha;var g=Ut;ha=f,(Ut=s)&&!g?qa(a,l,(l.subtreeFlags&8772)!==0):Ha(a,l),ha=p,Ut=g}break;case 30:break;default:Ha(a,l)}}function X0(a){var s=a.alternate;s!==null&&(a.alternate=null,X0(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&Hd(s)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Ct=null,jn=!1;function pa(a,s,l){for(l=l.child;l!==null;)W0(a,s,l),l=l.sibling}function W0(a,s,l){if(St&&typeof St.onCommitFiberUnmount=="function")try{St.onCommitFiberUnmount(yn,l)}catch{}switch(l.tag){case 26:Ut||Dr(l,s),pa(a,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ut||Dr(l,s);var f=Ct,p=jn;Ka(l.type)&&(Ct=l.stateNode,jn=!1),pa(a,s,l),yl(l.stateNode),Ct=f,jn=p;break;case 5:Ut||Dr(l,s);case 6:if(f=Ct,p=jn,Ct=null,pa(a,s,l),Ct=f,jn=p,Ct!==null)if(jn)try{(Ct.nodeType===9?Ct.body:Ct.nodeName==="HTML"?Ct.ownerDocument.body:Ct).removeChild(l.stateNode)}catch(g){vt(l,s,g)}else try{Ct.removeChild(l.stateNode)}catch(g){vt(l,s,g)}break;case 18:Ct!==null&&(jn?(a=Ct,U_(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,l.stateNode),Tl(a)):U_(Ct,l.stateNode));break;case 4:f=Ct,p=jn,Ct=l.stateNode.containerInfo,jn=!0,pa(a,s,l),Ct=f,jn=p;break;case 0:case 11:case 14:case 15:Ut||Ba(2,l,s),Ut||Ba(4,l,s),pa(a,s,l);break;case 1:Ut||(Dr(l,s),f=l.stateNode,typeof f.componentWillUnmount=="function"&&F0(l,s,f)),pa(a,s,l);break;case 21:pa(a,s,l);break;case 22:Ut=(f=Ut)||l.memoizedState!==null,pa(a,s,l),Ut=f;break;default:pa(a,s,l)}}function Q0(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Tl(a)}catch(l){vt(s,s.return,l)}}function OR(a){switch(a.tag){case 13:case 19:var s=a.stateNode;return s===null&&(s=a.stateNode=new Y0),s;case 22:return a=a.stateNode,s=a._retryCache,s===null&&(s=a._retryCache=new Y0),s;default:throw Error(r(435,a.tag))}}function cp(a,s){var l=OR(a);s.forEach(function(f){var p=PR.bind(null,a,f);l.has(f)||(l.add(f),f.then(p,p))})}function Zn(a,s){var l=s.deletions;if(l!==null)for(var f=0;f<l.length;f++){var p=l[f],g=a,E=s,A=E;e:for(;A!==null;){switch(A.tag){case 27:if(Ka(A.type)){Ct=A.stateNode,jn=!1;break e}break;case 5:Ct=A.stateNode,jn=!1;break e;case 3:case 4:Ct=A.stateNode.containerInfo,jn=!0;break e}A=A.return}if(Ct===null)throw Error(r(160));W0(g,E,p),Ct=null,jn=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)J0(s,a),s=s.sibling}var Tr=null;function J0(a,s){var l=a.alternate,f=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Zn(s,a),Yn(a),f&4&&(Ba(3,a,a.return),ol(3,a),Ba(5,a,a.return));break;case 1:Zn(s,a),Yn(a),f&512&&(Ut||l===null||Dr(l,l.return)),f&64&&ha&&(a=a.updateQueue,a!==null&&(f=a.callbacks,f!==null&&(l=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=l===null?f:l.concat(f))));break;case 26:var p=Tr;if(Zn(s,a),Yn(a),f&512&&(Ut||l===null||Dr(l,l.return)),f&4){var g=l!==null?l.memoizedState:null;if(f=a.memoizedState,l===null)if(f===null)if(a.stateNode===null){e:{f=a.type,l=a.memoizedProps,p=p.ownerDocument||p;t:switch(f){case"title":g=p.getElementsByTagName("title")[0],(!g||g[Io]||g[bn]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(f),p.head.insertBefore(g,p.querySelector("head > title"))),dn(g,f,l),g[bn]=a,en(g),f=g;break e;case"link":var E=Z_("link","href",p).get(f+(l.href||""));if(E){for(var A=0;A<E.length;A++)if(g=E[A],g.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&g.getAttribute("rel")===(l.rel==null?null:l.rel)&&g.getAttribute("title")===(l.title==null?null:l.title)&&g.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){E.splice(A,1);break t}}g=p.createElement(f),dn(g,f,l),p.head.appendChild(g);break;case"meta":if(E=Z_("meta","content",p).get(f+(l.content||""))){for(A=0;A<E.length;A++)if(g=E[A],g.getAttribute("content")===(l.content==null?null:""+l.content)&&g.getAttribute("name")===(l.name==null?null:l.name)&&g.getAttribute("property")===(l.property==null?null:l.property)&&g.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&g.getAttribute("charset")===(l.charSet==null?null:l.charSet)){E.splice(A,1);break t}}g=p.createElement(f),dn(g,f,l),p.head.appendChild(g);break;default:throw Error(r(468,f))}g[bn]=a,en(g),f=g}a.stateNode=f}else Y_(p,a.type,a.stateNode);else a.stateNode=V_(p,f,a.memoizedProps);else g!==f?(g===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):g.count--,f===null?Y_(p,a.type,a.stateNode):V_(p,f,a.memoizedProps)):f===null&&a.stateNode!==null&&sp(a,a.memoizedProps,l.memoizedProps)}break;case 27:Zn(s,a),Yn(a),f&512&&(Ut||l===null||Dr(l,l.return)),l!==null&&f&4&&sp(a,a.memoizedProps,l.memoizedProps);break;case 5:if(Zn(s,a),Yn(a),f&512&&(Ut||l===null||Dr(l,l.return)),a.flags&32){p=a.stateNode;try{fs(p,"")}catch(Q){vt(a,a.return,Q)}}f&4&&a.stateNode!=null&&(p=a.memoizedProps,sp(a,p,l!==null?l.memoizedProps:p)),f&1024&&(up=!0);break;case 6:if(Zn(s,a),Yn(a),f&4){if(a.stateNode===null)throw Error(r(162));f=a.memoizedProps,l=a.stateNode;try{l.nodeValue=f}catch(Q){vt(a,a.return,Q)}}break;case 3:if(Uc=null,p=Tr,Tr=Lc(s.containerInfo),Zn(s,a),Tr=p,Yn(a),f&4&&l!==null&&l.memoizedState.isDehydrated)try{Tl(s.containerInfo)}catch(Q){vt(a,a.return,Q)}up&&(up=!1,e_(a));break;case 4:f=Tr,Tr=Lc(a.stateNode.containerInfo),Zn(s,a),Yn(a),Tr=f;break;case 12:Zn(s,a),Yn(a);break;case 13:Zn(s,a),Yn(a),a.child.flags&8192&&a.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(gp=Ge()),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,cp(a,f)));break;case 22:p=a.memoizedState!==null;var P=l!==null&&l.memoizedState!==null,Y=ha,ae=Ut;if(ha=Y||p,Ut=ae||P,Zn(s,a),Ut=ae,ha=Y,Yn(a),f&8192)e:for(s=a.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(l===null||P||ha||Ut||Li(a)),l=null,s=a;;){if(s.tag===5||s.tag===26){if(l===null){P=l=s;try{if(g=P.stateNode,p)E=g.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{A=P.stateNode;var se=P.memoizedProps.style,K=se!=null&&se.hasOwnProperty("display")?se.display:null;A.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(Q){vt(P,P.return,Q)}}}else if(s.tag===6){if(l===null){P=s;try{P.stateNode.nodeValue=p?"":P.memoizedProps}catch(Q){vt(P,P.return,Q)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===a)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}f&4&&(f=a.updateQueue,f!==null&&(l=f.retryQueue,l!==null&&(f.retryQueue=null,cp(a,l))));break;case 19:Zn(s,a),Yn(a),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,cp(a,f)));break;case 30:break;case 21:break;default:Zn(s,a),Yn(a)}}function Yn(a){var s=a.flags;if(s&2){try{for(var l,f=a.return;f!==null;){if(V0(f)){l=f;break}f=f.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var p=l.stateNode,g=op(a);xc(a,g,p);break;case 5:var E=l.stateNode;l.flags&32&&(fs(E,""),l.flags&=-33);var A=op(a);xc(a,A,E);break;case 3:case 4:var P=l.stateNode.containerInfo,Y=op(a);lp(a,Y,P);break;default:throw Error(r(161))}}catch(ae){vt(a,a.return,ae)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function e_(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var s=a;e_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),a=a.sibling}}function Ha(a,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)K0(a,s.alternate,s),s=s.sibling}function Li(a){for(a=a.child;a!==null;){var s=a;switch(s.tag){case 0:case 11:case 14:case 15:Ba(4,s,s.return),Li(s);break;case 1:Dr(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&F0(s,s.return,l),Li(s);break;case 27:yl(s.stateNode);case 26:case 5:Dr(s,s.return),Li(s);break;case 22:s.memoizedState===null&&Li(s);break;case 30:Li(s);break;default:Li(s)}a=a.sibling}}function qa(a,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var f=s.alternate,p=a,g=s,E=g.flags;switch(g.tag){case 0:case 11:case 15:qa(p,g,l),ol(4,g);break;case 1:if(qa(p,g,l),f=g,p=f.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(Y){vt(f,f.return,Y)}if(f=g,p=f.updateQueue,p!==null){var A=f.stateNode;try{var P=p.shared.hiddenCallbacks;if(P!==null)for(p.shared.hiddenCallbacks=null,p=0;p<P.length;p++)Av(P[p],A)}catch(Y){vt(f,f.return,Y)}}l&&E&64&&q0(g),ll(g,g.return);break;case 27:Z0(g);case 26:case 5:qa(p,g,l),l&&f===null&&E&4&&G0(g),ll(g,g.return);break;case 12:qa(p,g,l);break;case 13:qa(p,g,l),l&&E&4&&Q0(p,g);break;case 22:g.memoizedState===null&&qa(p,g,l),ll(g,g.return);break;case 30:break;default:qa(p,g,l)}s=s.sibling}}function fp(a,s){var l=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),a=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==l&&(a!=null&&a.refCount++,l!=null&&Zo(l))}function dp(a,s){a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&Zo(a))}function Ur(a,s,l,f){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)t_(a,s,l,f),s=s.sibling}function t_(a,s,l,f){var p=s.flags;switch(s.tag){case 0:case 11:case 15:Ur(a,s,l,f),p&2048&&ol(9,s);break;case 1:Ur(a,s,l,f);break;case 3:Ur(a,s,l,f),p&2048&&(a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&Zo(a)));break;case 12:if(p&2048){Ur(a,s,l,f),a=s.stateNode;try{var g=s.memoizedProps,E=g.id,A=g.onPostCommit;typeof A=="function"&&A(E,s.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(P){vt(s,s.return,P)}}else Ur(a,s,l,f);break;case 13:Ur(a,s,l,f);break;case 23:break;case 22:g=s.stateNode,E=s.alternate,s.memoizedState!==null?g._visibility&2?Ur(a,s,l,f):ul(a,s):g._visibility&2?Ur(a,s,l,f):(g._visibility|=2,Ns(a,s,l,f,(s.subtreeFlags&10256)!==0)),p&2048&&fp(E,s);break;case 24:Ur(a,s,l,f),p&2048&&dp(s.alternate,s);break;default:Ur(a,s,l,f)}}function Ns(a,s,l,f,p){for(p=p&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=a,E=s,A=l,P=f,Y=E.flags;switch(E.tag){case 0:case 11:case 15:Ns(g,E,A,P,p),ol(8,E);break;case 23:break;case 22:var ae=E.stateNode;E.memoizedState!==null?ae._visibility&2?Ns(g,E,A,P,p):ul(g,E):(ae._visibility|=2,Ns(g,E,A,P,p)),p&&Y&2048&&fp(E.alternate,E);break;case 24:Ns(g,E,A,P,p),p&&Y&2048&&dp(E.alternate,E);break;default:Ns(g,E,A,P,p)}s=s.sibling}}function ul(a,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=a,f=s,p=f.flags;switch(f.tag){case 22:ul(l,f),p&2048&&fp(f.alternate,f);break;case 24:ul(l,f),p&2048&&dp(f.alternate,f);break;default:ul(l,f)}s=s.sibling}}var cl=8192;function ks(a){if(a.subtreeFlags&cl)for(a=a.child;a!==null;)n_(a),a=a.sibling}function n_(a){switch(a.tag){case 26:ks(a),a.flags&cl&&a.memoizedState!==null&&fC(Tr,a.memoizedState,a.memoizedProps);break;case 5:ks(a);break;case 3:case 4:var s=Tr;Tr=Lc(a.stateNode.containerInfo),ks(a),Tr=s;break;case 22:a.memoizedState===null&&(s=a.alternate,s!==null&&s.memoizedState!==null?(s=cl,cl=16777216,ks(a),cl=s):ks(a));break;default:ks(a)}}function r_(a){var s=a.alternate;if(s!==null&&(a=s.child,a!==null)){s.child=null;do s=a.sibling,a.sibling=null,a=s;while(a!==null)}}function fl(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var f=s[l];nn=f,i_(f,a)}r_(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)a_(a),a=a.sibling}function a_(a){switch(a.tag){case 0:case 11:case 15:fl(a),a.flags&2048&&Ba(9,a,a.return);break;case 3:fl(a);break;case 12:fl(a);break;case 22:var s=a.stateNode;a.memoizedState!==null&&s._visibility&2&&(a.return===null||a.return.tag!==13)?(s._visibility&=-3,Tc(a)):fl(a);break;default:fl(a)}}function Tc(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var f=s[l];nn=f,i_(f,a)}r_(a)}for(a=a.child;a!==null;){switch(s=a,s.tag){case 0:case 11:case 15:Ba(8,s,s.return),Tc(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,Tc(s));break;default:Tc(s)}a=a.sibling}}function i_(a,s){for(;nn!==null;){var l=nn;switch(l.tag){case 0:case 11:case 15:Ba(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var f=l.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Zo(l.memoizedState.cache)}if(f=l.child,f!==null)f.return=l,nn=f;else e:for(l=a;nn!==null;){f=nn;var p=f.sibling,g=f.return;if(X0(f),f===l){nn=null;break e}if(p!==null){p.return=g,nn=p;break e}nn=g}}}var RR={getCacheForType:function(a){var s=vn(Kt),l=s.data.get(a);return l===void 0&&(l=a(),s.data.set(a,l)),l}},CR=typeof WeakMap=="function"?WeakMap:Map,ot=0,xt=null,qe=null,Ze=0,lt=0,Kn=null,Fa=!1,Is=!1,hp=!1,ma=0,$t=0,Ga=0,Di=0,pp=0,dr=0,$s=0,dl=null,Pn=null,mp=!1,gp=0,Oc=1/0,Rc=null,Va=null,fn=0,Za=null,js=null,Ps=0,yp=0,bp=null,s_=null,hl=0,vp=null;function Xn(){if((ot&2)!==0&&Ze!==0)return Ze&-Ze;if(I.T!==null){var a=Ss;return a!==0?a:Op()}return Nn()}function o_(){dr===0&&(dr=(Ze&536870912)===0||Je?wi():536870912);var a=fr.current;return a!==null&&(a.flags|=32),dr}function Wn(a,s,l){(a===xt&&(lt===2||lt===9)||a.cancelPendingCommit!==null)&&(Ms(a,0),Ya(a,Ze,dr,!1)),Si(a,l),((ot&2)===0||a!==xt)&&(a===xt&&((ot&2)===0&&(Di|=l),$t===4&&Ya(a,Ze,dr,!1)),zr(a))}function l_(a,s,l){if((ot&6)!==0)throw Error(r(327));var f=!l&&(s&124)===0&&(s&a.expiredLanes)===0||Rt(a,s),p=f?kR(a,s):Sp(a,s,!0),g=f;do{if(p===0){Is&&!f&&Ya(a,s,0,!1);break}else{if(l=a.current.alternate,g&&!AR(l)){p=Sp(a,s,!1),g=!1;continue}if(p===2){if(g=s,a.errorRecoveryDisabledLanes&g)var E=0;else E=a.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var A=a;p=dl;var P=A.current.memoizedState.isDehydrated;if(P&&(Ms(A,E).flags|=256),E=Sp(A,E,!1),E!==2){if(hp&&!P){A.errorRecoveryDisabledLanes|=g,Di|=g,p=4;break e}g=Pn,Pn=p,g!==null&&(Pn===null?Pn=g:Pn.push.apply(Pn,g))}p=E}if(g=!1,p!==2)continue}}if(p===1){Ms(a,0),Ya(a,s,0,!0);break}e:{switch(f=a,g=p,g){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Ya(f,s,dr,!Fa);break e;case 2:Pn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(p=gp+300-Ge(),10<p)){if(Ya(f,s,dr,!Fa),Ve(f,0,!0)!==0)break e;f.timeoutHandle=L_(u_.bind(null,f,l,Pn,Rc,mp,s,dr,Di,$s,Fa,g,2,-0,0),p);break e}u_(f,l,Pn,Rc,mp,s,dr,Di,$s,Fa,g,0,-0,0)}}break}while(!0);zr(a)}function u_(a,s,l,f,p,g,E,A,P,Y,ae,se,K,Q){if(a.timeoutHandle=-1,se=s.subtreeFlags,(se&8192||(se&16785408)===16785408)&&(_l={stylesheets:null,count:0,unsuspend:cC},n_(s),se=dC(),se!==null)){a.cancelPendingCommit=se(g_.bind(null,a,s,g,l,f,p,E,A,P,ae,1,K,Q)),Ya(a,g,E,!Y);return}g_(a,s,g,l,f,p,E,A,P)}function AR(a){for(var s=a;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var f=0;f<l.length;f++){var p=l[f],g=p.getSnapshot;p=p.value;try{if(!Gn(g(),p))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ya(a,s,l,f){s&=~pp,s&=~Di,a.suspendedLanes|=s,a.pingedLanes&=~s,f&&(a.warmLanes|=s),f=a.expirationTimes;for(var p=s;0<p;){var g=31-Et(p),E=1<<g;f[g]=-1,p&=~E}l!==0&&Mu(a,l,s)}function Cc(){return(ot&6)===0?(pl(0),!1):!0}function _p(){if(qe!==null){if(lt===0)var a=qe.return;else a=qe,oa=Ii=null,Lh(a),Cs=null,al=0,a=qe;for(;a!==null;)H0(a.alternate,a),a=a.return;qe=null}}function Ms(a,s){var l=a.timeoutHandle;l!==-1&&(a.timeoutHandle=-1,ZR(l)),l=a.cancelPendingCommit,l!==null&&(a.cancelPendingCommit=null,l()),_p(),xt=a,qe=l=aa(a.current,null),Ze=s,lt=0,Kn=null,Fa=!1,Is=Rt(a,s),hp=!1,$s=dr=pp=Di=Ga=$t=0,Pn=dl=null,mp=!1,(s&8)!==0&&(s|=s&32);var f=a.entangledLanes;if(f!==0)for(a=a.entanglements,f&=s;0<f;){var p=31-Et(f),g=1<<p;s|=a[p],f&=~g}return ma=s,Xu(),l}function c_(a,s){De=null,I.H=mc,s===Ko||s===ic?(s=Rv(),lt=3):s===xv?(s=Rv(),lt=4):lt=s===C0?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Kn=s,qe===null&&($t=1,_c(a,or(s,a.current)))}function f_(){var a=I.H;return I.H=mc,a===null?mc:a}function d_(){var a=I.A;return I.A=RR,a}function wp(){$t=4,Fa||(Ze&4194048)!==Ze&&fr.current!==null||(Is=!0),(Ga&134217727)===0&&(Di&134217727)===0||xt===null||Ya(xt,Ze,dr,!1)}function Sp(a,s,l){var f=ot;ot|=2;var p=f_(),g=d_();(xt!==a||Ze!==s)&&(Rc=null,Ms(a,s)),s=!1;var E=$t;e:do try{if(lt!==0&&qe!==null){var A=qe,P=Kn;switch(lt){case 8:_p(),E=6;break e;case 3:case 2:case 9:case 6:fr.current===null&&(s=!0);var Y=lt;if(lt=0,Kn=null,Ls(a,A,P,Y),l&&Is){E=0;break e}break;default:Y=lt,lt=0,Kn=null,Ls(a,A,P,Y)}}NR(),E=$t;break}catch(ae){c_(a,ae)}while(!0);return s&&a.shellSuspendCounter++,oa=Ii=null,ot=f,I.H=p,I.A=g,qe===null&&(xt=null,Ze=0,Xu()),E}function NR(){for(;qe!==null;)h_(qe)}function kR(a,s){var l=ot;ot|=2;var f=f_(),p=d_();xt!==a||Ze!==s?(Rc=null,Oc=Ge()+500,Ms(a,s)):Is=Rt(a,s);e:do try{if(lt!==0&&qe!==null){s=qe;var g=Kn;t:switch(lt){case 1:lt=0,Kn=null,Ls(a,s,g,1);break;case 2:case 9:if(Tv(g)){lt=0,Kn=null,p_(s);break}s=function(){lt!==2&&lt!==9||xt!==a||(lt=7),zr(a)},g.then(s,s);break e;case 3:lt=7;break e;case 4:lt=5;break e;case 7:Tv(g)?(lt=0,Kn=null,p_(s)):(lt=0,Kn=null,Ls(a,s,g,7));break;case 5:var E=null;switch(qe.tag){case 26:E=qe.memoizedState;case 5:case 27:var A=qe;if(!E||K_(E)){lt=0,Kn=null;var P=A.sibling;if(P!==null)qe=P;else{var Y=A.return;Y!==null?(qe=Y,Ac(Y)):qe=null}break t}}lt=0,Kn=null,Ls(a,s,g,5);break;case 6:lt=0,Kn=null,Ls(a,s,g,6);break;case 8:_p(),$t=6;break e;default:throw Error(r(462))}}IR();break}catch(ae){c_(a,ae)}while(!0);return oa=Ii=null,I.H=f,I.A=p,ot=l,qe!==null?0:(xt=null,Ze=0,Xu(),$t)}function IR(){for(;qe!==null&&!Ye();)h_(qe)}function h_(a){var s=z0(a.alternate,a,ma);a.memoizedProps=a.pendingProps,s===null?Ac(a):qe=s}function p_(a){var s=a,l=s.alternate;switch(s.tag){case 15:case 0:s=j0(l,s,s.pendingProps,s.type,void 0,Ze);break;case 11:s=j0(l,s,s.pendingProps,s.type.render,s.ref,Ze);break;case 5:Lh(s);default:H0(l,s),s=qe=mv(s,ma),s=z0(l,s,ma)}a.memoizedProps=a.pendingProps,s===null?Ac(a):qe=s}function Ls(a,s,l,f){oa=Ii=null,Lh(s),Cs=null,al=0;var p=s.return;try{if(wR(a,p,s,l,Ze)){$t=1,_c(a,or(l,a.current)),qe=null;return}}catch(g){if(p!==null)throw qe=p,g;$t=1,_c(a,or(l,a.current)),qe=null;return}s.flags&32768?(Je||f===1?a=!0:Is||(Ze&536870912)!==0?a=!1:(Fa=a=!0,(f===2||f===9||f===3||f===6)&&(f=fr.current,f!==null&&f.tag===13&&(f.flags|=16384))),m_(s,a)):Ac(s)}function Ac(a){var s=a;do{if((s.flags&32768)!==0){m_(s,Fa);return}a=s.return;var l=ER(s.alternate,s,ma);if(l!==null){qe=l;return}if(s=s.sibling,s!==null){qe=s;return}qe=s=a}while(s!==null);$t===0&&($t=5)}function m_(a,s){do{var l=xR(a.alternate,a);if(l!==null){l.flags&=32767,qe=l;return}if(l=a.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(a=a.sibling,a!==null)){qe=a;return}qe=a=l}while(a!==null);$t=6,qe=null}function g_(a,s,l,f,p,g,E,A,P){a.cancelPendingCommit=null;do Nc();while(fn!==0);if((ot&6)!==0)throw Error(r(327));if(s!==null){if(s===a.current)throw Error(r(177));if(g=s.lanes|s.childLanes,g|=dh,zd(a,l,g,E,A,P),a===xt&&(qe=xt=null,Ze=0),js=s,Za=a,Ps=l,yp=g,bp=p,s_=f,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,MR(Xe,function(){return w_(),null})):(a.callbackNode=null,a.callbackPriority=0),f=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||f){f=I.T,I.T=null,p=M.p,M.p=2,E=ot,ot|=4;try{TR(a,s,l)}finally{ot=E,M.p=p,I.T=f}}fn=1,y_(),b_(),v_()}}function y_(){if(fn===1){fn=0;var a=Za,s=js,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=I.T,I.T=null;var f=M.p;M.p=2;var p=ot;ot|=4;try{J0(s,a);var g=jp,E=iv(a.containerInfo),A=g.focusedElem,P=g.selectionRange;if(E!==A&&A&&A.ownerDocument&&av(A.ownerDocument.documentElement,A)){if(P!==null&&oh(A)){var Y=P.start,ae=P.end;if(ae===void 0&&(ae=Y),"selectionStart"in A)A.selectionStart=Y,A.selectionEnd=Math.min(ae,A.value.length);else{var se=A.ownerDocument||document,K=se&&se.defaultView||window;if(K.getSelection){var Q=K.getSelection(),Re=A.textContent.length,xe=Math.min(P.start,Re),dt=P.end===void 0?xe:Math.min(P.end,Re);!Q.extend&&xe>dt&&(E=dt,dt=xe,xe=E);var q=rv(A,xe),z=rv(A,dt);if(q&&z&&(Q.rangeCount!==1||Q.anchorNode!==q.node||Q.anchorOffset!==q.offset||Q.focusNode!==z.node||Q.focusOffset!==z.offset)){var V=se.createRange();V.setStart(q.node,q.offset),Q.removeAllRanges(),xe>dt?(Q.addRange(V),Q.extend(z.node,z.offset)):(V.setEnd(z.node,z.offset),Q.addRange(V))}}}}for(se=[],Q=A;Q=Q.parentNode;)Q.nodeType===1&&se.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<se.length;A++){var ie=se[A];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}Hc=!!$p,jp=$p=null}finally{ot=p,M.p=f,I.T=l}}a.current=s,fn=2}}function b_(){if(fn===2){fn=0;var a=Za,s=js,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=I.T,I.T=null;var f=M.p;M.p=2;var p=ot;ot|=4;try{K0(a,s.alternate,s)}finally{ot=p,M.p=f,I.T=l}}fn=3}}function v_(){if(fn===4||fn===3){fn=0,Lt();var a=Za,s=js,l=Ps,f=s_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?fn=5:(fn=0,js=Za=null,__(a,a.pendingLanes));var p=a.pendingLanes;if(p===0&&(Va=null),Ie(l),s=s.stateNode,St&&typeof St.onCommitFiberRoot=="function")try{St.onCommitFiberRoot(yn,s,void 0,(s.current.flags&128)===128)}catch{}if(f!==null){s=I.T,p=M.p,M.p=2,I.T=null;try{for(var g=a.onRecoverableError,E=0;E<f.length;E++){var A=f[E];g(A.value,{componentStack:A.stack})}}finally{I.T=s,M.p=p}}(Ps&3)!==0&&Nc(),zr(a),p=a.pendingLanes,(l&4194090)!==0&&(p&42)!==0?a===vp?hl++:(hl=0,vp=a):hl=0,pl(0)}}function __(a,s){(a.pooledCacheLanes&=s)===0&&(s=a.pooledCache,s!=null&&(a.pooledCache=null,Zo(s)))}function Nc(a){return y_(),b_(),v_(),w_()}function w_(){if(fn!==5)return!1;var a=Za,s=yp;yp=0;var l=Ie(Ps),f=I.T,p=M.p;try{M.p=32>l?32:l,I.T=null,l=bp,bp=null;var g=Za,E=Ps;if(fn=0,js=Za=null,Ps=0,(ot&6)!==0)throw Error(r(331));var A=ot;if(ot|=4,a_(g.current),t_(g,g.current,E,l),ot=A,pl(0,!1),St&&typeof St.onPostCommitFiberRoot=="function")try{St.onPostCommitFiberRoot(yn,g)}catch{}return!0}finally{M.p=p,I.T=f,__(a,s)}}function S_(a,s,l){s=or(l,s),s=Wh(a.stateNode,s,2),a=La(a,s,2),a!==null&&(Si(a,2),zr(a))}function vt(a,s,l){if(a.tag===3)S_(a,a,l);else for(;s!==null;){if(s.tag===3){S_(s,a,l);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Va===null||!Va.has(f))){a=or(l,a),l=O0(2),f=La(s,l,2),f!==null&&(R0(l,f,s,a),Si(f,2),zr(f));break}}s=s.return}}function Ep(a,s,l){var f=a.pingCache;if(f===null){f=a.pingCache=new CR;var p=new Set;f.set(s,p)}else p=f.get(s),p===void 0&&(p=new Set,f.set(s,p));p.has(l)||(hp=!0,p.add(l),a=$R.bind(null,a,s,l),s.then(a,a))}function $R(a,s,l){var f=a.pingCache;f!==null&&f.delete(s),a.pingedLanes|=a.suspendedLanes&l,a.warmLanes&=~l,xt===a&&(Ze&l)===l&&($t===4||$t===3&&(Ze&62914560)===Ze&&300>Ge()-gp?(ot&2)===0&&Ms(a,0):pp|=l,$s===Ze&&($s=0)),zr(a)}function E_(a,s){s===0&&(s=Pu()),a=bs(a,s),a!==null&&(Si(a,s),zr(a))}function jR(a){var s=a.memoizedState,l=0;s!==null&&(l=s.retryLane),E_(a,l)}function PR(a,s){var l=0;switch(a.tag){case 13:var f=a.stateNode,p=a.memoizedState;p!==null&&(l=p.retryLane);break;case 19:f=a.stateNode;break;case 22:f=a.stateNode._retryCache;break;default:throw Error(r(314))}f!==null&&f.delete(s),E_(a,l)}function MR(a,s){return it(a,s)}var kc=null,Ds=null,xp=!1,Ic=!1,Tp=!1,Ui=0;function zr(a){a!==Ds&&a.next===null&&(Ds===null?kc=Ds=a:Ds=Ds.next=a),Ic=!0,xp||(xp=!0,DR())}function pl(a,s){if(!Tp&&Ic){Tp=!0;do for(var l=!1,f=kc;f!==null;){if(a!==0){var p=f.pendingLanes;if(p===0)var g=0;else{var E=f.suspendedLanes,A=f.pingedLanes;g=(1<<31-Et(42|a)+1)-1,g&=p&~(E&~A),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(l=!0,R_(f,g))}else g=Ze,g=Ve(f,f===xt?g:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(g&3)===0||Rt(f,g)||(l=!0,R_(f,g));f=f.next}while(l);Tp=!1}}function LR(){x_()}function x_(){Ic=xp=!1;var a=0;Ui!==0&&(VR()&&(a=Ui),Ui=0);for(var s=Ge(),l=null,f=kc;f!==null;){var p=f.next,g=T_(f,s);g===0?(f.next=null,l===null?kc=p:l.next=p,p===null&&(Ds=l)):(l=f,(a!==0||(g&3)!==0)&&(Ic=!0)),f=p}pl(a)}function T_(a,s){for(var l=a.suspendedLanes,f=a.pingedLanes,p=a.expirationTimes,g=a.pendingLanes&-62914561;0<g;){var E=31-Et(g),A=1<<E,P=p[E];P===-1?((A&l)===0||(A&f)!==0)&&(p[E]=Fn(A,s)):P<=s&&(a.expiredLanes|=A),g&=~A}if(s=xt,l=Ze,l=Ve(a,a===s?l:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),f=a.callbackNode,l===0||a===s&&(lt===2||lt===9)||a.cancelPendingCommit!==null)return f!==null&&f!==null&&Ae(f),a.callbackNode=null,a.callbackPriority=0;if((l&3)===0||Rt(a,l)){if(s=l&-l,s===a.callbackPriority)return s;switch(f!==null&&Ae(f),Ie(l)){case 2:case 8:l=st;break;case 32:l=Xe;break;case 268435456:l=un;break;default:l=Xe}return f=O_.bind(null,a),l=it(l,f),a.callbackPriority=s,a.callbackNode=l,s}return f!==null&&f!==null&&Ae(f),a.callbackPriority=2,a.callbackNode=null,2}function O_(a,s){if(fn!==0&&fn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var l=a.callbackNode;if(Nc()&&a.callbackNode!==l)return null;var f=Ze;return f=Ve(a,a===xt?f:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),f===0?null:(l_(a,f,s),T_(a,Ge()),a.callbackNode!=null&&a.callbackNode===l?O_.bind(null,a):null)}function R_(a,s){if(Nc())return null;l_(a,s,!0)}function DR(){YR(function(){(ot&6)!==0?it(Zt,LR):x_()})}function Op(){return Ui===0&&(Ui=wi()),Ui}function C_(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:qu(""+a)}function A_(a,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,a.id&&l.setAttribute("form",a.id),s.parentNode.insertBefore(l,s),a=new FormData(a),l.parentNode.removeChild(l),a}function UR(a,s,l,f,p){if(s==="submit"&&l&&l.stateNode===p){var g=C_((p[kn]||null).action),E=f.submitter;E&&(s=(s=E[kn]||null)?C_(s.formAction):E.getAttribute("formAction"),s!==null&&(g=s,E=null));var A=new Zu("action","action",null,f,p);a.push({event:A,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Ui!==0){var P=E?A_(p,E):new FormData(p);Vh(l,{pending:!0,data:P,method:p.method,action:g},null,P)}}else typeof g=="function"&&(A.preventDefault(),P=E?A_(p,E):new FormData(p),Vh(l,{pending:!0,data:P,method:p.method,action:g},g,P))},currentTarget:p}]})}}for(var Rp=0;Rp<fh.length;Rp++){var Cp=fh[Rp],zR=Cp.toLowerCase(),BR=Cp[0].toUpperCase()+Cp.slice(1);xr(zR,"on"+BR)}xr(lv,"onAnimationEnd"),xr(uv,"onAnimationIteration"),xr(cv,"onAnimationStart"),xr("dblclick","onDoubleClick"),xr("focusin","onFocus"),xr("focusout","onBlur"),xr(aR,"onTransitionRun"),xr(iR,"onTransitionStart"),xr(sR,"onTransitionCancel"),xr(fv,"onTransitionEnd"),ls("onMouseEnter",["mouseout","mouseover"]),ls("onMouseLeave",["mouseout","mouseover"]),ls("onPointerEnter",["pointerout","pointerover"]),ls("onPointerLeave",["pointerout","pointerover"]),Ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ml));function N_(a,s){s=(s&4)!==0;for(var l=0;l<a.length;l++){var f=a[l],p=f.event;f=f.listeners;e:{var g=void 0;if(s)for(var E=f.length-1;0<=E;E--){var A=f[E],P=A.instance,Y=A.currentTarget;if(A=A.listener,P!==g&&p.isPropagationStopped())break e;g=A,p.currentTarget=Y;try{g(p)}catch(ae){vc(ae)}p.currentTarget=null,g=P}else for(E=0;E<f.length;E++){if(A=f[E],P=A.instance,Y=A.currentTarget,A=A.listener,P!==g&&p.isPropagationStopped())break e;g=A,p.currentTarget=Y;try{g(p)}catch(ae){vc(ae)}p.currentTarget=null,g=P}}}}function Fe(a,s){var l=s[Bd];l===void 0&&(l=s[Bd]=new Set);var f=a+"__bubble";l.has(f)||(k_(s,a,2,!1),l.add(f))}function Ap(a,s,l){var f=0;s&&(f|=4),k_(l,a,f,s)}var $c="_reactListening"+Math.random().toString(36).slice(2);function Np(a){if(!a[$c]){a[$c]=!0,xb.forEach(function(l){l!=="selectionchange"&&(HR.has(l)||Ap(l,!1,a),Ap(l,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[$c]||(s[$c]=!0,Ap("selectionchange",!1,s))}}function k_(a,s,l,f){switch(tw(s)){case 2:var p=mC;break;case 8:p=gC;break;default:p=Fp}l=p.bind(null,s,l,a),p=void 0,!Qd||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),f?p!==void 0?a.addEventListener(s,l,{capture:!0,passive:p}):a.addEventListener(s,l,!0):p!==void 0?a.addEventListener(s,l,{passive:p}):a.addEventListener(s,l,!1)}function kp(a,s,l,f,p){var g=f;if((s&1)===0&&(s&2)===0&&f!==null)e:for(;;){if(f===null)return;var E=f.tag;if(E===3||E===4){var A=f.stateNode.containerInfo;if(A===p)break;if(E===4)for(E=f.return;E!==null;){var P=E.tag;if((P===3||P===4)&&E.stateNode.containerInfo===p)return;E=E.return}for(;A!==null;){if(E=is(A),E===null)return;if(P=E.tag,P===5||P===6||P===26||P===27){f=g=E;continue e}A=A.parentNode}}f=f.return}Db(function(){var Y=g,ae=Xd(l),se=[];e:{var K=dv.get(a);if(K!==void 0){var Q=Zu,Re=a;switch(a){case"keypress":if(Gu(l)===0)break e;case"keydown":case"keyup":Q=MO;break;case"focusin":Re="focus",Q=nh;break;case"focusout":Re="blur",Q=nh;break;case"beforeblur":case"afterblur":Q=nh;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Bb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=xO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=UO;break;case lv:case uv:case cv:Q=RO;break;case fv:Q=BO;break;case"scroll":case"scrollend":Q=SO;break;case"wheel":Q=qO;break;case"copy":case"cut":case"paste":Q=AO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=qb;break;case"toggle":case"beforetoggle":Q=GO}var xe=(s&4)!==0,dt=!xe&&(a==="scroll"||a==="scrollend"),q=xe?K!==null?K+"Capture":null:K;xe=[];for(var z=Y,V;z!==null;){var ie=z;if(V=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||V===null||q===null||(ie=jo(z,q),ie!=null&&xe.push(gl(z,ie,V))),dt)break;z=z.return}0<xe.length&&(K=new Q(K,Re,null,l,ae),se.push({event:K,listeners:xe}))}}if((s&7)===0){e:{if(K=a==="mouseover"||a==="pointerover",Q=a==="mouseout"||a==="pointerout",K&&l!==Kd&&(Re=l.relatedTarget||l.fromElement)&&(is(Re)||Re[as]))break e;if((Q||K)&&(K=ae.window===ae?ae:(K=ae.ownerDocument)?K.defaultView||K.parentWindow:window,Q?(Re=l.relatedTarget||l.toElement,Q=Y,Re=Re?is(Re):null,Re!==null&&(dt=o(Re),xe=Re.tag,Re!==dt||xe!==5&&xe!==27&&xe!==6)&&(Re=null)):(Q=null,Re=Y),Q!==Re)){if(xe=Bb,ie="onMouseLeave",q="onMouseEnter",z="mouse",(a==="pointerout"||a==="pointerover")&&(xe=qb,ie="onPointerLeave",q="onPointerEnter",z="pointer"),dt=Q==null?K:$o(Q),V=Re==null?K:$o(Re),K=new xe(ie,z+"leave",Q,l,ae),K.target=dt,K.relatedTarget=V,ie=null,is(ae)===Y&&(xe=new xe(q,z+"enter",Re,l,ae),xe.target=V,xe.relatedTarget=dt,ie=xe),dt=ie,Q&&Re)t:{for(xe=Q,q=Re,z=0,V=xe;V;V=Us(V))z++;for(V=0,ie=q;ie;ie=Us(ie))V++;for(;0<z-V;)xe=Us(xe),z--;for(;0<V-z;)q=Us(q),V--;for(;z--;){if(xe===q||q!==null&&xe===q.alternate)break t;xe=Us(xe),q=Us(q)}xe=null}else xe=null;Q!==null&&I_(se,K,Q,xe,!1),Re!==null&&dt!==null&&I_(se,dt,Re,xe,!0)}}e:{if(K=Y?$o(Y):window,Q=K.nodeName&&K.nodeName.toLowerCase(),Q==="select"||Q==="input"&&K.type==="file")var pe=Wb;else if(Kb(K))if(Qb)pe=tR;else{pe=JO;var ze=QO}else Q=K.nodeName,!Q||Q.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?Y&&Yd(Y.elementType)&&(pe=Wb):pe=eR;if(pe&&(pe=pe(a,Y))){Xb(se,pe,l,ae);break e}ze&&ze(a,K,Y),a==="focusout"&&Y&&K.type==="number"&&Y.memoizedProps.value!=null&&Zd(K,"number",K.value)}switch(ze=Y?$o(Y):window,a){case"focusin":(Kb(ze)||ze.contentEditable==="true")&&(ms=ze,lh=Y,Ho=null);break;case"focusout":Ho=lh=ms=null;break;case"mousedown":uh=!0;break;case"contextmenu":case"mouseup":case"dragend":uh=!1,sv(se,l,ae);break;case"selectionchange":if(rR)break;case"keydown":case"keyup":sv(se,l,ae)}var we;if(ah)e:{switch(a){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else ps?Zb(a,l)&&(Te="onCompositionEnd"):a==="keydown"&&l.keyCode===229&&(Te="onCompositionStart");Te&&(Fb&&l.locale!=="ko"&&(ps||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&ps&&(we=Ub()):($a=ae,Jd="value"in $a?$a.value:$a.textContent,ps=!0)),ze=jc(Y,Te),0<ze.length&&(Te=new Hb(Te,a,null,l,ae),se.push({event:Te,listeners:ze}),we?Te.data=we:(we=Yb(l),we!==null&&(Te.data=we)))),(we=ZO?YO(a,l):KO(a,l))&&(Te=jc(Y,"onBeforeInput"),0<Te.length&&(ze=new Hb("onBeforeInput","beforeinput",null,l,ae),se.push({event:ze,listeners:Te}),ze.data=we)),UR(se,a,Y,l,ae)}N_(se,s)})}function gl(a,s,l){return{instance:a,listener:s,currentTarget:l}}function jc(a,s){for(var l=s+"Capture",f=[];a!==null;){var p=a,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=jo(a,l),p!=null&&f.unshift(gl(a,p,g)),p=jo(a,s),p!=null&&f.push(gl(a,p,g))),a.tag===3)return f;a=a.return}return[]}function Us(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function I_(a,s,l,f,p){for(var g=s._reactName,E=[];l!==null&&l!==f;){var A=l,P=A.alternate,Y=A.stateNode;if(A=A.tag,P!==null&&P===f)break;A!==5&&A!==26&&A!==27||Y===null||(P=Y,p?(Y=jo(l,g),Y!=null&&E.unshift(gl(l,Y,P))):p||(Y=jo(l,g),Y!=null&&E.push(gl(l,Y,P)))),l=l.return}E.length!==0&&a.push({event:s,listeners:E})}var qR=/\r\n?/g,FR=/\u0000|\uFFFD/g;function $_(a){return(typeof a=="string"?a:""+a).replace(qR,`
`).replace(FR,"")}function j_(a,s){return s=$_(s),$_(a)===s}function Pc(){}function ft(a,s,l,f,p,g){switch(l){case"children":typeof f=="string"?s==="body"||s==="textarea"&&f===""||fs(a,f):(typeof f=="number"||typeof f=="bigint")&&s!=="body"&&fs(a,""+f);break;case"className":zu(a,"class",f);break;case"tabIndex":zu(a,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":zu(a,l,f);break;case"style":Mb(a,f,g);break;case"data":if(s!=="object"){zu(a,"data",f);break}case"src":case"href":if(f===""&&(s!=="a"||l!=="href")){a.removeAttribute(l);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(l);break}f=qu(""+f),a.setAttribute(l,f);break;case"action":case"formAction":if(typeof f=="function"){a.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(l==="formAction"?(s!=="input"&&ft(a,s,"name",p.name,p,null),ft(a,s,"formEncType",p.formEncType,p,null),ft(a,s,"formMethod",p.formMethod,p,null),ft(a,s,"formTarget",p.formTarget,p,null)):(ft(a,s,"encType",p.encType,p,null),ft(a,s,"method",p.method,p,null),ft(a,s,"target",p.target,p,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(l);break}f=qu(""+f),a.setAttribute(l,f);break;case"onClick":f!=null&&(a.onclick=Pc);break;case"onScroll":f!=null&&Fe("scroll",a);break;case"onScrollEnd":f!=null&&Fe("scrollend",a);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(l=f.__html,l!=null){if(p.children!=null)throw Error(r(60));a.innerHTML=l}}break;case"multiple":a.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":a.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){a.removeAttribute("xlink:href");break}l=qu(""+f),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(l,""+f):a.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(l,""):a.removeAttribute(l);break;case"capture":case"download":f===!0?a.setAttribute(l,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(l,f):a.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?a.setAttribute(l,f):a.removeAttribute(l);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?a.removeAttribute(l):a.setAttribute(l,f);break;case"popover":Fe("beforetoggle",a),Fe("toggle",a),Uu(a,"popover",f);break;case"xlinkActuate":na(a,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":na(a,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":na(a,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":na(a,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":na(a,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":na(a,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":na(a,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":na(a,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":na(a,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Uu(a,"is",f);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=_O.get(l)||l,Uu(a,l,f))}}function Ip(a,s,l,f,p,g){switch(l){case"style":Mb(a,f,g);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(l=f.__html,l!=null){if(p.children!=null)throw Error(r(60));a.innerHTML=l}}break;case"children":typeof f=="string"?fs(a,f):(typeof f=="number"||typeof f=="bigint")&&fs(a,""+f);break;case"onScroll":f!=null&&Fe("scroll",a);break;case"onScrollEnd":f!=null&&Fe("scrollend",a);break;case"onClick":f!=null&&(a.onclick=Pc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Tb.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),s=l.slice(2,p?l.length-7:void 0),g=a[kn]||null,g=g!=null?g[l]:null,typeof g=="function"&&a.removeEventListener(s,g,p),typeof f=="function")){typeof g!="function"&&g!==null&&(l in a?a[l]=null:a.hasAttribute(l)&&a.removeAttribute(l)),a.addEventListener(s,f,p);break e}l in a?a[l]=f:f===!0?a.setAttribute(l,""):Uu(a,l,f)}}}function dn(a,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fe("error",a),Fe("load",a);var f=!1,p=!1,g;for(g in l)if(l.hasOwnProperty(g)){var E=l[g];if(E!=null)switch(g){case"src":f=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ft(a,s,g,E,l,null)}}p&&ft(a,s,"srcSet",l.srcSet,l,null),f&&ft(a,s,"src",l.src,l,null);return;case"input":Fe("invalid",a);var A=g=E=p=null,P=null,Y=null;for(f in l)if(l.hasOwnProperty(f)){var ae=l[f];if(ae!=null)switch(f){case"name":p=ae;break;case"type":E=ae;break;case"checked":P=ae;break;case"defaultChecked":Y=ae;break;case"value":g=ae;break;case"defaultValue":A=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,s));break;default:ft(a,s,f,ae,l,null)}}Ib(a,g,A,P,Y,E,p,!1),Bu(a);return;case"select":Fe("invalid",a),f=E=g=null;for(p in l)if(l.hasOwnProperty(p)&&(A=l[p],A!=null))switch(p){case"value":g=A;break;case"defaultValue":E=A;break;case"multiple":f=A;default:ft(a,s,p,A,l,null)}s=g,l=E,a.multiple=!!f,s!=null?cs(a,!!f,s,!1):l!=null&&cs(a,!!f,l,!0);return;case"textarea":Fe("invalid",a),g=p=f=null;for(E in l)if(l.hasOwnProperty(E)&&(A=l[E],A!=null))switch(E){case"value":f=A;break;case"defaultValue":p=A;break;case"children":g=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:ft(a,s,E,A,l,null)}jb(a,f,p,g),Bu(a);return;case"option":for(P in l)if(l.hasOwnProperty(P)&&(f=l[P],f!=null))switch(P){case"selected":a.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:ft(a,s,P,f,l,null)}return;case"dialog":Fe("beforetoggle",a),Fe("toggle",a),Fe("cancel",a),Fe("close",a);break;case"iframe":case"object":Fe("load",a);break;case"video":case"audio":for(f=0;f<ml.length;f++)Fe(ml[f],a);break;case"image":Fe("error",a),Fe("load",a);break;case"details":Fe("toggle",a);break;case"embed":case"source":case"link":Fe("error",a),Fe("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in l)if(l.hasOwnProperty(Y)&&(f=l[Y],f!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ft(a,s,Y,f,l,null)}return;default:if(Yd(s)){for(ae in l)l.hasOwnProperty(ae)&&(f=l[ae],f!==void 0&&Ip(a,s,ae,f,l,void 0));return}}for(A in l)l.hasOwnProperty(A)&&(f=l[A],f!=null&&ft(a,s,A,f,l,null))}function GR(a,s,l,f){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,E=null,A=null,P=null,Y=null,ae=null;for(Q in l){var se=l[Q];if(l.hasOwnProperty(Q)&&se!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":P=se;default:f.hasOwnProperty(Q)||ft(a,s,Q,null,f,se)}}for(var K in f){var Q=f[K];if(se=l[K],f.hasOwnProperty(K)&&(Q!=null||se!=null))switch(K){case"type":g=Q;break;case"name":p=Q;break;case"checked":Y=Q;break;case"defaultChecked":ae=Q;break;case"value":E=Q;break;case"defaultValue":A=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,s));break;default:Q!==se&&ft(a,s,K,Q,f,se)}}Vd(a,E,A,P,Y,ae,g,p);return;case"select":Q=E=A=K=null;for(g in l)if(P=l[g],l.hasOwnProperty(g)&&P!=null)switch(g){case"value":break;case"multiple":Q=P;default:f.hasOwnProperty(g)||ft(a,s,g,null,f,P)}for(p in f)if(g=f[p],P=l[p],f.hasOwnProperty(p)&&(g!=null||P!=null))switch(p){case"value":K=g;break;case"defaultValue":A=g;break;case"multiple":E=g;default:g!==P&&ft(a,s,p,g,f,P)}s=A,l=E,f=Q,K!=null?cs(a,!!l,K,!1):!!f!=!!l&&(s!=null?cs(a,!!l,s,!0):cs(a,!!l,l?[]:"",!1));return;case"textarea":Q=K=null;for(A in l)if(p=l[A],l.hasOwnProperty(A)&&p!=null&&!f.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:ft(a,s,A,null,f,p)}for(E in f)if(p=f[E],g=l[E],f.hasOwnProperty(E)&&(p!=null||g!=null))switch(E){case"value":K=p;break;case"defaultValue":Q=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==g&&ft(a,s,E,p,f,g)}$b(a,K,Q);return;case"option":for(var Re in l)if(K=l[Re],l.hasOwnProperty(Re)&&K!=null&&!f.hasOwnProperty(Re))switch(Re){case"selected":a.selected=!1;break;default:ft(a,s,Re,null,f,K)}for(P in f)if(K=f[P],Q=l[P],f.hasOwnProperty(P)&&K!==Q&&(K!=null||Q!=null))switch(P){case"selected":a.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:ft(a,s,P,K,f,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in l)K=l[xe],l.hasOwnProperty(xe)&&K!=null&&!f.hasOwnProperty(xe)&&ft(a,s,xe,null,f,K);for(Y in f)if(K=f[Y],Q=l[Y],f.hasOwnProperty(Y)&&K!==Q&&(K!=null||Q!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,s));break;default:ft(a,s,Y,K,f,Q)}return;default:if(Yd(s)){for(var dt in l)K=l[dt],l.hasOwnProperty(dt)&&K!==void 0&&!f.hasOwnProperty(dt)&&Ip(a,s,dt,void 0,f,K);for(ae in f)K=f[ae],Q=l[ae],!f.hasOwnProperty(ae)||K===Q||K===void 0&&Q===void 0||Ip(a,s,ae,K,f,Q);return}}for(var q in l)K=l[q],l.hasOwnProperty(q)&&K!=null&&!f.hasOwnProperty(q)&&ft(a,s,q,null,f,K);for(se in f)K=f[se],Q=l[se],!f.hasOwnProperty(se)||K===Q||K==null&&Q==null||ft(a,s,se,K,f,Q)}var $p=null,jp=null;function Mc(a){return a.nodeType===9?a:a.ownerDocument}function P_(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function M_(a,s){if(a===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&s==="foreignObject"?0:a}function Pp(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Mp=null;function VR(){var a=window.event;return a&&a.type==="popstate"?a===Mp?!1:(Mp=a,!0):(Mp=null,!1)}var L_=typeof setTimeout=="function"?setTimeout:void 0,ZR=typeof clearTimeout=="function"?clearTimeout:void 0,D_=typeof Promise=="function"?Promise:void 0,YR=typeof queueMicrotask=="function"?queueMicrotask:typeof D_<"u"?function(a){return D_.resolve(null).then(a).catch(KR)}:L_;function KR(a){setTimeout(function(){throw a})}function Ka(a){return a==="head"}function U_(a,s){var l=s,f=0,p=0;do{var g=l.nextSibling;if(a.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"){if(0<f&&8>f){l=f;var E=a.ownerDocument;if(l&1&&yl(E.documentElement),l&2&&yl(E.body),l&4)for(l=E.head,yl(l),E=l.firstChild;E;){var A=E.nextSibling,P=E.nodeName;E[Io]||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&E.rel.toLowerCase()==="stylesheet"||l.removeChild(E),E=A}}if(p===0){a.removeChild(g),Tl(s);return}p--}else l==="$"||l==="$?"||l==="$!"?p++:f=l.charCodeAt(0)-48;else f=0;l=g}while(l);Tl(s)}function Lp(a){var s=a.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Lp(l),Hd(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}a.removeChild(l)}}function XR(a,s,l,f){for(;a.nodeType===1;){var p=l;if(a.nodeName.toLowerCase()!==s.toLowerCase()){if(!f&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(f){if(!a[Io])switch(s){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(g=a.getAttribute("rel"),g==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(g!==p.rel||a.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||a.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||a.getAttribute("title")!==(p.title==null?null:p.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(g=a.getAttribute("src"),(g!==(p.src==null?null:p.src)||a.getAttribute("type")!==(p.type==null?null:p.type)||a.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(s==="input"&&a.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&a.getAttribute("name")===g)return a}else return a;if(a=Or(a.nextSibling),a===null)break}return null}function WR(a,s,l){if(s==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!l||(a=Or(a.nextSibling),a===null))return null;return a}function Dp(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function QR(a,s){var l=a.ownerDocument;if(a.data!=="$?"||l.readyState==="complete")s();else{var f=function(){s(),l.removeEventListener("DOMContentLoaded",f)};l.addEventListener("DOMContentLoaded",f),a._reactRetry=f}}function Or(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return a}var Up=null;function z_(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var l=a.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return a;s--}else l==="/$"&&s++}a=a.previousSibling}return null}function B_(a,s,l){switch(s=Mc(l),a){case"html":if(a=s.documentElement,!a)throw Error(r(452));return a;case"head":if(a=s.head,!a)throw Error(r(453));return a;case"body":if(a=s.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function yl(a){for(var s=a.attributes;s.length;)a.removeAttributeNode(s[0]);Hd(a)}var hr=new Map,H_=new Set;function Lc(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var ga=M.d;M.d={f:JR,r:eC,D:tC,C:nC,L:rC,m:aC,X:sC,S:iC,M:oC};function JR(){var a=ga.f(),s=Cc();return a||s}function eC(a){var s=ss(a);s!==null&&s.tag===5&&s.type==="form"?l0(s):ga.r(a)}var zs=typeof document>"u"?null:document;function q_(a,s,l){var f=zs;if(f&&typeof s=="string"&&s){var p=sr(s);p='link[rel="'+a+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),H_.has(p)||(H_.add(p),a={rel:a,crossOrigin:l,href:s},f.querySelector(p)===null&&(s=f.createElement("link"),dn(s,"link",a),en(s),f.head.appendChild(s)))}}function tC(a){ga.D(a),q_("dns-prefetch",a,null)}function nC(a,s){ga.C(a,s),q_("preconnect",a,s)}function rC(a,s,l){ga.L(a,s,l);var f=zs;if(f&&a&&s){var p='link[rel="preload"][as="'+sr(s)+'"]';s==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+sr(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+sr(l.imageSizes)+'"]')):p+='[href="'+sr(a)+'"]';var g=p;switch(s){case"style":g=Bs(a);break;case"script":g=Hs(a)}hr.has(g)||(a=m({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:a,as:s},l),hr.set(g,a),f.querySelector(p)!==null||s==="style"&&f.querySelector(bl(g))||s==="script"&&f.querySelector(vl(g))||(s=f.createElement("link"),dn(s,"link",a),en(s),f.head.appendChild(s)))}}function aC(a,s){ga.m(a,s);var l=zs;if(l&&a){var f=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+sr(f)+'"][href="'+sr(a)+'"]',g=p;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Hs(a)}if(!hr.has(g)&&(a=m({rel:"modulepreload",href:a},s),hr.set(g,a),l.querySelector(p)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(vl(g)))return}f=l.createElement("link"),dn(f,"link",a),en(f),l.head.appendChild(f)}}}function iC(a,s,l){ga.S(a,s,l);var f=zs;if(f&&a){var p=os(f).hoistableStyles,g=Bs(a);s=s||"default";var E=p.get(g);if(!E){var A={loading:0,preload:null};if(E=f.querySelector(bl(g)))A.loading=5;else{a=m({rel:"stylesheet",href:a,"data-precedence":s},l),(l=hr.get(g))&&zp(a,l);var P=E=f.createElement("link");en(P),dn(P,"link",a),P._p=new Promise(function(Y,ae){P.onload=Y,P.onerror=ae}),P.addEventListener("load",function(){A.loading|=1}),P.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Dc(E,s,f)}E={type:"stylesheet",instance:E,count:1,state:A},p.set(g,E)}}}function sC(a,s){ga.X(a,s);var l=zs;if(l&&a){var f=os(l).hoistableScripts,p=Hs(a),g=f.get(p);g||(g=l.querySelector(vl(p)),g||(a=m({src:a,async:!0},s),(s=hr.get(p))&&Bp(a,s),g=l.createElement("script"),en(g),dn(g,"link",a),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},f.set(p,g))}}function oC(a,s){ga.M(a,s);var l=zs;if(l&&a){var f=os(l).hoistableScripts,p=Hs(a),g=f.get(p);g||(g=l.querySelector(vl(p)),g||(a=m({src:a,async:!0,type:"module"},s),(s=hr.get(p))&&Bp(a,s),g=l.createElement("script"),en(g),dn(g,"link",a),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},f.set(p,g))}}function F_(a,s,l,f){var p=(p=fe.current)?Lc(p):null;if(!p)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=Bs(l.href),l=os(p).hoistableStyles,f=l.get(s),f||(f={type:"style",instance:null,count:0,state:null},l.set(s,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){a=Bs(l.href);var g=os(p).hoistableStyles,E=g.get(a);if(E||(p=p.ownerDocument||p,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(a,E),(g=p.querySelector(bl(a)))&&!g._p&&(E.instance=g,E.state.loading=5),hr.has(a)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},hr.set(a,l),g||lC(p,a,l,E.state))),s&&f===null)throw Error(r(528,""));return E}if(s&&f!==null)throw Error(r(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Hs(l),l=os(p).hoistableScripts,f=l.get(s),f||(f={type:"script",instance:null,count:0,state:null},l.set(s,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Bs(a){return'href="'+sr(a)+'"'}function bl(a){return'link[rel="stylesheet"]['+a+"]"}function G_(a){return m({},a,{"data-precedence":a.precedence,precedence:null})}function lC(a,s,l,f){a.querySelector('link[rel="preload"][as="style"]['+s+"]")?f.loading=1:(s=a.createElement("link"),f.preload=s,s.addEventListener("load",function(){return f.loading|=1}),s.addEventListener("error",function(){return f.loading|=2}),dn(s,"link",l),en(s),a.head.appendChild(s))}function Hs(a){return'[src="'+sr(a)+'"]'}function vl(a){return"script[async]"+a}function V_(a,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var f=a.querySelector('style[data-href~="'+sr(l.href)+'"]');if(f)return s.instance=f,en(f),f;var p=m({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return f=(a.ownerDocument||a).createElement("style"),en(f),dn(f,"style",p),Dc(f,l.precedence,a),s.instance=f;case"stylesheet":p=Bs(l.href);var g=a.querySelector(bl(p));if(g)return s.state.loading|=4,s.instance=g,en(g),g;f=G_(l),(p=hr.get(p))&&zp(f,p),g=(a.ownerDocument||a).createElement("link"),en(g);var E=g;return E._p=new Promise(function(A,P){E.onload=A,E.onerror=P}),dn(g,"link",f),s.state.loading|=4,Dc(g,l.precedence,a),s.instance=g;case"script":return g=Hs(l.src),(p=a.querySelector(vl(g)))?(s.instance=p,en(p),p):(f=l,(p=hr.get(g))&&(f=m({},l),Bp(f,p)),a=a.ownerDocument||a,p=a.createElement("script"),en(p),dn(p,"link",f),a.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(f=s.instance,s.state.loading|=4,Dc(f,l.precedence,a));return s.instance}function Dc(a,s,l){for(var f=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=f.length?f[f.length-1]:null,g=p,E=0;E<f.length;E++){var A=f[E];if(A.dataset.precedence===s)g=A;else if(g!==p)break}g?g.parentNode.insertBefore(a,g.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(a,s.firstChild))}function zp(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.title==null&&(a.title=s.title)}function Bp(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.integrity==null&&(a.integrity=s.integrity)}var Uc=null;function Z_(a,s,l){if(Uc===null){var f=new Map,p=Uc=new Map;p.set(l,f)}else p=Uc,f=p.get(l),f||(f=new Map,p.set(l,f));if(f.has(a))return f;for(f.set(a,null),l=l.getElementsByTagName(a),p=0;p<l.length;p++){var g=l[p];if(!(g[Io]||g[bn]||a==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var E=g.getAttribute(s)||"";E=a+E;var A=f.get(E);A?A.push(g):f.set(E,[g])}}return f}function Y_(a,s,l){a=a.ownerDocument||a,a.head.insertBefore(l,s==="title"?a.querySelector("head > title"):null)}function uC(a,s,l){if(l===1||s.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return a=s.disabled,typeof s.precedence=="string"&&a==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function K_(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var _l=null;function cC(){}function fC(a,s,l){if(_l===null)throw Error(r(475));var f=_l;if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var p=Bs(l.href),g=a.querySelector(bl(p));if(g){a=g._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(f.count++,f=zc.bind(f),a.then(f,f)),s.state.loading|=4,s.instance=g,en(g);return}g=a.ownerDocument||a,l=G_(l),(p=hr.get(p))&&zp(l,p),g=g.createElement("link"),en(g);var E=g;E._p=new Promise(function(A,P){E.onload=A,E.onerror=P}),dn(g,"link",l),s.instance=g}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(s,a),(a=s.state.preload)&&(s.state.loading&3)===0&&(f.count++,s=zc.bind(f),a.addEventListener("load",s),a.addEventListener("error",s))}}function dC(){if(_l===null)throw Error(r(475));var a=_l;return a.stylesheets&&a.count===0&&Hp(a,a.stylesheets),0<a.count?function(s){var l=setTimeout(function(){if(a.stylesheets&&Hp(a,a.stylesheets),a.unsuspend){var f=a.unsuspend;a.unsuspend=null,f()}},6e4);return a.unsuspend=s,function(){a.unsuspend=null,clearTimeout(l)}}:null}function zc(){if(this.count--,this.count===0){if(this.stylesheets)Hp(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Bc=null;function Hp(a,s){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Bc=new Map,s.forEach(hC,a),Bc=null,zc.call(a))}function hC(a,s){if(!(s.state.loading&4)){var l=Bc.get(a);if(l)var f=l.get(null);else{l=new Map,Bc.set(a,l);for(var p=a.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var E=p[g];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(l.set(E.dataset.precedence,E),f=E)}f&&l.set(null,f)}p=s.instance,E=p.getAttribute("data-precedence"),g=l.get(E)||f,g===f&&l.set(null,p),l.set(E,p),this.count++,f=zc.bind(this),p.addEventListener("load",f),p.addEventListener("error",f),g?g.parentNode.insertBefore(p,g.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(p,a.firstChild)),s.state.loading|=4}}var wl={$$typeof:x,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function pC(a,s,l,f,p,g,E,A){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=No(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=No(0),this.hiddenUpdates=No(null),this.identifierPrefix=f,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function X_(a,s,l,f,p,g,E,A,P,Y,ae,se){return a=new pC(a,s,l,E,A,P,Y,se),s=1,g===!0&&(s|=24),g=Vn(3,null,null,s),a.current=g,g.stateNode=a,s=Eh(),s.refCount++,a.pooledCache=s,s.refCount++,g.memoizedState={element:f,isDehydrated:l,cache:s},Rh(g),a}function W_(a){return a?(a=vs,a):vs}function Q_(a,s,l,f,p,g){p=W_(p),f.context===null?f.context=p:f.pendingContext=p,f=Ma(s),f.payload={element:l},g=g===void 0?null:g,g!==null&&(f.callback=g),l=La(a,f,s),l!==null&&(Wn(l,a,s),Wo(l,a,s))}function J_(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var l=a.retryLane;a.retryLane=l!==0&&l<s?l:s}}function qp(a,s){J_(a,s),(a=a.alternate)&&J_(a,s)}function ew(a){if(a.tag===13){var s=bs(a,67108864);s!==null&&Wn(s,a,67108864),qp(a,67108864)}}var Hc=!0;function mC(a,s,l,f){var p=I.T;I.T=null;var g=M.p;try{M.p=2,Fp(a,s,l,f)}finally{M.p=g,I.T=p}}function gC(a,s,l,f){var p=I.T;I.T=null;var g=M.p;try{M.p=8,Fp(a,s,l,f)}finally{M.p=g,I.T=p}}function Fp(a,s,l,f){if(Hc){var p=Gp(f);if(p===null)kp(a,s,f,qc,l),nw(a,f);else if(bC(p,a,s,l,f))f.stopPropagation();else if(nw(a,f),s&4&&-1<yC.indexOf(a)){for(;p!==null;){var g=ss(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var E=_e(g.pendingLanes);if(E!==0){var A=g;for(A.pendingLanes|=2,A.entangledLanes|=2;E;){var P=1<<31-Et(E);A.entanglements[1]|=P,E&=~P}zr(g),(ot&6)===0&&(Oc=Ge()+500,pl(0))}}break;case 13:A=bs(g,2),A!==null&&Wn(A,g,2),Cc(),qp(g,2)}if(g=Gp(f),g===null&&kp(a,s,f,qc,l),g===p)break;p=g}p!==null&&f.stopPropagation()}else kp(a,s,f,null,l)}}function Gp(a){return a=Xd(a),Vp(a)}var qc=null;function Vp(a){if(qc=null,a=is(a),a!==null){var s=o(a);if(s===null)a=null;else{var l=s.tag;if(l===13){if(a=u(s),a!==null)return a;a=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null)}}return qc=a,null}function tw(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bt()){case Zt:return 2;case st:return 8;case Xe:case ve:return 32;case un:return 268435456;default:return 32}default:return 32}}var Zp=!1,Xa=null,Wa=null,Qa=null,Sl=new Map,El=new Map,Ja=[],yC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function nw(a,s){switch(a){case"focusin":case"focusout":Xa=null;break;case"dragenter":case"dragleave":Wa=null;break;case"mouseover":case"mouseout":Qa=null;break;case"pointerover":case"pointerout":Sl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":El.delete(s.pointerId)}}function xl(a,s,l,f,p,g){return a===null||a.nativeEvent!==g?(a={blockedOn:s,domEventName:l,eventSystemFlags:f,nativeEvent:g,targetContainers:[p]},s!==null&&(s=ss(s),s!==null&&ew(s)),a):(a.eventSystemFlags|=f,s=a.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),a)}function bC(a,s,l,f,p){switch(s){case"focusin":return Xa=xl(Xa,a,s,l,f,p),!0;case"dragenter":return Wa=xl(Wa,a,s,l,f,p),!0;case"mouseover":return Qa=xl(Qa,a,s,l,f,p),!0;case"pointerover":var g=p.pointerId;return Sl.set(g,xl(Sl.get(g)||null,a,s,l,f,p)),!0;case"gotpointercapture":return g=p.pointerId,El.set(g,xl(El.get(g)||null,a,s,l,f,p)),!0}return!1}function rw(a){var s=is(a.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=u(l),s!==null){a.blockedOn=s,Du(a.priority,function(){if(l.tag===13){var f=Xn();f=ko(f);var p=bs(l,f);p!==null&&Wn(p,l,f),qp(l,f)}});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){a.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Fc(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var l=Gp(a.nativeEvent);if(l===null){l=a.nativeEvent;var f=new l.constructor(l.type,l);Kd=f,l.target.dispatchEvent(f),Kd=null}else return s=ss(l),s!==null&&ew(s),a.blockedOn=l,!1;s.shift()}return!0}function aw(a,s,l){Fc(a)&&l.delete(s)}function vC(){Zp=!1,Xa!==null&&Fc(Xa)&&(Xa=null),Wa!==null&&Fc(Wa)&&(Wa=null),Qa!==null&&Fc(Qa)&&(Qa=null),Sl.forEach(aw),El.forEach(aw)}function Gc(a,s){a.blockedOn===s&&(a.blockedOn=null,Zp||(Zp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,vC)))}var Vc=null;function iw(a){Vc!==a&&(Vc=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Vc===a&&(Vc=null);for(var s=0;s<a.length;s+=3){var l=a[s],f=a[s+1],p=a[s+2];if(typeof f!="function"){if(Vp(f||l)===null)continue;break}var g=ss(l);g!==null&&(a.splice(s,3),s-=3,Vh(g,{pending:!0,data:p,method:l.method,action:f},f,p))}}))}function Tl(a){function s(P){return Gc(P,a)}Xa!==null&&Gc(Xa,a),Wa!==null&&Gc(Wa,a),Qa!==null&&Gc(Qa,a),Sl.forEach(s),El.forEach(s);for(var l=0;l<Ja.length;l++){var f=Ja[l];f.blockedOn===a&&(f.blockedOn=null)}for(;0<Ja.length&&(l=Ja[0],l.blockedOn===null);)rw(l),l.blockedOn===null&&Ja.shift();if(l=(a.ownerDocument||a).$$reactFormReplay,l!=null)for(f=0;f<l.length;f+=3){var p=l[f],g=l[f+1],E=p[kn]||null;if(typeof g=="function")E||iw(l);else if(E){var A=null;if(g&&g.hasAttribute("formAction")){if(p=g,E=g[kn]||null)A=E.formAction;else if(Vp(p)!==null)continue}else A=E.action;typeof A=="function"?l[f+1]=A:(l.splice(f,3),f-=3),iw(l)}}}function Yp(a){this._internalRoot=a}Zc.prototype.render=Yp.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(r(409));var l=s.current,f=Xn();Q_(l,f,a,s,null,null)},Zc.prototype.unmount=Yp.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;Q_(a.current,2,null,a,null,null),Cc(),s[as]=null}};function Zc(a){this._internalRoot=a}Zc.prototype.unstable_scheduleHydration=function(a){if(a){var s=Nn();a={blockedOn:null,target:a,priority:s};for(var l=0;l<Ja.length&&s!==0&&s<Ja[l].priority;l++);Ja.splice(l,0,a),l===0&&rw(a)}};var sw=e.version;if(sw!=="19.1.0")throw Error(r(527,sw,"19.1.0"));M.findDOMNode=function(a){var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=d(s),a=a!==null?h(a):null,a=a===null?null:a.stateNode,a};var _C={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yc.isDisabled&&Yc.supportsFiber)try{yn=Yc.inject(_C),St=Yc}catch{}}return Rl.createRoot=function(a,s){if(!i(a))throw Error(r(299));var l=!1,f="",p=S0,g=E0,E=x0,A=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(A=s.unstable_transitionCallbacks)),s=X_(a,1,!1,null,null,l,f,p,g,E,A,null),a[as]=s.current,Np(a),new Yp(s)},Rl.hydrateRoot=function(a,s,l){if(!i(a))throw Error(r(299));var f=!1,p="",g=S0,E=E0,A=x0,P=null,Y=null;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(E=l.onCaughtError),l.onRecoverableError!==void 0&&(A=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(P=l.unstable_transitionCallbacks),l.formState!==void 0&&(Y=l.formState)),s=X_(a,1,!0,s,l??null,f,p,g,E,A,P,Y),s.context=W_(null),l=s.current,f=Xn(),f=ko(f),p=Ma(f),p.callback=null,La(l,p,f),l=f,s.current.lanes=l,Si(s,l),zr(s),a[as]=s.current,Np(a),new Zc(s)},Rl.version="19.1.0",Rl}var gw;function IC(){if(gw)return Wp.exports;gw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Wp.exports=kC(),Wp.exports}var $C=IC(),yw;(function(t){t.STRING="string",t.NUMBER="number",t.INTEGER="integer",t.BOOLEAN="boolean",t.ARRAY="array",t.OBJECT="object"})(yw||(yw={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bw;(function(t){t.LANGUAGE_UNSPECIFIED="language_unspecified",t.PYTHON="python"})(bw||(bw={}));var vw;(function(t){t.OUTCOME_UNSPECIFIED="outcome_unspecified",t.OUTCOME_OK="outcome_ok",t.OUTCOME_FAILED="outcome_failed",t.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(vw||(vw={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w=["user","model","function","system"];var ww;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(ww||(ww={}));var Sw;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Sw||(Sw={}));var Ew;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Ew||(Ew={}));var xw;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(xw||(xw={}));var Vl;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.OTHER="OTHER"})(Vl||(Vl={}));var Tw;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(Tw||(Tw={}));var Js;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(Js||(Js={}));var Ow;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Ow||(Ow={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class qs extends Sn{constructor(e,n){super(e),this.response=n}}class rx extends Sn{constructor(e,n,r,i){super(e),this.status=n,this.statusText=r,this.errorDetails=i}}class fi extends Sn{}class ax extends Sn{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC="https://generativelanguage.googleapis.com",PC="v1beta",MC="0.24.1",LC="genai-js";var Ki;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Ki||(Ki={}));class DC{constructor(e,n,r,i,o){this.model=e,this.task=n,this.apiKey=r,this.stream=i,this.requestOptions=o}toString(){var e,n;const r=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||PC;let o=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||jC}/${r}/${this.model}:${this.task}`;return this.stream&&(o+="?alt=sse"),o}}function UC(t){const e=[];return t!=null&&t.apiClient&&e.push(t.apiClient),e.push(`${LC}/${MC}`),e.join(" ")}async function zC(t){var e;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",UC(t.requestOptions)),n.append("x-goog-api-key",t.apiKey);let r=(e=t.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(i){throw new fi(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${i.message}`)}for(const[i,o]of r.entries()){if(i==="x-goog-api-key")throw new fi(`Cannot set reserved header name ${i}`);if(i==="x-goog-api-client")throw new fi(`Header name ${i} can only be set using the apiClient field`);n.append(i,o)}}return n}async function BC(t,e,n,r,i,o){const u=new DC(t,e,n,r,o);return{url:u.toString(),fetchOptions:Object.assign(Object.assign({},GC(o)),{method:"POST",headers:await zC(u),body:i})}}async function bu(t,e,n,r,i,o={},u=fetch){const{url:c,fetchOptions:d}=await BC(t,e,n,r,i,o);return HC(c,d,u)}async function HC(t,e,n=fetch){let r;try{r=await n(t,e)}catch(i){qC(i,t)}return r.ok||await FC(r,t),r}function qC(t,e){let n=t;throw n.name==="AbortError"?(n=new ax(`Request aborted when fetching ${e.toString()}: ${t.message}`),n.stack=t.stack):t instanceof rx||t instanceof fi||(n=new Sn(`Error fetching from ${e.toString()}: ${t.message}`),n.stack=t.stack),n}async function FC(t,e){let n="",r;try{const i=await t.json();n=i.error.message,i.error.details&&(n+=` ${JSON.stringify(i.error.details)}`,r=i.error.details)}catch{}throw new rx(`Error fetching from ${e.toString()}: [${t.status} ${t.statusText}] ${n}`,t.status,t.statusText,r)}function GC(t){const e={};if((t==null?void 0:t.signal)!==void 0||(t==null?void 0:t.timeout)>=0){const n=new AbortController;(t==null?void 0:t.timeout)>=0&&setTimeout(()=>n.abort(),t.timeout),t!=null&&t.signal&&t.signal.addEventListener("abort",()=>{n.abort()}),e.signal=n.signal}return e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),yf(t.candidates[0]))throw new qs(`${ai(t)}`,t);return VC(t)}else if(t.promptFeedback)throw new qs(`Text not available. ${ai(t)}`,t);return""},t.functionCall=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),yf(t.candidates[0]))throw new qs(`${ai(t)}`,t);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),Rw(t)[0]}else if(t.promptFeedback)throw new qs(`Function call not available. ${ai(t)}`,t)},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),yf(t.candidates[0]))throw new qs(`${ai(t)}`,t);return Rw(t)}else if(t.promptFeedback)throw new qs(`Function call not available. ${ai(t)}`,t)},t}function VC(t){var e,n,r,i;const o=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const u of(i=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)u.text&&o.push(u.text),u.executableCode&&o.push("\n```"+u.executableCode.language+`
`+u.executableCode.code+"\n```\n"),u.codeExecutionResult&&o.push("\n```\n"+u.codeExecutionResult.output+"\n```\n");return o.length>0?o.join(""):""}function Rw(t){var e,n,r,i;const o=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const u of(i=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)u.functionCall&&o.push(u.functionCall);if(o.length>0)return o}const ZC=[Vl.RECITATION,Vl.SAFETY,Vl.LANGUAGE];function yf(t){return!!t.finishReason&&ZC.includes(t.finishReason)}function ai(t){var e,n,r;let i="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)i+="Response was blocked",!((e=t.promptFeedback)===null||e===void 0)&&e.blockReason&&(i+=` due to ${t.promptFeedback.blockReason}`),!((n=t.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(i+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((r=t.candidates)===null||r===void 0)&&r[0]){const o=t.candidates[0];yf(o)&&(i+=`Candidate was blocked due to ${o.finishReason}`,o.finishMessage&&(i+=`: ${o.finishMessage}`))}return i}function ru(t){return this instanceof ru?(this.v=t,this):new ru(t)}function YC(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},u("next"),u("throw"),u("return"),i[Symbol.asyncIterator]=function(){return this},i;function u(y){r[y]&&(i[y]=function(_){return new Promise(function(v,w){o.push([y,_,v,w])>1||c(y,_)})})}function c(y,_){try{d(r[y](_))}catch(v){b(o[0][3],v)}}function d(y){y.value instanceof ru?Promise.resolve(y.value.v).then(h,m):b(o[0][2],y)}function h(y){c("next",y)}function m(y){c("throw",y)}function b(y,_){y(_),o.shift(),o.length&&c(o[0][0],o[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function KC(t){const e=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=QC(e),[r,i]=n.tee();return{stream:WC(r),response:XC(i)}}async function XC(t){const e=[],n=t.getReader();for(;;){const{done:r,value:i}=await n.read();if(r)return Sy(JC(e));e.push(i)}}function WC(t){return YC(this,arguments,function*(){const n=t.getReader();for(;;){const{value:r,done:i}=yield ru(n.read());if(i)break;yield yield ru(Sy(r))}})}function QC(t){const e=t.getReader();return new ReadableStream({start(r){let i="";return o();function o(){return e.read().then(({value:u,done:c})=>{if(c){if(i.trim()){r.error(new Sn("Failed to parse stream"));return}r.close();return}i+=u;let d=i.match(Cw),h;for(;d;){try{h=JSON.parse(d[1])}catch{r.error(new Sn(`Error parsing JSON response: "${d[1]}"`));return}r.enqueue(h),i=i.substring(d[0].length),d=i.match(Cw)}return o()}).catch(u=>{let c=u;throw c.stack=u.stack,c.name==="AbortError"?c=new ax("Request aborted when reading from the stream"):c=new Sn("Error reading from the stream"),c})}}})}function JC(t){const e=t[t.length-1],n={promptFeedback:e==null?void 0:e.promptFeedback};for(const r of t){if(r.candidates){let i=0;for(const o of r.candidates)if(n.candidates||(n.candidates=[]),n.candidates[i]||(n.candidates[i]={index:i}),n.candidates[i].citationMetadata=o.citationMetadata,n.candidates[i].groundingMetadata=o.groundingMetadata,n.candidates[i].finishReason=o.finishReason,n.candidates[i].finishMessage=o.finishMessage,n.candidates[i].safetyRatings=o.safetyRatings,o.content&&o.content.parts){n.candidates[i].content||(n.candidates[i].content={role:o.content.role||"user",parts:[]});const u={};for(const c of o.content.parts)c.text&&(u.text=c.text),c.functionCall&&(u.functionCall=c.functionCall),c.executableCode&&(u.executableCode=c.executableCode),c.codeExecutionResult&&(u.codeExecutionResult=c.codeExecutionResult),Object.keys(u).length===0&&(u.text=""),n.candidates[i].content.parts.push(u)}i++}r.usageMetadata&&(n.usageMetadata=r.usageMetadata)}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ix(t,e,n,r){const i=await bu(e,Ki.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(n),r);return KC(i)}async function sx(t,e,n,r){const o=await(await bu(e,Ki.GENERATE_CONTENT,t,!1,JSON.stringify(n),r)).json();return{response:Sy(o)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function au(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(const n of t)typeof n=="string"?e.push({text:n}):e.push(n);return eA(e)}function eA(t){const e={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,i=!1;for(const o of t)"functionResponse"in o?(n.parts.push(o),i=!0):(e.parts.push(o),r=!0);if(r&&i)throw new Sn("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!i)throw new Sn("No content is provided for sending chat message.");return r?e:n}function tA(t,e){var n;let r={model:e==null?void 0:e.model,generationConfig:e==null?void 0:e.generationConfig,safetySettings:e==null?void 0:e.safetySettings,tools:e==null?void 0:e.tools,toolConfig:e==null?void 0:e.toolConfig,systemInstruction:e==null?void 0:e.systemInstruction,cachedContent:(n=e==null?void 0:e.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const i=t.generateContentRequest!=null;if(t.contents){if(i)throw new fi("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=t.contents}else if(i)r=Object.assign(Object.assign({},r),t.generateContentRequest);else{const o=au(t);r.contents=[o]}return{generateContentRequest:r}}function Aw(t){let e;return t.contents?e=t:e={contents:[au(t)]},t.systemInstruction&&(e.systemInstruction=ox(t.systemInstruction)),e}function nA(t){return typeof t=="string"||Array.isArray(t)?{content:au(t)}:t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],rA={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function aA(t){let e=!1;for(const n of t){const{role:r,parts:i}=n;if(!e&&r!=="user")throw new Sn(`First content should be with role 'user', got ${r}`);if(!_w.includes(r))throw new Sn(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(_w)}`);if(!Array.isArray(i))throw new Sn("Content should have 'parts' property with an array of Parts");if(i.length===0)throw new Sn("Each Content should have at least one part");const o={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const c of i)for(const d of Nw)d in c&&(o[d]+=1);const u=rA[r];for(const c of Nw)if(!u.includes(c)&&o[c]>0)throw new Sn(`Content with role '${r}' can't contain '${c}' part`);e=!0}}function kw(t){var e;if(t.candidates===void 0||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const r of n.parts)if(r===void 0||Object.keys(r).length===0||r.text!==void 0&&r.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw="SILENT_ERROR";class iA{constructor(e,n,r,i={}){this.model=n,this.params=r,this._requestOptions=i,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,r!=null&&r.history&&(aA(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,n={}){var r,i,o,u,c,d;await this._sendPromise;const h=au(e),m={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(o=this.params)===null||o===void 0?void 0:o.tools,toolConfig:(u=this.params)===null||u===void 0?void 0:u.toolConfig,systemInstruction:(c=this.params)===null||c===void 0?void 0:c.systemInstruction,cachedContent:(d=this.params)===null||d===void 0?void 0:d.cachedContent,contents:[...this._history,h]},b=Object.assign(Object.assign({},this._requestOptions),n);let y;return this._sendPromise=this._sendPromise.then(()=>sx(this._apiKey,this.model,m,b)).then(_=>{var v;if(kw(_.response)){this._history.push(h);const w=Object.assign({parts:[],role:"model"},(v=_.response.candidates)===null||v===void 0?void 0:v[0].content);this._history.push(w)}else{const w=ai(_.response);w&&console.warn(`sendMessage() was unsuccessful. ${w}. Inspect response object for details.`)}y=_}).catch(_=>{throw this._sendPromise=Promise.resolve(),_}),await this._sendPromise,y}async sendMessageStream(e,n={}){var r,i,o,u,c,d;await this._sendPromise;const h=au(e),m={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(o=this.params)===null||o===void 0?void 0:o.tools,toolConfig:(u=this.params)===null||u===void 0?void 0:u.toolConfig,systemInstruction:(c=this.params)===null||c===void 0?void 0:c.systemInstruction,cachedContent:(d=this.params)===null||d===void 0?void 0:d.cachedContent,contents:[...this._history,h]},b=Object.assign(Object.assign({},this._requestOptions),n),y=ix(this._apiKey,this.model,m,b);return this._sendPromise=this._sendPromise.then(()=>y).catch(_=>{throw new Error(Iw)}).then(_=>_.response).then(_=>{if(kw(_)){this._history.push(h);const v=Object.assign({},_.candidates[0].content);v.role||(v.role="model"),this._history.push(v)}else{const v=ai(_);v&&console.warn(`sendMessageStream() was unsuccessful. ${v}. Inspect response object for details.`)}}).catch(_=>{_.message!==Iw&&console.error(_)}),y}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sA(t,e,n,r){return(await bu(e,Ki.COUNT_TOKENS,t,!1,JSON.stringify(n),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oA(t,e,n,r){return(await bu(e,Ki.EMBED_CONTENT,t,!1,JSON.stringify(n),r)).json()}async function lA(t,e,n,r){const i=n.requests.map(u=>Object.assign(Object.assign({},u),{model:e}));return(await bu(e,Ki.BATCH_EMBED_CONTENTS,t,!1,JSON.stringify({requests:i}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e,n,r={}){this.apiKey=e,this._requestOptions=r,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=ox(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(e,n={}){var r;const i=Aw(e),o=Object.assign(Object.assign({},this._requestOptions),n);return sx(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),o)}async generateContentStream(e,n={}){var r;const i=Aw(e),o=Object.assign(Object.assign({},this._requestOptions),n);return ix(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),o)}startChat(e){var n;return new iA(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},e),this._requestOptions)}async countTokens(e,n={}){const r=tA(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),i=Object.assign(Object.assign({},this._requestOptions),n);return sA(this.apiKey,this.model,r,i)}async embedContent(e,n={}){const r=nA(e),i=Object.assign(Object.assign({},this._requestOptions),n);return oA(this.apiKey,this.model,r,i)}async batchEmbedContents(e,n={}){const r=Object.assign(Object.assign({},this._requestOptions),n);return lA(this.apiKey,this.model,e,r)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e){this.apiKey=e}getGenerativeModel(e,n){if(!e.model)throw new Sn("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new $w(this.apiKey,e,n)}getGenerativeModelFromCachedContent(e,n,r){if(!e.name)throw new fi("Cached content must contain a `name` field.");if(!e.model)throw new fi("Cached content must contain a `model` field.");const i=["model","systemInstruction"];for(const u of i)if(n!=null&&n[u]&&e[u]&&(n==null?void 0:n[u])!==e[u]){if(u==="model"){const c=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,d=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(c===d)continue}throw new fi(`Different value for "${u}" specified in modelParams (${n[u]}) and cachedContent (${e[u]})`)}const o=Object.assign(Object.assign({},n),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new $w(this.apiKey,o,r)}}var tm={};const uA=()=>typeof window<"u"&&typeof window.document<"u",cA=()=>typeof globalThis=="object"&&globalThis.constructor&&globalThis.constructor.name==="DedicatedWorkerGlobalScope",fA=()=>typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&navigator.userAgent.includes("jsdom"),Ey=()=>typeof Deno<"u",dA=()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"&&!Ey(),hA=()=>{let t;return uA()?t="browser":dA()?t="node":cA()?t="webworker":fA()?t="jsdom":Ey()?t="deno":t="other",t};let nm;function pA(){return nm===void 0&&(nm={library:"langchain-js",runtime:hA()}),nm}function Vi(t){try{return typeof process<"u"?tm==null?void 0:tm[t]:Ey()?Deno==null?void 0:Deno.env.get(t):void 0}catch{return}}function Pw(t,e=lx){t=t.trim();const n=t.indexOf("```");if(n===-1)return e(t);let r=t.substring(n+3);r.startsWith(`json
`)?r=r.substring(5):r.startsWith("json")?r=r.substring(4):r.startsWith(`
`)&&(r=r.substring(1));const i=r.indexOf("```");let o=r;return i!==-1&&(o=r.substring(0,i)),e(o.trim())}function lx(t){if(typeof t>"u")return null;try{return JSON.parse(t)}catch{}let e="";const n=[];let r=!1,i=!1;for(let o of t){if(r)o==='"'&&!i?r=!1:o===`
`&&!i?o="\\n":o==="\\"?i=!i:i=!1;else if(o==='"')r=!0,i=!1;else if(o==="{")n.push("}");else if(o==="[")n.push("]");else if(o==="}"||o==="]")if(n&&n[n.length-1]===o)n.pop();else return null;e+=o}r&&(e+='"');for(let o=n.length-1;o>=0;o-=1)e+=n[o];try{return JSON.parse(e)}catch{return null}}var rm,Mw;function mA(){return Mw||(Mw=1,rm=function(t,e){if(typeof t!="string")throw new TypeError("Expected a string");return e=typeof e>"u"?"_":e,t.replace(/([a-z\d])([A-Z])/g,"$1"+e+"$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1"+e+"$2").toLowerCase()}),rm}var gA=mA();const yA=vi(gA);var Xc={exports:{}},Lw;function bA(){if(Lw)return Xc.exports;Lw=1;const t=/[\p{Lu}]/u,e=/[\p{Ll}]/u,n=/^[\p{Lu}](?![\p{Lu}])/gu,r=/([\p{Alpha}\p{N}_]|$)/u,i=/[_.\- ]+/,o=new RegExp("^"+i.source),u=new RegExp(i.source+r.source,"gu"),c=new RegExp("\\d+"+r.source,"gu"),d=(y,_,v)=>{let w=!1,S=!1,T=!1;for(let N=0;N<y.length;N++){const x=y[N];w&&t.test(x)?(y=y.slice(0,N)+"-"+y.slice(N),w=!1,T=S,S=!0,N++):S&&T&&e.test(x)?(y=y.slice(0,N-1)+"-"+y.slice(N-1),T=S,S=!1,w=!0):(w=_(x)===x&&v(x)!==x,T=S,S=v(x)===x&&_(x)!==x)}return y},h=(y,_)=>(n.lastIndex=0,y.replace(n,v=>_(v))),m=(y,_)=>(u.lastIndex=0,c.lastIndex=0,y.replace(u,(v,w)=>_(w)).replace(c,v=>_(v))),b=(y,_)=>{if(!(typeof y=="string"||Array.isArray(y)))throw new TypeError("Expected the input to be `string | string[]`");if(_={pascalCase:!1,preserveConsecutiveUppercase:!1,..._},Array.isArray(y)?y=y.map(T=>T.trim()).filter(T=>T.length).join("-"):y=y.trim(),y.length===0)return"";const v=_.locale===!1?T=>T.toLowerCase():T=>T.toLocaleLowerCase(_.locale),w=_.locale===!1?T=>T.toUpperCase():T=>T.toLocaleUpperCase(_.locale);return y.length===1?_.pascalCase?w(y):v(y):(y!==v(y)&&(y=d(y,v,w)),y=y.replace(o,""),_.preserveConsecutiveUppercase?y=h(y,v):y=v(y),_.pascalCase&&(y=w(y.charAt(0))+y.slice(1)),m(y,w))};return Xc.exports=b,Xc.exports.default=b,Xc.exports}bA();function vA(t,e){return(e==null?void 0:e[t])||yA(t)}function _A(t,e,n){const r={};for(const i in t)Object.hasOwn(t,i)&&(r[e(i,n)]=t[i]);return r}function Dw(t){return Array.isArray(t)?[...t]:{...t}}function wA(t,e){const n=Dw(t);for(const[r,i]of Object.entries(e)){const[o,...u]=r.split(".").reverse();let c=n;for(const d of u.reverse()){if(c[d]===void 0)break;c[d]=Dw(c[d]),c=c[d]}c[o]!==void 0&&(c[o]={lc:1,type:"secret",id:[i]})}return n}function ux(t){const e=Object.getPrototypeOf(t);return typeof t.lc_name=="function"&&(typeof e.lc_name!="function"||t.lc_name()!==e.lc_name())?t.lc_name():t.name}class Xi{static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,ux(this.constructor)]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}get lc_serializable_keys(){}constructor(e,...n){Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.lc_serializable_keys!==void 0?this.lc_kwargs=Object.fromEntries(Object.entries(e||{}).filter(([r])=>{var i;return(i=this.lc_serializable_keys)==null?void 0:i.includes(r)})):this.lc_kwargs=e??{}}toJSON(){if(!this.lc_serializable)return this.toJSONNotImplemented();if(this.lc_kwargs instanceof Xi||typeof this.lc_kwargs!="object"||Array.isArray(this.lc_kwargs))return this.toJSONNotImplemented();const e={},n={},r=Object.keys(this.lc_kwargs).reduce((i,o)=>(i[o]=o in this?this[o]:this.lc_kwargs[o],i),{});for(let i=Object.getPrototypeOf(this);i;i=Object.getPrototypeOf(i))Object.assign(e,Reflect.get(i,"lc_aliases",this)),Object.assign(n,Reflect.get(i,"lc_secrets",this)),Object.assign(r,Reflect.get(i,"lc_attributes",this));return Object.keys(n).forEach(i=>{let o=this,u=r;const[c,...d]=i.split(".").reverse();for(const h of d.reverse()){if(!(h in o)||o[h]===void 0)return;(!(h in u)||u[h]===void 0)&&(typeof o[h]=="object"&&o[h]!=null?u[h]={}:Array.isArray(o[h])&&(u[h]=[])),o=o[h],u=u[h]}c in o&&o[c]!==void 0&&(u[c]=u[c]||o[c])}),{lc:1,type:"constructor",id:this.lc_id,kwargs:_A(Object.keys(n).length?wA(r,n):r,vA,e)}}toJSONNotImplemented(){return{lc:1,type:"not_implemented",id:this.lc_id}}}function lo(t){return typeof t=="object"&&t!==null&&"type"in t&&typeof t.type=="string"&&"source_type"in t&&(t.source_type==="url"||t.source_type==="base64"||t.source_type==="text"||t.source_type==="id")}function SA(t){return lo(t)&&t.source_type==="url"&&"url"in t&&typeof t.url=="string"}function EA(t){return lo(t)&&t.source_type==="base64"&&"data"in t&&typeof t.data=="string"}function xA(t){if(lo(t)){if(t.source_type==="url")return{type:"image_url",image_url:{url:t.url}};if(t.source_type==="base64"){if(!t.mime_type)throw new Error("mime_type key is required for base64 data.");return{type:"image_url",image_url:{url:`data:${t.mime_type};base64,${t.data}`}}}}throw new Error("Unsupported source type. Only 'url' and 'base64' are supported.")}function am({dataUrl:t,asTypedArray:e=!1}){const n=t.match(/^data:(\w+\/\w+);base64,([A-Za-z0-9+/]+=*)$/);let r;if(n){r=n[1].toLowerCase();const i=e?Uint8Array.from(atob(n[2]),o=>o.charCodeAt(0)):n[2];return{mime_type:r,data:i}}}function TA(t,e){if(t.type==="text"){if(!e.fromStandardTextBlock)throw new Error(`Converter for ${e.providerName} does not implement \`fromStandardTextBlock\` method.`);return e.fromStandardTextBlock(t)}if(t.type==="image"){if(!e.fromStandardImageBlock)throw new Error(`Converter for ${e.providerName} does not implement \`fromStandardImageBlock\` method.`);return e.fromStandardImageBlock(t)}if(t.type==="audio"){if(!e.fromStandardAudioBlock)throw new Error(`Converter for ${e.providerName} does not implement \`fromStandardAudioBlock\` method.`);return e.fromStandardAudioBlock(t)}if(t.type==="file"){if(!e.fromStandardFileBlock)throw new Error(`Converter for ${e.providerName} does not implement \`fromStandardFileBlock\` method.`);return e.fromStandardFileBlock(t)}throw new Error(`Unable to convert content block type '${t.type}' to provider-specific format: not recognized.`)}function vu(t,e){return typeof t=="string"?t===""?e:typeof e=="string"?t+e:Array.isArray(e)&&e.some(n=>lo(n))?[{type:"text",source_type:"text",text:t},...e]:[{type:"text",text:t},...e]:Array.isArray(e)?xy(t,e)??[...t,...e]:e===""?t:Array.isArray(t)&&t.some(n=>lo(n))?[...t,{type:"file",source_type:"text",text:e}]:[...t,{type:"text",text:e}]}function OA(t,e){function n(r,i){if(typeof r!="object"||r===null||r===void 0)return r;if(i>=e)return Array.isArray(r)?"[Array]":"[Object]";if(Array.isArray(r))return r.map(u=>n(u,i+1));const o={};for(const u of Object.keys(r))o[u]=n(r[u],i+1);return o}return JSON.stringify(n(t,0),null,2)}class So extends Xi{get lc_aliases(){return{additional_kwargs:"additional_kwargs",response_metadata:"response_metadata"}}get text(){return typeof this.content=="string"?this.content:Array.isArray(this.content)?this.content.map(e=>typeof e=="string"?e:e.type==="text"?e.text:"").join(""):""}getType(){return this._getType()}constructor(e,n){typeof e=="string"&&(e={content:e,additional_kwargs:n,response_metadata:{}}),e.additional_kwargs||(e.additional_kwargs={}),e.response_metadata||(e.response_metadata={}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","messages"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"content",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"additional_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"response_metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e.name,this.content=e.content,this.additional_kwargs=e.additional_kwargs,this.response_metadata=e.response_metadata,this.id=e.id}toDict(){return{type:this._getType(),data:this.toJSON().kwargs}}static lc_name(){return"BaseMessage"}get _printableFields(){return{id:this.id,content:this.content,name:this.name,additional_kwargs:this.additional_kwargs,response_metadata:this.response_metadata}}_updateId(e){this.id=e,this.lc_kwargs.id=e}get[Symbol.toStringTag](){return this.constructor.lc_name()}[Symbol.for("nodejs.util.inspect.custom")](e){if(e===null)return this;const n=OA(this._printableFields,Math.max(4,e));return`${this.constructor.lc_name()} ${n}`}}function vr(t,e){const n={...t};for(const[r,i]of Object.entries(e))if(n[r]==null)n[r]=i;else{if(i==null)continue;if(typeof n[r]!=typeof i||Array.isArray(n[r])!==Array.isArray(i))throw new Error(`field[${r}] already exists in the message chunk, but with a different type.`);if(typeof n[r]=="string"){if(r==="type")continue;n[r]+=i}else if(typeof n[r]=="object"&&!Array.isArray(n[r]))n[r]=vr(n[r],i);else if(Array.isArray(n[r]))n[r]=xy(n[r],i);else{if(n[r]===i)continue;console.warn(`field[${r}] already exists in this message chunk and value has unsupported type.`)}}return n}function xy(t,e){if(!(t===void 0&&e===void 0)){if(t===void 0||e===void 0)return t||e;{const n=[...t];for(const r of e)if(typeof r=="object"&&"index"in r&&typeof r.index=="number"){const i=n.findIndex(o=>o.index===r.index);i!==-1?n[i]=vr(n[i],r):n.push(r)}else{if(typeof r=="object"&&"text"in r&&r.text==="")continue;n.push(r)}return n}}}class _u extends So{}function RA(t){return typeof t.role=="string"}function wu(t){return typeof(t==null?void 0:t._getType)=="function"}function CA(t){return wu(t)&&typeof t.concat=="function"}class AA extends So{static lc_name(){return"ToolMessage"}get lc_aliases(){return{tool_call_id:"tool_call_id"}}constructor(e,n,r){typeof e=="string"&&(e={content:e,name:r,tool_call_id:n}),super(e),Object.defineProperty(this,"lc_direct_tool_output",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tool_call_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"artifact",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.tool_call_id=e.tool_call_id,this.artifact=e.artifact,this.status=e.status}_getType(){return"tool"}static isInstance(e){return e._getType()==="tool"}get _printableFields(){return{...super._printableFields,tool_call_id:this.tool_call_id,artifact:this.artifact}}}function NA(t){const e=[],n=[];for(const r of t)if(r.function){const i=r.function.name;try{const o=JSON.parse(r.function.arguments),u={name:i||"",args:o||{},id:r.id};e.push(u)}catch{n.push({name:i,args:r.function.arguments,id:r.id,error:"Malformed args."})}}else continue;return[e,n]}function kA(t){return t._getType()==="tool"}class jg extends So{get lc_aliases(){return{...super.lc_aliases,tool_calls:"tool_calls",invalid_tool_calls:"invalid_tool_calls"}}constructor(e,n){var i;let r;if(typeof e=="string")r={content:e,tool_calls:[],invalid_tool_calls:[],additional_kwargs:n??{}};else{r=e;const o=(i=r.additional_kwargs)==null?void 0:i.tool_calls,u=r.tool_calls;o!=null&&o.length>0&&(u===void 0||u.length===0)&&console.warn(["New LangChain packages are available that more efficiently handle",`tool calling.

Please upgrade your packages to versions that set`,"message tool calls. e.g., `yarn add @langchain/anthropic`,","yarn add @langchain/openai`, etc."].join(" "));try{if(o!=null&&u===void 0){const[c,d]=NA(o);r.tool_calls=c??[],r.invalid_tool_calls=d??[]}else r.tool_calls=r.tool_calls??[],r.invalid_tool_calls=r.invalid_tool_calls??[]}catch{r.tool_calls=[],r.invalid_tool_calls=[]}}super(r),Object.defineProperty(this,"tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"invalid_tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"usage_metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),typeof r!="string"&&(this.tool_calls=r.tool_calls??this.tool_calls,this.invalid_tool_calls=r.invalid_tool_calls??this.invalid_tool_calls),this.usage_metadata=r.usage_metadata}static lc_name(){return"AIMessage"}_getType(){return"ai"}get _printableFields(){return{...super._printableFields,tool_calls:this.tool_calls,invalid_tool_calls:this.invalid_tool_calls,usage_metadata:this.usage_metadata}}}function Ty(t){return t._getType()==="ai"}function Uw(t){return t._getType()==="ai"}class Eo extends _u{constructor(e){let n;if(typeof e=="string")n={content:e,tool_calls:[],invalid_tool_calls:[],tool_call_chunks:[]};else if(e.tool_call_chunks===void 0)n={...e,tool_calls:e.tool_calls??[],invalid_tool_calls:[],tool_call_chunks:[],usage_metadata:e.usage_metadata!==void 0?e.usage_metadata:void 0};else{const r=[],i=[];for(const o of e.tool_call_chunks){let u={};try{if(u=lx(o.args||"{}"),u===null||typeof u!="object"||Array.isArray(u))throw new Error("Malformed tool call chunk args.");r.push({name:o.name??"",args:u,id:o.id,type:"tool_call"})}catch{i.push({name:o.name,args:o.args,id:o.id,error:"Malformed args.",type:"invalid_tool_call"})}}n={...e,tool_calls:r,invalid_tool_calls:i,usage_metadata:e.usage_metadata!==void 0?e.usage_metadata:void 0}}super(n),Object.defineProperty(this,"tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"invalid_tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"tool_call_chunks",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"usage_metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.tool_call_chunks=n.tool_call_chunks??this.tool_call_chunks,this.tool_calls=n.tool_calls??this.tool_calls,this.invalid_tool_calls=n.invalid_tool_calls??this.invalid_tool_calls,this.usage_metadata=n.usage_metadata}get lc_aliases(){return{...super.lc_aliases,tool_calls:"tool_calls",invalid_tool_calls:"invalid_tool_calls",tool_call_chunks:"tool_call_chunks"}}static lc_name(){return"AIMessageChunk"}_getType(){return"ai"}get _printableFields(){return{...super._printableFields,tool_calls:this.tool_calls,tool_call_chunks:this.tool_call_chunks,invalid_tool_calls:this.invalid_tool_calls,usage_metadata:this.usage_metadata}}concat(e){var r,i,o,u,c,d,h,m,b,y,_,v,w,S,T,N,x,R,O,j,L,D,te,C,F,J,ne,G,U,I,M,Z,B,k,H,W,ee,oe,le,fe;const n={content:vu(this.content,e.content),additional_kwargs:vr(this.additional_kwargs,e.additional_kwargs),response_metadata:vr(this.response_metadata,e.response_metadata),tool_call_chunks:[],id:this.id??e.id};if(this.tool_call_chunks!==void 0||e.tool_call_chunks!==void 0){const he=xy(this.tool_call_chunks,e.tool_call_chunks);he!==void 0&&he.length>0&&(n.tool_call_chunks=he)}if(this.usage_metadata!==void 0||e.usage_metadata!==void 0){const he={...(((i=(r=this.usage_metadata)==null?void 0:r.input_token_details)==null?void 0:i.audio)!==void 0||((u=(o=e.usage_metadata)==null?void 0:o.input_token_details)==null?void 0:u.audio)!==void 0)&&{audio:(((d=(c=this.usage_metadata)==null?void 0:c.input_token_details)==null?void 0:d.audio)??0)+(((m=(h=e.usage_metadata)==null?void 0:h.input_token_details)==null?void 0:m.audio)??0)},...(((y=(b=this.usage_metadata)==null?void 0:b.input_token_details)==null?void 0:y.cache_read)!==void 0||((v=(_=e.usage_metadata)==null?void 0:_.input_token_details)==null?void 0:v.cache_read)!==void 0)&&{cache_read:(((S=(w=this.usage_metadata)==null?void 0:w.input_token_details)==null?void 0:S.cache_read)??0)+(((N=(T=e.usage_metadata)==null?void 0:T.input_token_details)==null?void 0:N.cache_read)??0)},...(((R=(x=this.usage_metadata)==null?void 0:x.input_token_details)==null?void 0:R.cache_creation)!==void 0||((j=(O=e.usage_metadata)==null?void 0:O.input_token_details)==null?void 0:j.cache_creation)!==void 0)&&{cache_creation:(((D=(L=this.usage_metadata)==null?void 0:L.input_token_details)==null?void 0:D.cache_creation)??0)+(((C=(te=e.usage_metadata)==null?void 0:te.input_token_details)==null?void 0:C.cache_creation)??0)}},me={...(((J=(F=this.usage_metadata)==null?void 0:F.output_token_details)==null?void 0:J.audio)!==void 0||((G=(ne=e.usage_metadata)==null?void 0:ne.output_token_details)==null?void 0:G.audio)!==void 0)&&{audio:(((I=(U=this.usage_metadata)==null?void 0:U.output_token_details)==null?void 0:I.audio)??0)+(((Z=(M=e.usage_metadata)==null?void 0:M.output_token_details)==null?void 0:Z.audio)??0)},...(((k=(B=this.usage_metadata)==null?void 0:B.output_token_details)==null?void 0:k.reasoning)!==void 0||((W=(H=e.usage_metadata)==null?void 0:H.output_token_details)==null?void 0:W.reasoning)!==void 0)&&{reasoning:(((oe=(ee=this.usage_metadata)==null?void 0:ee.output_token_details)==null?void 0:oe.reasoning)??0)+(((fe=(le=e.usage_metadata)==null?void 0:le.output_token_details)==null?void 0:fe.reasoning)??0)}},Oe=this.usage_metadata??{input_tokens:0,output_tokens:0,total_tokens:0},ge=e.usage_metadata??{input_tokens:0,output_tokens:0,total_tokens:0},Ne={input_tokens:Oe.input_tokens+ge.input_tokens,output_tokens:Oe.output_tokens+ge.output_tokens,total_tokens:Oe.total_tokens+ge.total_tokens,...Object.keys(he).length>0&&{input_token_details:he},...Object.keys(me).length>0&&{output_token_details:me}};n.usage_metadata=Ne}return new Eo(n)}}class nd extends So{static lc_name(){return"ChatMessage"}static _chatMessageClass(){return nd}constructor(e,n){typeof e=="string"&&(e={content:e,role:n}),super(e),Object.defineProperty(this,"role",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.role=e.role}_getType(){return"generic"}static isInstance(e){return e._getType()==="generic"}get _printableFields(){return{...super._printableFields,role:this.role}}}class Oy extends _u{static lc_name(){return"ChatMessageChunk"}constructor(e,n){typeof e=="string"&&(e={content:e,role:n}),super(e),Object.defineProperty(this,"role",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.role=e.role}_getType(){return"generic"}concat(e){return new Oy({content:vu(this.content,e.content),additional_kwargs:vr(this.additional_kwargs,e.additional_kwargs),response_metadata:vr(this.response_metadata,e.response_metadata),role:this.role,id:this.id??e.id})}get _printableFields(){return{...super._printableFields,role:this.role}}}class Ry extends _u{static lc_name(){return"FunctionMessageChunk"}_getType(){return"function"}concat(e){return new Ry({content:vu(this.content,e.content),additional_kwargs:vr(this.additional_kwargs,e.additional_kwargs),response_metadata:vr(this.response_metadata,e.response_metadata),name:this.name??"",id:this.id??e.id})}}class rd extends So{static lc_name(){return"HumanMessage"}_getType(){return"human"}constructor(e,n){super(e,n)}}class Cy extends _u{static lc_name(){return"HumanMessageChunk"}_getType(){return"human"}constructor(e,n){super(e,n)}concat(e){return new Cy({content:vu(this.content,e.content),additional_kwargs:vr(this.additional_kwargs,e.additional_kwargs),response_metadata:vr(this.response_metadata,e.response_metadata),id:this.id??e.id})}}class zw extends So{static lc_name(){return"SystemMessage"}_getType(){return"system"}constructor(e,n){super(e,n)}}class Ay extends _u{static lc_name(){return"SystemMessageChunk"}_getType(){return"system"}constructor(e,n){super(e,n)}concat(e){return new Ay({content:vu(this.content,e.content),additional_kwargs:vr(this.additional_kwargs,e.additional_kwargs),response_metadata:vr(this.response_metadata,e.response_metadata),id:this.id??e.id})}}function cx(t,e){return t.lc_error_code=e,t.message=`${t.message}

Troubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/${e}/
`,t}function fx(t){return!!(t&&typeof t=="object"&&"type"in t&&t.type==="tool_call")}class IA extends Error{constructor(e,n){super(e),Object.defineProperty(this,"output",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.output=n}}function $A(t){return fx(t)?t:typeof t.id=="string"&&t.type==="function"&&typeof t.function=="object"&&t.function!==null&&"arguments"in t.function&&typeof t.function.arguments=="string"&&"name"in t.function&&typeof t.function.name=="string"?{id:t.id,args:JSON.parse(t.function.arguments),name:t.function.name,type:"tool_call"}:t}function jA(t){return typeof t=="object"&&t!=null&&t.lc===1&&Array.isArray(t.id)&&t.kwargs!=null&&typeof t.kwargs=="object"}function im(t){let e,n;if(jA(t)){const r=t.id.at(-1);r==="HumanMessage"||r==="HumanMessageChunk"?e="user":r==="AIMessage"||r==="AIMessageChunk"?e="assistant":r==="SystemMessage"||r==="SystemMessageChunk"?e="system":r==="FunctionMessage"||r==="FunctionMessageChunk"?e="function":r==="ToolMessage"||r==="ToolMessageChunk"?e="tool":e="unknown",n=t.kwargs}else{const{type:r,...i}=t;e=r,n=i}if(e==="human"||e==="user")return new rd(n);if(e==="ai"||e==="assistant"){const{tool_calls:r,...i}=n;if(!Array.isArray(r))return new jg(n);const o=r.map($A);return new jg({...i,tool_calls:o})}else{if(e==="system")return new zw(n);if(e==="developer")return new zw({...n,additional_kwargs:{...n.additional_kwargs,__openai_role__:"developer"}});if(e==="tool"&&"tool_call_id"in n)return new AA({...n,content:n.content,tool_call_id:n.tool_call_id,name:n.name});throw cx(new Error(`Unable to coerce message from array: only human, AI, system, developer, or tool message coercion is currently supported.

Received: ${JSON.stringify(t,null,2)}`),"MESSAGE_COERCION_FAILURE")}}function zl(t){if(typeof t=="string")return new rd(t);if(wu(t))return t;if(Array.isArray(t)){const[e,n]=t;return im({type:e,content:n})}else if(RA(t)){const{role:e,...n}=t;return im({...n,type:e})}else return im(t)}function dx(t,e="Human",n="AI"){const r=[];for(const i of t){let o;if(i._getType()==="human")o=e;else if(i._getType()==="ai")o=n;else if(i._getType()==="system")o="System";else if(i._getType()==="function")o="Function";else if(i._getType()==="tool")o="Tool";else if(i._getType()==="generic")o=i.role;else throw new Error(`Got unsupported message type: ${i._getType()}`);const u=i.name?`${i.name}, `:"",c=typeof i.content=="string"?i.content:JSON.stringify(i.content,null,2);r.push(`${o}: ${u}${c}`)}return r.join(`
`)}function PA(t){var n;const e=t._getType();if(e==="human")return new Cy({...t});if(e==="ai"){let r={...t};return"tool_calls"in r&&(r={...r,tool_call_chunks:(n=r.tool_calls)==null?void 0:n.map(i=>({...i,type:"tool_call_chunk",index:void 0,args:JSON.stringify(i.args)}))}),new Eo({...r})}else{if(e==="system")return new Ay({...t});if(e==="function")return new Ry({...t});if(nd.isInstance(t))return new Oy({...t});throw new Error("Unknown message type.")}}var Qe;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const o={};for(const u of i)o[u]=u;return o},t.getValidEnumValues=i=>{const o=t.objectKeys(i).filter(c=>typeof i[i[c]]!="number"),u={};for(const c of o)u[c]=i[c];return t.objectValues(u)},t.objectValues=i=>t.objectKeys(i).map(function(o){return i[o]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const o=[];for(const u in i)Object.prototype.hasOwnProperty.call(i,u)&&o.push(u);return o},t.find=(i,o)=>{for(const u of i)if(o(u))return u},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,o=" | "){return i.map(u=>typeof u=="string"?`'${u}'`:u).join(o)}t.joinValues=r,t.jsonStringifyReplacer=(i,o)=>typeof o=="bigint"?o.toString():o})(Qe||(Qe={}));var Bw;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Bw||(Bw={}));const ye=Qe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ii=t=>{switch(typeof t){case"undefined":return ye.undefined;case"string":return ye.string;case"number":return Number.isNaN(t)?ye.nan:ye.number;case"boolean":return ye.boolean;case"function":return ye.function;case"bigint":return ye.bigint;case"symbol":return ye.symbol;case"object":return Array.isArray(t)?ye.array:t===null?ye.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ye.promise:typeof Map<"u"&&t instanceof Map?ye.map:typeof Set<"u"&&t instanceof Set?ye.set:typeof Date<"u"&&t instanceof Date?ye.date:ye.object;default:return ye.unknown}},ue=Qe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Oa extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(o){return o.message},r={_errors:[]},i=o=>{for(const u of o.issues)if(u.code==="invalid_union")u.unionErrors.map(i);else if(u.code==="invalid_return_type")i(u.returnTypeError);else if(u.code==="invalid_arguments")i(u.argumentsError);else if(u.path.length===0)r._errors.push(n(u));else{let c=r,d=0;for(;d<u.path.length;){const h=u.path[d];d===u.path.length-1?(c[h]=c[h]||{_errors:[]},c[h]._errors.push(n(u))):c[h]=c[h]||{_errors:[]},c=c[h],d++}}};return i(this),r}static assert(e){if(!(e instanceof Oa))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Qe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Oa.create=t=>new Oa(t);const Pg=(t,e)=>{let n;switch(t.code){case ue.invalid_type:t.received===ye.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case ue.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Qe.jsonStringifyReplacer)}`;break;case ue.unrecognized_keys:n=`Unrecognized key(s) in object: ${Qe.joinValues(t.keys,", ")}`;break;case ue.invalid_union:n="Invalid input";break;case ue.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Qe.joinValues(t.options)}`;break;case ue.invalid_enum_value:n=`Invalid enum value. Expected ${Qe.joinValues(t.options)}, received '${t.received}'`;break;case ue.invalid_arguments:n="Invalid function arguments";break;case ue.invalid_return_type:n="Invalid function return type";break;case ue.invalid_date:n="Invalid date";break;case ue.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Qe.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case ue.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case ue.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case ue.custom:n="Invalid input";break;case ue.invalid_intersection_types:n="Intersection results could not be merged";break;case ue.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case ue.not_finite:n="Number must be finite";break;default:n=e.defaultError,Qe.assertNever(t)}return{message:n}};let MA=Pg;function LA(){return MA}const DA=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,o=[...n,...i.path||[]],u={...i,path:o};if(i.message!==void 0)return{...i,path:o,message:i.message};let c="";const d=r.filter(h=>!!h).slice().reverse();for(const h of d)c=h(u,{data:e,defaultError:c}).message;return{...i,path:o,message:c}};function de(t,e){const n=LA(),r=DA({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Pg?void 0:Pg].filter(i=>!!i)});t.common.issues.push(r)}class tr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return ke;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const o=await i.key,u=await i.value;r.push({key:o,value:u})}return tr.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:o,value:u}=i;if(o.status==="aborted"||u.status==="aborted")return ke;o.status==="dirty"&&e.dirty(),u.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof u.value<"u"||i.alwaysSet)&&(r[o.value]=u.value)}return{status:e.value,value:r}}}const ke=Object.freeze({status:"aborted"}),Bl=t=>({status:"dirty",value:t}),Sr=t=>({status:"valid",value:t}),Hw=t=>t.status==="aborted",qw=t=>t.status==="dirty",uo=t=>t.status==="valid",Rf=t=>typeof Promise<"u"&&t instanceof Promise;var be;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(be||(be={}));class di{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Fw=(t,e)=>{if(uo(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Oa(t.common.issues);return this._error=n,this._error}}};function Be(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(u,c)=>{const{message:d}=t;return u.code==="invalid_enum_value"?{message:d??c.defaultError}:typeof c.data>"u"?{message:d??r??c.defaultError}:u.code!=="invalid_type"?{message:c.defaultError}:{message:d??n??c.defaultError}},description:i}}class Ke{get description(){return this._def.description}_getType(e){return ii(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:ii(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new tr,ctx:{common:e.parent.common,data:e.data,parsedType:ii(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Rf(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ii(e)},i=this._parseSync({data:e,path:r.path,parent:r});return Fw(r,i)}"~validate"(e){var r,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ii(e)};if(!this["~standard"].async)try{const o=this._parseSync({data:e,path:[],parent:n});return uo(o)?{value:o.value}:{issues:n.common.issues}}catch(o){(i=(r=o==null?void 0:o.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(o=>uo(o)?{value:o.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ii(e)},i=this._parse({data:e,path:r.path,parent:r}),o=await(Rf(i)?i:Promise.resolve(i));return Fw(r,o)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,o)=>{const u=e(i),c=()=>o.addIssue({code:ue.custom,...r(i)});return typeof Promise<"u"&&u instanceof Promise?u.then(d=>d?!0:(c(),!1)):u?!0:(c(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new fo({schema:this,typeName:ce.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Ea.create(this,this._def)}nullable(){return ho.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Kr.create(this)}promise(){return kf.create(this,this._def)}or(e){return Af.create([this,e],this._def)}and(e){return Nf.create(this,e,this._def)}transform(e){return new fo({...Be(this._def),schema:this,typeName:ce.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Dg({...Be(this._def),innerType:this,defaultValue:n,typeName:ce.ZodDefault})}brand(){return new o2({typeName:ce.ZodBranded,type:this,...Be(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Ug({...Be(this._def),innerType:this,catchValue:n,typeName:ce.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Ny.create(this,e)}readonly(){return zg.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const UA=/^c[^\s-]{8,}$/i,zA=/^[0-9a-z]+$/,BA=/^[0-9A-HJKMNP-TV-Z]{26}$/i,HA=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,qA=/^[a-z0-9_-]{21}$/i,FA=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,GA=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,VA=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,ZA="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let sm;const YA=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,KA=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,XA=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,WA=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,QA=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,JA=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,hx="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",e2=new RegExp(`^${hx}$`);function px(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function t2(t){return new RegExp(`^${px(t)}$`)}function n2(t){let e=`${hx}T${px(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function r2(t,e){return!!((e==="v4"||!e)&&YA.test(t)||(e==="v6"||!e)&&XA.test(t))}function a2(t,e){if(!FA.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function i2(t,e){return!!((e==="v4"||!e)&&KA.test(t)||(e==="v6"||!e)&&WA.test(t))}class ui extends Ke{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ye.string){const o=this._getOrReturnCtx(e);return de(o,{code:ue.invalid_type,expected:ye.string,received:o.parsedType}),ke}const r=new tr;let i;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(i=this._getOrReturnCtx(e,i),de(i,{code:ue.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="max")e.data.length>o.value&&(i=this._getOrReturnCtx(e,i),de(i,{code:ue.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="length"){const u=e.data.length>o.value,c=e.data.length<o.value;(u||c)&&(i=this._getOrReturnCtx(e,i),u?de(i,{code:ue.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):c&&de(i,{code:ue.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),r.dirty())}else if(o.kind==="email")VA.test(e.data)||(i=this._getOrReturnCtx(e,i),de(i,{validation:"email",code:ue.invalid_string,message:o.message}),r.dirty());else if(o.kind==="emoji")sm||(sm=new RegExp(ZA,"u")),sm.test(e.data)||(i=this._getOrReturnCtx(e,i),de(i,{validation:"emoji",code:ue.invalid_string,message:o.message}),r.dirty());else if(o.kind==="uuid")HA.test(e.data)||(i=this._getOrReturnCtx(e,i),de(i,{validation:"uuid",code:ue.invalid_string,message:o.message}),r.dirty());else if(o.kind==="nanoid")qA.test(e.data)||(i=this._getOrReturnCtx(e,i),de(i,{validation:"nanoid",code:ue.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid")UA.test(e.data)||(i=this._getOrReturnCtx(e,i),de(i,{validation:"cuid",code:ue.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid2")zA.test(e.data)||(i=this._getOrReturnCtx(e,i),de(i,{validation:"cuid2",code:ue.invalid_string,message:o.message}),r.dirty());else if(o.kind==="ulid")BA.test(e.data)||(i=this._getOrReturnCtx(e,i),de(i,{validation:"ulid",code:ue.invalid_string,message:o.message}),r.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),de(i,{validation:"url",code:ue.invalid_string,message:o.message}),r.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),de(i,{validation:"regex",code:ue.invalid_string,message:o.message}),r.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(i=this._getOrReturnCtx(e,i),de(i,{code:ue.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),r.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(i=this._getOrReturnCtx(e,i),de(i,{code:ue.invalid_string,validation:{startsWith:o.value},message:o.message}),r.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(i=this._getOrReturnCtx(e,i),de(i,{code:ue.invalid_string,validation:{endsWith:o.value},message:o.message}),r.dirty()):o.kind==="datetime"?n2(o).test(e.data)||(i=this._getOrReturnCtx(e,i),de(i,{code:ue.invalid_string,validation:"datetime",message:o.message}),r.dirty()):o.kind==="date"?e2.test(e.data)||(i=this._getOrReturnCtx(e,i),de(i,{code:ue.invalid_string,validation:"date",message:o.message}),r.dirty()):o.kind==="time"?t2(o).test(e.data)||(i=this._getOrReturnCtx(e,i),de(i,{code:ue.invalid_string,validation:"time",message:o.message}),r.dirty()):o.kind==="duration"?GA.test(e.data)||(i=this._getOrReturnCtx(e,i),de(i,{validation:"duration",code:ue.invalid_string,message:o.message}),r.dirty()):o.kind==="ip"?r2(e.data,o.version)||(i=this._getOrReturnCtx(e,i),de(i,{validation:"ip",code:ue.invalid_string,message:o.message}),r.dirty()):o.kind==="jwt"?a2(e.data,o.alg)||(i=this._getOrReturnCtx(e,i),de(i,{validation:"jwt",code:ue.invalid_string,message:o.message}),r.dirty()):o.kind==="cidr"?i2(e.data,o.version)||(i=this._getOrReturnCtx(e,i),de(i,{validation:"cidr",code:ue.invalid_string,message:o.message}),r.dirty()):o.kind==="base64"?QA.test(e.data)||(i=this._getOrReturnCtx(e,i),de(i,{validation:"base64",code:ue.invalid_string,message:o.message}),r.dirty()):o.kind==="base64url"?JA.test(e.data)||(i=this._getOrReturnCtx(e,i),de(i,{validation:"base64url",code:ue.invalid_string,message:o.message}),r.dirty()):Qe.assertNever(o);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:ue.invalid_string,...be.errToObj(r)})}_addCheck(e){return new ui({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...be.errToObj(e)})}url(e){return this._addCheck({kind:"url",...be.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...be.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...be.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...be.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...be.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...be.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...be.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...be.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...be.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...be.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...be.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...be.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...be.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...be.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...be.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...be.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...be.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...be.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...be.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...be.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...be.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...be.errToObj(n)})}nonempty(e){return this.min(1,be.errToObj(e))}trim(){return new ui({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ui({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ui({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ui.create=t=>new ui({checks:[],typeName:ce.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Be(t)});function s2(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,o=Number.parseInt(t.toFixed(i).replace(".","")),u=Number.parseInt(e.toFixed(i).replace(".",""));return o%u/10**i}class iu extends Ke{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ye.number){const o=this._getOrReturnCtx(e);return de(o,{code:ue.invalid_type,expected:ye.number,received:o.parsedType}),ke}let r;const i=new tr;for(const o of this._def.checks)o.kind==="int"?Qe.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),de(r,{code:ue.invalid_type,expected:"integer",received:"float",message:o.message}),i.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),de(r,{code:ue.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),de(r,{code:ue.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="multipleOf"?s2(e.data,o.value)!==0&&(r=this._getOrReturnCtx(e,r),de(r,{code:ue.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),de(r,{code:ue.not_finite,message:o.message}),i.dirty()):Qe.assertNever(o);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,be.toString(n))}gt(e,n){return this.setLimit("min",e,!1,be.toString(n))}lte(e,n){return this.setLimit("max",e,!0,be.toString(n))}lt(e,n){return this.setLimit("max",e,!1,be.toString(n))}setLimit(e,n,r,i){return new iu({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:be.toString(i)}]})}_addCheck(e){return new iu({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:be.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:be.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:be.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:be.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:be.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:be.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:be.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:be.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:be.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Qe.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}iu.create=t=>new iu({checks:[],typeName:ce.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Be(t)});class su extends Ke{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ye.bigint)return this._getInvalidInput(e);let r;const i=new tr;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),de(r,{code:ue.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),de(r,{code:ue.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),de(r,{code:ue.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):Qe.assertNever(o);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return de(n,{code:ue.invalid_type,expected:ye.bigint,received:n.parsedType}),ke}gte(e,n){return this.setLimit("min",e,!0,be.toString(n))}gt(e,n){return this.setLimit("min",e,!1,be.toString(n))}lte(e,n){return this.setLimit("max",e,!0,be.toString(n))}lt(e,n){return this.setLimit("max",e,!1,be.toString(n))}setLimit(e,n,r,i){return new su({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:be.toString(i)}]})}_addCheck(e){return new su({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:be.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:be.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:be.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:be.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:be.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}su.create=t=>new su({checks:[],typeName:ce.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Be(t)});class Gw extends Ke{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ye.boolean){const r=this._getOrReturnCtx(e);return de(r,{code:ue.invalid_type,expected:ye.boolean,received:r.parsedType}),ke}return Sr(e.data)}}Gw.create=t=>new Gw({typeName:ce.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Be(t)});class Cf extends Ke{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ye.date){const o=this._getOrReturnCtx(e);return de(o,{code:ue.invalid_type,expected:ye.date,received:o.parsedType}),ke}if(Number.isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return de(o,{code:ue.invalid_date}),ke}const r=new tr;let i;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(i=this._getOrReturnCtx(e,i),de(i,{code:ue.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),r.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(i=this._getOrReturnCtx(e,i),de(i,{code:ue.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),r.dirty()):Qe.assertNever(o);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Cf({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:be.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:be.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Cf.create=t=>new Cf({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:ce.ZodDate,...Be(t)});class Vw extends Ke{_parse(e){if(this._getType(e)!==ye.symbol){const r=this._getOrReturnCtx(e);return de(r,{code:ue.invalid_type,expected:ye.symbol,received:r.parsedType}),ke}return Sr(e.data)}}Vw.create=t=>new Vw({typeName:ce.ZodSymbol,...Be(t)});class Zw extends Ke{_parse(e){if(this._getType(e)!==ye.undefined){const r=this._getOrReturnCtx(e);return de(r,{code:ue.invalid_type,expected:ye.undefined,received:r.parsedType}),ke}return Sr(e.data)}}Zw.create=t=>new Zw({typeName:ce.ZodUndefined,...Be(t)});class Yw extends Ke{_parse(e){if(this._getType(e)!==ye.null){const r=this._getOrReturnCtx(e);return de(r,{code:ue.invalid_type,expected:ye.null,received:r.parsedType}),ke}return Sr(e.data)}}Yw.create=t=>new Yw({typeName:ce.ZodNull,...Be(t)});class Mg extends Ke{constructor(){super(...arguments),this._any=!0}_parse(e){return Sr(e.data)}}Mg.create=t=>new Mg({typeName:ce.ZodAny,...Be(t)});class Kw extends Ke{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Sr(e.data)}}Kw.create=t=>new Kw({typeName:ce.ZodUnknown,...Be(t)});class hi extends Ke{_parse(e){const n=this._getOrReturnCtx(e);return de(n,{code:ue.invalid_type,expected:ye.never,received:n.parsedType}),ke}}hi.create=t=>new hi({typeName:ce.ZodNever,...Be(t)});class Xw extends Ke{_parse(e){if(this._getType(e)!==ye.undefined){const r=this._getOrReturnCtx(e);return de(r,{code:ue.invalid_type,expected:ye.void,received:r.parsedType}),ke}return Sr(e.data)}}Xw.create=t=>new Xw({typeName:ce.ZodVoid,...Be(t)});class Kr extends Ke{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==ye.array)return de(n,{code:ue.invalid_type,expected:ye.array,received:n.parsedType}),ke;if(i.exactLength!==null){const u=n.data.length>i.exactLength.value,c=n.data.length<i.exactLength.value;(u||c)&&(de(n,{code:u?ue.too_big:ue.too_small,minimum:c?i.exactLength.value:void 0,maximum:u?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(de(n,{code:ue.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(de(n,{code:ue.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((u,c)=>i.type._parseAsync(new di(n,u,n.path,c)))).then(u=>tr.mergeArray(r,u));const o=[...n.data].map((u,c)=>i.type._parseSync(new di(n,u,n.path,c)));return tr.mergeArray(r,o)}get element(){return this._def.type}min(e,n){return new Kr({...this._def,minLength:{value:e,message:be.toString(n)}})}max(e,n){return new Kr({...this._def,maxLength:{value:e,message:be.toString(n)}})}length(e,n){return new Kr({...this._def,exactLength:{value:e,message:be.toString(n)}})}nonempty(e){return this.min(1,e)}}Kr.create=(t,e)=>new Kr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ce.ZodArray,...Be(e)});function Ws(t){if(t instanceof Ft){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Ea.create(Ws(r))}return new Ft({...t._def,shape:()=>e})}else return t instanceof Kr?new Kr({...t._def,type:Ws(t.element)}):t instanceof Ea?Ea.create(Ws(t.unwrap())):t instanceof ho?ho.create(Ws(t.unwrap())):t instanceof Wi?Wi.create(t.items.map(e=>Ws(e))):t}class Ft extends Ke{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Qe.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==ye.object){const h=this._getOrReturnCtx(e);return de(h,{code:ue.invalid_type,expected:ye.object,received:h.parsedType}),ke}const{status:r,ctx:i}=this._processInputParams(e),{shape:o,keys:u}=this._getCached(),c=[];if(!(this._def.catchall instanceof hi&&this._def.unknownKeys==="strip"))for(const h in i.data)u.includes(h)||c.push(h);const d=[];for(const h of u){const m=o[h],b=i.data[h];d.push({key:{status:"valid",value:h},value:m._parse(new di(i,b,i.path,h)),alwaysSet:h in i.data})}if(this._def.catchall instanceof hi){const h=this._def.unknownKeys;if(h==="passthrough")for(const m of c)d.push({key:{status:"valid",value:m},value:{status:"valid",value:i.data[m]}});else if(h==="strict")c.length>0&&(de(i,{code:ue.unrecognized_keys,keys:c}),r.dirty());else if(h!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const h=this._def.catchall;for(const m of c){const b=i.data[m];d.push({key:{status:"valid",value:m},value:h._parse(new di(i,b,i.path,m)),alwaysSet:m in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const h=[];for(const m of d){const b=await m.key,y=await m.value;h.push({key:b,value:y,alwaysSet:m.alwaysSet})}return h}).then(h=>tr.mergeObjectSync(r,h)):tr.mergeObjectSync(r,d)}get shape(){return this._def.shape()}strict(e){return be.errToObj,new Ft({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var o,u;const i=((u=(o=this._def).errorMap)==null?void 0:u.call(o,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:be.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new Ft({...this._def,unknownKeys:"strip"})}passthrough(){return new Ft({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ft({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ft({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ce.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Ft({...this._def,catchall:e})}pick(e){const n={};for(const r of Qe.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new Ft({...this._def,shape:()=>n})}omit(e){const n={};for(const r of Qe.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new Ft({...this._def,shape:()=>n})}deepPartial(){return Ws(this)}partial(e){const n={};for(const r of Qe.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}return new Ft({...this._def,shape:()=>n})}required(e){const n={};for(const r of Qe.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let o=this.shape[r];for(;o instanceof Ea;)o=o._def.innerType;n[r]=o}return new Ft({...this._def,shape:()=>n})}keyof(){return mx(Qe.objectKeys(this.shape))}}Ft.create=(t,e)=>new Ft({shape:()=>t,unknownKeys:"strip",catchall:hi.create(),typeName:ce.ZodObject,...Be(e)});Ft.strictCreate=(t,e)=>new Ft({shape:()=>t,unknownKeys:"strict",catchall:hi.create(),typeName:ce.ZodObject,...Be(e)});Ft.lazycreate=(t,e)=>new Ft({shape:t,unknownKeys:"strip",catchall:hi.create(),typeName:ce.ZodObject,...Be(e)});class Af extends Ke{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(o){for(const c of o)if(c.result.status==="valid")return c.result;for(const c of o)if(c.result.status==="dirty")return n.common.issues.push(...c.ctx.common.issues),c.result;const u=o.map(c=>new Oa(c.ctx.common.issues));return de(n,{code:ue.invalid_union,unionErrors:u}),ke}if(n.common.async)return Promise.all(r.map(async o=>{const u={...n,common:{...n.common,issues:[]},parent:null};return{result:await o._parseAsync({data:n.data,path:n.path,parent:u}),ctx:u}})).then(i);{let o;const u=[];for(const d of r){const h={...n,common:{...n.common,issues:[]},parent:null},m=d._parseSync({data:n.data,path:n.path,parent:h});if(m.status==="valid")return m;m.status==="dirty"&&!o&&(o={result:m,ctx:h}),h.common.issues.length&&u.push(h.common.issues)}if(o)return n.common.issues.push(...o.ctx.common.issues),o.result;const c=u.map(d=>new Oa(d));return de(n,{code:ue.invalid_union,unionErrors:c}),ke}}get options(){return this._def.options}}Af.create=(t,e)=>new Af({options:t,typeName:ce.ZodUnion,...Be(e)});function Lg(t,e){const n=ii(t),r=ii(e);if(t===e)return{valid:!0,data:t};if(n===ye.object&&r===ye.object){const i=Qe.objectKeys(e),o=Qe.objectKeys(t).filter(c=>i.indexOf(c)!==-1),u={...t,...e};for(const c of o){const d=Lg(t[c],e[c]);if(!d.valid)return{valid:!1};u[c]=d.data}return{valid:!0,data:u}}else if(n===ye.array&&r===ye.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let o=0;o<t.length;o++){const u=t[o],c=e[o],d=Lg(u,c);if(!d.valid)return{valid:!1};i.push(d.data)}return{valid:!0,data:i}}else return n===ye.date&&r===ye.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Nf extends Ke{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(o,u)=>{if(Hw(o)||Hw(u))return ke;const c=Lg(o.value,u.value);return c.valid?((qw(o)||qw(u))&&n.dirty(),{status:n.value,value:c.data}):(de(r,{code:ue.invalid_intersection_types}),ke)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([o,u])=>i(o,u)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Nf.create=(t,e,n)=>new Nf({left:t,right:e,typeName:ce.ZodIntersection,...Be(n)});class Wi extends Ke{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ye.array)return de(r,{code:ue.invalid_type,expected:ye.array,received:r.parsedType}),ke;if(r.data.length<this._def.items.length)return de(r,{code:ue.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ke;!this._def.rest&&r.data.length>this._def.items.length&&(de(r,{code:ue.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const o=[...r.data].map((u,c)=>{const d=this._def.items[c]||this._def.rest;return d?d._parse(new di(r,u,r.path,c)):null}).filter(u=>!!u);return r.common.async?Promise.all(o).then(u=>tr.mergeArray(n,u)):tr.mergeArray(n,o)}get items(){return this._def.items}rest(e){return new Wi({...this._def,rest:e})}}Wi.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Wi({items:t,typeName:ce.ZodTuple,rest:null,...Be(e)})};class Ww extends Ke{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ye.map)return de(r,{code:ue.invalid_type,expected:ye.map,received:r.parsedType}),ke;const i=this._def.keyType,o=this._def.valueType,u=[...r.data.entries()].map(([c,d],h)=>({key:i._parse(new di(r,c,r.path,[h,"key"])),value:o._parse(new di(r,d,r.path,[h,"value"]))}));if(r.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const d of u){const h=await d.key,m=await d.value;if(h.status==="aborted"||m.status==="aborted")return ke;(h.status==="dirty"||m.status==="dirty")&&n.dirty(),c.set(h.value,m.value)}return{status:n.value,value:c}})}else{const c=new Map;for(const d of u){const h=d.key,m=d.value;if(h.status==="aborted"||m.status==="aborted")return ke;(h.status==="dirty"||m.status==="dirty")&&n.dirty(),c.set(h.value,m.value)}return{status:n.value,value:c}}}}Ww.create=(t,e,n)=>new Ww({valueType:e,keyType:t,typeName:ce.ZodMap,...Be(n)});class ou extends Ke{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ye.set)return de(r,{code:ue.invalid_type,expected:ye.set,received:r.parsedType}),ke;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(de(r,{code:ue.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(de(r,{code:ue.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const o=this._def.valueType;function u(d){const h=new Set;for(const m of d){if(m.status==="aborted")return ke;m.status==="dirty"&&n.dirty(),h.add(m.value)}return{status:n.value,value:h}}const c=[...r.data.values()].map((d,h)=>o._parse(new di(r,d,r.path,h)));return r.common.async?Promise.all(c).then(d=>u(d)):u(c)}min(e,n){return new ou({...this._def,minSize:{value:e,message:be.toString(n)}})}max(e,n){return new ou({...this._def,maxSize:{value:e,message:be.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}ou.create=(t,e)=>new ou({valueType:t,minSize:null,maxSize:null,typeName:ce.ZodSet,...Be(e)});class Qw extends Ke{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Qw.create=(t,e)=>new Qw({getter:t,typeName:ce.ZodLazy,...Be(e)});class Jw extends Ke{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return de(n,{received:n.data,code:ue.invalid_literal,expected:this._def.value}),ke}return{status:"valid",value:e.data}}get value(){return this._def.value}}Jw.create=(t,e)=>new Jw({value:t,typeName:ce.ZodLiteral,...Be(e)});function mx(t,e){return new co({values:t,typeName:ce.ZodEnum,...Be(e)})}class co extends Ke{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return de(n,{expected:Qe.joinValues(r),received:n.parsedType,code:ue.invalid_type}),ke}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return de(n,{received:n.data,code:ue.invalid_enum_value,options:r}),ke}return Sr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return co.create(e,{...this._def,...n})}exclude(e,n=this._def){return co.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}co.create=mx;class eS extends Ke{_parse(e){const n=Qe.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ye.string&&r.parsedType!==ye.number){const i=Qe.objectValues(n);return de(r,{expected:Qe.joinValues(i),received:r.parsedType,code:ue.invalid_type}),ke}if(this._cache||(this._cache=new Set(Qe.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=Qe.objectValues(n);return de(r,{received:r.data,code:ue.invalid_enum_value,options:i}),ke}return Sr(e.data)}get enum(){return this._def.values}}eS.create=(t,e)=>new eS({values:t,typeName:ce.ZodNativeEnum,...Be(e)});class kf extends Ke{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ye.promise&&n.common.async===!1)return de(n,{code:ue.invalid_type,expected:ye.promise,received:n.parsedType}),ke;const r=n.parsedType===ye.promise?n.data:Promise.resolve(n.data);return Sr(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}kf.create=(t,e)=>new kf({type:t,typeName:ce.ZodPromise,...Be(e)});class fo extends Ke{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ce.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,o={addIssue:u=>{de(r,u),u.fatal?n.abort():n.dirty()},get path(){return r.path}};if(o.addIssue=o.addIssue.bind(o),i.type==="preprocess"){const u=i.transform(r.data,o);if(r.common.async)return Promise.resolve(u).then(async c=>{if(n.value==="aborted")return ke;const d=await this._def.schema._parseAsync({data:c,path:r.path,parent:r});return d.status==="aborted"?ke:d.status==="dirty"||n.value==="dirty"?Bl(d.value):d});{if(n.value==="aborted")return ke;const c=this._def.schema._parseSync({data:u,path:r.path,parent:r});return c.status==="aborted"?ke:c.status==="dirty"||n.value==="dirty"?Bl(c.value):c}}if(i.type==="refinement"){const u=c=>{const d=i.refinement(c,o);if(r.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return c.status==="aborted"?ke:(c.status==="dirty"&&n.dirty(),u(c.value),{status:n.value,value:c.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>c.status==="aborted"?ke:(c.status==="dirty"&&n.dirty(),u(c.value).then(()=>({status:n.value,value:c.value}))))}if(i.type==="transform")if(r.common.async===!1){const u=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!uo(u))return ke;const c=i.transform(u.value,o);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:c}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(u=>uo(u)?Promise.resolve(i.transform(u.value,o)).then(c=>({status:n.value,value:c})):ke);Qe.assertNever(i)}}fo.create=(t,e,n)=>new fo({schema:t,typeName:ce.ZodEffects,effect:e,...Be(n)});fo.createWithPreprocess=(t,e,n)=>new fo({schema:e,effect:{type:"preprocess",transform:t},typeName:ce.ZodEffects,...Be(n)});class Ea extends Ke{_parse(e){return this._getType(e)===ye.undefined?Sr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ea.create=(t,e)=>new Ea({innerType:t,typeName:ce.ZodOptional,...Be(e)});class ho extends Ke{_parse(e){return this._getType(e)===ye.null?Sr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ho.create=(t,e)=>new ho({innerType:t,typeName:ce.ZodNullable,...Be(e)});class Dg extends Ke{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===ye.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Dg.create=(t,e)=>new Dg({innerType:t,typeName:ce.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Be(e)});class Ug extends Ke{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Rf(i)?i.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Oa(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Oa(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Ug.create=(t,e)=>new Ug({innerType:t,typeName:ce.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Be(e)});class tS extends Ke{_parse(e){if(this._getType(e)!==ye.nan){const r=this._getOrReturnCtx(e);return de(r,{code:ue.invalid_type,expected:ye.nan,received:r.parsedType}),ke}return{status:"valid",value:e.data}}}tS.create=t=>new tS({typeName:ce.ZodNaN,...Be(t)});class o2 extends Ke{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Ny extends Ke{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?ke:o.status==="dirty"?(n.dirty(),Bl(o.value)):this._def.out._parseAsync({data:o.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?ke:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new Ny({in:e,out:n,typeName:ce.ZodPipeline})}}class zg extends Ke{_parse(e){const n=this._def.innerType._parse(e),r=i=>(uo(i)&&(i.value=Object.freeze(i.value)),i);return Rf(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}zg.create=(t,e)=>new zg({innerType:t,typeName:ce.ZodReadonly,...Be(e)});var ce;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ce||(ce={}));const l2=ui.create,nS=Mg.create;hi.create;Kr.create;const u2=Ft.create;Af.create;Nf.create;Wi.create;co.create;kf.create;Ea.create;ho.create;var Cl={exports:{}},om={},lm,rS;function c2(){if(rS)return lm;rS=1;function t(e,n){typeof n=="boolean"&&(n={forever:n}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=n||{},this._maxRetryTime=n&&n.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}return lm=t,t.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},t.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},t.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var n=new Date().getTime();if(e&&n-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var r=this._timeouts.shift();if(r===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),r=this._cachedTimeouts.slice(-1);else return!1;var i=this;return this._timer=setTimeout(function(){i._attempts++,i._operationTimeoutCb&&(i._timeout=setTimeout(function(){i._operationTimeoutCb(i._attempts)},i._operationTimeout),i._options.unref&&i._timeout.unref()),i._fn(i._attempts)},r),this._options.unref&&this._timer.unref(),!0},t.prototype.attempt=function(e,n){this._fn=e,n&&(n.timeout&&(this._operationTimeout=n.timeout),n.cb&&(this._operationTimeoutCb=n.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){r._operationTimeoutCb()},r._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)},t.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},t.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},t.prototype.start=t.prototype.try,t.prototype.errors=function(){return this._errors},t.prototype.attempts=function(){return this._attempts},t.prototype.mainError=function(){if(this._errors.length===0)return null;for(var e={},n=null,r=0,i=0;i<this._errors.length;i++){var o=this._errors[i],u=o.message,c=(e[u]||0)+1;e[u]=c,c>=r&&(n=o,r=c)}return n},lm}var aS;function f2(){return aS||(aS=1,function(t){var e=c2();t.operation=function(n){var r=t.timeouts(n);return new e(r,{forever:n&&(n.forever||n.retries===1/0),unref:n&&n.unref,maxRetryTime:n&&n.maxRetryTime})},t.timeouts=function(n){if(n instanceof Array)return[].concat(n);var r={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var i in n)r[i]=n[i];if(r.minTimeout>r.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var o=[],u=0;u<r.retries;u++)o.push(this.createTimeout(u,r));return n&&n.forever&&!o.length&&o.push(this.createTimeout(u,r)),o.sort(function(c,d){return c-d}),o},t.createTimeout=function(n,r){var i=r.randomize?Math.random()+1:1,o=Math.round(i*Math.max(r.minTimeout,1)*Math.pow(r.factor,n));return o=Math.min(o,r.maxTimeout),o},t.wrap=function(n,r,i){if(r instanceof Array&&(i=r,r=null),!i){i=[];for(var o in n)typeof n[o]=="function"&&i.push(o)}for(var u=0;u<i.length;u++){var c=i[u],d=n[c];n[c]=(function(m){var b=t.operation(r),y=Array.prototype.slice.call(arguments,1),_=y.pop();y.push(function(v){b.retry(v)||(v&&(arguments[0]=b.mainError()),_.apply(this,arguments))}),b.attempt(function(){m.apply(n,y)})}).bind(n,d),n[c].options=r}}}(om)),om}var um,iS;function d2(){return iS||(iS=1,um=f2()),um}var sS;function h2(){if(sS)return Cl.exports;sS=1;const t=d2(),e=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"];class n extends Error{constructor(c){super(),c instanceof Error?(this.originalError=c,{message:c}=c):(this.originalError=new Error(c),this.originalError.stack=this.stack),this.name="AbortError",this.message=c}}const r=(u,c,d)=>{const h=d.retries-(c-1);return u.attemptNumber=c,u.retriesLeft=h,u},i=u=>e.includes(u),o=(u,c)=>new Promise((d,h)=>{c={onFailedAttempt:()=>{},retries:10,...c};const m=t.operation(c);m.attempt(async b=>{try{d(await u(b))}catch(y){if(!(y instanceof Error)){h(new TypeError(`Non-error was thrown: "${y}". You should only throw errors.`));return}if(y instanceof n)m.stop(),h(y.originalError);else if(y instanceof TypeError&&!i(y.message))m.stop(),h(y);else{r(y,b,c);try{await c.onFailedAttempt(y)}catch(_){h(_);return}m.retry(y)||h(m.mainError())}}})});return Cl.exports=o,Cl.exports.default=o,Cl.exports.AbortError=n,Cl.exports}var p2=h2();const If=vi(p2),m2=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;function io(t){return typeof t=="string"&&m2.test(t)}function g2(t){if(!io(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}var hn=[];for(var cm=0;cm<256;++cm)hn.push((cm+256).toString(16).slice(1));function gx(t,e=0){return(hn[t[e+0]]+hn[t[e+1]]+hn[t[e+2]]+hn[t[e+3]]+"-"+hn[t[e+4]]+hn[t[e+5]]+"-"+hn[t[e+6]]+hn[t[e+7]]+"-"+hn[t[e+8]]+hn[t[e+9]]+"-"+hn[t[e+10]]+hn[t[e+11]]+hn[t[e+12]]+hn[t[e+13]]+hn[t[e+14]]+hn[t[e+15]]).toLowerCase()}var Wc,y2=new Uint8Array(16);function b2(){if(!Wc&&(Wc=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Wc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Wc(y2)}function v2(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}var _2="6ba7b810-9dad-11d1-80b4-00c04fd430c8",w2="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function S2(t,e,n){function r(i,o,u,c){var d;if(typeof i=="string"&&(i=v2(i)),typeof o=="string"&&(o=g2(o)),((d=o)===null||d===void 0?void 0:d.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var h=new Uint8Array(16+i.length);if(h.set(o),h.set(i,o.length),h=n(h),h[6]=h[6]&15|e,h[8]=h[8]&63|128,u){c=c||0;for(var m=0;m<16;++m)u[c+m]=h[m];return u}return gx(h)}try{r.name=t}catch{}return r.DNS=_2,r.URL=w2,r}var E2=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const oS={randomUUID:E2};function Rn(t,e,n){if(oS.randomUUID&&!t)return oS.randomUUID();t=t||{};var r=t.random||(t.rng||b2)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,gx(r)}function x2(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:return e^n^r;case 2:return e&n^e&r^n&r;case 3:return e^n^r}}function fm(t,e){return t<<e|t>>>32-e}function T2(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var r=unescape(encodeURIComponent(t));t=[];for(var i=0;i<r.length;++i)t.push(r.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var o=t.length/4+2,u=Math.ceil(o/16),c=new Array(u),d=0;d<u;++d){for(var h=new Uint32Array(16),m=0;m<16;++m)h[m]=t[d*64+m*4]<<24|t[d*64+m*4+1]<<16|t[d*64+m*4+2]<<8|t[d*64+m*4+3];c[d]=h}c[u-1][14]=(t.length-1)*8/Math.pow(2,32),c[u-1][14]=Math.floor(c[u-1][14]),c[u-1][15]=(t.length-1)*8&4294967295;for(var b=0;b<u;++b){for(var y=new Uint32Array(80),_=0;_<16;++_)y[_]=c[b][_];for(var v=16;v<80;++v)y[v]=fm(y[v-3]^y[v-8]^y[v-14]^y[v-16],1);for(var w=n[0],S=n[1],T=n[2],N=n[3],x=n[4],R=0;R<80;++R){var O=Math.floor(R/20),j=fm(w,5)+x2(O,S,T,N)+x+e[O]+y[R]>>>0;x=N,N=T,T=fm(S,30)>>>0,S=w,w=j}n[0]=n[0]+w>>>0,n[1]=n[1]+S>>>0,n[2]=n[2]+T>>>0,n[3]=n[3]+N>>>0,n[4]=n[4]+x>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var lS=S2("v5",80,T2),Qc={},dm={exports:{}},uS;function O2(){return uS||(uS=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(d,h,m){this.fn=d,this.context=h,this.once=m||!1}function o(d,h,m,b,y){if(typeof m!="function")throw new TypeError("The listener must be a function");var _=new i(m,b||d,y),v=n?n+h:h;return d._events[v]?d._events[v].fn?d._events[v]=[d._events[v],_]:d._events[v].push(_):(d._events[v]=_,d._eventsCount++),d}function u(d,h){--d._eventsCount===0?d._events=new r:delete d._events[h]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var h=[],m,b;if(this._eventsCount===0)return h;for(b in m=this._events)e.call(m,b)&&h.push(n?b.slice(1):b);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(m)):h},c.prototype.listeners=function(h){var m=n?n+h:h,b=this._events[m];if(!b)return[];if(b.fn)return[b.fn];for(var y=0,_=b.length,v=new Array(_);y<_;y++)v[y]=b[y].fn;return v},c.prototype.listenerCount=function(h){var m=n?n+h:h,b=this._events[m];return b?b.fn?1:b.length:0},c.prototype.emit=function(h,m,b,y,_,v){var w=n?n+h:h;if(!this._events[w])return!1;var S=this._events[w],T=arguments.length,N,x;if(S.fn){switch(S.once&&this.removeListener(h,S.fn,void 0,!0),T){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,m),!0;case 3:return S.fn.call(S.context,m,b),!0;case 4:return S.fn.call(S.context,m,b,y),!0;case 5:return S.fn.call(S.context,m,b,y,_),!0;case 6:return S.fn.call(S.context,m,b,y,_,v),!0}for(x=1,N=new Array(T-1);x<T;x++)N[x-1]=arguments[x];S.fn.apply(S.context,N)}else{var R=S.length,O;for(x=0;x<R;x++)switch(S[x].once&&this.removeListener(h,S[x].fn,void 0,!0),T){case 1:S[x].fn.call(S[x].context);break;case 2:S[x].fn.call(S[x].context,m);break;case 3:S[x].fn.call(S[x].context,m,b);break;case 4:S[x].fn.call(S[x].context,m,b,y);break;default:if(!N)for(O=1,N=new Array(T-1);O<T;O++)N[O-1]=arguments[O];S[x].fn.apply(S[x].context,N)}}return!0},c.prototype.on=function(h,m,b){return o(this,h,m,b,!1)},c.prototype.once=function(h,m,b){return o(this,h,m,b,!0)},c.prototype.removeListener=function(h,m,b,y){var _=n?n+h:h;if(!this._events[_])return this;if(!m)return u(this,_),this;var v=this._events[_];if(v.fn)v.fn===m&&(!y||v.once)&&(!b||v.context===b)&&u(this,_);else{for(var w=0,S=[],T=v.length;w<T;w++)(v[w].fn!==m||y&&!v[w].once||b&&v[w].context!==b)&&S.push(v[w]);S.length?this._events[_]=S.length===1?S[0]:S:u(this,_)}return this},c.prototype.removeAllListeners=function(h){var m;return h?(m=n?n+h:h,this._events[m]&&u(this,m)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c}(dm)),dm.exports}var Al={exports:{}},hm,cS;function R2(){return cS||(cS=1,hm=(t,e)=>(e=e||(()=>{}),t.then(n=>new Promise(r=>{r(e())}).then(()=>n),n=>new Promise(r=>{r(e())}).then(()=>{throw n})))),hm}var fS;function C2(){if(fS)return Al.exports;fS=1;const t=R2();class e extends Error{constructor(i){super(i),this.name="TimeoutError"}}const n=(r,i,o)=>new Promise((u,c)=>{if(typeof i!="number"||i<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(i===1/0){u(r);return}const d=setTimeout(()=>{if(typeof o=="function"){try{u(o())}catch(b){c(b)}return}const h=typeof o=="string"?o:`Promise timed out after ${i} milliseconds`,m=o instanceof Error?o:new e(h);typeof r.cancel=="function"&&r.cancel(),c(m)},i);t(r.then(u,c),()=>{clearTimeout(d)})});return Al.exports=n,Al.exports.default=n,Al.exports.TimeoutError=e,Al.exports}var Jc={},ef={},dS;function A2(){if(dS)return ef;dS=1,Object.defineProperty(ef,"__esModule",{value:!0});function t(e,n,r){let i=0,o=e.length;for(;o>0;){const u=o/2|0;let c=i+u;r(e[c],n)<=0?(i=++c,o-=u+1):o=u}return i}return ef.default=t,ef}var hS;function N2(){if(hS)return Jc;hS=1,Object.defineProperty(Jc,"__esModule",{value:!0});const t=A2();class e{constructor(){this._queue=[]}enqueue(r,i){i=Object.assign({priority:0},i);const o={priority:i.priority,run:r};if(this.size&&this._queue[this.size-1].priority>=i.priority){this._queue.push(o);return}const u=t.default(this._queue,o,(c,d)=>d.priority-c.priority);this._queue.splice(u,0,o)}dequeue(){const r=this._queue.shift();return r==null?void 0:r.run}filter(r){return this._queue.filter(i=>i.priority===r.priority).map(i=>i.run)}get size(){return this._queue.length}}return Jc.default=e,Jc}var pS;function k2(){if(pS)return Qc;pS=1,Object.defineProperty(Qc,"__esModule",{value:!0});const t=O2(),e=C2(),n=N2(),r=()=>{},i=new e.TimeoutError;class o extends t{constructor(c){var d,h,m,b;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=r,this._resolveIdle=r,c=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:n.default},c),!(typeof c.intervalCap=="number"&&c.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(h=(d=c.intervalCap)===null||d===void 0?void 0:d.toString())!==null&&h!==void 0?h:""}\` (${typeof c.intervalCap})`);if(c.interval===void 0||!(Number.isFinite(c.interval)&&c.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(b=(m=c.interval)===null||m===void 0?void 0:m.toString())!==null&&b!==void 0?b:""}\` (${typeof c.interval})`);this._carryoverConcurrencyCount=c.carryoverConcurrencyCount,this._isIntervalIgnored=c.intervalCap===1/0||c.interval===0,this._intervalCap=c.intervalCap,this._interval=c.interval,this._queue=new c.queueClass,this._queueClass=c.queueClass,this.concurrency=c.concurrency,this._timeout=c.timeout,this._throwOnTimeout=c.throwOnTimeout===!0,this._isPaused=c.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=r,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=r,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){const c=Date.now();if(this._intervalId===void 0){const d=this._intervalEnd-c;if(d<0)this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;else return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},d)),!0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){const c=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){const d=this._queue.dequeue();return d?(this.emit("active"),d(),c&&this._initializeIntervalIfNeeded(),!0):!1}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(c){if(!(typeof c=="number"&&c>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${c}\` (${typeof c})`);this._concurrency=c,this._processQueue()}async add(c,d={}){return new Promise((h,m)=>{const b=async()=>{this._pendingCount++,this._intervalCount++;try{const y=this._timeout===void 0&&d.timeout===void 0?c():e.default(Promise.resolve(c()),d.timeout===void 0?this._timeout:d.timeout,()=>{(d.throwOnTimeout===void 0?this._throwOnTimeout:d.throwOnTimeout)&&m(i)});h(await y)}catch(y){m(y)}this._next()};this._queue.enqueue(b,d),this._tryToStartAnother(),this.emit("add")})}async addAll(c,d){return Promise.all(c.map(async h=>this.add(h,d)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(c=>{const d=this._resolveEmpty;this._resolveEmpty=()=>{d(),c()}})}async onIdle(){if(!(this._pendingCount===0&&this._queue.size===0))return new Promise(c=>{const d=this._resolveIdle;this._resolveIdle=()=>{d(),c()}})}get size(){return this._queue.size}sizeBy(c){return this._queue.filter(c).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(c){this._timeout=c}}return Qc.default=o,Qc}var I2=k2();const xa=vi(I2),yx=()=>Gr("PROJECT")??pi("LANGCHAIN_SESSION")??"default",bx="0.3.33";var Zl={};let ya;const $2=()=>typeof window<"u"&&typeof window.document<"u",j2=()=>typeof globalThis=="object"&&globalThis.constructor&&globalThis.constructor.name==="DedicatedWorkerGlobalScope",P2=()=>typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&navigator.userAgent.includes("jsdom"),vx=()=>typeof Deno<"u",M2=()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"&&!vx(),L2=()=>ya||($2()?ya="browser":M2()?ya="node":j2()?ya="webworker":P2()?ya="jsdom":vx()?ya="deno":ya="other",ya);let pm;function _x(){if(pm===void 0){const t=L2(),e=z2();pm={library:"langsmith",runtime:t,sdk:"langsmith-js",sdk_version:bx,...e}}return pm}function D2(){const t=U2()||{},e={},n=["LANGCHAIN_API_KEY","LANGCHAIN_ENDPOINT","LANGCHAIN_TRACING_V2","LANGCHAIN_PROJECT","LANGCHAIN_SESSION","LANGSMITH_API_KEY","LANGSMITH_ENDPOINT","LANGSMITH_TRACING_V2","LANGSMITH_PROJECT","LANGSMITH_SESSION"];for(const[r,i]of Object.entries(t))(r.startsWith("LANGCHAIN_")||r.startsWith("LANGSMITH_"))&&typeof i=="string"&&!n.includes(r)&&!r.toLowerCase().includes("key")&&!r.toLowerCase().includes("secret")&&!r.toLowerCase().includes("token")&&(r==="LANGCHAIN_REVISION_ID"?e.revision_id=i:e[r]=i);return e}function U2(){try{return typeof process<"u"&&Zl?Object.entries(Zl).reduce((t,[e,n])=>(t[e]=String(n),t),{}):void 0}catch{return}}function pi(t){try{return typeof process<"u"?Zl==null?void 0:Zl[t]:void 0}catch{return}}function Gr(t){return pi(`LANGSMITH_${t}`)||pi(`LANGCHAIN_${t}`)}let mm;function z2(){if(mm!==void 0)return mm;const t=["VERCEL_GIT_COMMIT_SHA","NEXT_PUBLIC_VERCEL_GIT_COMMIT_SHA","COMMIT_REF","RENDER_GIT_COMMIT","CI_COMMIT_SHA","CIRCLE_SHA1","CF_PAGES_COMMIT_SHA","REACT_APP_GIT_SHA","SOURCE_VERSION","GITHUB_SHA","TRAVIS_COMMIT","GIT_COMMIT","BUILD_VCS_NUMBER","bamboo_planRepository_revision","Build.SourceVersion","BITBUCKET_COMMIT","DRONE_COMMIT_SHA","SEMAPHORE_GIT_SHA","BUILDKITE_COMMIT"],e={};for(const n of t){const r=pi(n);r!==void 0&&(e[n]=r)}return mm=e,e}const B2=(...t)=>fetch(...t),wx=Symbol.for("ls:fetch_implementation"),H2=()=>{const t=globalThis[wx];return t?typeof t=="function"&&"Headers"in t&&"Request"in t&&"Response"in t:!1},Se=t=>async(...e)=>{if(t||Gr("DEBUG")==="true"){const[r,i]=e;console.log(` ${(i==null?void 0:i.method)||"GET"} ${r}`)}const n=await(globalThis[wx]??B2)(...e);return(t||Gr("DEBUG")==="true")&&console.log(` ${n.status} ${n.statusText} ${n.url}`),n},q2=[400,401,403,404,405,406,407,408],F2=[409];let mS=class{constructor(e){Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onFailedResponseHook",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"debug",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxConcurrency=e.maxConcurrency??1/0,this.maxRetries=e.maxRetries??6,this.debug=e.debug,"default"in xa?this.queue=new xa.default({concurrency:this.maxConcurrency}):this.queue=new xa({concurrency:this.maxConcurrency}),this.onFailedResponseHook=e==null?void 0:e.onFailedResponseHook}call(e,...n){const r=this.onFailedResponseHook;return this.queue.add(()=>If(()=>e(...n).catch(i=>{throw i instanceof Error?i:new Error(i)}),{async onFailedAttempt(i){if(i.message.startsWith("Cancel")||i.message.startsWith("TimeoutError")||i.message.startsWith("AbortError")||(i==null?void 0:i.code)==="ECONNABORTED")throw i;const o=i==null?void 0:i.response,u=o==null?void 0:o.status;if(u){if(q2.includes(+u))throw i;if(F2.includes(+u))return;r&&await r(o)}},retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0})}callWithOptions(e,n,...r){return e.signal?Promise.race([this.call(n,...r),new Promise((i,o)=>{var u;(u=e.signal)==null||u.addEventListener("abort",()=>{o(new Error("AbortError"))})})]):this.call(n,...r)}fetch(...e){return this.call(()=>Se(this.debug)(...e).then(n=>n.ok?n:Promise.reject(n)))}};function gS(t){return typeof(t==null?void 0:t._getType)=="function"}function yS(t){const e={type:t._getType(),data:{content:t.content}};return t!=null&&t.additional_kwargs&&Object.keys(t.additional_kwargs).length>0&&(e.data.additional_kwargs={...t.additional_kwargs}),e}function $e(t,e){if(!io(t)){const n=e!==void 0?`Invalid UUID for ${e}: ${t}`:`Invalid UUID: ${t}`;throw new Error(n)}return t}const bS={};function Sx(t){bS[t]||(console.warn(t),bS[t]=!0)}var tf={exports:{}},gm,vS;function ad(){if(vS)return gm;vS=1;const t="2.0.0",e=256,n=Number.MAX_SAFE_INTEGER||9007199254740991,r=16,i=e-6;return gm={MAX_LENGTH:e,MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:i,MAX_SAFE_INTEGER:n,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:t,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},gm}var ym,_S;function id(){if(_S)return ym;_S=1;var t={};return ym=typeof process=="object"&&t&&t.NODE_DEBUG&&/\bsemver\b/i.test(t.NODE_DEBUG)?(...n)=>console.error("SEMVER",...n):()=>{},ym}var wS;function Su(){return wS||(wS=1,function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:i}=ad(),o=id();e=t.exports={};const u=e.re=[],c=e.safeRe=[],d=e.src=[],h=e.safeSrc=[],m=e.t={};let b=0;const y="[a-zA-Z0-9-]",_=[["\\s",1],["\\d",i],[y,r]],v=S=>{for(const[T,N]of _)S=S.split(`${T}*`).join(`${T}{0,${N}}`).split(`${T}+`).join(`${T}{1,${N}}`);return S},w=(S,T,N)=>{const x=v(T),R=b++;o(S,R,T),m[S]=R,d[R]=T,h[R]=x,u[R]=new RegExp(T,N?"g":void 0),c[R]=new RegExp(x,N?"g":void 0)};w("NUMERICIDENTIFIER","0|[1-9]\\d*"),w("NUMERICIDENTIFIERLOOSE","\\d+"),w("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${y}*`),w("MAINVERSION",`(${d[m.NUMERICIDENTIFIER]})\\.(${d[m.NUMERICIDENTIFIER]})\\.(${d[m.NUMERICIDENTIFIER]})`),w("MAINVERSIONLOOSE",`(${d[m.NUMERICIDENTIFIERLOOSE]})\\.(${d[m.NUMERICIDENTIFIERLOOSE]})\\.(${d[m.NUMERICIDENTIFIERLOOSE]})`),w("PRERELEASEIDENTIFIER",`(?:${d[m.NONNUMERICIDENTIFIER]}|${d[m.NUMERICIDENTIFIER]})`),w("PRERELEASEIDENTIFIERLOOSE",`(?:${d[m.NONNUMERICIDENTIFIER]}|${d[m.NUMERICIDENTIFIERLOOSE]})`),w("PRERELEASE",`(?:-(${d[m.PRERELEASEIDENTIFIER]}(?:\\.${d[m.PRERELEASEIDENTIFIER]})*))`),w("PRERELEASELOOSE",`(?:-?(${d[m.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${d[m.PRERELEASEIDENTIFIERLOOSE]})*))`),w("BUILDIDENTIFIER",`${y}+`),w("BUILD",`(?:\\+(${d[m.BUILDIDENTIFIER]}(?:\\.${d[m.BUILDIDENTIFIER]})*))`),w("FULLPLAIN",`v?${d[m.MAINVERSION]}${d[m.PRERELEASE]}?${d[m.BUILD]}?`),w("FULL",`^${d[m.FULLPLAIN]}$`),w("LOOSEPLAIN",`[v=\\s]*${d[m.MAINVERSIONLOOSE]}${d[m.PRERELEASELOOSE]}?${d[m.BUILD]}?`),w("LOOSE",`^${d[m.LOOSEPLAIN]}$`),w("GTLT","((?:<|>)?=?)"),w("XRANGEIDENTIFIERLOOSE",`${d[m.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),w("XRANGEIDENTIFIER",`${d[m.NUMERICIDENTIFIER]}|x|X|\\*`),w("XRANGEPLAIN",`[v=\\s]*(${d[m.XRANGEIDENTIFIER]})(?:\\.(${d[m.XRANGEIDENTIFIER]})(?:\\.(${d[m.XRANGEIDENTIFIER]})(?:${d[m.PRERELEASE]})?${d[m.BUILD]}?)?)?`),w("XRANGEPLAINLOOSE",`[v=\\s]*(${d[m.XRANGEIDENTIFIERLOOSE]})(?:\\.(${d[m.XRANGEIDENTIFIERLOOSE]})(?:\\.(${d[m.XRANGEIDENTIFIERLOOSE]})(?:${d[m.PRERELEASELOOSE]})?${d[m.BUILD]}?)?)?`),w("XRANGE",`^${d[m.GTLT]}\\s*${d[m.XRANGEPLAIN]}$`),w("XRANGELOOSE",`^${d[m.GTLT]}\\s*${d[m.XRANGEPLAINLOOSE]}$`),w("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),w("COERCE",`${d[m.COERCEPLAIN]}(?:$|[^\\d])`),w("COERCEFULL",d[m.COERCEPLAIN]+`(?:${d[m.PRERELEASE]})?(?:${d[m.BUILD]})?(?:$|[^\\d])`),w("COERCERTL",d[m.COERCE],!0),w("COERCERTLFULL",d[m.COERCEFULL],!0),w("LONETILDE","(?:~>?)"),w("TILDETRIM",`(\\s*)${d[m.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",w("TILDE",`^${d[m.LONETILDE]}${d[m.XRANGEPLAIN]}$`),w("TILDELOOSE",`^${d[m.LONETILDE]}${d[m.XRANGEPLAINLOOSE]}$`),w("LONECARET","(?:\\^)"),w("CARETTRIM",`(\\s*)${d[m.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",w("CARET",`^${d[m.LONECARET]}${d[m.XRANGEPLAIN]}$`),w("CARETLOOSE",`^${d[m.LONECARET]}${d[m.XRANGEPLAINLOOSE]}$`),w("COMPARATORLOOSE",`^${d[m.GTLT]}\\s*(${d[m.LOOSEPLAIN]})$|^$`),w("COMPARATOR",`^${d[m.GTLT]}\\s*(${d[m.FULLPLAIN]})$|^$`),w("COMPARATORTRIM",`(\\s*)${d[m.GTLT]}\\s*(${d[m.LOOSEPLAIN]}|${d[m.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",w("HYPHENRANGE",`^\\s*(${d[m.XRANGEPLAIN]})\\s+-\\s+(${d[m.XRANGEPLAIN]})\\s*$`),w("HYPHENRANGELOOSE",`^\\s*(${d[m.XRANGEPLAINLOOSE]})\\s+-\\s+(${d[m.XRANGEPLAINLOOSE]})\\s*$`),w("STAR","(<|>)?=?\\s*\\*"),w("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),w("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(tf,tf.exports)),tf.exports}var bm,SS;function ky(){if(SS)return bm;SS=1;const t=Object.freeze({loose:!0}),e=Object.freeze({});return bm=r=>r?typeof r!="object"?t:r:e,bm}var vm,ES;function Ex(){if(ES)return vm;ES=1;const t=/^[0-9]+$/,e=(r,i)=>{const o=t.test(r),u=t.test(i);return o&&u&&(r=+r,i=+i),r===i?0:o&&!u?-1:u&&!o?1:r<i?-1:1};return vm={compareIdentifiers:e,rcompareIdentifiers:(r,i)=>e(i,r)},vm}var _m,xS;function Cn(){if(xS)return _m;xS=1;const t=id(),{MAX_LENGTH:e,MAX_SAFE_INTEGER:n}=ad(),{safeRe:r,t:i}=Su(),o=ky(),{compareIdentifiers:u}=Ex();class c{constructor(h,m){if(m=o(m),h instanceof c){if(h.loose===!!m.loose&&h.includePrerelease===!!m.includePrerelease)return h;h=h.version}else if(typeof h!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof h}".`);if(h.length>e)throw new TypeError(`version is longer than ${e} characters`);t("SemVer",h,m),this.options=m,this.loose=!!m.loose,this.includePrerelease=!!m.includePrerelease;const b=h.trim().match(m.loose?r[i.LOOSE]:r[i.FULL]);if(!b)throw new TypeError(`Invalid Version: ${h}`);if(this.raw=h,this.major=+b[1],this.minor=+b[2],this.patch=+b[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");b[4]?this.prerelease=b[4].split(".").map(y=>{if(/^[0-9]+$/.test(y)){const _=+y;if(_>=0&&_<n)return _}return y}):this.prerelease=[],this.build=b[5]?b[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(h){if(t("SemVer.compare",this.version,this.options,h),!(h instanceof c)){if(typeof h=="string"&&h===this.version)return 0;h=new c(h,this.options)}return h.version===this.version?0:this.compareMain(h)||this.comparePre(h)}compareMain(h){return h instanceof c||(h=new c(h,this.options)),u(this.major,h.major)||u(this.minor,h.minor)||u(this.patch,h.patch)}comparePre(h){if(h instanceof c||(h=new c(h,this.options)),this.prerelease.length&&!h.prerelease.length)return-1;if(!this.prerelease.length&&h.prerelease.length)return 1;if(!this.prerelease.length&&!h.prerelease.length)return 0;let m=0;do{const b=this.prerelease[m],y=h.prerelease[m];if(t("prerelease compare",m,b,y),b===void 0&&y===void 0)return 0;if(y===void 0)return 1;if(b===void 0)return-1;if(b===y)continue;return u(b,y)}while(++m)}compareBuild(h){h instanceof c||(h=new c(h,this.options));let m=0;do{const b=this.build[m],y=h.build[m];if(t("build compare",m,b,y),b===void 0&&y===void 0)return 0;if(y===void 0)return 1;if(b===void 0)return-1;if(b===y)continue;return u(b,y)}while(++m)}inc(h,m,b){if(h.startsWith("pre")){if(!m&&b===!1)throw new Error("invalid increment argument: identifier is empty");if(m){const y=`-${m}`.match(this.options.loose?r[i.PRERELEASELOOSE]:r[i.PRERELEASE]);if(!y||y[1]!==m)throw new Error(`invalid identifier: ${m}`)}}switch(h){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",m,b);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",m,b);break;case"prepatch":this.prerelease.length=0,this.inc("patch",m,b),this.inc("pre",m,b);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",m,b),this.inc("pre",m,b);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const y=Number(b)?1:0;if(this.prerelease.length===0)this.prerelease=[y];else{let _=this.prerelease.length;for(;--_>=0;)typeof this.prerelease[_]=="number"&&(this.prerelease[_]++,_=-2);if(_===-1){if(m===this.prerelease.join(".")&&b===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(y)}}if(m){let _=[m,y];b===!1&&(_=[m]),u(this.prerelease[0],m)===0?isNaN(this.prerelease[1])&&(this.prerelease=_):this.prerelease=_}break}default:throw new Error(`invalid increment argument: ${h}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return _m=c,_m}var wm,TS;function xo(){if(TS)return wm;TS=1;const t=Cn();return wm=(n,r,i=!1)=>{if(n instanceof t)return n;try{return new t(n,r)}catch(o){if(!i)return null;throw o}},wm}var Sm,OS;function G2(){if(OS)return Sm;OS=1;const t=xo();return Sm=(n,r)=>{const i=t(n,r);return i?i.version:null},Sm}var Em,RS;function V2(){if(RS)return Em;RS=1;const t=xo();return Em=(n,r)=>{const i=t(n.trim().replace(/^[=v]+/,""),r);return i?i.version:null},Em}var xm,CS;function Z2(){if(CS)return xm;CS=1;const t=Cn();return xm=(n,r,i,o,u)=>{typeof i=="string"&&(u=o,o=i,i=void 0);try{return new t(n instanceof t?n.version:n,i).inc(r,o,u).version}catch{return null}},xm}var Tm,AS;function Y2(){if(AS)return Tm;AS=1;const t=xo();return Tm=(n,r)=>{const i=t(n,null,!0),o=t(r,null,!0),u=i.compare(o);if(u===0)return null;const c=u>0,d=c?i:o,h=c?o:i,m=!!d.prerelease.length;if(!!h.prerelease.length&&!m){if(!h.patch&&!h.minor)return"major";if(h.compareMain(d)===0)return h.minor&&!h.patch?"minor":"patch"}const y=m?"pre":"";return i.major!==o.major?y+"major":i.minor!==o.minor?y+"minor":i.patch!==o.patch?y+"patch":"prerelease"},Tm}var Om,NS;function K2(){if(NS)return Om;NS=1;const t=Cn();return Om=(n,r)=>new t(n,r).major,Om}var Rm,kS;function X2(){if(kS)return Rm;kS=1;const t=Cn();return Rm=(n,r)=>new t(n,r).minor,Rm}var Cm,IS;function W2(){if(IS)return Cm;IS=1;const t=Cn();return Cm=(n,r)=>new t(n,r).patch,Cm}var Am,$S;function Q2(){if($S)return Am;$S=1;const t=xo();return Am=(n,r)=>{const i=t(n,r);return i&&i.prerelease.length?i.prerelease:null},Am}var Nm,jS;function jr(){if(jS)return Nm;jS=1;const t=Cn();return Nm=(n,r,i)=>new t(n,i).compare(new t(r,i)),Nm}var km,PS;function J2(){if(PS)return km;PS=1;const t=jr();return km=(n,r,i)=>t(r,n,i),km}var Im,MS;function eN(){if(MS)return Im;MS=1;const t=jr();return Im=(n,r)=>t(n,r,!0),Im}var $m,LS;function Iy(){if(LS)return $m;LS=1;const t=Cn();return $m=(n,r,i)=>{const o=new t(n,i),u=new t(r,i);return o.compare(u)||o.compareBuild(u)},$m}var jm,DS;function tN(){if(DS)return jm;DS=1;const t=Iy();return jm=(n,r)=>n.sort((i,o)=>t(i,o,r)),jm}var Pm,US;function nN(){if(US)return Pm;US=1;const t=Iy();return Pm=(n,r)=>n.sort((i,o)=>t(o,i,r)),Pm}var Mm,zS;function sd(){if(zS)return Mm;zS=1;const t=jr();return Mm=(n,r,i)=>t(n,r,i)>0,Mm}var Lm,BS;function $y(){if(BS)return Lm;BS=1;const t=jr();return Lm=(n,r,i)=>t(n,r,i)<0,Lm}var Dm,HS;function xx(){if(HS)return Dm;HS=1;const t=jr();return Dm=(n,r,i)=>t(n,r,i)===0,Dm}var Um,qS;function Tx(){if(qS)return Um;qS=1;const t=jr();return Um=(n,r,i)=>t(n,r,i)!==0,Um}var zm,FS;function jy(){if(FS)return zm;FS=1;const t=jr();return zm=(n,r,i)=>t(n,r,i)>=0,zm}var Bm,GS;function Py(){if(GS)return Bm;GS=1;const t=jr();return Bm=(n,r,i)=>t(n,r,i)<=0,Bm}var Hm,VS;function Ox(){if(VS)return Hm;VS=1;const t=xx(),e=Tx(),n=sd(),r=jy(),i=$y(),o=Py();return Hm=(c,d,h,m)=>{switch(d){case"===":return typeof c=="object"&&(c=c.version),typeof h=="object"&&(h=h.version),c===h;case"!==":return typeof c=="object"&&(c=c.version),typeof h=="object"&&(h=h.version),c!==h;case"":case"=":case"==":return t(c,h,m);case"!=":return e(c,h,m);case">":return n(c,h,m);case">=":return r(c,h,m);case"<":return i(c,h,m);case"<=":return o(c,h,m);default:throw new TypeError(`Invalid operator: ${d}`)}},Hm}var qm,ZS;function rN(){if(ZS)return qm;ZS=1;const t=Cn(),e=xo(),{safeRe:n,t:r}=Su();return qm=(o,u)=>{if(o instanceof t)return o;if(typeof o=="number"&&(o=String(o)),typeof o!="string")return null;u=u||{};let c=null;if(!u.rtl)c=o.match(u.includePrerelease?n[r.COERCEFULL]:n[r.COERCE]);else{const _=u.includePrerelease?n[r.COERCERTLFULL]:n[r.COERCERTL];let v;for(;(v=_.exec(o))&&(!c||c.index+c[0].length!==o.length);)(!c||v.index+v[0].length!==c.index+c[0].length)&&(c=v),_.lastIndex=v.index+v[1].length+v[2].length;_.lastIndex=-1}if(c===null)return null;const d=c[2],h=c[3]||"0",m=c[4]||"0",b=u.includePrerelease&&c[5]?`-${c[5]}`:"",y=u.includePrerelease&&c[6]?`+${c[6]}`:"";return e(`${d}.${h}.${m}${b}${y}`,u)},qm}var Fm,YS;function aN(){if(YS)return Fm;YS=1;class t{constructor(){this.max=1e3,this.map=new Map}get(n){const r=this.map.get(n);if(r!==void 0)return this.map.delete(n),this.map.set(n,r),r}delete(n){return this.map.delete(n)}set(n,r){if(!this.delete(n)&&r!==void 0){if(this.map.size>=this.max){const o=this.map.keys().next().value;this.delete(o)}this.map.set(n,r)}return this}}return Fm=t,Fm}var Gm,KS;function Pr(){if(KS)return Gm;KS=1;const t=/\s+/g;class e{constructor(U,I){if(I=i(I),U instanceof e)return U.loose===!!I.loose&&U.includePrerelease===!!I.includePrerelease?U:new e(U.raw,I);if(U instanceof o)return this.raw=U.value,this.set=[[U]],this.formatted=void 0,this;if(this.options=I,this.loose=!!I.loose,this.includePrerelease=!!I.includePrerelease,this.raw=U.trim().replace(t," "),this.set=this.raw.split("||").map(M=>this.parseRange(M.trim())).filter(M=>M.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const M=this.set[0];if(this.set=this.set.filter(Z=>!w(Z[0])),this.set.length===0)this.set=[M];else if(this.set.length>1){for(const Z of this.set)if(Z.length===1&&S(Z[0])){this.set=[Z];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let U=0;U<this.set.length;U++){U>0&&(this.formatted+="||");const I=this.set[U];for(let M=0;M<I.length;M++)M>0&&(this.formatted+=" "),this.formatted+=I[M].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(U){const M=((this.options.includePrerelease&&_)|(this.options.loose&&v))+":"+U,Z=r.get(M);if(Z)return Z;const B=this.options.loose,k=B?d[h.HYPHENRANGELOOSE]:d[h.HYPHENRANGE];U=U.replace(k,J(this.options.includePrerelease)),u("hyphen replace",U),U=U.replace(d[h.COMPARATORTRIM],m),u("comparator trim",U),U=U.replace(d[h.TILDETRIM],b),u("tilde trim",U),U=U.replace(d[h.CARETTRIM],y),u("caret trim",U);let H=U.split(" ").map(le=>N(le,this.options)).join(" ").split(/\s+/).map(le=>F(le,this.options));B&&(H=H.filter(le=>(u("loose invalid filter",le,this.options),!!le.match(d[h.COMPARATORLOOSE])))),u("range list",H);const W=new Map,ee=H.map(le=>new o(le,this.options));for(const le of ee){if(w(le))return[le];W.set(le.value,le)}W.size>1&&W.has("")&&W.delete("");const oe=[...W.values()];return r.set(M,oe),oe}intersects(U,I){if(!(U instanceof e))throw new TypeError("a Range is required");return this.set.some(M=>T(M,I)&&U.set.some(Z=>T(Z,I)&&M.every(B=>Z.every(k=>B.intersects(k,I)))))}test(U){if(!U)return!1;if(typeof U=="string")try{U=new c(U,this.options)}catch{return!1}for(let I=0;I<this.set.length;I++)if(ne(this.set[I],U,this.options))return!0;return!1}}Gm=e;const n=aN(),r=new n,i=ky(),o=od(),u=id(),c=Cn(),{safeRe:d,t:h,comparatorTrimReplace:m,tildeTrimReplace:b,caretTrimReplace:y}=Su(),{FLAG_INCLUDE_PRERELEASE:_,FLAG_LOOSE:v}=ad(),w=G=>G.value==="<0.0.0-0",S=G=>G.value==="",T=(G,U)=>{let I=!0;const M=G.slice();let Z=M.pop();for(;I&&M.length;)I=M.every(B=>Z.intersects(B,U)),Z=M.pop();return I},N=(G,U)=>(u("comp",G,U),G=j(G,U),u("caret",G),G=R(G,U),u("tildes",G),G=D(G,U),u("xrange",G),G=C(G,U),u("stars",G),G),x=G=>!G||G.toLowerCase()==="x"||G==="*",R=(G,U)=>G.trim().split(/\s+/).map(I=>O(I,U)).join(" "),O=(G,U)=>{const I=U.loose?d[h.TILDELOOSE]:d[h.TILDE];return G.replace(I,(M,Z,B,k,H)=>{u("tilde",G,M,Z,B,k,H);let W;return x(Z)?W="":x(B)?W=`>=${Z}.0.0 <${+Z+1}.0.0-0`:x(k)?W=`>=${Z}.${B}.0 <${Z}.${+B+1}.0-0`:H?(u("replaceTilde pr",H),W=`>=${Z}.${B}.${k}-${H} <${Z}.${+B+1}.0-0`):W=`>=${Z}.${B}.${k} <${Z}.${+B+1}.0-0`,u("tilde return",W),W})},j=(G,U)=>G.trim().split(/\s+/).map(I=>L(I,U)).join(" "),L=(G,U)=>{u("caret",G,U);const I=U.loose?d[h.CARETLOOSE]:d[h.CARET],M=U.includePrerelease?"-0":"";return G.replace(I,(Z,B,k,H,W)=>{u("caret",G,Z,B,k,H,W);let ee;return x(B)?ee="":x(k)?ee=`>=${B}.0.0${M} <${+B+1}.0.0-0`:x(H)?B==="0"?ee=`>=${B}.${k}.0${M} <${B}.${+k+1}.0-0`:ee=`>=${B}.${k}.0${M} <${+B+1}.0.0-0`:W?(u("replaceCaret pr",W),B==="0"?k==="0"?ee=`>=${B}.${k}.${H}-${W} <${B}.${k}.${+H+1}-0`:ee=`>=${B}.${k}.${H}-${W} <${B}.${+k+1}.0-0`:ee=`>=${B}.${k}.${H}-${W} <${+B+1}.0.0-0`):(u("no pr"),B==="0"?k==="0"?ee=`>=${B}.${k}.${H}${M} <${B}.${k}.${+H+1}-0`:ee=`>=${B}.${k}.${H}${M} <${B}.${+k+1}.0-0`:ee=`>=${B}.${k}.${H} <${+B+1}.0.0-0`),u("caret return",ee),ee})},D=(G,U)=>(u("replaceXRanges",G,U),G.split(/\s+/).map(I=>te(I,U)).join(" ")),te=(G,U)=>{G=G.trim();const I=U.loose?d[h.XRANGELOOSE]:d[h.XRANGE];return G.replace(I,(M,Z,B,k,H,W)=>{u("xRange",G,M,Z,B,k,H,W);const ee=x(B),oe=ee||x(k),le=oe||x(H),fe=le;return Z==="="&&fe&&(Z=""),W=U.includePrerelease?"-0":"",ee?Z===">"||Z==="<"?M="<0.0.0-0":M="*":Z&&fe?(oe&&(k=0),H=0,Z===">"?(Z=">=",oe?(B=+B+1,k=0,H=0):(k=+k+1,H=0)):Z==="<="&&(Z="<",oe?B=+B+1:k=+k+1),Z==="<"&&(W="-0"),M=`${Z+B}.${k}.${H}${W}`):oe?M=`>=${B}.0.0${W} <${+B+1}.0.0-0`:le&&(M=`>=${B}.${k}.0${W} <${B}.${+k+1}.0-0`),u("xRange return",M),M})},C=(G,U)=>(u("replaceStars",G,U),G.trim().replace(d[h.STAR],"")),F=(G,U)=>(u("replaceGTE0",G,U),G.trim().replace(d[U.includePrerelease?h.GTE0PRE:h.GTE0],"")),J=G=>(U,I,M,Z,B,k,H,W,ee,oe,le,fe)=>(x(M)?I="":x(Z)?I=`>=${M}.0.0${G?"-0":""}`:x(B)?I=`>=${M}.${Z}.0${G?"-0":""}`:k?I=`>=${I}`:I=`>=${I}${G?"-0":""}`,x(ee)?W="":x(oe)?W=`<${+ee+1}.0.0-0`:x(le)?W=`<${ee}.${+oe+1}.0-0`:fe?W=`<=${ee}.${oe}.${le}-${fe}`:G?W=`<${ee}.${oe}.${+le+1}-0`:W=`<=${W}`,`${I} ${W}`.trim()),ne=(G,U,I)=>{for(let M=0;M<G.length;M++)if(!G[M].test(U))return!1;if(U.prerelease.length&&!I.includePrerelease){for(let M=0;M<G.length;M++)if(u(G[M].semver),G[M].semver!==o.ANY&&G[M].semver.prerelease.length>0){const Z=G[M].semver;if(Z.major===U.major&&Z.minor===U.minor&&Z.patch===U.patch)return!0}return!1}return!0};return Gm}var Vm,XS;function od(){if(XS)return Vm;XS=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(m,b){if(b=n(b),m instanceof e){if(m.loose===!!b.loose)return m;m=m.value}m=m.trim().split(/\s+/).join(" "),u("comparator",m,b),this.options=b,this.loose=!!b.loose,this.parse(m),this.semver===t?this.value="":this.value=this.operator+this.semver.version,u("comp",this)}parse(m){const b=this.options.loose?r[i.COMPARATORLOOSE]:r[i.COMPARATOR],y=m.match(b);if(!y)throw new TypeError(`Invalid comparator: ${m}`);this.operator=y[1]!==void 0?y[1]:"",this.operator==="="&&(this.operator=""),y[2]?this.semver=new c(y[2],this.options.loose):this.semver=t}toString(){return this.value}test(m){if(u("Comparator.test",m,this.options.loose),this.semver===t||m===t)return!0;if(typeof m=="string")try{m=new c(m,this.options)}catch{return!1}return o(m,this.operator,this.semver,this.options)}intersects(m,b){if(!(m instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new d(m.value,b).test(this.value):m.operator===""?m.value===""?!0:new d(this.value,b).test(m.semver):(b=n(b),b.includePrerelease&&(this.value==="<0.0.0-0"||m.value==="<0.0.0-0")||!b.includePrerelease&&(this.value.startsWith("<0.0.0")||m.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&m.operator.startsWith(">")||this.operator.startsWith("<")&&m.operator.startsWith("<")||this.semver.version===m.semver.version&&this.operator.includes("=")&&m.operator.includes("=")||o(this.semver,"<",m.semver,b)&&this.operator.startsWith(">")&&m.operator.startsWith("<")||o(this.semver,">",m.semver,b)&&this.operator.startsWith("<")&&m.operator.startsWith(">")))}}Vm=e;const n=ky(),{safeRe:r,t:i}=Su(),o=Ox(),u=id(),c=Cn(),d=Pr();return Vm}var Zm,WS;function ld(){if(WS)return Zm;WS=1;const t=Pr();return Zm=(n,r,i)=>{try{r=new t(r,i)}catch{return!1}return r.test(n)},Zm}var Ym,QS;function iN(){if(QS)return Ym;QS=1;const t=Pr();return Ym=(n,r)=>new t(n,r).set.map(i=>i.map(o=>o.value).join(" ").trim().split(" ")),Ym}var Km,JS;function sN(){if(JS)return Km;JS=1;const t=Cn(),e=Pr();return Km=(r,i,o)=>{let u=null,c=null,d=null;try{d=new e(i,o)}catch{return null}return r.forEach(h=>{d.test(h)&&(!u||c.compare(h)===-1)&&(u=h,c=new t(u,o))}),u},Km}var Xm,e1;function oN(){if(e1)return Xm;e1=1;const t=Cn(),e=Pr();return Xm=(r,i,o)=>{let u=null,c=null,d=null;try{d=new e(i,o)}catch{return null}return r.forEach(h=>{d.test(h)&&(!u||c.compare(h)===1)&&(u=h,c=new t(u,o))}),u},Xm}var Wm,t1;function lN(){if(t1)return Wm;t1=1;const t=Cn(),e=Pr(),n=sd();return Wm=(i,o)=>{i=new e(i,o);let u=new t("0.0.0");if(i.test(u)||(u=new t("0.0.0-0"),i.test(u)))return u;u=null;for(let c=0;c<i.set.length;++c){const d=i.set[c];let h=null;d.forEach(m=>{const b=new t(m.semver.version);switch(m.operator){case">":b.prerelease.length===0?b.patch++:b.prerelease.push(0),b.raw=b.format();case"":case">=":(!h||n(b,h))&&(h=b);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${m.operator}`)}}),h&&(!u||n(u,h))&&(u=h)}return u&&i.test(u)?u:null},Wm}var Qm,n1;function uN(){if(n1)return Qm;n1=1;const t=Pr();return Qm=(n,r)=>{try{return new t(n,r).range||"*"}catch{return null}},Qm}var Jm,r1;function My(){if(r1)return Jm;r1=1;const t=Cn(),e=od(),{ANY:n}=e,r=Pr(),i=ld(),o=sd(),u=$y(),c=Py(),d=jy();return Jm=(m,b,y,_)=>{m=new t(m,_),b=new r(b,_);let v,w,S,T,N;switch(y){case">":v=o,w=c,S=u,T=">",N=">=";break;case"<":v=u,w=d,S=o,T="<",N="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(i(m,b,_))return!1;for(let x=0;x<b.set.length;++x){const R=b.set[x];let O=null,j=null;if(R.forEach(L=>{L.semver===n&&(L=new e(">=0.0.0")),O=O||L,j=j||L,v(L.semver,O.semver,_)?O=L:S(L.semver,j.semver,_)&&(j=L)}),O.operator===T||O.operator===N||(!j.operator||j.operator===T)&&w(m,j.semver))return!1;if(j.operator===N&&S(m,j.semver))return!1}return!0},Jm}var eg,a1;function cN(){if(a1)return eg;a1=1;const t=My();return eg=(n,r,i)=>t(n,r,">",i),eg}var tg,i1;function fN(){if(i1)return tg;i1=1;const t=My();return tg=(n,r,i)=>t(n,r,"<",i),tg}var ng,s1;function dN(){if(s1)return ng;s1=1;const t=Pr();return ng=(n,r,i)=>(n=new t(n,i),r=new t(r,i),n.intersects(r,i)),ng}var rg,o1;function hN(){if(o1)return rg;o1=1;const t=ld(),e=jr();return rg=(n,r,i)=>{const o=[];let u=null,c=null;const d=n.sort((y,_)=>e(y,_,i));for(const y of d)t(y,r,i)?(c=y,u||(u=y)):(c&&o.push([u,c]),c=null,u=null);u&&o.push([u,null]);const h=[];for(const[y,_]of o)y===_?h.push(y):!_&&y===d[0]?h.push("*"):_?y===d[0]?h.push(`<=${_}`):h.push(`${y} - ${_}`):h.push(`>=${y}`);const m=h.join(" || "),b=typeof r.raw=="string"?r.raw:String(r);return m.length<b.length?m:r},rg}var ag,l1;function pN(){if(l1)return ag;l1=1;const t=Pr(),e=od(),{ANY:n}=e,r=ld(),i=jr(),o=(b,y,_={})=>{if(b===y)return!0;b=new t(b,_),y=new t(y,_);let v=!1;e:for(const w of b.set){for(const S of y.set){const T=d(w,S,_);if(v=v||T!==null,T)continue e}if(v)return!1}return!0},u=[new e(">=0.0.0-0")],c=[new e(">=0.0.0")],d=(b,y,_)=>{if(b===y)return!0;if(b.length===1&&b[0].semver===n){if(y.length===1&&y[0].semver===n)return!0;_.includePrerelease?b=u:b=c}if(y.length===1&&y[0].semver===n){if(_.includePrerelease)return!0;y=c}const v=new Set;let w,S;for(const D of b)D.operator===">"||D.operator===">="?w=h(w,D,_):D.operator==="<"||D.operator==="<="?S=m(S,D,_):v.add(D.semver);if(v.size>1)return null;let T;if(w&&S){if(T=i(w.semver,S.semver,_),T>0)return null;if(T===0&&(w.operator!==">="||S.operator!=="<="))return null}for(const D of v){if(w&&!r(D,String(w),_)||S&&!r(D,String(S),_))return null;for(const te of y)if(!r(D,String(te),_))return!1;return!0}let N,x,R,O,j=S&&!_.includePrerelease&&S.semver.prerelease.length?S.semver:!1,L=w&&!_.includePrerelease&&w.semver.prerelease.length?w.semver:!1;j&&j.prerelease.length===1&&S.operator==="<"&&j.prerelease[0]===0&&(j=!1);for(const D of y){if(O=O||D.operator===">"||D.operator===">=",R=R||D.operator==="<"||D.operator==="<=",w){if(L&&D.semver.prerelease&&D.semver.prerelease.length&&D.semver.major===L.major&&D.semver.minor===L.minor&&D.semver.patch===L.patch&&(L=!1),D.operator===">"||D.operator===">="){if(N=h(w,D,_),N===D&&N!==w)return!1}else if(w.operator===">="&&!r(w.semver,String(D),_))return!1}if(S){if(j&&D.semver.prerelease&&D.semver.prerelease.length&&D.semver.major===j.major&&D.semver.minor===j.minor&&D.semver.patch===j.patch&&(j=!1),D.operator==="<"||D.operator==="<="){if(x=m(S,D,_),x===D&&x!==S)return!1}else if(S.operator==="<="&&!r(S.semver,String(D),_))return!1}if(!D.operator&&(S||w)&&T!==0)return!1}return!(w&&R&&!S&&T!==0||S&&O&&!w&&T!==0||L||j)},h=(b,y,_)=>{if(!b)return y;const v=i(b.semver,y.semver,_);return v>0?b:v<0||y.operator===">"&&b.operator===">="?y:b},m=(b,y,_)=>{if(!b)return y;const v=i(b.semver,y.semver,_);return v<0?b:v>0||y.operator==="<"&&b.operator==="<="?y:b};return ag=o,ag}var ig,u1;function mN(){if(u1)return ig;u1=1;const t=Su(),e=ad(),n=Cn(),r=Ex(),i=xo(),o=G2(),u=V2(),c=Z2(),d=Y2(),h=K2(),m=X2(),b=W2(),y=Q2(),_=jr(),v=J2(),w=eN(),S=Iy(),T=tN(),N=nN(),x=sd(),R=$y(),O=xx(),j=Tx(),L=jy(),D=Py(),te=Ox(),C=rN(),F=od(),J=Pr(),ne=ld(),G=iN(),U=sN(),I=oN(),M=lN(),Z=uN(),B=My(),k=cN(),H=fN(),W=dN(),ee=hN(),oe=pN();return ig={parse:i,valid:o,clean:u,inc:c,diff:d,major:h,minor:m,patch:b,prerelease:y,compare:_,rcompare:v,compareLoose:w,compareBuild:S,sort:T,rsort:N,gt:x,lt:R,eq:O,neq:j,gte:L,lte:D,cmp:te,coerce:C,Comparator:F,Range:J,satisfies:ne,toComparators:G,maxSatisfying:U,minSatisfying:I,minVersion:M,validRange:Z,outside:B,gtr:k,ltr:H,intersects:W,simplifyRange:ee,subset:oe,SemVer:n,re:t.re,src:t.src,tokens:t.t,SEMVER_SPEC_VERSION:e.SEMVER_SPEC_VERSION,RELEASE_TYPES:e.RELEASE_TYPES,compareIdentifiers:r.compareIdentifiers,rcompareIdentifiers:r.rcompareIdentifiers},ig}mN();function ti(t){if(!t||t.split("/").length>2||t.startsWith("/")||t.endsWith("/")||t.split(":").length>2)throw new Error(`Invalid identifier format: ${t}`);const[e,n]=t.split(":"),r=n||"latest";if(e.includes("/")){const[i,o]=e.split("/",2);if(!i||!o)throw new Error(`Invalid identifier format: ${t}`);return[i,o,r]}else{if(!e)throw new Error(`Invalid identifier format: ${t}`);return["-",e,r]}}class gN extends Error{constructor(e){super(e),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="LangSmithConflictError",this.status=409}}async function Pe(t,e,n){let r;if(t.ok){n&&(r=await t.text());return}r=await t.text();const i=`Failed to ${e}. Received status [${t.status}]: ${t.statusText}. Server response: ${r}`;if(t.status===409)throw new gN(i);const o=new Error(i);throw o.status=t.status,o}var c1="[...]",yN={result:"[Circular]"},$f=[],eo=[];const bN=new TextEncoder;function vN(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function nf(t){return bN.encode(t)}function Qn(t,e,n,r,i){var o;try{const u=JSON.stringify(t,n,r);return nf(u)}catch(u){if(!((o=u.message)!=null&&o.includes("Converting circular structure to JSON")))return console.warn(`[WARNING]: LangSmith received unserializable value.${e?`
Context: ${e}`:""}`),nf("[Unserializable]");console.warn(`[WARNING]: LangSmith received circular JSON. This will decrease tracer performance. ${e?`
Context: ${e}`:""}`),typeof i>"u"&&(i=vN()),Bg(t,"",0,[],void 0,0,i);let c;try{eo.length===0?c=JSON.stringify(t,n,r):c=JSON.stringify(t,_N(n),r)}catch{return nf("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;$f.length!==0;){const d=$f.pop();d.length===4?Object.defineProperty(d[0],d[1],d[3]):d[0][d[1]]=d[2]}}return nf(c)}}function sg(t,e,n,r){var i=Object.getOwnPropertyDescriptor(r,n);i.get!==void 0?i.configurable?(Object.defineProperty(r,n,{value:t}),$f.push([r,n,e,i])):eo.push([e,n,t]):(r[n]=t,$f.push([r,n,e]))}function Bg(t,e,n,r,i,o,u){o+=1;var c;if(typeof t=="object"&&t!==null){for(c=0;c<r.length;c++)if(r[c]===t){sg(yN,t,e,i);return}if(typeof u.depthLimit<"u"&&o>u.depthLimit){sg(c1,t,e,i);return}if(typeof u.edgesLimit<"u"&&n+1>u.edgesLimit){sg(c1,t,e,i);return}if(r.push(t),Array.isArray(t))for(c=0;c<t.length;c++)Bg(t[c],c,c,r,t,o,u);else{var d=Object.keys(t);for(c=0;c<d.length;c++){var h=d[c];Bg(t[h],h,c,r,t,o,u)}}r.pop()}}function _N(t){return t=typeof t<"u"?t:function(e,n){return n},function(e,n){if(eo.length>0)for(var r=0;r<eo.length;r++){var i=eo[r];if(i[1]===e&&i[0]===n){n=i[2],eo.splice(r,1);break}}return t.call(this,e,n)}}function f1(t){const e=_x(),n=D2(),r=t.extra??{},i=r.metadata;return t.extra={...r,runtime:{...e,...r==null?void 0:r.runtime},metadata:{...n,...n.revision_id||t.revision_id?{revision_id:t.revision_id??n.revision_id}:{},...i}},t}const wN=t=>{const e=(t==null?void 0:t.toString())??Gr("TRACING_SAMPLING_RATE");if(e===void 0)return;const n=parseFloat(e);if(n<0||n>1)throw new Error(`LANGSMITH_TRACING_SAMPLING_RATE must be between 0 and 1 if set. Got: ${n}`);return n},SN=t=>{const n=t.replace("http://","").replace("https://","").split("/")[0].split(":")[0];return n==="localhost"||n==="127.0.0.1"||n==="::1"};async function EN(t){const e=[];for await(const n of t)e.push(n);return e}function og(t){if(t!==void 0)return t.trim().replace(/^"(.*)"$/,"$1").replace(/^'(.*)'$/,"$1")}const xN=async t=>{if((t==null?void 0:t.status)===429){const e=parseInt(t.headers.get("retry-after")??"30",10)*1e3;if(e>0)return await new Promise(n=>setTimeout(n,e)),!0}return!1};function d1(t){return typeof t=="number"?Number(t.toFixed(4)):t}class TN{constructor(){Object.defineProperty(this,"items",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"sizeBytes",{enumerable:!0,configurable:!0,writable:!0,value:0})}peek(){return this.items[0]}push(e){let n;const r=new Promise(o=>{n=o}),i=Qn(e.item,`Serializing run with id: ${e.item.id}`).length;return this.items.push({action:e.action,payload:e.item,itemPromiseResolve:n,itemPromise:r,size:i}),this.sizeBytes+=i,r}pop(e){var i;if(e<1)throw new Error("Number of bytes to pop off may not be less than 1.");const n=[];let r=0;for(;r+(((i=this.peek())==null?void 0:i.size)??0)<e&&this.items.length>0;){const o=this.items.shift();o&&(n.push(o),r+=o.size,this.sizeBytes-=o.size)}if(n.length===0&&this.items.length>0){const o=this.items.shift();n.push(o),r+=o.size,this.sizeBytes-=o.size}return[n.map(o=>({action:o.action,item:o.payload})),()=>n.forEach(o=>o.itemPromiseResolve())]}}const ON=20971520,RN=2500;class lu{constructor(e={}){var r;Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"webUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"batchIngestCaller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout_ms",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tenantId",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"hideInputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"hideOutputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tracingSampleRate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"filteredPostUuids",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(this,"autoBatchTracing",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"autoBatchQueue",{enumerable:!0,configurable:!0,writable:!0,value:new TN}),Object.defineProperty(this,"autoBatchTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"autoBatchAggregationDelayMs",{enumerable:!0,configurable:!0,writable:!0,value:250}),Object.defineProperty(this,"batchSizeBytesLimit",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fetchOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"blockOnRootRunFinalization",{enumerable:!0,configurable:!0,writable:!0,value:pi("LANGSMITH_TRACING_BACKGROUND")==="false"}),Object.defineProperty(this,"traceBatchConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:5}),Object.defineProperty(this,"_serverInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_getServerInfoPromise",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"manualFlushMode",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"debug",{enumerable:!0,configurable:!0,writable:!0,value:pi("LANGSMITH_DEBUG")==="true"});const n=lu.getDefaultClientConfig();if(this.tracingSampleRate=wN(e.tracingSamplingRate),this.apiUrl=og(e.apiUrl??n.apiUrl)??"",this.apiUrl.endsWith("/")&&(this.apiUrl=this.apiUrl.slice(0,-1)),this.apiKey=og(e.apiKey??n.apiKey),this.webUrl=og(e.webUrl??n.webUrl),(r=this.webUrl)!=null&&r.endsWith("/")&&(this.webUrl=this.webUrl.slice(0,-1)),this.timeout_ms=e.timeout_ms??9e4,this.caller=new mS({...e.callerOptions??{},debug:e.debug??this.debug}),this.traceBatchConcurrency=e.traceBatchConcurrency??this.traceBatchConcurrency,this.traceBatchConcurrency<1)throw new Error("Trace batch concurrency must be positive.");this.debug=e.debug??this.debug,this.batchIngestCaller=new mS({maxRetries:2,maxConcurrency:this.traceBatchConcurrency,...e.callerOptions??{},onFailedResponseHook:xN,debug:e.debug??this.debug}),this.hideInputs=e.hideInputs??e.anonymizer??n.hideInputs,this.hideOutputs=e.hideOutputs??e.anonymizer??n.hideOutputs,this.autoBatchTracing=e.autoBatchTracing??this.autoBatchTracing,this.blockOnRootRunFinalization=e.blockOnRootRunFinalization??this.blockOnRootRunFinalization,this.batchSizeBytesLimit=e.batchSizeBytesLimit,this.fetchOptions=e.fetchOptions||{},this.manualFlushMode=e.manualFlushMode??this.manualFlushMode}static getDefaultClientConfig(){const e=Gr("API_KEY"),n=Gr("ENDPOINT")??"https://api.smith.langchain.com",r=Gr("HIDE_INPUTS")==="true",i=Gr("HIDE_OUTPUTS")==="true";return{apiUrl:n,apiKey:e,webUrl:void 0,hideInputs:r,hideOutputs:i}}getHostUrl(){return this.webUrl?this.webUrl:SN(this.apiUrl)?(this.webUrl="http://localhost:3000",this.webUrl):this.apiUrl.endsWith("/api/v1")?(this.webUrl=this.apiUrl.replace("/api/v1",""),this.webUrl):this.apiUrl.includes("/api")&&!this.apiUrl.split(".",1)[0].endsWith("api")?(this.webUrl=this.apiUrl.replace("/api",""),this.webUrl):this.apiUrl.split(".",1)[0].includes("dev")?(this.webUrl="https://dev.smith.langchain.com",this.webUrl):this.apiUrl.split(".",1)[0].includes("eu")?(this.webUrl="https://eu.smith.langchain.com",this.webUrl):this.apiUrl.split(".",1)[0].includes("beta")?(this.webUrl="https://beta.smith.langchain.com",this.webUrl):(this.webUrl="https://smith.langchain.com",this.webUrl)}get headers(){const e={"User-Agent":`langsmith-js/${bx}`};return this.apiKey&&(e["x-api-key"]=`${this.apiKey}`),e}async processInputs(e){return this.hideInputs===!1?e:this.hideInputs===!0?{}:typeof this.hideInputs=="function"?this.hideInputs(e):e}async processOutputs(e){return this.hideOutputs===!1?e:this.hideOutputs===!0?{}:typeof this.hideOutputs=="function"?this.hideOutputs(e):e}async prepareRunCreateOrUpdateInputs(e){const n={...e};return n.inputs!==void 0&&(n.inputs=await this.processInputs(n.inputs)),n.outputs!==void 0&&(n.outputs=await this.processOutputs(n.outputs)),n}async _getResponse(e,n){const r=(n==null?void 0:n.toString())??"",i=`${this.apiUrl}${e}?${r}`,o=await this.caller.call(Se(this.debug),i,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Pe(o,`Failed to fetch ${e}`),o}async _get(e,n){return(await this._getResponse(e,n)).json()}async*_getPaginated(e,n=new URLSearchParams,r){let i=Number(n.get("offset"))||0;const o=Number(n.get("limit"))||100;for(;;){n.set("offset",String(i)),n.set("limit",String(o));const u=`${this.apiUrl}${e}?${n}`,c=await this.caller.call(Se(this.debug),u,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Pe(c,`Failed to fetch ${e}`);const d=r?r(await c.json()):await c.json();if(d.length===0||(yield d,d.length<o))break;i+=d.length}}async*_getCursorPaginatedList(e,n=null,r="POST",i="runs"){const o=n?{...n}:{};for(;;){const c=await(await this.caller.call(Se(this.debug),`${this.apiUrl}${e}`,{method:r,headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:JSON.stringify(o)})).json();if(!c||!c[i])break;yield c[i];const d=c.cursors;if(!d||!d.next)break;o.cursor=d.next}}_shouldSample(){return this.tracingSampleRate===void 0?!0:Math.random()<this.tracingSampleRate}_filterForSampling(e,n=!1){if(this.tracingSampleRate===void 0)return e;if(n){const r=[];for(const i of e)this.filteredPostUuids.has(i.id)?this.filteredPostUuids.delete(i.id):r.push(i);return r}else{const r=[];for(const i of e){const o=i.trace_id??i.id;this.filteredPostUuids.has(o)||(i.id===o?this._shouldSample()?r.push(i):this.filteredPostUuids.add(o):r.push(i))}return r}}async _getBatchSizeLimitBytes(){var n;const e=await this._ensureServerInfo();return this.batchSizeBytesLimit??((n=e.batch_ingest_config)==null?void 0:n.size_limit_bytes)??ON}async _getMultiPartSupport(){var n;return((n=(await this._ensureServerInfo()).instance_flags)==null?void 0:n.dataset_examples_multipart_enabled)??!1}drainAutoBatchQueue(e){const n=[];for(;this.autoBatchQueue.items.length>0;){const[r,i]=this.autoBatchQueue.pop(e);if(!r.length){i();break}const o=this._processBatch(r,i).catch(console.error);n.push(o)}return Promise.all(n)}async _processBatch(e,n){var r;if(!e.length){n();return}try{const i={runCreates:e.filter(u=>u.action==="create").map(u=>u.item),runUpdates:e.filter(u=>u.action==="update").map(u=>u.item)},o=await this._ensureServerInfo();(r=o==null?void 0:o.batch_ingest_config)!=null&&r.use_multipart_endpoint?await this.multipartIngestRuns(i):await this.batchIngestRuns(i)}finally{n()}}async processRunOperation(e){clearTimeout(this.autoBatchTimeout),this.autoBatchTimeout=void 0,e.action==="create"&&(e.item=f1(e.item));const n=this.autoBatchQueue.push(e);if(this.manualFlushMode)return n;const r=await this._getBatchSizeLimitBytes();return this.autoBatchQueue.sizeBytes>r&&this.drainAutoBatchQueue(r),this.autoBatchQueue.items.length>0&&(this.autoBatchTimeout=setTimeout(()=>{this.autoBatchTimeout=void 0,this.drainAutoBatchQueue(r)},this.autoBatchAggregationDelayMs)),n}async _getServerInfo(){const e=await this.caller.call(Se(this.debug),`${this.apiUrl}/info`,{method:"GET",headers:{Accept:"application/json"},signal:AbortSignal.timeout(RN),...this.fetchOptions});await Pe(e,"get server info");const n=await e.json();return this.debug&&console.log(`
=== LangSmith Server Configuration ===
`+JSON.stringify(n,null,2)+`
`),n}async _ensureServerInfo(){return this._getServerInfoPromise===void 0&&(this._getServerInfoPromise=(async()=>{if(this._serverInfo===void 0)try{this._serverInfo=await this._getServerInfo()}catch(e){console.warn(`[WARNING]: LangSmith failed to fetch info on supported operations with status code ${e.status}. Falling back to batch operations and default limits.`)}return this._serverInfo??{}})()),this._getServerInfoPromise.then(e=>(this._serverInfo===void 0&&(this._getServerInfoPromise=void 0),e))}async _getSettings(){return this.settings||(this.settings=this._get("/settings")),await this.settings}async flush(){const e=await this._getBatchSizeLimitBytes();await this.drainAutoBatchQueue(e)}async createRun(e){if(!this._filterForSampling([e]).length)return;const n={...this.headers,"Content-Type":"application/json"},r=e.project_name;delete e.project_name;const i=await this.prepareRunCreateOrUpdateInputs({session_name:r,...e,start_time:e.start_time??Date.now()});if(this.autoBatchTracing&&i.trace_id!==void 0&&i.dotted_order!==void 0){this.processRunOperation({action:"create",item:i}).catch(console.error);return}const o=f1(i),u=await this.caller.call(Se(this.debug),`${this.apiUrl}/runs`,{method:"POST",headers:n,body:Qn(o,`Creating run with id: ${o.id}`),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Pe(u,"create run",!0)}async batchIngestRuns({runCreates:e,runUpdates:n}){if(e===void 0&&n===void 0)return;let r=await Promise.all((e==null?void 0:e.map(c=>this.prepareRunCreateOrUpdateInputs(c)))??[]),i=await Promise.all((n==null?void 0:n.map(c=>this.prepareRunCreateOrUpdateInputs(c)))??[]);if(r.length>0&&i.length>0){const c=r.reduce((h,m)=>(m.id&&(h[m.id]=m),h),{}),d=[];for(const h of i)h.id!==void 0&&c[h.id]?c[h.id]={...c[h.id],...h}:d.push(h);r=Object.values(c),i=d}const o={post:r,patch:i};if(!o.post.length&&!o.patch.length)return;const u={post:[],patch:[]};for(const c of["post","patch"]){const d=c,h=o[d].reverse();let m=h.pop();for(;m!==void 0;)u[d].push(m),m=h.pop()}if(u.post.length>0||u.patch.length>0){const c=u.post.map(d=>d.id).concat(u.patch.map(d=>d.id)).join(",");await this._postBatchIngestRuns(Qn(u,`Ingesting runs with ids: ${c}`))}}async _postBatchIngestRuns(e){const n={...this.headers,"Content-Type":"application/json",Accept:"application/json"},r=await this.batchIngestCaller.call(Se(this.debug),`${this.apiUrl}/runs/batch`,{method:"POST",headers:n,body:e,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Pe(r,"batch create run",!0)}async multipartIngestRuns({runCreates:e,runUpdates:n}){if(e===void 0&&n===void 0)return;const r={};let i=[];for(const m of e??[]){const b=await this.prepareRunCreateOrUpdateInputs(m);b.id!==void 0&&b.attachments!==void 0&&(r[b.id]=b.attachments),delete b.attachments,i.push(b)}let o=[];for(const m of n??[])o.push(await this.prepareRunCreateOrUpdateInputs(m));if(i.find(m=>m.trace_id===void 0||m.dotted_order===void 0)!==void 0)throw new Error('Multipart ingest requires "trace_id" and "dotted_order" to be set when creating a run');if(o.find(m=>m.trace_id===void 0||m.dotted_order===void 0)!==void 0)throw new Error('Multipart ingest requires "trace_id" and "dotted_order" to be set when updating a run');if(i.length>0&&o.length>0){const m=i.reduce((y,_)=>(_.id&&(y[_.id]=_),y),{}),b=[];for(const y of o)y.id!==void 0&&m[y.id]?m[y.id]={...m[y.id],...y}:b.push(y);i=Object.values(m),o=b}if(i.length===0&&o.length===0)return;const d=[],h=[];for(const[m,b]of[["post",i],["patch",o]])for(const y of b){const{inputs:_,outputs:v,events:w,attachments:S,...T}=y,N={inputs:_,outputs:v,events:w},x=Qn(T,`Serializing for multipart ingestion of run with id: ${T.id}`);h.push({name:`${m}.${T.id}`,payload:new Blob([x],{type:`application/json; length=${x.length}`})});for(const[R,O]of Object.entries(N)){if(O===void 0)continue;const j=Qn(O,`Serializing ${R} for multipart ingestion of run with id: ${T.id}`);h.push({name:`${m}.${T.id}.${R}`,payload:new Blob([j],{type:`application/json; length=${j.length}`})})}if(T.id!==void 0){const R=r[T.id];if(R){delete r[T.id];for(const[O,j]of Object.entries(R)){let L,D;if(Array.isArray(j)?[L,D]=j:(L=j.mimeType,D=j.data),O.includes(".")){console.warn(`Skipping attachment '${O}' for run ${T.id}: Invalid attachment name. Attachment names must not contain periods ('.'). Please rename the attachment and try again.`);continue}h.push({name:`attachment.${T.id}.${O}`,payload:new Blob([D],{type:`${L}; length=${D.byteLength}`})})}}}d.push(`trace=${T.trace_id},id=${T.id}`)}await this._sendMultipartRequest(h,d.join("; "))}async _createNodeFetchBody(e,n){const r=[];for(const u of e)r.push(new Blob([`--${n}\r
`])),r.push(new Blob([`Content-Disposition: form-data; name="${u.name}"\r
`,`Content-Type: ${u.payload.type}\r
\r
`])),r.push(u.payload),r.push(new Blob([`\r
`]));return r.push(new Blob([`--${n}--\r
`])),await new Blob(r).arrayBuffer()}async _createMultipartStream(e,n){const r=new TextEncoder;return new ReadableStream({async start(o){const u=async c=>{typeof c=="string"?o.enqueue(r.encode(c)):o.enqueue(c)};for(const c of e){await u(`--${n}\r
`),await u(`Content-Disposition: form-data; name="${c.name}"\r
`),await u(`Content-Type: ${c.payload.type}\r
\r
`);const h=c.payload.stream().getReader();try{let m;for(;!(m=await h.read()).done;)o.enqueue(m.value)}finally{h.releaseLock()}await u(`\r
`)}await u(`--${n}--\r
`),o.close()}})}async _sendMultipartRequest(e,n){try{const r="----LangSmithFormBoundary"+Math.random().toString(36).slice(2),i=await(H2()?this._createNodeFetchBody(e,r):this._createMultipartStream(e,r)),o=await this.batchIngestCaller.call(Se(this.debug),`${this.apiUrl}/runs/multipart`,{method:"POST",headers:{...this.headers,"Content-Type":`multipart/form-data; boundary=${r}`},body:i,duplex:"half",signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Pe(o,"ingest multipart runs",!0)}catch(r){console.warn(`${r.message.trim()}

Context: ${n}`)}}async updateRun(e,n){$e(e),n.inputs&&(n.inputs=await this.processInputs(n.inputs)),n.outputs&&(n.outputs=await this.processOutputs(n.outputs));const r={...n,id:e};if(!this._filterForSampling([r],!0).length)return;if(this.autoBatchTracing&&r.trace_id!==void 0&&r.dotted_order!==void 0){if(n.end_time!==void 0&&r.parent_run_id===void 0&&this.blockOnRootRunFinalization&&!this.manualFlushMode){await this.processRunOperation({action:"update",item:r}).catch(console.error);return}else this.processRunOperation({action:"update",item:r}).catch(console.error);return}const i={...this.headers,"Content-Type":"application/json"},o=await this.caller.call(Se(this.debug),`${this.apiUrl}/runs/${e}`,{method:"PATCH",headers:i,body:Qn(n,`Serializing payload to update run with id: ${e}`),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Pe(o,"update run",!0)}async readRun(e,{loadChildRuns:n}={loadChildRuns:!1}){$e(e);let r=await this._get(`/runs/${e}`);return n&&(r=await this._loadChildRuns(r)),r}async getRunUrl({runId:e,run:n,projectOpts:r}){if(n!==void 0){let i;n.session_id?i=n.session_id:r!=null&&r.projectName?i=(await this.readProject({projectName:r==null?void 0:r.projectName})).id:r!=null&&r.projectId?i=r==null?void 0:r.projectId:i=(await this.readProject({projectName:Gr("PROJECT")||"default"})).id;const o=await this._getTenantId();return`${this.getHostUrl()}/o/${o}/projects/p/${i}/r/${n.id}?poll=true`}else if(e!==void 0){const i=await this.readRun(e);if(!i.app_path)throw new Error(`Run ${e} has no app_path`);return`${this.getHostUrl()}${i.app_path}`}else throw new Error("Must provide either runId or run")}async _loadChildRuns(e){var o;const n=await EN(this.listRuns({isRoot:!1,projectId:e.session_id,traceId:e.trace_id})),r={},i={};n.sort((u,c)=>((u==null?void 0:u.dotted_order)??"").localeCompare((c==null?void 0:c.dotted_order)??""));for(const u of n){if(u.parent_run_id===null||u.parent_run_id===void 0)throw new Error(`Child run ${u.id} has no parent`);(o=u.dotted_order)!=null&&o.startsWith(e.dotted_order??"")&&u.id!==e.id&&(u.parent_run_id in r||(r[u.parent_run_id]=[]),r[u.parent_run_id].push(u),i[u.id]=u)}e.child_runs=r[e.id]||[];for(const u in r)u!==e.id&&(i[u].child_runs=r[u]);return e}async*listRuns(e){const{projectId:n,projectName:r,parentRunId:i,traceId:o,referenceExampleId:u,startTime:c,executionOrder:d,isRoot:h,runType:m,error:b,id:y,query:_,filter:v,traceFilter:w,treeFilter:S,limit:T,select:N,order:x}=e;let R=[];if(n&&(R=Array.isArray(n)?n:[n]),r){const D=Array.isArray(r)?r:[r],te=await Promise.all(D.map(C=>this.readProject({projectName:C}).then(F=>F.id)));R.push(...te)}const O=["app_path","completion_cost","completion_tokens","dotted_order","end_time","error","events","extra","feedback_stats","first_token_time","id","inputs","name","outputs","parent_run_id","parent_run_ids","prompt_cost","prompt_tokens","reference_example_id","run_type","session_id","start_time","status","tags","total_cost","total_tokens","trace_id"],j={session:R.length?R:null,run_type:m,reference_example:u,query:_,filter:v,trace_filter:w,tree_filter:S,execution_order:d,parent_run:i,start_time:c?c.toISOString():null,error:b,id:y,limit:T,trace:o,select:N||O,is_root:h,order:x};let L=0;for await(const D of this._getCursorPaginatedList("/runs/query",j))if(T){if(L>=T)break;if(D.length+L>T){yield*D.slice(0,T-L);break}L+=D.length,yield*D}else yield*D}async*listGroupRuns(e){const{projectId:n,projectName:r,groupBy:i,filter:o,startTime:u,endTime:c,limit:d,offset:h}=e,b={session_id:n||(await this.readProject({projectName:r})).id,group_by:i,filter:o,start_time:u?u.toISOString():null,end_time:c?c.toISOString():null,limit:Number(d)||100};let y=Number(h)||0;const _="/runs/group",v=`${this.apiUrl}${_}`;for(;;){const w={...b,offset:y},S=Object.fromEntries(Object.entries(w).filter(([O,j])=>j!==void 0)),T=await this.caller.call(Se(),v,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(S),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Pe(T,`Failed to fetch ${_}`);const N=await T.json(),{groups:x,total:R}=N;if(x.length===0)break;for(const O of x)yield O;if(y+=x.length,y>=R)break}}async getRunStats({id:e,trace:n,parentRun:r,runType:i,projectNames:o,projectIds:u,referenceExampleIds:c,startTime:d,endTime:h,error:m,query:b,filter:y,traceFilter:_,treeFilter:v,isRoot:w,dataSourceType:S}){let T=u||[];o&&(T=[...u||[],...await Promise.all(o.map(j=>this.readProject({projectName:j}).then(L=>L.id)))]);const x=Object.fromEntries(Object.entries({id:e,trace:n,parent_run:r,run_type:i,session:T,reference_example:c,start_time:d,end_time:h,error:m,query:b,filter:y,trace_filter:_,tree_filter:v,is_root:w,data_source_type:S}).filter(([j,L])=>L!==void 0));return await(await this.caller.call(Se(this.debug),`${this.apiUrl}/runs/stats`,{method:"POST",headers:this.headers,body:JSON.stringify(x),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async shareRun(e,{shareId:n}={}){const r={run_id:e,share_token:n||Rn()};$e(e);const o=await(await this.caller.call(Se(this.debug),`${this.apiUrl}/runs/${e}/share`,{method:"PUT",headers:this.headers,body:JSON.stringify(r),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json();if(o===null||!("share_token"in o))throw new Error("Invalid response from server");return`${this.getHostUrl()}/public/${o.share_token}/r`}async unshareRun(e){$e(e);const n=await this.caller.call(Se(this.debug),`${this.apiUrl}/runs/${e}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Pe(n,"unshare run",!0)}async readRunSharedLink(e){$e(e);const r=await(await this.caller.call(Se(this.debug),`${this.apiUrl}/runs/${e}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json();if(!(r===null||!("share_token"in r)))return`${this.getHostUrl()}/public/${r.share_token}/r`}async listSharedRuns(e,{runIds:n}={}){const r=new URLSearchParams({share_token:e});if(n!==void 0)for(const u of n)r.append("id",u);return $e(e),await(await this.caller.call(Se(this.debug),`${this.apiUrl}/public/${e}/runs${r}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async readDatasetSharedSchema(e,n){if(!e&&!n)throw new Error("Either datasetId or datasetName must be given");e||(e=(await this.readDataset({datasetName:n})).id),$e(e);const i=await(await this.caller.call(Se(this.debug),`${this.apiUrl}/datasets/${e}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json();return i.url=`${this.getHostUrl()}/public/${i.share_token}/d`,i}async shareDataset(e,n){if(!e&&!n)throw new Error("Either datasetId or datasetName must be given");e||(e=(await this.readDataset({datasetName:n})).id);const r={dataset_id:e};$e(e);const o=await(await this.caller.call(Se(this.debug),`${this.apiUrl}/datasets/${e}/share`,{method:"PUT",headers:this.headers,body:JSON.stringify(r),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json();return o.url=`${this.getHostUrl()}/public/${o.share_token}/d`,o}async unshareDataset(e){$e(e);const n=await this.caller.call(Se(this.debug),`${this.apiUrl}/datasets/${e}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Pe(n,"unshare dataset",!0)}async readSharedDataset(e){return $e(e),await(await this.caller.call(Se(this.debug),`${this.apiUrl}/public/${e}/datasets`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async listSharedExamples(e,n){const r={};n!=null&&n.exampleIds&&(r.id=n.exampleIds);const i=new URLSearchParams;Object.entries(r).forEach(([c,d])=>{Array.isArray(d)?d.forEach(h=>i.append(c,h)):i.append(c,d)});const o=await this.caller.call(Se(this.debug),`${this.apiUrl}/public/${e}/examples?${i.toString()}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions}),u=await o.json();if(!o.ok)throw"detail"in u?new Error(`Failed to list shared examples.
Status: ${o.status}
Message: ${Array.isArray(u.detail)?u.detail.join(`
`):"Unspecified error"}`):new Error(`Failed to list shared examples: ${o.status} ${o.statusText}`);return u.map(c=>({...c,_hostUrl:this.getHostUrl()}))}async createProject({projectName:e,description:n=null,metadata:r=null,upsert:i=!1,projectExtra:o=null,referenceDatasetId:u=null}){const c=i?"?upsert=true":"",d=`${this.apiUrl}/sessions${c}`,h=o||{};r&&(h.metadata=r);const m={name:e,extra:h,description:n};u!==null&&(m.reference_dataset_id=u);const b=await this.caller.call(Se(this.debug),d,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(m),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Pe(b,"create project"),await b.json()}async updateProject(e,{name:n=null,description:r=null,metadata:i=null,projectExtra:o=null,endTime:u=null}){const c=`${this.apiUrl}/sessions/${e}`;let d=o;i&&(d={...d||{},metadata:i});const h={name:n,extra:d,description:r,end_time:u?new Date(u).toISOString():null},m=await this.caller.call(Se(this.debug),c,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(h),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Pe(m,"update project"),await m.json()}async hasProject({projectId:e,projectName:n}){let r="/sessions";const i=new URLSearchParams;if(e!==void 0&&n!==void 0)throw new Error("Must provide either projectName or projectId, not both");if(e!==void 0)$e(e),r+=`/${e}`;else if(n!==void 0)i.append("name",n);else throw new Error("Must provide projectName or projectId");const o=await this.caller.call(Se(this.debug),`${this.apiUrl}${r}?${i}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});try{const u=await o.json();return o.ok?Array.isArray(u)?u.length>0:!0:!1}catch{return!1}}async readProject({projectId:e,projectName:n,includeStats:r}){let i="/sessions";const o=new URLSearchParams;if(e!==void 0&&n!==void 0)throw new Error("Must provide either projectName or projectId, not both");if(e!==void 0)$e(e),i+=`/${e}`;else if(n!==void 0)o.append("name",n);else throw new Error("Must provide projectName or projectId");r!==void 0&&o.append("include_stats",r.toString());const u=await this._get(i,o);let c;if(Array.isArray(u)){if(u.length===0)throw new Error(`Project[id=${e}, name=${n}] not found`);c=u[0]}else c=u;return c}async getProjectUrl({projectId:e,projectName:n}){if(e===void 0&&n===void 0)throw new Error("Must provide either projectName or projectId");const r=await this.readProject({projectId:e,projectName:n}),i=await this._getTenantId();return`${this.getHostUrl()}/o/${i}/projects/p/${r.id}`}async getDatasetUrl({datasetId:e,datasetName:n}){if(e===void 0&&n===void 0)throw new Error("Must provide either datasetName or datasetId");const r=await this.readDataset({datasetId:e,datasetName:n}),i=await this._getTenantId();return`${this.getHostUrl()}/o/${i}/datasets/${r.id}`}async _getTenantId(){if(this._tenantId!==null)return this._tenantId;const e=new URLSearchParams({limit:"1"});for await(const n of this._getPaginated("/sessions",e))return this._tenantId=n[0].tenant_id,n[0].tenant_id;throw new Error("No projects found to resolve tenant.")}async*listProjects({projectIds:e,name:n,nameContains:r,referenceDatasetId:i,referenceDatasetName:o,referenceFree:u,metadata:c}={}){const d=new URLSearchParams;if(e!==void 0)for(const h of e)d.append("id",h);if(n!==void 0&&d.append("name",n),r!==void 0&&d.append("name_contains",r),i!==void 0)d.append("reference_dataset",i);else if(o!==void 0){const h=await this.readDataset({datasetName:o});d.append("reference_dataset",h.id)}u!==void 0&&d.append("reference_free",u.toString()),c!==void 0&&d.append("metadata",JSON.stringify(c));for await(const h of this._getPaginated("/sessions",d))yield*h}async deleteProject({projectId:e,projectName:n}){let r;if(e===void 0&&n===void 0)throw new Error("Must provide projectName or projectId");if(e!==void 0&&n!==void 0)throw new Error("Must provide either projectName or projectId, not both");e===void 0?r=(await this.readProject({projectName:n})).id:r=e,$e(r);const i=await this.caller.call(Se(this.debug),`${this.apiUrl}/sessions/${r}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Pe(i,`delete session ${r} (${n})`,!0)}async uploadCsv({csvFile:e,fileName:n,inputKeys:r,outputKeys:i,description:o,dataType:u,name:c}){const d=`${this.apiUrl}/datasets/upload`,h=new FormData;h.append("file",e,n),r.forEach(y=>{h.append("input_keys",y)}),i.forEach(y=>{h.append("output_keys",y)}),o&&h.append("description",o),u&&h.append("data_type",u),c&&h.append("name",c);const m=await this.caller.call(Se(this.debug),d,{method:"POST",headers:this.headers,body:h,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Pe(m,"upload CSV"),await m.json()}async createDataset(e,{description:n,dataType:r,inputsSchema:i,outputsSchema:o,metadata:u}={}){const c={name:e,description:n,extra:u?{metadata:u}:void 0};r&&(c.data_type=r),i&&(c.inputs_schema_definition=i),o&&(c.outputs_schema_definition=o);const d=await this.caller.call(Se(this.debug),`${this.apiUrl}/datasets`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(c),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Pe(d,"create dataset"),await d.json()}async readDataset({datasetId:e,datasetName:n}){let r="/datasets";const i=new URLSearchParams({limit:"1"});if(e!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(e!==void 0)$e(e),r+=`/${e}`;else if(n!==void 0)i.append("name",n);else throw new Error("Must provide datasetName or datasetId");const o=await this._get(r,i);let u;if(Array.isArray(o)){if(o.length===0)throw new Error(`Dataset[id=${e}, name=${n}] not found`);u=o[0]}else u=o;return u}async hasDataset({datasetId:e,datasetName:n}){try{return await this.readDataset({datasetId:e,datasetName:n}),!0}catch(r){if(r instanceof Error&&r.message.toLocaleLowerCase().includes("not found"))return!1;throw r}}async diffDatasetVersions({datasetId:e,datasetName:n,fromVersion:r,toVersion:i}){let o=e;if(o===void 0&&n===void 0)throw new Error("Must provide either datasetName or datasetId");if(o!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");o===void 0&&(o=(await this.readDataset({datasetName:n})).id);const u=new URLSearchParams({from_version:typeof r=="string"?r:r.toISOString(),to_version:typeof i=="string"?i:i.toISOString()});return await this._get(`/datasets/${o}/versions/diff`,u)}async readDatasetOpenaiFinetuning({datasetId:e,datasetName:n}){const r="/datasets";if(e===void 0)if(n!==void 0)e=(await this.readDataset({datasetName:n})).id;else throw new Error("Must provide either datasetName or datasetId");return(await(await this._getResponse(`${r}/${e}/openai_ft`)).text()).trim().split(`
`).map(c=>JSON.parse(c))}async*listDatasets({limit:e=100,offset:n=0,datasetIds:r,datasetName:i,datasetNameContains:o,metadata:u}={}){const c="/datasets",d=new URLSearchParams({limit:e.toString(),offset:n.toString()});if(r!==void 0)for(const h of r)d.append("id",h);i!==void 0&&d.append("name",i),o!==void 0&&d.append("name_contains",o),u!==void 0&&d.append("metadata",JSON.stringify(u));for await(const h of this._getPaginated(c,d))yield*h}async updateDataset(e){const{datasetId:n,datasetName:r,...i}=e;if(!n&&!r)throw new Error("Must provide either datasetName or datasetId");const o=n??(await this.readDataset({datasetName:r})).id;$e(o);const u=await this.caller.call(Se(this.debug),`${this.apiUrl}/datasets/${o}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(i),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Pe(u,"update dataset"),await u.json()}async updateDatasetTag(e){const{datasetId:n,datasetName:r,asOf:i,tag:o}=e;if(!n&&!r)throw new Error("Must provide either datasetName or datasetId");const u=n??(await this.readDataset({datasetName:r})).id;$e(u);const c=await this.caller.call(Se(this.debug),`${this.apiUrl}/datasets/${u}/tags`,{method:"PUT",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify({as_of:typeof i=="string"?i:i.toISOString(),tag:o}),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Pe(c,"update dataset tags")}async deleteDataset({datasetId:e,datasetName:n}){let r="/datasets",i=e;if(e!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(n!==void 0&&(i=(await this.readDataset({datasetName:n})).id),i!==void 0)$e(i),r+=`/${i}`;else throw new Error("Must provide datasetName or datasetId");const o=await this.caller.call(Se(this.debug),this.apiUrl+r,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Pe(o,`delete ${r}`),await o.json()}async indexDataset({datasetId:e,datasetName:n,tag:r}){let i=e;if(!i&&!n)throw new Error("Must provide either datasetName or datasetId");if(i&&n)throw new Error("Must provide either datasetName or datasetId, not both");i||(i=(await this.readDataset({datasetName:n})).id),$e(i);const o={tag:r},u=await this.caller.call(Se(this.debug),`${this.apiUrl}/datasets/${i}/index`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(o),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Pe(u,"index dataset"),await u.json()}async similarExamples(e,n,r,{filter:i}={}){const o={limit:r,inputs:e};i!==void 0&&(o.filter=i),$e(n);const u=await this.caller.call(Se(this.debug),`${this.apiUrl}/datasets/${n}/search`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(o),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Pe(u,"fetch similar examples"),(await u.json()).examples}async createExample(e,n,r){var m;if(h1(e)&&(n!==void 0||r!==void 0))throw new Error("Cannot provide outputs or options when using ExampleCreate object");let i=n?r==null?void 0:r.datasetId:e.dataset_id;const o=n?r==null?void 0:r.datasetName:e.dataset_name;if(i===void 0&&o===void 0)throw new Error("Must provide either datasetName or datasetId");if(i!==void 0&&o!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");i===void 0&&(i=(await this.readDataset({datasetName:o})).id);const u=(n?r==null?void 0:r.createdAt:e.created_at)||new Date;let c;h1(e)?c=e:c={inputs:e,outputs:n,created_at:u==null?void 0:u.toISOString(),id:r==null?void 0:r.exampleId,metadata:r==null?void 0:r.metadata,split:r==null?void 0:r.split,source_run_id:r==null?void 0:r.sourceRunId,use_source_run_io:r==null?void 0:r.useSourceRunIO,use_source_run_attachments:r==null?void 0:r.useSourceRunAttachments,attachments:r==null?void 0:r.attachments};const d=await this._uploadExamplesMultipart(i,[c]);return await this.readExample(((m=d.example_ids)==null?void 0:m[0])??Rn())}async createExamples(e){if(Array.isArray(e)){if(e.length===0)return[];const N=e;let x=N[0].dataset_id;const R=N[0].dataset_name;if(x===void 0&&R===void 0)throw new Error("Must provide either datasetName or datasetId");if(x!==void 0&&R!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");x===void 0&&(x=(await this.readDataset({datasetName:R})).id);const O=await this._uploadExamplesMultipart(x,N);return await Promise.all(O.example_ids.map(L=>this.readExample(L)))}const{inputs:n,outputs:r,metadata:i,splits:o,sourceRunIds:u,useSourceRunIOs:c,useSourceRunAttachments:d,attachments:h,exampleIds:m,datasetId:b,datasetName:y}=e;if(n===void 0)throw new Error("Must provide inputs when using legacy parameters");let _=b;const v=y;if(_===void 0&&v===void 0)throw new Error("Must provide either datasetName or datasetId");if(_!==void 0&&v!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");_===void 0&&(_=(await this.readDataset({datasetName:v})).id);const w=n.map((N,x)=>({dataset_id:_,inputs:N,outputs:r==null?void 0:r[x],metadata:i==null?void 0:i[x],split:o==null?void 0:o[x],id:m==null?void 0:m[x],attachments:h==null?void 0:h[x],source_run_id:u==null?void 0:u[x],use_source_run_io:c==null?void 0:c[x],use_source_run_attachments:d==null?void 0:d[x]})),S=await this._uploadExamplesMultipart(_,w);return await Promise.all(S.example_ids.map(N=>this.readExample(N)))}async createLLMExample(e,n,r){return this.createExample({input:e},{output:n},r)}async createChatExample(e,n,r){const i=e.map(u=>gS(u)?yS(u):u),o=gS(n)?yS(n):n;return this.createExample({input:i},{output:o},r)}async readExample(e){$e(e);const n=`/examples/${e}`,r=await this._get(n),{attachment_urls:i,...o}=r,u=o;return i&&(u.attachments=Object.entries(i).reduce((c,[d,h])=>(c[d.slice(11)]={presigned_url:h.presigned_url,mime_type:h.mime_type},c),{})),u}async*listExamples({datasetId:e,datasetName:n,exampleIds:r,asOf:i,splits:o,inlineS3Urls:u,metadata:c,limit:d,offset:h,filter:m,includeAttachments:b}={}){let y;if(e!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(e!==void 0)y=e;else if(n!==void 0)y=(await this.readDataset({datasetName:n})).id;else throw new Error("Must provide a datasetName or datasetId");const _=new URLSearchParams({dataset:y}),v=i?typeof i=="string"?i:i==null?void 0:i.toISOString():void 0;v&&_.append("as_of",v);const w=u??!0;if(_.append("inline_s3_urls",w.toString()),r!==void 0)for(const T of r)_.append("id",T);if(o!==void 0)for(const T of o)_.append("splits",T);if(c!==void 0){const T=JSON.stringify(c);_.append("metadata",T)}d!==void 0&&_.append("limit",d.toString()),h!==void 0&&_.append("offset",h.toString()),m!==void 0&&_.append("filter",m),b===!0&&["attachment_urls","outputs","metadata"].forEach(T=>_.append("select",T));let S=0;for await(const T of this._getPaginated("/examples",_)){for(const N of T){const{attachment_urls:x,...R}=N,O=R;x&&(O.attachments=Object.entries(x).reduce((j,[L,D])=>(j[L.slice(11)]={presigned_url:D.presigned_url,mime_type:D.mime_type||void 0},j),{})),yield O,S++}if(d!==void 0&&S>=d)break}}async deleteExample(e){$e(e);const n=`/examples/${e}`,r=await this.caller.call(Se(this.debug),this.apiUrl+n,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Pe(r,`delete ${n}`),await r.json()}async updateExample(e,n){let r;n?r=e:r=e.id,$e(r);let i;n?i={id:r,...n}:i=e;let o;return i.dataset_id!==void 0?o=i.dataset_id:o=(await this.readExample(r)).dataset_id,this._updateExamplesMultipart(o,[i])}async updateExamples(e){let n;return e[0].dataset_id===void 0?n=(await this.readExample(e[0].id)).dataset_id:n=e[0].dataset_id,this._updateExamplesMultipart(n,e)}async readDatasetVersion({datasetId:e,datasetName:n,asOf:r,tag:i}){let o;if(e?o=e:o=(await this.readDataset({datasetName:n})).id,$e(o),r&&i||!r&&!i)throw new Error("Exactly one of asOf and tag must be specified.");const u=new URLSearchParams;r!==void 0&&u.append("as_of",typeof r=="string"?r:r.toISOString()),i!==void 0&&u.append("tag",i);const c=await this.caller.call(Se(this.debug),`${this.apiUrl}/datasets/${o}/version?${u.toString()}`,{method:"GET",headers:{...this.headers},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Pe(c,"read dataset version"),await c.json()}async listDatasetSplits({datasetId:e,datasetName:n,asOf:r}){let i;if(e===void 0&&n===void 0)throw new Error("Must provide dataset name or ID");if(e!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");e===void 0?i=(await this.readDataset({datasetName:n})).id:i=e,$e(i);const o=new URLSearchParams,u=r?typeof r=="string"?r:r==null?void 0:r.toISOString():void 0;return u&&o.append("as_of",u),await this._get(`/datasets/${i}/splits`,o)}async updateDatasetSplits({datasetId:e,datasetName:n,splitName:r,exampleIds:i,remove:o=!1}){let u;if(e===void 0&&n===void 0)throw new Error("Must provide dataset name or ID");if(e!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");e===void 0?u=(await this.readDataset({datasetName:n})).id:u=e,$e(u);const c={split_name:r,examples:i.map(h=>($e(h),h)),remove:o},d=await this.caller.call(Se(this.debug),`${this.apiUrl}/datasets/${u}/splits`,{method:"PUT",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(c),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Pe(d,"update dataset splits",!0)}async evaluateRun(e,n,{sourceInfo:r,loadChildRuns:i,referenceExample:o}={loadChildRuns:!1}){Sx("This method is deprecated and will be removed in future LangSmith versions, use `evaluate` from `langsmith/evaluation` instead.");let u;if(typeof e=="string")u=await this.readRun(e,{loadChildRuns:i});else if(typeof e=="object"&&"id"in e)u=e;else throw new Error(`Invalid run type: ${typeof e}`);u.reference_example_id!==null&&u.reference_example_id!==void 0&&(o=await this.readExample(u.reference_example_id));const c=await n.evaluateRun(u,o),[d,h]=await this._logEvaluationFeedback(c,u,r);return h[0]}async createFeedback(e,n,{score:r,value:i,correction:o,comment:u,sourceInfo:c,feedbackSourceType:d="api",sourceRunId:h,feedbackId:m,feedbackConfig:b,projectId:y,comparativeExperimentId:_}){var N;if(!e&&!y)throw new Error("One of runId or projectId must be provided");if(e&&y)throw new Error("Only one of runId or projectId can be provided");const v={type:d??"api",metadata:c??{}};h!==void 0&&(v==null?void 0:v.metadata)!==void 0&&!v.metadata.__run&&(v.metadata.__run={run_id:h}),(v==null?void 0:v.metadata)!==void 0&&((N=v.metadata.__run)==null?void 0:N.run_id)!==void 0&&$e(v.metadata.__run.run_id);const w={id:m??Rn(),run_id:e,key:n,score:d1(r),value:i,correction:o,comment:u,feedback_source:v,comparative_experiment_id:_,feedbackConfig:b,session_id:y},S=`${this.apiUrl}/feedback`,T=await this.caller.call(Se(this.debug),S,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(w),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Pe(T,"create feedback",!0),w}async updateFeedback(e,{score:n,value:r,correction:i,comment:o}){const u={};n!=null&&(u.score=d1(n)),r!=null&&(u.value=r),i!=null&&(u.correction=i),o!=null&&(u.comment=o),$e(e);const c=await this.caller.call(Se(this.debug),`${this.apiUrl}/feedback/${e}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(u),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Pe(c,"update feedback",!0)}async readFeedback(e){$e(e);const n=`/feedback/${e}`;return await this._get(n)}async deleteFeedback(e){$e(e);const n=`/feedback/${e}`,r=await this.caller.call(Se(this.debug),this.apiUrl+n,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Pe(r,`delete ${n}`),await r.json()}async*listFeedback({runIds:e,feedbackKeys:n,feedbackSourceTypes:r}={}){const i=new URLSearchParams;if(e&&i.append("run",e.join(",")),n)for(const o of n)i.append("key",o);if(r)for(const o of r)i.append("source",o);for await(const o of this._getPaginated("/feedback",i))yield*o}async createPresignedFeedbackToken(e,n,{expiration:r,feedbackConfig:i}={}){const o={run_id:e,feedback_key:n,feedback_config:i};return r?typeof r=="string"?o.expires_at=r:(r!=null&&r.hours||r!=null&&r.minutes||r!=null&&r.days)&&(o.expires_in=r):o.expires_in={hours:3},await(await this.caller.call(Se(this.debug),`${this.apiUrl}/feedback/tokens`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(o),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async createComparativeExperiment({name:e,experimentIds:n,referenceDatasetId:r,createdAt:i,description:o,metadata:u,id:c}){var m;if(n.length===0)throw new Error("At least one experiment is required");if(r||(r=(await this.readProject({projectId:n[0]})).reference_dataset_id),!r==null)throw new Error("A reference dataset is required");const d={id:c,name:e,experiment_ids:n,reference_dataset_id:r,description:o,created_at:(m=i??new Date)==null?void 0:m.toISOString(),extra:{}};return u&&(d.extra.metadata=u),await(await this.caller.call(Se(this.debug),`${this.apiUrl}/datasets/comparative`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(d),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async*listPresignedFeedbackTokens(e){$e(e);const n=new URLSearchParams({run_id:e});for await(const r of this._getPaginated("/feedback/tokens",n))yield*r}_selectEvalResults(e){let n;return"results"in e?n=e.results:Array.isArray(e)?n=e:n=[e],n}async _logEvaluationFeedback(e,n,r){const i=this._selectEvalResults(e),o=[];for(const u of i){let c=r||{};u.evaluatorInfo&&(c={...u.evaluatorInfo,...c});let d=null;u.targetRunId?d=u.targetRunId:n&&(d=n.id),o.push(await this.createFeedback(d,u.key,{score:u.score,value:u.value,comment:u.comment,correction:u.correction,sourceInfo:c,sourceRunId:u.sourceRunId,feedbackConfig:u.feedbackConfig,feedbackSourceType:"model"}))}return[i,o]}async logEvaluationFeedback(e,n,r){const[i]=await this._logEvaluationFeedback(e,n,r);return i}async*listAnnotationQueues(e={}){const{queueIds:n,name:r,nameContains:i,limit:o}=e,u=new URLSearchParams;n&&n.forEach((d,h)=>{$e(d,`queueIds[${h}]`),u.append("ids",d)}),r&&u.append("name",r),i&&u.append("name_contains",i),u.append("limit",(o!==void 0?Math.min(o,100):100).toString());let c=0;for await(const d of this._getPaginated("/annotation-queues",u))if(yield*d,c++,o!==void 0&&c>=o)break}async createAnnotationQueue(e){const{name:n,description:r,queueId:i,rubricInstructions:o}=e,u={name:n,description:r,id:i||Rn(),rubric_instructions:o},c=await this.caller.call(Se(this.debug),`${this.apiUrl}/annotation-queues`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(Object.fromEntries(Object.entries(u).filter(([h,m])=>m!==void 0))),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Pe(c,"create annotation queue"),await c.json()}async readAnnotationQueue(e){const n=await this.caller.call(Se(this.debug),`${this.apiUrl}/annotation-queues/${$e(e,"queueId")}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Pe(n,"read annotation queue"),await n.json()}async updateAnnotationQueue(e,n){const{name:r,description:i,rubricInstructions:o}=n,u=await this.caller.call(Se(this.debug),`${this.apiUrl}/annotation-queues/${$e(e,"queueId")}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify({name:r,description:i,rubric_instructions:o}),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Pe(u,"update annotation queue")}async deleteAnnotationQueue(e){const n=await this.caller.call(Se(this.debug),`${this.apiUrl}/annotation-queues/${$e(e,"queueId")}`,{method:"DELETE",headers:{...this.headers,Accept:"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Pe(n,"delete annotation queue")}async addRunsToAnnotationQueue(e,n){const r=await this.caller.call(Se(this.debug),`${this.apiUrl}/annotation-queues/${$e(e,"queueId")}/runs`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(n.map((i,o)=>$e(i,`runIds[${o}]`).toString())),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Pe(r,"add runs to annotation queue")}async getRunFromAnnotationQueue(e,n){const r=`/annotation-queues/${$e(e,"queueId")}/run`,i=await this.caller.call(Se(this.debug),`${this.apiUrl}${r}/${n}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Pe(i,"get run from annotation queue"),await i.json()}async deleteRunFromAnnotationQueue(e,n){const r=await this.caller.call(Se(this.debug),`${this.apiUrl}/annotation-queues/${$e(e,"queueId")}/runs/${$e(n,"queueRunId")}`,{method:"DELETE",headers:{...this.headers,Accept:"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Pe(r,"delete run from annotation queue")}async getSizeFromAnnotationQueue(e){const n=await this.caller.call(Se(this.debug),`${this.apiUrl}/annotation-queues/${$e(e,"queueId")}/size`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Pe(n,"get size from annotation queue"),await n.json()}async _currentTenantIsOwner(e){const n=await this._getSettings();return e=="-"||n.tenant_handle===e}async _ownerConflictError(e,n){const r=await this._getSettings();return new Error(`Cannot ${e} for another tenant.

      Current tenant: ${r.tenant_handle}

      Requested tenant: ${n}`)}async _getLatestCommitHash(e){const n=await this.caller.call(Se(this.debug),`${this.apiUrl}/commits/${e}/?limit=1&offset=0`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions}),r=await n.json();if(!n.ok){const i=typeof r.detail=="string"?r.detail:JSON.stringify(r.detail),o=new Error(`Error ${n.status}: ${n.statusText}
${i}`);throw o.statusCode=n.status,o}if(r.commits.length!==0)return r.commits[0].commit_hash}async _likeOrUnlikePrompt(e,n){const[r,i,o]=ti(e),u=await this.caller.call(Se(this.debug),`${this.apiUrl}/likes/${r}/${i}`,{method:"POST",body:JSON.stringify({like:n}),headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Pe(u,`${n?"like":"unlike"} prompt`),await u.json()}async _getPromptUrl(e){const[n,r,i]=ti(e);if(await this._currentTenantIsOwner(n)){const o=await this._getSettings();return i!=="latest"?`${this.getHostUrl()}/prompts/${r}/${i.substring(0,8)}?organizationId=${o.id}`:`${this.getHostUrl()}/prompts/${r}?organizationId=${o.id}`}else return i!=="latest"?`${this.getHostUrl()}/hub/${n}/${r}/${i.substring(0,8)}`:`${this.getHostUrl()}/hub/${n}/${r}`}async promptExists(e){return!!await this.getPrompt(e)}async likePrompt(e){return this._likeOrUnlikePrompt(e,!0)}async unlikePrompt(e){return this._likeOrUnlikePrompt(e,!1)}async*listCommits(e){for await(const n of this._getPaginated(`/commits/${e}/`,new URLSearchParams,r=>r.commits))yield*n}async*listPrompts(e){const n=new URLSearchParams;n.append("sort_field",(e==null?void 0:e.sortField)??"updated_at"),n.append("sort_direction","desc"),n.append("is_archived",(!!(e!=null&&e.isArchived)).toString()),(e==null?void 0:e.isPublic)!==void 0&&n.append("is_public",e.isPublic.toString()),e!=null&&e.query&&n.append("query",e.query);for await(const r of this._getPaginated("/repos",n,i=>i.repos))yield*r}async getPrompt(e){const[n,r,i]=ti(e),o=await this.caller.call(Se(this.debug),`${this.apiUrl}/repos/${n}/${r}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(o.status===404)return null;await Pe(o,"get prompt");const u=await o.json();return u.repo?u.repo:null}async createPrompt(e,n){const r=await this._getSettings();if(n!=null&&n.isPublic&&!r.tenant_handle)throw new Error(`Cannot create a public prompt without first

        creating a LangChain Hub handle. 
        You can add a handle by creating a public prompt at:

        https://smith.langchain.com/prompts`);const[i,o,u]=ti(e);if(!await this._currentTenantIsOwner(i))throw await this._ownerConflictError("create a prompt",i);const c={repo_handle:o,...(n==null?void 0:n.description)&&{description:n.description},...(n==null?void 0:n.readme)&&{readme:n.readme},...(n==null?void 0:n.tags)&&{tags:n.tags},is_public:!!(n!=null&&n.isPublic)},d=await this.caller.call(Se(this.debug),`${this.apiUrl}/repos/`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(c),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Pe(d,"create prompt");const{repo:h}=await d.json();return h}async createCommit(e,n,r){if(!await this.promptExists(e))throw new Error("Prompt does not exist, you must create it first.");const[i,o,u]=ti(e),c=(r==null?void 0:r.parentCommitHash)==="latest"||!(r!=null&&r.parentCommitHash)?await this._getLatestCommitHash(`${i}/${o}`):r==null?void 0:r.parentCommitHash,d={manifest:JSON.parse(JSON.stringify(n)),parent_commit:c},h=await this.caller.call(Se(this.debug),`${this.apiUrl}/commits/${i}/${o}`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(d),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Pe(h,"create commit");const m=await h.json();return this._getPromptUrl(`${i}/${o}${m.commit_hash?`:${m.commit_hash}`:""}`)}async updateExamplesMultipart(e,n=[]){return this._updateExamplesMultipart(e,n)}async _updateExamplesMultipart(e,n=[]){var c;if(!await this._getMultiPartSupport())throw new Error("Your LangSmith deployment does not allow using the multipart examples endpoint, please upgrade your deployment to the latest version.");const r=new FormData;for(const d of n){const h=d.id,m={...d.metadata&&{metadata:d.metadata},...d.split&&{split:d.split}},b=Qn(m,`Serializing body for example with id: ${h}`),y=new Blob([b],{type:"application/json"});if(r.append(h,y),d.inputs){const _=Qn(d.inputs,`Serializing inputs for example with id: ${h}`),v=new Blob([_],{type:"application/json"});r.append(`${h}.inputs`,v)}if(d.outputs){const _=Qn(d.outputs,`Serializing outputs whle updating example with id: ${h}`),v=new Blob([_],{type:"application/json"});r.append(`${h}.outputs`,v)}if(d.attachments)for(const[_,v]of Object.entries(d.attachments)){let w,S;Array.isArray(v)?[w,S]=v:(w=v.mimeType,S=v.data);const T=new Blob([S],{type:`${w}; length=${S.byteLength}`});r.append(`${h}.attachment.${_}`,T)}if(d.attachments_operations){const _=Qn(d.attachments_operations,`Serializing attachments while updating example with id: ${h}`),v=new Blob([_],{type:"application/json"});r.append(`${h}.attachments_operations`,v)}}const i=e??((c=n[0])==null?void 0:c.dataset_id);return await(await this.caller.call(Se(this.debug),`${this.apiUrl}/v1/platform/datasets/${i}/examples`,{method:"PATCH",headers:this.headers,body:r})).json()}async uploadExamplesMultipart(e,n=[]){return this._uploadExamplesMultipart(e,n)}async _uploadExamplesMultipart(e,n=[]){if(!await this._getMultiPartSupport())throw new Error("Your LangSmith deployment does not allow using the multipart examples endpoint, please upgrade your deployment to the latest version.");const r=new FormData;for(const u of n){const c=(u.id??Rn()).toString(),d={created_at:u.created_at,...u.metadata&&{metadata:u.metadata},...u.split&&{split:u.split},...u.source_run_id&&{source_run_id:u.source_run_id},...u.use_source_run_io&&{use_source_run_io:u.use_source_run_io},...u.use_source_run_attachments&&{use_source_run_attachments:u.use_source_run_attachments}},h=Qn(d,`Serializing body for uploaded example with id: ${c}`),m=new Blob([h],{type:"application/json"});if(r.append(c,m),u.inputs){const b=Qn(u.inputs,`Serializing inputs for uploaded example with id: ${c}`),y=new Blob([b],{type:"application/json"});r.append(`${c}.inputs`,y)}if(u.outputs){const b=Qn(u.outputs,`Serializing outputs for uploaded example with id: ${c}`),y=new Blob([b],{type:"application/json"});r.append(`${c}.outputs`,y)}if(u.attachments)for(const[b,y]of Object.entries(u.attachments)){let _,v;Array.isArray(y)?[_,v]=y:(_=y.mimeType,v=y.data);const w=new Blob([v],{type:`${_}; length=${v.byteLength}`});r.append(`${c}.attachment.${b}`,w)}}const i=await this.caller.call(Se(this.debug),`${this.apiUrl}/v1/platform/datasets/${e}/examples`,{method:"POST",headers:this.headers,body:r});return await Pe(i,"upload examples"),await i.json()}async updatePrompt(e,n){if(!await this.promptExists(e))throw new Error("Prompt does not exist, you must create it first.");const[r,i]=ti(e);if(!await this._currentTenantIsOwner(r))throw await this._ownerConflictError("update a prompt",r);const o={};if((n==null?void 0:n.description)!==void 0&&(o.description=n.description),(n==null?void 0:n.readme)!==void 0&&(o.readme=n.readme),(n==null?void 0:n.tags)!==void 0&&(o.tags=n.tags),(n==null?void 0:n.isPublic)!==void 0&&(o.is_public=n.isPublic),(n==null?void 0:n.isArchived)!==void 0&&(o.is_archived=n.isArchived),Object.keys(o).length===0)throw new Error("No valid update options provided");const u=await this.caller.call(Se(this.debug),`${this.apiUrl}/repos/${r}/${i}`,{method:"PATCH",body:JSON.stringify(o),headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await Pe(u,"update prompt"),u.json()}async deletePrompt(e){if(!await this.promptExists(e))throw new Error("Prompt does not exist, you must create it first.");const[n,r,i]=ti(e);if(!await this._currentTenantIsOwner(n))throw await this._ownerConflictError("delete a prompt",n);return await(await this.caller.call(Se(this.debug),`${this.apiUrl}/repos/${n}/${r}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async pullPromptCommit(e,n){const[r,i,o]=ti(e),u=await this.caller.call(Se(this.debug),`${this.apiUrl}/commits/${r}/${i}/${o}${n!=null&&n.includeModel?"?include_model=true":""}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await Pe(u,"pull prompt commit");const c=await u.json();return{owner:r,repo:i,commit_hash:c.commit_hash,manifest:c.manifest,examples:c.examples}}async _pullPrompt(e,n){const r=await this.pullPromptCommit(e,{includeModel:n==null?void 0:n.includeModel});return JSON.stringify(r.manifest)}async pushPrompt(e,n){return await this.promptExists(e)?n&&Object.keys(n).some(i=>i!=="object")&&await this.updatePrompt(e,{description:n==null?void 0:n.description,readme:n==null?void 0:n.readme,tags:n==null?void 0:n.tags,isPublic:n==null?void 0:n.isPublic}):await this.createPrompt(e,{description:n==null?void 0:n.description,readme:n==null?void 0:n.readme,tags:n==null?void 0:n.tags,isPublic:n==null?void 0:n.isPublic}),n!=null&&n.object?await this.createCommit(e,n==null?void 0:n.object,{parentCommitHash:n==null?void 0:n.parentCommitHash}):await this._getPromptUrl(e)}async clonePublicDataset(e,n={}){const{sourceApiUrl:r=this.apiUrl,datasetName:i}=n,[o,u]=this.parseTokenOrUrl(e,r),c=new lu({apiUrl:o,apiKey:"placeholder"}),d=await c.readSharedDataset(u),h=i||d.name;try{if(await this.hasDataset({datasetId:h})){console.log(`Dataset ${h} already exists in your tenant. Skipping.`);return}}catch{}const m=await c.listSharedExamples(u),b=await this.createDataset(h,{description:d.description,dataType:d.data_type||"kv",inputsSchema:d.inputs_schema_definition??void 0,outputsSchema:d.outputs_schema_definition??void 0});try{await this.createExamples({inputs:m.map(y=>y.inputs),outputs:m.flatMap(y=>y.outputs?[y.outputs]:[]),datasetId:b.id})}catch(y){throw console.error(`An error occurred while creating dataset ${h}. You should delete it manually.`),y}}parseTokenOrUrl(e,n,r=2,i="dataset"){try{return $e(e),[n,e]}catch{}try{const u=new URL(e).pathname.split("/").filter(c=>c!=="");if(u.length>=r){const c=u[u.length-r];return[n,c]}else throw new Error(`Invalid public ${i} URL: ${e}`)}catch{throw new Error(`Invalid public ${i} URL or token: ${e}`)}}awaitPendingTraceBatches(){return this.manualFlushMode?(console.warn("[WARNING]: When tracing in manual flush mode, you must call `await client.flush()` manually to submit trace batches."),Promise.resolve()):Promise.all([...this.autoBatchQueue.items.map(({itemPromise:e})=>e),this.batchIngestCaller.queue.onIdle()])}}function h1(t){return"dataset_id"in t||"dataset_name"in t}const CN=t=>!!["TRACING_V2","TRACING"].find(n=>Gr(n)==="true"),lg=Symbol.for("lc:context_variables");function AN(t){return t.replace(/[-:.]/g,"")}function NN(t,e,n=1){const r=n.toFixed(0).slice(0,3).padStart(3,"0");return AN(`${new Date(t).toISOString().slice(0,-1)}${r}Z`)+e}class jf{constructor(e,n,r,i){Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"project_name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"replicas",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.metadata=e,this.tags=n,this.project_name=r,this.replicas=i}static fromHeader(e){const n=e.split(",");let r={},i=[],o,u;for(const c of n){const[d,h]=c.split("="),m=decodeURIComponent(h);d==="langsmith-metadata"?r=JSON.parse(m):d==="langsmith-tags"?i=m.split(","):d==="langsmith-project"?o=m:d==="langsmith-replicas"&&(u=JSON.parse(m))}return new jf(r,i,o,u)}toHeader(){const e=[];return this.metadata&&Object.keys(this.metadata).length>0&&e.push(`langsmith-metadata=${encodeURIComponent(JSON.stringify(this.metadata))}`),this.tags&&this.tags.length>0&&e.push(`langsmith-tags=${encodeURIComponent(this.tags.join(","))}`),this.project_name&&e.push(`langsmith-project=${encodeURIComponent(this.project_name)}`),e.join(",")}}class Ln{constructor(e){var c;if(Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"run_type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"project_name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"parent_run",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"child_runs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"start_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"end_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"extra",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"error",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"serialized",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"outputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reference_example_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"trace_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dotted_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tracingEnabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"execution_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"child_execution_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"attachments",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"replicas",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Rx(e)){Object.assign(this,{...e});return}const n=Ln.getDefaultConfig(),{metadata:r,...i}=e,o=i.client??Ln.getSharedClient(),u={...r,...(c=i==null?void 0:i.extra)==null?void 0:c.metadata};if(i.extra={...i.extra,metadata:u},Object.assign(this,{...n,...i,client:o}),this.trace_id||(this.parent_run?this.trace_id=this.parent_run.trace_id??this.id:this.trace_id=this.id),this.execution_order??(this.execution_order=1),this.child_execution_order??(this.child_execution_order=1),!this.dotted_order){const d=NN(this.start_time,this.id,this.execution_order);this.parent_run?this.dotted_order=this.parent_run.dotted_order+"."+d:this.dotted_order=d}}set metadata(e){var n;this.extra={...this.extra,metadata:{...(n=this.extra)==null?void 0:n.metadata,...e}}}get metadata(){var e;return(e=this.extra)==null?void 0:e.metadata}static getDefaultConfig(){return{id:Rn(),run_type:"chain",project_name:yx(),child_runs:[],api_url:pi("LANGCHAIN_ENDPOINT")??"http://localhost:1984",api_key:pi("LANGCHAIN_API_KEY"),caller_options:{},start_time:Date.now(),serialized:{},inputs:{},extra:{}}}static getSharedClient(){return Ln.sharedClient||(Ln.sharedClient=new lu),Ln.sharedClient}createChild(e){var d,h,m,b,y,_;const n=this.child_execution_order+1,r=new Ln({...e,parent_run:this,project_name:this.project_name,replicas:this.replicas,client:this.client,tracingEnabled:this.tracingEnabled,execution_order:n,child_execution_order:n});lg in this&&(r[lg]=this[lg]);const i=Symbol.for("lc:child_config"),o=((d=e.extra)==null?void 0:d[i])??this.extra[i];if(IN(o)){const v={...o},w=kN(v.callbacks)?(m=(h=v.callbacks).copy)==null?void 0:m.call(h):void 0;w&&(Object.assign(w,{_parentRunId:r.id}),(_=(y=(b=w.handlers)==null?void 0:b.find(Cx))==null?void 0:y.updateFromRunTree)==null||_.call(y,r),v.callbacks=w),r.extra[i]=v}const u=new Set;let c=this;for(;c!=null&&!u.has(c.id);)u.add(c.id),c.child_execution_order=Math.max(c.child_execution_order,n),c=c.parent_run;return this.child_runs.push(r),r}async end(e,n,r=Date.now(),i){this.outputs=this.outputs??e,this.error=this.error??n,this.end_time=this.end_time??r,i&&Object.keys(i).length>0&&(this.extra=this.extra?{...this.extra,metadata:{...this.extra.metadata,...i}}:{metadata:i})}_convertToCreate(e,n,r=!0){var c,d;const i=e.extra??{};if(((c=i==null?void 0:i.runtime)==null?void 0:c.library)===void 0&&(i.runtime||(i.runtime={}),n))for(const[h,m]of Object.entries(n))i.runtime[h]||(i.runtime[h]=m);let o,u;return r?(u=(d=e.parent_run)==null?void 0:d.id,o=[]):(o=e.child_runs.map(h=>this._convertToCreate(h,n,r)),u=void 0),{id:e.id,name:e.name,start_time:e.start_time,end_time:e.end_time,run_type:e.run_type,reference_example_id:e.reference_example_id,extra:i,serialized:e.serialized,error:e.error,inputs:e.inputs,outputs:e.outputs,session_name:e.project_name,child_runs:o,parent_run_id:u,trace_id:e.trace_id,dotted_order:e.dotted_order,tags:e.tags,attachments:e.attachments,events:e.events}}_remapForProject(e,n,r=!0){const i=this._convertToCreate(this,n,r);if(e===this.project_name)return i;const o=b=>lS(`${b}:${e}`,lS.DNS),u=o(i.id),c=i.trace_id?o(i.trace_id):void 0,d=i.parent_run_id?o(i.parent_run_id):void 0;let h;if(i.dotted_order){const b=$N(i.dotted_order),y=[];for(let v=0;v<b.length-1;v++){const[w,S]=b[v],T=o(S);y.push(w.toISOString().replace(/[-:]/g,"").replace(".","")+T)}const[_]=b[b.length-1];y.push(_.toISOString().replace(/[-:]/g,"").replace(".","")+u),h=y.join(".")}else h=void 0;return{...i,id:u,trace_id:c,parent_run_id:d,dotted_order:h,session_name:e}}async postRun(e=!0){try{const n=_x();if(this.replicas&&this.replicas.length>0)for(const[r]of this.replicas){const i=this._remapForProject(r,n,!0);await this.client.createRun(i)}else{const r=this._convertToCreate(this,n,e);await this.client.createRun(r)}if(!e){Sx("Posting with excludeChildRuns=false is deprecated and will be removed in a future version.");for(const r of this.child_runs)await r.postRun(!1)}}catch(n){console.error(`Error in postRun for run ${this.id}:`,n)}}async patchRun(){var e;if(this.replicas&&this.replicas.length>0)for(const[n,r]of this.replicas){const i=this._remapForProject(n);await this.client.updateRun(i.id,{inputs:i.inputs,outputs:i.outputs,error:i.error,parent_run_id:i.parent_run_id,session_name:i.session_name,reference_example_id:i.reference_example_id,end_time:i.end_time,dotted_order:i.dotted_order,trace_id:i.trace_id,events:i.events,tags:i.tags,extra:i.extra,attachments:this.attachments,...r})}else try{const n={end_time:this.end_time,error:this.error,inputs:this.inputs,outputs:this.outputs,parent_run_id:(e=this.parent_run)==null?void 0:e.id,reference_example_id:this.reference_example_id,extra:this.extra,events:this.events,dotted_order:this.dotted_order,trace_id:this.trace_id,tags:this.tags,attachments:this.attachments,session_name:this.project_name};await this.client.updateRun(this.id,n)}catch(n){console.error(`Error in patchRun for run ${this.id}`,n)}}toJSON(){return this._convertToCreate(this,void 0,!1)}addEvent(e){this.events||(this.events=[]),typeof e=="string"?this.events.push({name:"event",time:new Date().toISOString(),message:e}):this.events.push({...e,time:e.time??new Date().toISOString()})}static fromRunnableConfig(e,n){var h,m,b,y;const r=e==null?void 0:e.callbacks;let i,o,u,c=CN();if(r){const _=((h=r==null?void 0:r.getParentRunId)==null?void 0:h.call(r))??"",v=(m=r==null?void 0:r.handlers)==null?void 0:m.find(w=>(w==null?void 0:w.name)=="langchain_tracer");i=(b=v==null?void 0:v.getRun)==null?void 0:b.call(v,_),o=v==null?void 0:v.projectName,u=v==null?void 0:v.client,c=c||!!v}return i?new Ln({name:i.name,id:i.id,trace_id:i.trace_id,dotted_order:i.dotted_order,client:u,tracingEnabled:c,project_name:o,tags:[...new Set(((i==null?void 0:i.tags)??[]).concat((e==null?void 0:e.tags)??[]))],extra:{metadata:{...(y=i==null?void 0:i.extra)==null?void 0:y.metadata,...e==null?void 0:e.metadata}}}).createChild(n):new Ln({...n,client:u,tracingEnabled:c,project_name:o})}static fromDottedOrder(e){return this.fromHeaders({"langsmith-trace":e})}static fromHeaders(e,n){var h;const r="get"in e&&typeof e.get=="function"?{"langsmith-trace":e.get("langsmith-trace"),baggage:e.get("baggage")}:e,i=r["langsmith-trace"];if(!i||typeof i!="string")return;const o=i.trim(),u=o.split(".").map(m=>{const[b,y]=m.split("Z");return{strTime:b,time:Date.parse(b+"Z"),uuid:y}}),c=u[0].uuid,d={...n,name:(n==null?void 0:n.name)??"parent",run_type:(n==null?void 0:n.run_type)??"chain",start_time:(n==null?void 0:n.start_time)??Date.now(),id:(h=u.at(-1))==null?void 0:h.uuid,trace_id:c,dotted_order:o};if(r.baggage&&typeof r.baggage=="string"){const m=jf.fromHeader(r.baggage);d.metadata=m.metadata,d.tags=m.tags,d.project_name=m.project_name,d.replicas=m.replicas}return new Ln(d)}toHeaders(e){var r;const n={"langsmith-trace":this.dotted_order,baggage:new jf((r=this.extra)==null?void 0:r.metadata,this.tags,this.project_name,this.replicas).toHeader()};if(e)for(const[i,o]of Object.entries(n))e.set(i,o);return n}}Object.defineProperty(Ln,"sharedClient",{enumerable:!0,configurable:!0,writable:!0,value:null});function Rx(t){return t!==void 0&&typeof t.createChild=="function"&&typeof t.postRun=="function"}function Cx(t){return typeof t=="object"&&t!=null&&typeof t.name=="string"&&t.name==="langchain_tracer"}function p1(t){return Array.isArray(t)&&t.some(e=>Cx(e))}function kN(t){return typeof t=="object"&&t!=null&&Array.isArray(t.handlers)}function IN(t){var e;return t!==void 0&&typeof t.callbacks=="object"&&(p1((e=t.callbacks)==null?void 0:e.handlers)||p1(t.callbacks))}function $N(t){return t.split(".").map(n=>{const r=n.slice(0,-36),i=n.slice(-36),o=parseInt(r.slice(0,4)),u=parseInt(r.slice(4,6))-1,c=parseInt(r.slice(6,8)),d=parseInt(r.slice(9,11)),h=parseInt(r.slice(11,13)),m=parseInt(r.slice(13,15)),b=parseInt(r.slice(15,21));return[new Date(o,u,c,d,h,m,b/1e3),i]})}let jN=class{getStore(){}run(e,n){return n()}};const ug=Symbol.for("ls:tracing_async_local_storage"),PN=new jN;let MN=class{getInstance(){return globalThis[ug]??PN}initializeGlobalInstance(e){globalThis[ug]===void 0&&(globalThis[ug]=e)}};const LN=new MN;function DN(t=!1){const e=LN.getInstance().getStore();if(!t&&!Rx(e))throw new Error(`Could not get the current run tree.

Please make sure you are calling this method within a traceable function and that tracing is enabled.`);return e}function Ly(t){return typeof t=="function"&&"langsmith:traceable"in t}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */const UN=Object.prototype.hasOwnProperty;function Hg(t,e){return UN.call(t,e)}function qg(t){if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<n.length;r++)n[r]=""+r;return n}if(Object.keys)return Object.keys(t);let e=[];for(let n in t)Hg(t,n)&&e.push(n);return e}function Yr(t){switch(typeof t){case"object":return JSON.parse(JSON.stringify(t));case"undefined":return null;default:return t}}function Fg(t){let e=0;const n=t.length;let r;for(;e<n;){if(r=t.charCodeAt(e),r>=48&&r<=57){e++;continue}return!1}return!0}function Fs(t){return t.indexOf("/")===-1&&t.indexOf("~")===-1?t:t.replace(/~/g,"~0").replace(/\//g,"~1")}function zN(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}function Gg(t){if(t===void 0)return!0;if(t){if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(Gg(t[n]))return!0}else if(typeof t=="object"){const n=qg(t),r=n.length;for(var e=0;e<r;e++)if(Gg(t[n[e]]))return!0}}return!1}function m1(t,e){const n=[t];for(const r in e){const i=typeof e[r]=="object"?JSON.stringify(e[r],null,2):e[r];typeof i<"u"&&n.push(`${r}: ${i}`)}return n.join(`
`)}class BN extends Error{constructor(e,n,r,i,o){super(m1(e,{name:n,index:r,operation:i,tree:o})),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"index",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"operation",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"tree",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.setPrototypeOf(this,new.target.prototype),this.message=m1(e,{name:n,index:r,operation:i,tree:o})}}const Gt=BN,to={add:function(t,e,n){return t[e]=this.value,{newDocument:n}},remove:function(t,e,n){var r=t[e];return delete t[e],{newDocument:n,removed:r}},replace:function(t,e,n){var r=t[e];return t[e]=this.value,{newDocument:n,removed:r}},move:function(t,e,n){let r=Vg(n,this.path);r&&(r=Yr(r));const i=Yl(n,{op:"remove",path:this.from}).removed;return Yl(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(t,e,n){const r=Vg(n,this.from);return Yl(n,{op:"add",path:this.path,value:Yr(r)}),{newDocument:n}},test:function(t,e,n){return{newDocument:n,test:Mf(t[e],this.value)}},_get:function(t,e,n){return this.value=t[e],{newDocument:n}}};var HN={add:function(t,e,n){return Fg(e)?t.splice(e,0,this.value):t[e]=this.value,{newDocument:n,index:e}},remove:function(t,e,n){var r=t.splice(e,1);return{newDocument:n,removed:r[0]}},replace:function(t,e,n){var r=t[e];return t[e]=this.value,{newDocument:n,removed:r}},move:to.move,copy:to.copy,test:to.test,_get:to._get};function Vg(t,e){if(e=="")return t;var n={op:"_get",path:e};return Yl(t,n),n.value}function Yl(t,e,n=!1,r=!0,i=!0,o=0){if(n&&(typeof n=="function"?n(e,0,t,e.path):Zg(e,0)),e.path===""){let u={newDocument:t};if(e.op==="add")return u.newDocument=e.value,u;if(e.op==="replace")return u.newDocument=e.value,u.removed=t,u;if(e.op==="move"||e.op==="copy")return u.newDocument=Vg(t,e.from),e.op==="move"&&(u.removed=t),u;if(e.op==="test"){if(u.test=Mf(t,e.value),u.test===!1)throw new Gt("Test operation failed","TEST_OPERATION_FAILED",o,e,t);return u.newDocument=t,u}else{if(e.op==="remove")return u.removed=t,u.newDocument=null,u;if(e.op==="_get")return e.value=t,u;if(n)throw new Gt("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",o,e,t);return u}}else{r||(t=Yr(t));const c=(e.path||"").split("/");let d=t,h=1,m=c.length,b,y,_;for(typeof n=="function"?_=n:_=Zg;;){if(y=c[h],y&&y.indexOf("~")!=-1&&(y=zN(y)),i&&(y=="__proto__"||y=="prototype"&&h>0&&c[h-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&b===void 0&&(d[y]===void 0?b=c.slice(0,h).join("/"):h==m-1&&(b=e.path),b!==void 0&&_(e,0,t,b)),h++,Array.isArray(d)){if(y==="-")y=d.length;else{if(n&&!Fg(y))throw new Gt("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",o,e,t);Fg(y)&&(y=~~y)}if(h>=m){if(n&&e.op==="add"&&y>d.length)throw new Gt("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",o,e,t);const v=HN[e.op].call(e,d,y,t);if(v.test===!1)throw new Gt("Test operation failed","TEST_OPERATION_FAILED",o,e,t);return v}}else if(h>=m){const v=to[e.op].call(e,d,y,t);if(v.test===!1)throw new Gt("Test operation failed","TEST_OPERATION_FAILED",o,e,t);return v}if(d=d[y],n&&h<m&&(!d||typeof d!="object"))throw new Gt("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",o,e,t)}}}function Pf(t,e,n,r=!0,i=!0){if(n&&!Array.isArray(e))throw new Gt("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(t=Yr(t));const o=new Array(e.length);for(let u=0,c=e.length;u<c;u++)o[u]=Yl(t,e[u],n,!0,i,u),t=o[u].newDocument;return o.newDocument=t,o}function Zg(t,e,n,r){if(typeof t!="object"||t===null||Array.isArray(t))throw new Gt("Operation is not an object","OPERATION_NOT_AN_OBJECT",e,t,n);if(to[t.op]){if(typeof t.path!="string")throw new Gt("Operation `path` property is not a string","OPERATION_PATH_INVALID",e,t,n);if(t.path.indexOf("/")!==0&&t.path.length>0)throw new Gt('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",e,t,n);if((t.op==="move"||t.op==="copy")&&typeof t.from!="string")throw new Gt("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",e,t,n);if((t.op==="add"||t.op==="replace"||t.op==="test")&&t.value===void 0)throw new Gt("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",e,t,n);if((t.op==="add"||t.op==="replace"||t.op==="test")&&Gg(t.value))throw new Gt("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",e,t,n);if(n){if(t.op=="add"){var i=t.path.split("/").length,o=r.split("/").length;if(i!==o+1&&i!==o)throw new Gt("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",e,t,n)}else if(t.op==="replace"||t.op==="remove"||t.op==="_get"){if(t.path!==r)throw new Gt("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",e,t,n)}else if(t.op==="move"||t.op==="copy"){var u={op:"_get",path:t.from,value:void 0},c=qN([u],n);if(c&&c.name==="OPERATION_PATH_UNRESOLVABLE")throw new Gt("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",e,t,n)}}}else throw new Gt("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",e,t,n)}function qN(t,e,n){try{if(!Array.isArray(t))throw new Gt("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(e)Pf(Yr(e),Yr(t),n||!0);else{n=n||Zg;for(var r=0;r<t.length;r++)n(t[r],r,e,void 0)}}catch(i){if(i instanceof Gt)return i;throw i}}function Mf(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var n=Array.isArray(t),r=Array.isArray(e),i,o,u;if(n&&r){if(o=t.length,o!=e.length)return!1;for(i=o;i--!==0;)if(!Mf(t[i],e[i]))return!1;return!0}if(n!=r)return!1;var c=Object.keys(t);if(o=c.length,o!==Object.keys(e).length)return!1;for(i=o;i--!==0;)if(!e.hasOwnProperty(c[i]))return!1;for(i=o;i--!==0;)if(u=c[i],!Mf(t[u],e[u]))return!1;return!0}return t!==t&&e!==e}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2013-2021 Joachim Wester
 * MIT license
 */function Ax(t,e,n,r,i){if(e!==t){typeof e.toJSON=="function"&&(e=e.toJSON());for(var o=qg(e),u=qg(t),c=!1,d=u.length-1;d>=0;d--){var h=u[d],m=t[h];if(Hg(e,h)&&!(e[h]===void 0&&m!==void 0&&Array.isArray(e)===!1)){var b=e[h];typeof m=="object"&&m!=null&&typeof b=="object"&&b!=null&&Array.isArray(m)===Array.isArray(b)?Ax(m,b,n,r+"/"+Fs(h),i):m!==b&&(i&&n.push({op:"test",path:r+"/"+Fs(h),value:Yr(m)}),n.push({op:"replace",path:r+"/"+Fs(h),value:Yr(b)}))}else Array.isArray(t)===Array.isArray(e)?(i&&n.push({op:"test",path:r+"/"+Fs(h),value:Yr(m)}),n.push({op:"remove",path:r+"/"+Fs(h)}),c=!0):(i&&n.push({op:"test",path:r,value:t}),n.push({op:"replace",path:r,value:e}))}if(!(!c&&o.length==u.length))for(var d=0;d<o.length;d++){var h=o[d];!Hg(t,h)&&e[h]!==void 0&&n.push({op:"add",path:r+"/"+Fs(h),value:Yr(e[h])})}}}function FN(t,e,n=!1){var r=[];return Ax(t,e,r,"",n),r}class GN{}function VN(t){return"lc_prefer_streaming"in t&&t.lc_prefer_streaming}class Eu extends GN{get lc_namespace(){return["langchain_core","callbacks",this.name]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}get lc_serializable_keys(){}static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,ux(this.constructor)]}constructor(e){super(),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ignoreLLM",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreChain",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreAgent",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreRetriever",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreCustomEvent",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"raiseError",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"awaitHandlers",{enumerable:!0,configurable:!0,writable:!0,value:Vi("LANGCHAIN_CALLBACKS_BACKGROUND")==="false"}),this.lc_kwargs=e||{},e&&(this.ignoreLLM=e.ignoreLLM??this.ignoreLLM,this.ignoreChain=e.ignoreChain??this.ignoreChain,this.ignoreAgent=e.ignoreAgent??this.ignoreAgent,this.ignoreRetriever=e.ignoreRetriever??this.ignoreRetriever,this.ignoreCustomEvent=e.ignoreCustomEvent??this.ignoreCustomEvent,this.raiseError=e.raiseError??this.raiseError,this.awaitHandlers=this.raiseError||(e._awaitHandler??this.awaitHandlers))}copy(){return new this.constructor(this)}toJSON(){return Xi.prototype.toJSON.call(this)}toJSONNotImplemented(){return Xi.prototype.toJSONNotImplemented.call(this)}static fromMethods(e){class n extends Eu{constructor(){super(),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:Rn()}),Object.assign(this,e)}}return new n}}const ZN=t=>{const e=t;return e!==void 0&&typeof e.copy=="function"&&typeof e.name=="string"&&typeof e.awaitHandlers=="boolean"},YN=t=>{if(t)return t.events=t.events??[],t.child_runs=t.child_runs??[],t};function Yg(t,e){if(t)return new Ln({...t,parent_run:Yg(e),child_runs:t.child_runs.map(n=>Yg(n)).filter(n=>n!==void 0),extra:{...t.extra,runtime:pA()},tracingEnabled:!1})}function cg(t,e){return t&&!Array.isArray(t)&&typeof t=="object"?t:{[e]:t}}function KN(t){return t.replace(/[-:.]/g,"")}function XN(t,e,n){const r=n.toFixed(0).slice(0,3).padStart(3,"0");return KN(`${new Date(t).toISOString().slice(0,-1)}${r}Z`)+e}function Nl(t){return typeof t._addRunToRunMap=="function"}class xu extends Eu{constructor(e){super(...arguments),Object.defineProperty(this,"runMap",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"runTreeMap",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"usesRunTreeMap",{enumerable:!0,configurable:!0,writable:!0,value:!1})}copy(){return this}getRunById(e){if(e!==void 0)return this.usesRunTreeMap?YN(this.runTreeMap.get(e)):this.runMap.get(e)}stringifyError(e){return e instanceof Error?e.message+(e!=null&&e.stack?`

${e.stack}`:""):typeof e=="string"?e:`${e}`}_addChildRun(e,n){e.child_runs.push(n)}_addRunToRunMap(e){const n=XN(e.start_time,e.id,e.execution_order),r={...e},i=this.getRunById(r.parent_run_id);if(r.parent_run_id!==void 0?i&&(this._addChildRun(i,r),i.child_execution_order=Math.max(i.child_execution_order,r.child_execution_order),r.trace_id=i.trace_id,i.dotted_order!==void 0&&(r.dotted_order=[i.dotted_order,n].join("."))):(r.trace_id=r.id,r.dotted_order=n),this.usesRunTreeMap){const o=Yg(r,i);o!==void 0&&this.runTreeMap.set(r.id,o)}else this.runMap.set(r.id,r);return r}async _endTrace(e){var r;const n=e.parent_run_id!==void 0&&this.getRunById(e.parent_run_id);n?n.child_execution_order=Math.max(n.child_execution_order,e.child_execution_order):await this.persistRun(e),await((r=this.onRunUpdate)==null?void 0:r.call(this,e)),this.usesRunTreeMap?this.runTreeMap.delete(e.id):this.runMap.delete(e.id)}_getExecutionOrder(e){const n=e!==void 0&&this.getRunById(e);return n?n.child_execution_order+1:1}_createRunForLLMStart(e,n,r,i,o,u,c,d){const h=this._getExecutionOrder(i),m=Date.now(),b=c?{...o,metadata:c}:o,y={id:r,name:d??e.id[e.id.length-1],parent_run_id:i,start_time:m,serialized:e,events:[{name:"start",time:new Date(m).toISOString()}],inputs:{prompts:n},execution_order:h,child_runs:[],child_execution_order:h,run_type:"llm",extra:b??{},tags:u||[]};return this._addRunToRunMap(y)}async handleLLMStart(e,n,r,i,o,u,c,d){var m,b;const h=this.getRunById(r)??this._createRunForLLMStart(e,n,r,i,o,u,c,d);return await((m=this.onRunCreate)==null?void 0:m.call(this,h)),await((b=this.onLLMStart)==null?void 0:b.call(this,h)),h}_createRunForChatModelStart(e,n,r,i,o,u,c,d){const h=this._getExecutionOrder(i),m=Date.now(),b=c?{...o,metadata:c}:o,y={id:r,name:d??e.id[e.id.length-1],parent_run_id:i,start_time:m,serialized:e,events:[{name:"start",time:new Date(m).toISOString()}],inputs:{messages:n},execution_order:h,child_runs:[],child_execution_order:h,run_type:"llm",extra:b??{},tags:u||[]};return this._addRunToRunMap(y)}async handleChatModelStart(e,n,r,i,o,u,c,d){var m,b;const h=this.getRunById(r)??this._createRunForChatModelStart(e,n,r,i,o,u,c,d);return await((m=this.onRunCreate)==null?void 0:m.call(this,h)),await((b=this.onLLMStart)==null?void 0:b.call(this,h)),h}async handleLLMEnd(e,n,r,i,o){var c;const u=this.getRunById(n);if(!u||(u==null?void 0:u.run_type)!=="llm")throw new Error("No LLM run to end.");return u.end_time=Date.now(),u.outputs=e,u.events.push({name:"end",time:new Date(u.end_time).toISOString()}),u.extra={...u.extra,...o},await((c=this.onLLMEnd)==null?void 0:c.call(this,u)),await this._endTrace(u),u}async handleLLMError(e,n,r,i,o){var c;const u=this.getRunById(n);if(!u||(u==null?void 0:u.run_type)!=="llm")throw new Error("No LLM run to end.");return u.end_time=Date.now(),u.error=this.stringifyError(e),u.events.push({name:"error",time:new Date(u.end_time).toISOString()}),u.extra={...u.extra,...o},await((c=this.onLLMError)==null?void 0:c.call(this,u)),await this._endTrace(u),u}_createRunForChainStart(e,n,r,i,o,u,c,d){const h=this._getExecutionOrder(i),m=Date.now(),b={id:r,name:d??e.id[e.id.length-1],parent_run_id:i,start_time:m,serialized:e,events:[{name:"start",time:new Date(m).toISOString()}],inputs:n,execution_order:h,child_execution_order:h,run_type:c??"chain",child_runs:[],extra:u?{metadata:u}:{},tags:o||[]};return this._addRunToRunMap(b)}async handleChainStart(e,n,r,i,o,u,c,d){var m,b;const h=this.getRunById(r)??this._createRunForChainStart(e,n,r,i,o,u,c,d);return await((m=this.onRunCreate)==null?void 0:m.call(this,h)),await((b=this.onChainStart)==null?void 0:b.call(this,h)),h}async handleChainEnd(e,n,r,i,o){var c;const u=this.getRunById(n);if(!u)throw new Error("No chain run to end.");return u.end_time=Date.now(),u.outputs=cg(e,"output"),u.events.push({name:"end",time:new Date(u.end_time).toISOString()}),(o==null?void 0:o.inputs)!==void 0&&(u.inputs=cg(o.inputs,"input")),await((c=this.onChainEnd)==null?void 0:c.call(this,u)),await this._endTrace(u),u}async handleChainError(e,n,r,i,o){var c;const u=this.getRunById(n);if(!u)throw new Error("No chain run to end.");return u.end_time=Date.now(),u.error=this.stringifyError(e),u.events.push({name:"error",time:new Date(u.end_time).toISOString()}),(o==null?void 0:o.inputs)!==void 0&&(u.inputs=cg(o.inputs,"input")),await((c=this.onChainError)==null?void 0:c.call(this,u)),await this._endTrace(u),u}_createRunForToolStart(e,n,r,i,o,u,c){const d=this._getExecutionOrder(i),h=Date.now(),m={id:r,name:c??e.id[e.id.length-1],parent_run_id:i,start_time:h,serialized:e,events:[{name:"start",time:new Date(h).toISOString()}],inputs:{input:n},execution_order:d,child_execution_order:d,run_type:"tool",child_runs:[],extra:u?{metadata:u}:{},tags:o||[]};return this._addRunToRunMap(m)}async handleToolStart(e,n,r,i,o,u,c){var h,m;const d=this.getRunById(r)??this._createRunForToolStart(e,n,r,i,o,u,c);return await((h=this.onRunCreate)==null?void 0:h.call(this,d)),await((m=this.onToolStart)==null?void 0:m.call(this,d)),d}async handleToolEnd(e,n){var i;const r=this.getRunById(n);if(!r||(r==null?void 0:r.run_type)!=="tool")throw new Error("No tool run to end");return r.end_time=Date.now(),r.outputs={output:e},r.events.push({name:"end",time:new Date(r.end_time).toISOString()}),await((i=this.onToolEnd)==null?void 0:i.call(this,r)),await this._endTrace(r),r}async handleToolError(e,n){var i;const r=this.getRunById(n);if(!r||(r==null?void 0:r.run_type)!=="tool")throw new Error("No tool run to end");return r.end_time=Date.now(),r.error=this.stringifyError(e),r.events.push({name:"error",time:new Date(r.end_time).toISOString()}),await((i=this.onToolError)==null?void 0:i.call(this,r)),await this._endTrace(r),r}async handleAgentAction(e,n){var o;const r=this.getRunById(n);if(!r||(r==null?void 0:r.run_type)!=="chain")return;const i=r;i.actions=i.actions||[],i.actions.push(e),i.events.push({name:"agent_action",time:new Date().toISOString(),kwargs:{action:e}}),await((o=this.onAgentAction)==null?void 0:o.call(this,r))}async handleAgentEnd(e,n){var i;const r=this.getRunById(n);!r||(r==null?void 0:r.run_type)!=="chain"||(r.events.push({name:"agent_end",time:new Date().toISOString(),kwargs:{action:e}}),await((i=this.onAgentEnd)==null?void 0:i.call(this,r)))}_createRunForRetrieverStart(e,n,r,i,o,u,c){const d=this._getExecutionOrder(i),h=Date.now(),m={id:r,name:c??e.id[e.id.length-1],parent_run_id:i,start_time:h,serialized:e,events:[{name:"start",time:new Date(h).toISOString()}],inputs:{query:n},execution_order:d,child_execution_order:d,run_type:"retriever",child_runs:[],extra:u?{metadata:u}:{},tags:o||[]};return this._addRunToRunMap(m)}async handleRetrieverStart(e,n,r,i,o,u,c){var h,m;const d=this.getRunById(r)??this._createRunForRetrieverStart(e,n,r,i,o,u,c);return await((h=this.onRunCreate)==null?void 0:h.call(this,d)),await((m=this.onRetrieverStart)==null?void 0:m.call(this,d)),d}async handleRetrieverEnd(e,n){var i;const r=this.getRunById(n);if(!r||(r==null?void 0:r.run_type)!=="retriever")throw new Error("No retriever run to end");return r.end_time=Date.now(),r.outputs={documents:e},r.events.push({name:"end",time:new Date(r.end_time).toISOString()}),await((i=this.onRetrieverEnd)==null?void 0:i.call(this,r)),await this._endTrace(r),r}async handleRetrieverError(e,n){var i;const r=this.getRunById(n);if(!r||(r==null?void 0:r.run_type)!=="retriever")throw new Error("No retriever run to end");return r.end_time=Date.now(),r.error=this.stringifyError(e),r.events.push({name:"error",time:new Date(r.end_time).toISOString()}),await((i=this.onRetrieverError)==null?void 0:i.call(this,r)),await this._endTrace(r),r}async handleText(e,n){var i;const r=this.getRunById(n);!r||(r==null?void 0:r.run_type)!=="chain"||(r.events.push({name:"text",time:new Date().toISOString(),kwargs:{text:e}}),await((i=this.onText)==null?void 0:i.call(this,r)))}async handleLLMNewToken(e,n,r,i,o,u){var d;const c=this.getRunById(r);if(!c||(c==null?void 0:c.run_type)!=="llm")throw new Error('Invalid "runId" provided to "handleLLMNewToken" callback.');return c.events.push({name:"new_token",time:new Date().toISOString(),kwargs:{token:e,idx:n,chunk:u==null?void 0:u.chunk}}),await((d=this.onLLMNewToken)==null?void 0:d.call(this,c,e,{chunk:u==null?void 0:u.chunk})),c}}var bf={exports:{}};bf.exports;var g1;function WN(){return g1||(g1=1,function(t){const n=(o=0)=>u=>`\x1B[${38+o};5;${u}m`,r=(o=0)=>(u,c,d)=>`\x1B[${38+o};2;${u};${c};${d}m`;function i(){const o=new Map,u={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};u.color.gray=u.color.blackBright,u.bgColor.bgGray=u.bgColor.bgBlackBright,u.color.grey=u.color.blackBright,u.bgColor.bgGrey=u.bgColor.bgBlackBright;for(const[c,d]of Object.entries(u)){for(const[h,m]of Object.entries(d))u[h]={open:`\x1B[${m[0]}m`,close:`\x1B[${m[1]}m`},d[h]=u[h],o.set(m[0],m[1]);Object.defineProperty(u,c,{value:d,enumerable:!1})}return Object.defineProperty(u,"codes",{value:o,enumerable:!1}),u.color.close="\x1B[39m",u.bgColor.close="\x1B[49m",u.color.ansi256=n(),u.color.ansi16m=r(),u.bgColor.ansi256=n(10),u.bgColor.ansi16m=r(10),Object.defineProperties(u,{rgbToAnsi256:{value:(c,d,h)=>c===d&&d===h?c<8?16:c>248?231:Math.round((c-8)/247*24)+232:16+36*Math.round(c/255*5)+6*Math.round(d/255*5)+Math.round(h/255*5),enumerable:!1},hexToRgb:{value:c=>{const d=/(?<colorString>[a-f\d]{6}|[a-f\d]{3})/i.exec(c.toString(16));if(!d)return[0,0,0];let{colorString:h}=d.groups;h.length===3&&(h=h.split("").map(b=>b+b).join(""));const m=Number.parseInt(h,16);return[m>>16&255,m>>8&255,m&255]},enumerable:!1},hexToAnsi256:{value:c=>u.rgbToAnsi256(...u.hexToRgb(c)),enumerable:!1}}),u}Object.defineProperty(t,"exports",{enumerable:!0,get:i})}(bf)),bf.exports}var QN=WN();const Nx=vi(QN);function Tn(t,e){return`${t.open}${e}${t.close}`}function mr(t,e){try{return JSON.stringify(t,null,2)}catch{return e}}function y1(t){return typeof t=="string"?t.trim():t==null?t:mr(t,t.toString())}function ni(t){if(!t.end_time)return"";const e=t.end_time-t.start_time;return e<1e3?`${e}ms`:`${(e/1e3).toFixed(2)}s`}const{color:Mn}=Nx;class b1 extends xu{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"console_callback_handler"})}persistRun(e){return Promise.resolve()}getParents(e){const n=[];let r=e;for(;r.parent_run_id;){const i=this.runMap.get(r.parent_run_id);if(i)n.push(i),r=i;else break}return n}getBreadcrumbs(e){const r=[...this.getParents(e).reverse(),e].map((i,o,u)=>{const c=`${i.execution_order}:${i.run_type}:${i.name}`;return o===u.length-1?Tn(Nx.bold,c):c}).join(" > ");return Tn(Mn.grey,r)}onChainStart(e){const n=this.getBreadcrumbs(e);console.log(`${Tn(Mn.green,"[chain/start]")} [${n}] Entering Chain run with input: ${mr(e.inputs,"[inputs]")}`)}onChainEnd(e){const n=this.getBreadcrumbs(e);console.log(`${Tn(Mn.cyan,"[chain/end]")} [${n}] [${ni(e)}] Exiting Chain run with output: ${mr(e.outputs,"[outputs]")}`)}onChainError(e){const n=this.getBreadcrumbs(e);console.log(`${Tn(Mn.red,"[chain/error]")} [${n}] [${ni(e)}] Chain run errored with error: ${mr(e.error,"[error]")}`)}onLLMStart(e){const n=this.getBreadcrumbs(e),r="prompts"in e.inputs?{prompts:e.inputs.prompts.map(i=>i.trim())}:e.inputs;console.log(`${Tn(Mn.green,"[llm/start]")} [${n}] Entering LLM run with input: ${mr(r,"[inputs]")}`)}onLLMEnd(e){const n=this.getBreadcrumbs(e);console.log(`${Tn(Mn.cyan,"[llm/end]")} [${n}] [${ni(e)}] Exiting LLM run with output: ${mr(e.outputs,"[response]")}`)}onLLMError(e){const n=this.getBreadcrumbs(e);console.log(`${Tn(Mn.red,"[llm/error]")} [${n}] [${ni(e)}] LLM run errored with error: ${mr(e.error,"[error]")}`)}onToolStart(e){const n=this.getBreadcrumbs(e);console.log(`${Tn(Mn.green,"[tool/start]")} [${n}] Entering Tool run with input: "${y1(e.inputs.input)}"`)}onToolEnd(e){var r;const n=this.getBreadcrumbs(e);console.log(`${Tn(Mn.cyan,"[tool/end]")} [${n}] [${ni(e)}] Exiting Tool run with output: "${y1((r=e.outputs)==null?void 0:r.output)}"`)}onToolError(e){const n=this.getBreadcrumbs(e);console.log(`${Tn(Mn.red,"[tool/error]")} [${n}] [${ni(e)}] Tool run errored with error: ${mr(e.error,"[error]")}`)}onRetrieverStart(e){const n=this.getBreadcrumbs(e);console.log(`${Tn(Mn.green,"[retriever/start]")} [${n}] Entering Retriever run with input: ${mr(e.inputs,"[inputs]")}`)}onRetrieverEnd(e){const n=this.getBreadcrumbs(e);console.log(`${Tn(Mn.cyan,"[retriever/end]")} [${n}] [${ni(e)}] Exiting Retriever run with output: ${mr(e.outputs,"[outputs]")}`)}onRetrieverError(e){const n=this.getBreadcrumbs(e);console.log(`${Tn(Mn.red,"[retriever/error]")} [${n}] [${ni(e)}] Retriever run errored with error: ${mr(e.error,"[error]")}`)}onAgentAction(e){const n=e,r=this.getBreadcrumbs(e);console.log(`${Tn(Mn.blue,"[agent/action]")} [${r}] Agent selected action: ${mr(n.actions[n.actions.length-1],"[action]")}`)}}let fg;const JN=()=>{if(fg===void 0){const t=Vi("LANGCHAIN_CALLBACKS_BACKGROUND")==="false"?{blockOnRootRunFinalization:!0}:{};fg=new lu(t)}return fg};class Kl extends xu{constructor(e={}){super(e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"langchain_tracer"}),Object.defineProperty(this,"projectName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"exampleId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"replicas",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"usesRunTreeMap",{enumerable:!0,configurable:!0,writable:!0,value:!0});const{exampleId:n,projectName:r,client:i,replicas:o}=e;this.projectName=r??yx(),this.replicas=o,this.exampleId=n,this.client=i??JN();const u=Kl.getTraceableRunTree();u&&this.updateFromRunTree(u)}async persistRun(e){}async onRunCreate(e){const n=this.getRunTreeWithTracingConfig(e.id);await(n==null?void 0:n.postRun())}async onRunUpdate(e){const n=this.getRunTreeWithTracingConfig(e.id);await(n==null?void 0:n.patchRun())}getRun(e){return this.runTreeMap.get(e)}updateFromRunTree(e){let n=e;const r=new Set;for(;n.parent_run&&!(r.has(n.id)||(r.add(n.id),!n.parent_run));)n=n.parent_run;r.clear();const i=[n];for(;i.length>0;){const o=i.shift();!o||r.has(o.id)||(r.add(o.id),this.runTreeMap.set(o.id,o),o.child_runs&&i.push(...o.child_runs))}this.client=e.client??this.client,this.replicas=e.replicas??this.replicas,this.projectName=e.project_name??this.projectName,this.exampleId=e.reference_example_id??this.exampleId}getRunTreeWithTracingConfig(e){const n=this.runTreeMap.get(e);if(n)return new Ln({...n,client:this.client,project_name:this.projectName,replicas:this.replicas,reference_example_id:this.exampleId,tracingEnabled:!0})}static getTraceableRunTree(){try{return DN(!0)}catch{return}}}const kx=Symbol.for("ls:tracing_async_local_storage"),vf=Symbol.for("lc:context_variables"),ek=t=>{globalThis[kx]=t},uu=()=>globalThis[kx];let Xl;function tk(){const t="default"in xa?xa.default:xa;return new t({autoStart:!0,concurrency:1})}function nk(){return typeof Xl>"u"&&(Xl=tk()),Xl}async function Qt(t,e){if(e===!0){const n=uu();n!==void 0?await n.run(void 0,async()=>t()):await t()}else Xl=nk(),Xl.add(async()=>{const n=uu();n!==void 0?await n.run(void 0,async()=>t()):await t()})}const rk=t=>!!["LANGSMITH_TRACING_V2","LANGCHAIN_TRACING_V2","LANGSMITH_TRACING","LANGCHAIN_TRACING"].find(n=>Vi(n)==="true");function Ix(t){var r;const e=uu();if(e===void 0)return;const n=e.getStore();return(r=n==null?void 0:n[vf])==null?void 0:r[t]}const ak=Symbol("lc:configure_hooks"),ik=()=>Ix(ak)||[];class sk{setHandler(e){return this.setHandlers([e])}}class ud{constructor(e,n,r,i,o,u,c,d){Object.defineProperty(this,"runId",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"handlers",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"inheritableHandlers",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"inheritableTags",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:u}),Object.defineProperty(this,"inheritableMetadata",{enumerable:!0,configurable:!0,writable:!0,value:c}),Object.defineProperty(this,"_parentRunId",{enumerable:!0,configurable:!0,writable:!0,value:d})}get parentRunId(){return this._parentRunId}async handleText(e){await Promise.all(this.handlers.map(n=>Qt(async()=>{var r;try{await((r=n.handleText)==null?void 0:r.call(n,e,this.runId,this._parentRunId,this.tags))}catch(i){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleText: ${i}`),n.raiseError)throw i}},n.awaitHandlers)))}async handleCustomEvent(e,n,r,i,o){await Promise.all(this.handlers.map(u=>Qt(async()=>{var c;try{await((c=u.handleCustomEvent)==null?void 0:c.call(u,e,n,this.runId,this.tags,this.metadata))}catch(d){if((u.raiseError?console.error:console.warn)(`Error in handler ${u.constructor.name}, handleCustomEvent: ${d}`),u.raiseError)throw d}},u.awaitHandlers)))}}class ok extends ud{getChild(e){const n=new Dn(this.runId);return n.setHandlers(this.inheritableHandlers),n.addTags(this.inheritableTags),n.addMetadata(this.inheritableMetadata),e&&n.addTags([e],!1),n}async handleRetrieverEnd(e){await Promise.all(this.handlers.map(n=>Qt(async()=>{var r;if(!n.ignoreRetriever)try{await((r=n.handleRetrieverEnd)==null?void 0:r.call(n,e,this.runId,this._parentRunId,this.tags))}catch(i){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleRetriever`),n.raiseError)throw i}},n.awaitHandlers)))}async handleRetrieverError(e){await Promise.all(this.handlers.map(n=>Qt(async()=>{var r;if(!n.ignoreRetriever)try{await((r=n.handleRetrieverError)==null?void 0:r.call(n,e,this.runId,this._parentRunId,this.tags))}catch(i){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleRetrieverError: ${i}`),n.raiseError)throw e}},n.awaitHandlers)))}}class v1 extends ud{async handleLLMNewToken(e,n,r,i,o,u){await Promise.all(this.handlers.map(c=>Qt(async()=>{var d;if(!c.ignoreLLM)try{await((d=c.handleLLMNewToken)==null?void 0:d.call(c,e,n??{prompt:0,completion:0},this.runId,this._parentRunId,this.tags,u))}catch(h){if((c.raiseError?console.error:console.warn)(`Error in handler ${c.constructor.name}, handleLLMNewToken: ${h}`),c.raiseError)throw h}},c.awaitHandlers)))}async handleLLMError(e,n,r,i,o){await Promise.all(this.handlers.map(u=>Qt(async()=>{var c;if(!u.ignoreLLM)try{await((c=u.handleLLMError)==null?void 0:c.call(u,e,this.runId,this._parentRunId,this.tags,o))}catch(d){if((u.raiseError?console.error:console.warn)(`Error in handler ${u.constructor.name}, handleLLMError: ${d}`),u.raiseError)throw d}},u.awaitHandlers)))}async handleLLMEnd(e,n,r,i,o){await Promise.all(this.handlers.map(u=>Qt(async()=>{var c;if(!u.ignoreLLM)try{await((c=u.handleLLMEnd)==null?void 0:c.call(u,e,this.runId,this._parentRunId,this.tags,o))}catch(d){if((u.raiseError?console.error:console.warn)(`Error in handler ${u.constructor.name}, handleLLMEnd: ${d}`),u.raiseError)throw d}},u.awaitHandlers)))}}class lk extends ud{getChild(e){const n=new Dn(this.runId);return n.setHandlers(this.inheritableHandlers),n.addTags(this.inheritableTags),n.addMetadata(this.inheritableMetadata),e&&n.addTags([e],!1),n}async handleChainError(e,n,r,i,o){await Promise.all(this.handlers.map(u=>Qt(async()=>{var c;if(!u.ignoreChain)try{await((c=u.handleChainError)==null?void 0:c.call(u,e,this.runId,this._parentRunId,this.tags,o))}catch(d){if((u.raiseError?console.error:console.warn)(`Error in handler ${u.constructor.name}, handleChainError: ${d}`),u.raiseError)throw d}},u.awaitHandlers)))}async handleChainEnd(e,n,r,i,o){await Promise.all(this.handlers.map(u=>Qt(async()=>{var c;if(!u.ignoreChain)try{await((c=u.handleChainEnd)==null?void 0:c.call(u,e,this.runId,this._parentRunId,this.tags,o))}catch(d){if((u.raiseError?console.error:console.warn)(`Error in handler ${u.constructor.name}, handleChainEnd: ${d}`),u.raiseError)throw d}},u.awaitHandlers)))}async handleAgentAction(e){await Promise.all(this.handlers.map(n=>Qt(async()=>{var r;if(!n.ignoreAgent)try{await((r=n.handleAgentAction)==null?void 0:r.call(n,e,this.runId,this._parentRunId,this.tags))}catch(i){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleAgentAction: ${i}`),n.raiseError)throw i}},n.awaitHandlers)))}async handleAgentEnd(e){await Promise.all(this.handlers.map(n=>Qt(async()=>{var r;if(!n.ignoreAgent)try{await((r=n.handleAgentEnd)==null?void 0:r.call(n,e,this.runId,this._parentRunId,this.tags))}catch(i){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleAgentEnd: ${i}`),n.raiseError)throw i}},n.awaitHandlers)))}}class uk extends ud{getChild(e){const n=new Dn(this.runId);return n.setHandlers(this.inheritableHandlers),n.addTags(this.inheritableTags),n.addMetadata(this.inheritableMetadata),e&&n.addTags([e],!1),n}async handleToolError(e){await Promise.all(this.handlers.map(n=>Qt(async()=>{var r;if(!n.ignoreAgent)try{await((r=n.handleToolError)==null?void 0:r.call(n,e,this.runId,this._parentRunId,this.tags))}catch(i){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleToolError: ${i}`),n.raiseError)throw i}},n.awaitHandlers)))}async handleToolEnd(e){await Promise.all(this.handlers.map(n=>Qt(async()=>{var r;if(!n.ignoreAgent)try{await((r=n.handleToolEnd)==null?void 0:r.call(n,e,this.runId,this._parentRunId,this.tags))}catch(i){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleToolEnd: ${i}`),n.raiseError)throw i}},n.awaitHandlers)))}}class Dn extends sk{constructor(e,n){super(),Object.defineProperty(this,"handlers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"inheritableHandlers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"inheritableTags",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"inheritableMetadata",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"callback_manager"}),Object.defineProperty(this,"_parentRunId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.handlers=(n==null?void 0:n.handlers)??this.handlers,this.inheritableHandlers=(n==null?void 0:n.inheritableHandlers)??this.inheritableHandlers,this.tags=(n==null?void 0:n.tags)??this.tags,this.inheritableTags=(n==null?void 0:n.inheritableTags)??this.inheritableTags,this.metadata=(n==null?void 0:n.metadata)??this.metadata,this.inheritableMetadata=(n==null?void 0:n.inheritableMetadata)??this.inheritableMetadata,this._parentRunId=e}getParentRunId(){return this._parentRunId}async handleLLMStart(e,n,r=void 0,i=void 0,o=void 0,u=void 0,c=void 0,d=void 0){return Promise.all(n.map(async(h,m)=>{const b=m===0&&r?r:Rn();return await Promise.all(this.handlers.map(y=>{if(!y.ignoreLLM)return Nl(y)&&y._createRunForLLMStart(e,[h],b,this._parentRunId,o,this.tags,this.metadata,d),Qt(async()=>{var _;try{await((_=y.handleLLMStart)==null?void 0:_.call(y,e,[h],b,this._parentRunId,o,this.tags,this.metadata,d))}catch(v){if((y.raiseError?console.error:console.warn)(`Error in handler ${y.constructor.name}, handleLLMStart: ${v}`),y.raiseError)throw v}},y.awaitHandlers)})),new v1(b,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChatModelStart(e,n,r=void 0,i=void 0,o=void 0,u=void 0,c=void 0,d=void 0){return Promise.all(n.map(async(h,m)=>{const b=m===0&&r?r:Rn();return await Promise.all(this.handlers.map(y=>{if(!y.ignoreLLM)return Nl(y)&&y._createRunForChatModelStart(e,[h],b,this._parentRunId,o,this.tags,this.metadata,d),Qt(async()=>{var _,v;try{if(y.handleChatModelStart)await((_=y.handleChatModelStart)==null?void 0:_.call(y,e,[h],b,this._parentRunId,o,this.tags,this.metadata,d));else if(y.handleLLMStart){const w=dx(h);await((v=y.handleLLMStart)==null?void 0:v.call(y,e,[w],b,this._parentRunId,o,this.tags,this.metadata,d))}}catch(w){if((y.raiseError?console.error:console.warn)(`Error in handler ${y.constructor.name}, handleLLMStart: ${w}`),y.raiseError)throw w}},y.awaitHandlers)})),new v1(b,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChainStart(e,n,r=Rn(),i=void 0,o=void 0,u=void 0,c=void 0){return await Promise.all(this.handlers.map(d=>{if(!d.ignoreChain)return Nl(d)&&d._createRunForChainStart(e,n,r,this._parentRunId,this.tags,this.metadata,i,c),Qt(async()=>{var h;try{await((h=d.handleChainStart)==null?void 0:h.call(d,e,n,r,this._parentRunId,this.tags,this.metadata,i,c))}catch(m){if((d.raiseError?console.error:console.warn)(`Error in handler ${d.constructor.name}, handleChainStart: ${m}`),d.raiseError)throw m}},d.awaitHandlers)})),new lk(r,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleToolStart(e,n,r=Rn(),i=void 0,o=void 0,u=void 0,c=void 0){return await Promise.all(this.handlers.map(d=>{if(!d.ignoreAgent)return Nl(d)&&d._createRunForToolStart(e,n,r,this._parentRunId,this.tags,this.metadata,c),Qt(async()=>{var h;try{await((h=d.handleToolStart)==null?void 0:h.call(d,e,n,r,this._parentRunId,this.tags,this.metadata,c))}catch(m){if((d.raiseError?console.error:console.warn)(`Error in handler ${d.constructor.name}, handleToolStart: ${m}`),d.raiseError)throw m}},d.awaitHandlers)})),new uk(r,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleRetrieverStart(e,n,r=Rn(),i=void 0,o=void 0,u=void 0,c=void 0){return await Promise.all(this.handlers.map(d=>{if(!d.ignoreRetriever)return Nl(d)&&d._createRunForRetrieverStart(e,n,r,this._parentRunId,this.tags,this.metadata,c),Qt(async()=>{var h;try{await((h=d.handleRetrieverStart)==null?void 0:h.call(d,e,n,r,this._parentRunId,this.tags,this.metadata,c))}catch(m){if((d.raiseError?console.error:console.warn)(`Error in handler ${d.constructor.name}, handleRetrieverStart: ${m}`),d.raiseError)throw m}},d.awaitHandlers)})),new ok(r,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleCustomEvent(e,n,r,i,o){await Promise.all(this.handlers.map(u=>Qt(async()=>{var c;if(!u.ignoreCustomEvent)try{await((c=u.handleCustomEvent)==null?void 0:c.call(u,e,n,r,this.tags,this.metadata))}catch(d){if((u.raiseError?console.error:console.warn)(`Error in handler ${u.constructor.name}, handleCustomEvent: ${d}`),u.raiseError)throw d}},u.awaitHandlers)))}addHandler(e,n=!0){this.handlers.push(e),n&&this.inheritableHandlers.push(e)}removeHandler(e){this.handlers=this.handlers.filter(n=>n!==e),this.inheritableHandlers=this.inheritableHandlers.filter(n=>n!==e)}setHandlers(e,n=!0){this.handlers=[],this.inheritableHandlers=[];for(const r of e)this.addHandler(r,n)}addTags(e,n=!0){this.removeTags(e),this.tags.push(...e),n&&this.inheritableTags.push(...e)}removeTags(e){this.tags=this.tags.filter(n=>!e.includes(n)),this.inheritableTags=this.inheritableTags.filter(n=>!e.includes(n))}addMetadata(e,n=!0){this.metadata={...this.metadata,...e},n&&(this.inheritableMetadata={...this.inheritableMetadata,...e})}removeMetadata(e){for(const n of Object.keys(e))delete this.metadata[n],delete this.inheritableMetadata[n]}copy(e=[],n=!0){const r=new Dn(this._parentRunId);for(const i of this.handlers){const o=this.inheritableHandlers.includes(i);r.addHandler(i,o)}for(const i of this.tags){const o=this.inheritableTags.includes(i);r.addTags([i],o)}for(const i of Object.keys(this.metadata)){const o=Object.keys(this.inheritableMetadata).includes(i);r.addMetadata({[i]:this.metadata[i]},o)}for(const i of e)r.handlers.filter(o=>o.name==="console_callback_handler").some(o=>o.name===i.name)||r.addHandler(i,n);return r}static fromHandlers(e){class n extends Eu{constructor(){super(),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:Rn()}),Object.assign(this,e)}}const r=new this;return r.addHandler(new n),r}static configure(e,n,r,i,o,u,c){return this._configureSync(e,n,r,i,o,u,c)}static _configureSync(e,n,r,i,o,u,c){var y,_;let d;(e||n)&&(Array.isArray(e)||!e?(d=new Dn,d.setHandlers((e==null?void 0:e.map(Lf))??[],!0)):d=e,d=d.copy(Array.isArray(n)?n.map(Lf):n==null?void 0:n.handlers,!1));const h=Vi("LANGCHAIN_VERBOSE")==="true"||(c==null?void 0:c.verbose),m=((y=Kl.getTraceableRunTree())==null?void 0:y.tracingEnabled)||rk(),b=m||(Vi("LANGCHAIN_TRACING")??!1);if(h||b){if(d||(d=new Dn),h&&!d.handlers.some(v=>v.name===b1.prototype.name)){const v=new b1;d.addHandler(v,!0)}if(b&&!d.handlers.some(v=>v.name==="langchain_tracer")&&m){const v=new Kl;d.addHandler(v,!0),d._parentRunId=((_=Kl.getTraceableRunTree())==null?void 0:_.id)??d._parentRunId}}for(const{contextVar:v,inheritable:w=!0,handlerClass:S,envVar:T}of ik()){const N=T&&Vi(T)==="true"&&S;let x;const R=v!==void 0?Ix(v):void 0;R&&ZN(R)?x=R:N&&(x=new S({})),x!==void 0&&(d||(d=new Dn),d.handlers.some(O=>O.name===x.name)||d.addHandler(x,w))}return(r||i)&&d&&(d.addTags(r??[]),d.addTags(i??[],!1)),(o||u)&&d&&(d.addMetadata(o??{}),d.addMetadata(u??{},!1)),d}}function Lf(t){return"name"in t?t:Eu.fromMethods(t)}class ck{getStore(){}run(e,n){return n()}enterWith(e){}}const fk=new ck,_1=Symbol.for("lc:child_config");class dk{getInstance(){return uu()??fk}getRunnableConfig(){var n,r;return(r=(n=this.getInstance().getStore())==null?void 0:n.extra)==null?void 0:r[_1]}runWithConfig(e,n,r){var m;const i=Dn._configureSync(e==null?void 0:e.callbacks,void 0,e==null?void 0:e.tags,void 0,e==null?void 0:e.metadata),o=this.getInstance(),u=o.getStore(),c=i==null?void 0:i.getParentRunId(),d=(m=i==null?void 0:i.handlers)==null?void 0:m.find(b=>(b==null?void 0:b.name)==="langchain_tracer");let h;return d&&c?h=d.getRunTreeWithTracingConfig(c):r||(h=new Ln({name:"<runnable_lambda>",tracingEnabled:!1})),h&&(h.extra={...h.extra,[_1]:e}),u!==void 0&&u[vf]!==void 0&&(h===void 0&&(h={}),h[vf]=u[vf]),o.run(h,n)}initializeGlobalInstance(e){uu()===void 0&&ek(e)}}const mi=new dk,dg=25;async function Nr(t){return Dn._configureSync(t==null?void 0:t.callbacks,void 0,t==null?void 0:t.tags,void 0,t==null?void 0:t.metadata)}function w1(...t){const e={};for(const n of t.filter(r=>!!r))for(const r of Object.keys(n))if(r==="metadata")e[r]={...e[r],...n[r]};else if(r==="tags"){const i=e[r]??[];e[r]=[...new Set(i.concat(n[r]??[]))]}else if(r==="configurable")e[r]={...e[r],...n[r]};else if(r==="timeout")e.timeout===void 0?e.timeout=n.timeout:n.timeout!==void 0&&(e.timeout=Math.min(e.timeout,n.timeout));else if(r==="signal")e.signal===void 0?e.signal=n.signal:n.signal!==void 0&&("any"in AbortSignal?e.signal=AbortSignal.any([e.signal,n.signal]):e.signal=n.signal);else if(r==="callbacks"){const i=e.callbacks,o=n.callbacks;if(Array.isArray(o))if(!i)e.callbacks=o;else if(Array.isArray(i))e.callbacks=i.concat(o);else{const u=i.copy();for(const c of o)u.addHandler(Lf(c),!0);e.callbacks=u}else if(o)if(!i)e.callbacks=o;else if(Array.isArray(i)){const u=o.copy();for(const c of i)u.addHandler(Lf(c),!0);e.callbacks=u}else e.callbacks=new Dn(o._parentRunId,{handlers:i.handlers.concat(o.handlers),inheritableHandlers:i.inheritableHandlers.concat(o.inheritableHandlers),tags:Array.from(new Set(i.tags.concat(o.tags))),inheritableTags:Array.from(new Set(i.inheritableTags.concat(o.inheritableTags))),metadata:{...i.metadata,...o.metadata}})}else{const i=r;e[i]=n[i]??e[i]}return e}const hk=new Set(["string","number","boolean"]);function rt(t){var r;const e=mi.getRunnableConfig();let n={tags:[],metadata:{},recursionLimit:25,runId:void 0};if(e){const{runId:i,runName:o,...u}=e;n=Object.entries(u).reduce((c,[d,h])=>(h!==void 0&&(c[d]=h),c),n)}if(t&&(n=Object.entries(t).reduce((i,[o,u])=>(u!==void 0&&(i[o]=u),i),n)),n!=null&&n.configurable)for(const i of Object.keys(n.configurable))hk.has(typeof n.configurable[i])&&!((r=n.metadata)!=null&&r[i])&&(n.metadata||(n.metadata={}),n.metadata[i]=n.configurable[i]);if(n.timeout!==void 0){if(n.timeout<=0)throw new Error("Timeout must be a positive number");const i=AbortSignal.timeout(n.timeout);n.signal!==void 0?"any"in AbortSignal&&(n.signal=AbortSignal.any([n.signal,i])):n.signal=i,delete n.timeout}return n}function En(t={},{callbacks:e,maxConcurrency:n,recursionLimit:r,runName:i,configurable:o,runId:u}={}){const c=rt(t);return e!==void 0&&(delete c.runName,c.callbacks=e),r!==void 0&&(c.recursionLimit=r),n!==void 0&&(c.maxConcurrency=n),i!==void 0&&(c.runName=i),o!==void 0&&(c.configurable={...c.configurable,...o}),u!==void 0&&delete c.runId,c}function po(t){return t?{configurable:t.configurable,recursionLimit:t.recursionLimit,callbacks:t.callbacks,tags:t.tags,metadata:t.metadata,maxConcurrency:t.maxConcurrency,timeout:t.timeout,signal:t.signal}:void 0}async function gi(t,e){if(e===void 0)return t;let n;return Promise.race([t.catch(r=>{if(!(e!=null&&e.aborted))throw r}),new Promise((r,i)=>{n=()=>{i(new Error("Aborted"))},e.addEventListener("abort",n),e.aborted&&i(new Error("Aborted"))})]).finally(()=>e.removeEventListener("abort",n))}class nr extends ReadableStream{constructor(){super(...arguments),Object.defineProperty(this,"reader",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}ensureReader(){this.reader||(this.reader=this.getReader())}async next(){this.ensureReader();try{const e=await this.reader.read();return e.done?(this.reader.releaseLock(),{done:!0,value:void 0}):{done:!1,value:e.value}}catch(e){throw this.reader.releaseLock(),e}}async return(){if(this.ensureReader(),this.locked){const e=this.reader.cancel();this.reader.releaseLock(),await e}return{done:!0,value:void 0}}async throw(e){if(this.ensureReader(),this.locked){const n=this.reader.cancel();this.reader.releaseLock(),await n}throw e}[Symbol.asyncIterator](){return this}async[Symbol.asyncDispose](){await this.return()}static fromReadableStream(e){const n=e.getReader();return new nr({start(r){return i();function i(){return n.read().then(({done:o,value:u})=>{if(o){r.close();return}return r.enqueue(u),i()})}},cancel(){n.releaseLock()}})}static fromAsyncGenerator(e){return new nr({async pull(n){const{value:r,done:i}=await e.next();i&&n.close(),n.enqueue(r)},async cancel(n){await e.return(n)}})}}function $x(t,e=2){const n=Array.from({length:e},()=>[]);return n.map(async function*(i){for(;;)if(i.length===0){const o=await t.next();for(const u of n)u.push(o)}else{if(i[0].done)return;yield i.shift().value}})}function kr(t,e){if(Array.isArray(t)&&Array.isArray(e))return t.concat(e);if(typeof t=="string"&&typeof e=="string")return t+e;if(typeof t=="number"&&typeof e=="number")return t+e;if("concat"in t&&typeof t.concat=="function")return t.concat(e);if(typeof t=="object"&&typeof e=="object"){const n={...t};for(const[r,i]of Object.entries(e))r in n&&!Array.isArray(n[r])?n[r]=kr(n[r],i):n[r]=i;return n}else throw new Error(`Cannot concat ${typeof t} and ${typeof e}`)}class To{constructor(e){var n;Object.defineProperty(this,"generator",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"setup",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"firstResult",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"firstResultUsed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this.generator=e.generator,this.config=e.config,this.signal=e.signal??((n=this.config)==null?void 0:n.signal),this.setup=new Promise((r,i)=>{mi.runWithConfig(po(e.config),async()=>{this.firstResult=e.generator.next(),e.startSetup?this.firstResult.then(e.startSetup).then(r,i):this.firstResult.then(o=>r(void 0),i)},!0)})}async next(...e){var n;return(n=this.signal)==null||n.throwIfAborted(),this.firstResultUsed?mi.runWithConfig(po(this.config),this.signal?async()=>gi(this.generator.next(...e),this.signal):async()=>this.generator.next(...e),!0):(this.firstResultUsed=!0,this.firstResult)}async return(e){return this.generator.return(e)}async throw(e){return this.generator.throw(e)}[Symbol.asyncIterator](){return this}async[Symbol.asyncDispose](){await this.return()}}async function pk(t,e,n,r,...i){const o=new To({generator:e,startSetup:n,signal:r}),u=await o.setup;return{output:t(o,u,...i),setup:u}}class si{constructor(e){Object.defineProperty(this,"ops",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.ops=e.ops??[]}concat(e){const n=this.ops.concat(e.ops),r=Pf({},n);return new cu({ops:n,state:r[r.length-1].newDocument})}}class cu extends si{constructor(e){super(e),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.state=e.state}concat(e){const n=this.ops.concat(e.ops),r=Pf(this.state,e.ops);return new cu({ops:n,state:r[r.length-1].newDocument})}static fromRunLogPatch(e){const n=Pf({},e.ops);return new cu({ops:e.ops,state:n[n.length-1].newDocument})}}const mk=t=>t.name==="log_stream_tracer";async function S1(t,e){if(e==="original")throw new Error("Do not assign inputs with original schema drop the key for now. When inputs are added to streamLog they should be added with standardized schema for streaming events.");const{inputs:n}=t;if(["retriever","llm","prompt"].includes(t.run_type))return n;if(!(Object.keys(n).length===1&&(n==null?void 0:n.input)===""))return n.input}async function E1(t,e){const{outputs:n}=t;return e==="original"||["retriever","llm","prompt"].includes(t.run_type)?n:n!==void 0&&Object.keys(n).length===1&&(n==null?void 0:n.output)!==void 0?n.output:n}function gk(t){return t!==void 0&&t.message!==void 0}class x1 extends xu{constructor(e){super({_awaitHandler:!0,...e}),Object.defineProperty(this,"autoClose",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"includeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_schemaFormat",{enumerable:!0,configurable:!0,writable:!0,value:"original"}),Object.defineProperty(this,"rootId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"keyMapByRunId",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"counterMapByRunName",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"transformStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"writer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"receiveStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"log_stream_tracer"}),Object.defineProperty(this,"lc_prefer_streaming",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this.autoClose=(e==null?void 0:e.autoClose)??!0,this.includeNames=e==null?void 0:e.includeNames,this.includeTypes=e==null?void 0:e.includeTypes,this.includeTags=e==null?void 0:e.includeTags,this.excludeNames=e==null?void 0:e.excludeNames,this.excludeTypes=e==null?void 0:e.excludeTypes,this.excludeTags=e==null?void 0:e.excludeTags,this._schemaFormat=(e==null?void 0:e._schemaFormat)??this._schemaFormat,this.transformStream=new TransformStream,this.writer=this.transformStream.writable.getWriter(),this.receiveStream=nr.fromReadableStream(this.transformStream.readable)}[Symbol.asyncIterator](){return this.receiveStream}async persistRun(e){}_includeRun(e){if(e.id===this.rootId)return!1;const n=e.tags??[];let r=this.includeNames===void 0&&this.includeTags===void 0&&this.includeTypes===void 0;return this.includeNames!==void 0&&(r=r||this.includeNames.includes(e.name)),this.includeTypes!==void 0&&(r=r||this.includeTypes.includes(e.run_type)),this.includeTags!==void 0&&(r=r||n.find(i=>{var o;return(o=this.includeTags)==null?void 0:o.includes(i)})!==void 0),this.excludeNames!==void 0&&(r=r&&!this.excludeNames.includes(e.name)),this.excludeTypes!==void 0&&(r=r&&!this.excludeTypes.includes(e.run_type)),this.excludeTags!==void 0&&(r=r&&n.every(i=>{var o;return!((o=this.excludeTags)!=null&&o.includes(i))})),r}async*tapOutputIterable(e,n){for await(const r of n){if(e!==this.rootId){const i=this.keyMapByRunId[e];i&&await this.writer.write(new si({ops:[{op:"add",path:`/logs/${i}/streamed_output/-`,value:r}]}))}yield r}}async onRunCreate(e){var i;if(this.rootId===void 0&&(this.rootId=e.id,await this.writer.write(new si({ops:[{op:"replace",path:"",value:{id:e.id,name:e.name,type:e.run_type,streamed_output:[],final_output:void 0,logs:{}}}]}))),!this._includeRun(e))return;this.counterMapByRunName[e.name]===void 0&&(this.counterMapByRunName[e.name]=0),this.counterMapByRunName[e.name]+=1;const n=this.counterMapByRunName[e.name];this.keyMapByRunId[e.id]=n===1?e.name:`${e.name}:${n}`;const r={id:e.id,name:e.name,type:e.run_type,tags:e.tags??[],metadata:((i=e.extra)==null?void 0:i.metadata)??{},start_time:new Date(e.start_time).toISOString(),streamed_output:[],streamed_output_str:[],final_output:void 0,end_time:void 0};this._schemaFormat==="streaming_events"&&(r.inputs=await S1(e,this._schemaFormat)),await this.writer.write(new si({ops:[{op:"add",path:`/logs/${this.keyMapByRunId[e.id]}`,value:r}]}))}async onRunUpdate(e){try{const n=this.keyMapByRunId[e.id];if(n===void 0)return;const r=[];this._schemaFormat==="streaming_events"&&r.push({op:"replace",path:`/logs/${n}/inputs`,value:await S1(e,this._schemaFormat)}),r.push({op:"add",path:`/logs/${n}/final_output`,value:await E1(e,this._schemaFormat)}),e.end_time!==void 0&&r.push({op:"add",path:`/logs/${n}/end_time`,value:new Date(e.end_time).toISOString()});const i=new si({ops:r});await this.writer.write(i)}finally{if(e.id===this.rootId){const n=new si({ops:[{op:"replace",path:"/final_output",value:await E1(e,this._schemaFormat)}]});await this.writer.write(n),this.autoClose&&await this.writer.close()}}}async onLLMNewToken(e,n,r){const i=this.keyMapByRunId[e.id];if(i===void 0)return;const o=e.inputs.messages!==void 0;let u;o?gk(r==null?void 0:r.chunk)?u=r==null?void 0:r.chunk:u=new Eo({id:`run-${e.id}`,content:n}):u=n;const c=new si({ops:[{op:"add",path:`/logs/${i}/streamed_output_str/-`,value:n},{op:"add",path:`/logs/${i}/streamed_output/-`,value:u}]});await this.writer.write(c)}}const T1="__run";class mo{constructor(e){Object.defineProperty(this,"text",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"generationInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.text=e.text,this.generationInfo=e.generationInfo}concat(e){return new mo({text:this.text+e.text,generationInfo:{...this.generationInfo,...e.generationInfo}})}}class fu extends mo{constructor(e){super(e),Object.defineProperty(this,"message",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.message=e.message}concat(e){return new fu({text:this.text+e.text,generationInfo:{...this.generationInfo,...e.generationInfo},message:this.message.concat(e.message)})}}function rf({name:t,serialized:e}){return t!==void 0?t:(e==null?void 0:e.name)!==void 0?e.name:(e==null?void 0:e.id)!==void 0&&Array.isArray(e==null?void 0:e.id)?e.id[e.id.length-1]:"Unnamed"}const yk=t=>t.name==="event_stream_tracer";class bk extends xu{constructor(e){super({_awaitHandler:!0,...e}),Object.defineProperty(this,"autoClose",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"includeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"runInfoMap",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"tappedPromises",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"transformStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"writer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"receiveStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"event_stream_tracer"}),Object.defineProperty(this,"lc_prefer_streaming",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this.autoClose=(e==null?void 0:e.autoClose)??!0,this.includeNames=e==null?void 0:e.includeNames,this.includeTypes=e==null?void 0:e.includeTypes,this.includeTags=e==null?void 0:e.includeTags,this.excludeNames=e==null?void 0:e.excludeNames,this.excludeTypes=e==null?void 0:e.excludeTypes,this.excludeTags=e==null?void 0:e.excludeTags,this.transformStream=new TransformStream,this.writer=this.transformStream.writable.getWriter(),this.receiveStream=nr.fromReadableStream(this.transformStream.readable)}[Symbol.asyncIterator](){return this.receiveStream}async persistRun(e){}_includeRun(e){const n=e.tags??[];let r=this.includeNames===void 0&&this.includeTags===void 0&&this.includeTypes===void 0;return this.includeNames!==void 0&&(r=r||this.includeNames.includes(e.name)),this.includeTypes!==void 0&&(r=r||this.includeTypes.includes(e.runType)),this.includeTags!==void 0&&(r=r||n.find(i=>{var o;return(o=this.includeTags)==null?void 0:o.includes(i)})!==void 0),this.excludeNames!==void 0&&(r=r&&!this.excludeNames.includes(e.name)),this.excludeTypes!==void 0&&(r=r&&!this.excludeTypes.includes(e.runType)),this.excludeTags!==void 0&&(r=r&&n.every(i=>{var o;return!((o=this.excludeTags)!=null&&o.includes(i))})),r}async*tapOutputIterable(e,n){const r=await n.next();if(r.done)return;const i=this.runInfoMap.get(e);if(i===void 0){yield r.value;return}function o(c,d){return c==="llm"&&typeof d=="string"?new mo({text:d}):d}let u=this.tappedPromises.get(e);if(u===void 0){let c;u=new Promise(d=>{c=d}),this.tappedPromises.set(e,u);try{const d={event:`on_${i.runType}_stream`,run_id:e,name:i.name,tags:i.tags,metadata:i.metadata,data:{}};await this.send({...d,data:{chunk:o(i.runType,r.value)}},i),yield r.value;for await(const h of n)i.runType!=="tool"&&i.runType!=="retriever"&&await this.send({...d,data:{chunk:o(i.runType,h)}},i),yield h}finally{c()}}else{yield r.value;for await(const c of n)yield c}}async send(e,n){this._includeRun(n)&&await this.writer.write(e)}async sendEndEvent(e,n){const r=this.tappedPromises.get(e.run_id);r!==void 0?r.then(()=>{this.send(e,n)}):await this.send(e,n)}async onLLMStart(e){var u,c;const n=rf(e),r=e.inputs.messages!==void 0?"chat_model":"llm",i={tags:e.tags??[],metadata:((u=e.extra)==null?void 0:u.metadata)??{},name:n,runType:r,inputs:e.inputs};this.runInfoMap.set(e.id,i);const o=`on_${r}_start`;await this.send({event:o,data:{input:e.inputs},name:n,tags:e.tags??[],run_id:e.id,metadata:((c=e.extra)==null?void 0:c.metadata)??{}},i)}async onLLMNewToken(e,n,r){const i=this.runInfoMap.get(e.id);let o,u;if(i===void 0)throw new Error(`onLLMNewToken: Run ID ${e.id} not found in run map.`);if(this.runInfoMap.size!==1){if(i.runType==="chat_model")u="on_chat_model_stream",(r==null?void 0:r.chunk)===void 0?o=new Eo({content:n,id:`run-${e.id}`}):o=r.chunk.message;else if(i.runType==="llm")u="on_llm_stream",(r==null?void 0:r.chunk)===void 0?o=new mo({text:n}):o=r.chunk;else throw new Error(`Unexpected run type ${i.runType}`);await this.send({event:u,data:{chunk:o},run_id:e.id,name:i.name,tags:i.tags,metadata:i.metadata},i)}}async onLLMEnd(e){var u,c,d;const n=this.runInfoMap.get(e.id);this.runInfoMap.delete(e.id);let r;if(n===void 0)throw new Error(`onLLMEnd: Run ID ${e.id} not found in run map.`);const i=(u=e.outputs)==null?void 0:u.generations;let o;if(n.runType==="chat_model"){for(const h of i??[]){if(o!==void 0)break;o=(c=h[0])==null?void 0:c.message}r="on_chat_model_end"}else if(n.runType==="llm")o={generations:i==null?void 0:i.map(h=>h.map(m=>({text:m.text,generationInfo:m.generationInfo}))),llmOutput:((d=e.outputs)==null?void 0:d.llmOutput)??{}},r="on_llm_end";else throw new Error(`onLLMEnd: Unexpected run type: ${n.runType}`);await this.sendEndEvent({event:r,data:{output:o,input:n.inputs},run_id:e.id,name:n.name,tags:n.tags,metadata:n.metadata},n)}async onChainStart(e){var u,c;const n=rf(e),r=e.run_type??"chain",i={tags:e.tags??[],metadata:((u=e.extra)==null?void 0:u.metadata)??{},name:n,runType:e.run_type};let o={};e.inputs.input===""&&Object.keys(e.inputs).length===1?(o={},i.inputs={}):e.inputs.input!==void 0?(o.input=e.inputs.input,i.inputs=e.inputs.input):(o.input=e.inputs,i.inputs=e.inputs),this.runInfoMap.set(e.id,i),await this.send({event:`on_${r}_start`,data:o,name:n,tags:e.tags??[],run_id:e.id,metadata:((c=e.extra)==null?void 0:c.metadata)??{}},i)}async onChainEnd(e){var c;const n=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),n===void 0)throw new Error(`onChainEnd: Run ID ${e.id} not found in run map.`);const r=`on_${e.run_type}_end`,i=e.inputs??n.inputs??{},u={output:((c=e.outputs)==null?void 0:c.output)??e.outputs,input:i};i.input&&Object.keys(i).length===1&&(u.input=i.input,n.inputs=i.input),await this.sendEndEvent({event:r,data:u,run_id:e.id,name:n.name,tags:n.tags,metadata:n.metadata??{}},n)}async onToolStart(e){var i,o;const n=rf(e),r={tags:e.tags??[],metadata:((i=e.extra)==null?void 0:i.metadata)??{},name:n,runType:"tool",inputs:e.inputs??{}};this.runInfoMap.set(e.id,r),await this.send({event:"on_tool_start",data:{input:e.inputs??{}},name:n,run_id:e.id,tags:e.tags??[],metadata:((o=e.extra)==null?void 0:o.metadata)??{}},r)}async onToolEnd(e){var i;const n=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),n===void 0)throw new Error(`onToolEnd: Run ID ${e.id} not found in run map.`);if(n.inputs===void 0)throw new Error(`onToolEnd: Run ID ${e.id} is a tool call, and is expected to have traced inputs.`);const r=((i=e.outputs)==null?void 0:i.output)===void 0?e.outputs:e.outputs.output;await this.sendEndEvent({event:"on_tool_end",data:{output:r,input:n.inputs},run_id:e.id,name:n.name,tags:n.tags,metadata:n.metadata},n)}async onRetrieverStart(e){var o,u;const n=rf(e),i={tags:e.tags??[],metadata:((o=e.extra)==null?void 0:o.metadata)??{},name:n,runType:"retriever",inputs:{query:e.inputs.query}};this.runInfoMap.set(e.id,i),await this.send({event:"on_retriever_start",data:{input:{query:e.inputs.query}},name:n,tags:e.tags??[],run_id:e.id,metadata:((u=e.extra)==null?void 0:u.metadata)??{}},i)}async onRetrieverEnd(e){var r;const n=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),n===void 0)throw new Error(`onRetrieverEnd: Run ID ${e.id} not found in run map.`);await this.sendEndEvent({event:"on_retriever_end",data:{output:((r=e.outputs)==null?void 0:r.documents)??e.outputs,input:n.inputs},run_id:e.id,name:n.name,tags:n.tags,metadata:n.metadata},n)}async handleCustomEvent(e,n,r){const i=this.runInfoMap.get(r);if(i===void 0)throw new Error(`handleCustomEvent: Run ID ${r} not found in run map.`);await this.send({event:"on_custom_event",run_id:r,name:e,tags:i.tags,metadata:i.metadata,data:n},i)}async finish(){const e=[...this.tappedPromises.values()];Promise.all(e).finally(()=>{this.writer.close()})}}const vk=[400,401,402,403,404,405,406,407,409],_k=t=>{var n,r;if(t.message.startsWith("Cancel")||t.message.startsWith("AbortError")||t.name==="AbortError"||(t==null?void 0:t.code)==="ECONNABORTED")throw t;const e=((n=t==null?void 0:t.response)==null?void 0:n.status)??(t==null?void 0:t.status);if(e&&vk.includes(+e))throw t;if(((r=t==null?void 0:t.error)==null?void 0:r.code)==="insufficient_quota"){const i=new Error(t==null?void 0:t.message);throw i.name="InsufficientQuotaError",i}};class Dy{constructor(e){Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onFailedAttempt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxConcurrency=e.maxConcurrency??1/0,this.maxRetries=e.maxRetries??6,this.onFailedAttempt=e.onFailedAttempt??_k;const n="default"in xa?xa.default:xa;this.queue=new n({concurrency:this.maxConcurrency})}call(e,...n){return this.queue.add(()=>If(()=>e(...n).catch(r=>{throw r instanceof Error?r:new Error(r)}),{onFailedAttempt:this.onFailedAttempt,retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0})}callWithOptions(e,n,...r){return e.signal?Promise.race([this.call(n,...r),new Promise((i,o)=>{var u;(u=e.signal)==null||u.addEventListener("abort",()=>{o(new Error("AbortError"))})})]):this.call(n,...r)}fetch(...e){return this.call(()=>fetch(...e).then(n=>n.ok?n:Promise.reject(n)))}}class jx extends xu{constructor({config:e,onStart:n,onEnd:r,onError:i}){super({_awaitHandler:!0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RootListenersTracer"}),Object.defineProperty(this,"rootId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"argOnStart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"argOnEnd",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"argOnError",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.config=e,this.argOnStart=n,this.argOnEnd=r,this.argOnError=i}persistRun(e){return Promise.resolve()}async onRunCreate(e){this.rootId||(this.rootId=e.id,this.argOnStart&&await this.argOnStart(e,this.config))}async onRunUpdate(e){e.id===this.rootId&&(e.error?this.argOnError&&await this.argOnError(e,this.config):this.argOnEnd&&await this.argOnEnd(e,this.config))}}function Uy(t){return t?t.lc_runnable:!1}class wk{constructor(e){Object.defineProperty(this,"includeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.includeNames=e.includeNames,this.includeTypes=e.includeTypes,this.includeTags=e.includeTags,this.excludeNames=e.excludeNames,this.excludeTypes=e.excludeTypes,this.excludeTags=e.excludeTags}includeEvent(e,n){let r=this.includeNames===void 0&&this.includeTypes===void 0&&this.includeTags===void 0;const i=e.tags??[];return this.includeNames!==void 0&&(r=r||this.includeNames.includes(e.name)),this.includeTypes!==void 0&&(r=r||this.includeTypes.includes(n)),this.includeTags!==void 0&&(r=r||i.some(o=>{var u;return(u=this.includeTags)==null?void 0:u.includes(o)})),this.excludeNames!==void 0&&(r=r&&!this.excludeNames.includes(e.name)),this.excludeTypes!==void 0&&(r=r&&!this.excludeTypes.includes(n)),this.excludeTags!==void 0&&(r=r&&i.every(o=>{var u;return!((u=this.excludeTags)!=null&&u.includes(o))})),r}}function hg(t){return t.replace(/[^a-zA-Z-_0-9]/g,"_")}const Sk=["*","_","`"];function Ek(t){let e="";for(const[n,r]of Object.entries(t))e+=`	classDef ${n} ${r};
`;return e}function xk(t,e,n){const{firstNode:r,lastNode:i,nodeColors:o,withStyles:u=!0,curveStyle:c="linear",wrapLabelNWords:d=9}=n??{};let h=u?`%%{init: {'flowchart': {'curve': '${c}'}}}%%
graph TD;
`:`graph TD;
`;if(u){const _="default",v={[_]:"{0}({1})"};r!==void 0&&(v[r]="{0}([{1}]):::first"),i!==void 0&&(v[i]="{0}([{1}]):::last");for(const[w,S]of Object.entries(t)){const T=S.name.split(":").pop()??"";let x=Sk.some(O=>T.startsWith(O)&&T.endsWith(O))?`<p>${T}</p>`:T;Object.keys(S.metadata??{}).length&&(x+=`<hr/><small><em>${Object.entries(S.metadata??{}).map(([O,j])=>`${O} = ${j}`).join(`
`)}</em></small>`);const R=(v[w]??v[_]).replace("{0}",hg(w)).replace("{1}",x);h+=`	${R}
`}}const m={};for(const _ of e){const v=_.source.split(":"),w=_.target.split(":"),S=v.filter((T,N)=>T===w[N]).join(":");m[S]||(m[S]=[]),m[S].push(_)}const b=new Set;function y(_,v){const w=_.length===1&&_[0].source===_[0].target;if(v&&!w){const S=v.split(":").pop();if(b.has(S))throw new Error(`Found duplicate subgraph '${S}' -- this likely means that you're reusing a subgraph node with the same name. Please adjust your graph to have subgraph nodes with unique names.`);b.add(S),h+=`	subgraph ${S}
`}for(const S of _){const{source:T,target:N,data:x,conditional:R}=S;let O="";if(x!==void 0){let j=x;const L=j.split(" ");L.length>d&&(j=Array.from({length:Math.ceil(L.length/d)},(D,te)=>L.slice(te*d,(te+1)*d).join(" ")).join("&nbsp;<br>&nbsp;")),O=R?` -. &nbsp;${j}&nbsp; .-> `:` -- &nbsp;${j}&nbsp; --> `}else O=R?" -.-> ":" --> ";h+=`	${hg(T)}${O}${hg(N)};
`}for(const S in m)S.startsWith(`${v}:`)&&S!==v&&y(m[S],S);v&&!w&&(h+=`	end
`)}y(m[""]??[],"");for(const _ in m)!_.includes(":")&&_!==""&&y(m[_],_);return u&&(h+=Ek(o??{})),h}async function Tk(t,e){let{backgroundColor:n="white"}=e??{};const r=btoa(t);n!==void 0&&(/^#(?:[0-9a-fA-F]{3}){1,2}$/.test(n)||(n=`!${n}`));const i=`https://mermaid.ink/img/${r}?bgColor=${n}`,o=await fetch(i);if(!o.ok)throw new Error(["Failed to render the graph using the Mermaid.INK API.",`Status code: ${o.status}`,`Status text: ${o.statusText}`].join(`
`));return await o.blob()}function cd(t,e,n){function r(c,d){var h;Object.defineProperty(c,"_zod",{value:c._zod??{},enumerable:!1}),(h=c._zod).traits??(h.traits=new Set),c._zod.traits.add(t),e(c,d);for(const m in u.prototype)Object.defineProperty(c,m,{value:u.prototype[m].bind(c)});c._zod.constr=u,c._zod.def=d}const i=(n==null?void 0:n.Parent)??Object;class o extends i{}Object.defineProperty(o,"name",{value:t});function u(c){var d;const h=n!=null&&n.Parent?new o:this;r(h,c),(d=h._zod).deferred??(d.deferred=[]);for(const m of h._zod.deferred)m();return h}return Object.defineProperty(u,"init",{value:r}),Object.defineProperty(u,Symbol.hasInstance,{value:c=>{var d,h;return n!=null&&n.Parent&&c instanceof n.Parent?!0:(h=(d=c==null?void 0:c._zod)==null?void 0:d.traits)==null?void 0:h.has(t)}}),Object.defineProperty(u,"name",{value:t}),u}class Df extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const Ok={};function fd(t){return Ok}function Rk(t){const e=Object.values(t).filter(r=>typeof r=="number");return Object.entries(t).filter(([r,i])=>e.indexOf(+r)===-1).map(([r,i])=>i)}function Ck(t,e){return typeof e=="bigint"?e.toString():e}function Ak(t=10){const e="abcdefghijklmnopqrstuvwxyz";let n="";for(let r=0;r<t;r++)n+=e[Math.floor(Math.random()*e.length)];return n}function Uf(t,e,n){const r=new t._zod.constr(e??t._zod.def);return(!e||n!=null&&n.parent)&&(r._zod.parent=t),r}function Nk(t){return{}}function pg(t,e=0){for(let n=e;n<t.issues.length;n++)if(t.issues[n].continue!==!0)return!0;return!1}function af(t){return typeof t=="string"?t:t==null?void 0:t.message}function dd(t,e,n){var i,o,u,c,d,h;const r={...t,path:t.path??[]};if(!t.message){const m=af((u=(o=(i=t.inst)==null?void 0:i._zod.def)==null?void 0:o.error)==null?void 0:u.call(o,t))??af((c=e==null?void 0:e.error)==null?void 0:c.call(e,t))??af((d=n.customError)==null?void 0:d.call(n,t))??af((h=n.localeError)==null?void 0:h.call(n,t))??"Invalid input";r.message=m}return delete r.inst,delete r.continue,e!=null&&e.reportInput||delete r.input,r}const Px=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),Object.defineProperty(t,"message",{get(){return JSON.stringify(e,Ck,2)},enumerable:!0})},kk=cd("$ZodError",Px),hd=cd("$ZodError",Px,{Parent:Error}),Ik=t=>(e,n,r,i)=>{const o=r?Object.assign(r,{async:!1}):{async:!1},u=e._zod.run({value:n,issues:[]},o);if(u instanceof Promise)throw new Df;if(u.issues.length){const c=new((i==null?void 0:i.Err)??t)(u.issues.map(d=>dd(d,o,fd())));throw Error.captureStackTrace(c,i==null?void 0:i.callee),c}return u.value},$k=Ik(hd),jk=t=>async(e,n,r,i)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let u=e._zod.run({value:n,issues:[]},o);if(u instanceof Promise&&(u=await u),u.issues.length){const c=new((i==null?void 0:i.Err)??t)(u.issues.map(d=>dd(d,o,fd())));throw Error.captureStackTrace(c,i==null?void 0:i.callee),c}return u.value},Pk=jk(hd),Mk=t=>(e,n,r)=>{const i=r?{...r,async:!1}:{async:!1},o=e._zod.run({value:n,issues:[]},i);if(o instanceof Promise)throw new Df;return o.issues.length?{success:!1,error:new(t??kk)(o.issues.map(u=>dd(u,i,fd())))}:{success:!0,data:o.value}},Lk=Mk(hd),Dk=t=>async(e,n,r)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let o=e._zod.run({value:n,issues:[]},i);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new t(o.issues.map(u=>dd(u,i,fd())))}:{success:!0,data:o.value}},Uk=Dk(hd),zk={major:4,minor:0,patch:0},Bk=cd("$ZodType",(t,e)=>{var i;var n;t??(t={}),t._zod.id=e.type+"_"+Ak(10),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=zk;const r=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&r.unshift(t);for(const o of r)for(const u of o._zod.onattach)u(t);if(r.length===0)(n=t._zod).deferred??(n.deferred=[]),(i=t._zod.deferred)==null||i.push(()=>{t._zod.run=t._zod.parse});else{const o=(u,c,d)=>{let h=pg(u),m;for(const b of c){if(b._zod.when){if(!b._zod.when(u))continue}else if(h)continue;const y=u.issues.length,_=b._zod.check(u);if(_ instanceof Promise&&(d==null?void 0:d.async)===!1)throw new Df;if(m||_ instanceof Promise)m=(m??Promise.resolve()).then(async()=>{await _,u.issues.length!==y&&(h||(h=pg(u,y)))});else{if(u.issues.length===y)continue;h||(h=pg(u,y))}}return m?m.then(()=>u):u};t._zod.run=(u,c)=>{const d=t._zod.parse(u,c);if(d instanceof Promise){if(c.async===!1)throw new Df;return d.then(h=>o(h,r,c))}return o(d,r,c)}}t["~standard"]={validate:o=>{var u;try{const c=Lk(t,o);return c.success?{value:c.data}:{issues:(u=c.error)==null?void 0:u.issues}}catch{return Uk(t,o).then(d=>{var h;return d.success?{value:d.data}:{issues:(h=d.error)==null?void 0:h.issues}})}},vendor:"zod",version:1}}),Hk=cd("$ZodNever",(t,e)=>{Bk.init(t,e),t._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)});class Mx{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const r=n[0];if(this._map.set(e,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,e)}return this}remove(e){return this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const r={...this.get(n)??{}};return delete r.id,{...r,...this._map.get(e)}}return this._map.get(e)}has(e){return this._map.has(e)}}function qk(){return new Mx}const ci=qk();function Fk(t,e){return new t({type:"never",...Nk()})}class O1{constructor(e){this.counter=0,this.metadataRegistry=(e==null?void 0:e.metadata)??ci,this.target=(e==null?void 0:e.target)??"draft-2020-12",this.unrepresentable=(e==null?void 0:e.unrepresentable)??"throw",this.override=(e==null?void 0:e.override)??(()=>{}),this.io=(e==null?void 0:e.io)??"output",this.seen=new Map}process(e,n={path:[],schemaPath:[]}){var y;var r;const i=e._zod.def,o={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},u=this.seen.get(e);if(u)return u.count++,n.schemaPath.includes(e)&&(u.cycle=n.path),u.schema;const c={schema:{},count:1,cycle:void 0};this.seen.set(e,c),e._zod.toJSONSchema&&(c.schema=e._zod.toJSONSchema());const d={...n,schemaPath:[...n.schemaPath,e],path:n.path},h=e._zod.parent;if(h)c.ref=h,this.process(h,d),this.seen.get(h).isParent=!0;else{const _=c.schema;switch(i.type){case"string":{const v=_;v.type="string";const{minimum:w,maximum:S,format:T,patterns:N,contentEncoding:x}=e._zod.bag;if(typeof w=="number"&&(v.minLength=w),typeof S=="number"&&(v.maxLength=S),T&&(v.format=o[T]??T,v.format===""&&delete v.format),x&&(v.contentEncoding=x),N&&N.size>0){const R=[...N];R.length===1?v.pattern=R[0].source:R.length>1&&(c.schema.allOf=[...R.map(O=>({...this.target==="draft-7"?{type:"string"}:{},pattern:O.source}))])}break}case"number":{const v=_,{minimum:w,maximum:S,format:T,multipleOf:N,exclusiveMaximum:x,exclusiveMinimum:R}=e._zod.bag;typeof T=="string"&&T.includes("int")?v.type="integer":v.type="number",typeof R=="number"&&(v.exclusiveMinimum=R),typeof w=="number"&&(v.minimum=w,typeof R=="number"&&(R>=w?delete v.minimum:delete v.exclusiveMinimum)),typeof x=="number"&&(v.exclusiveMaximum=x),typeof S=="number"&&(v.maximum=S,typeof x=="number"&&(x<=S?delete v.maximum:delete v.exclusiveMaximum)),typeof N=="number"&&(v.multipleOf=N);break}case"boolean":{const v=_;v.type="boolean";break}case"bigint":{if(this.unrepresentable==="throw")throw new Error("BigInt cannot be represented in JSON Schema");break}case"symbol":{if(this.unrepresentable==="throw")throw new Error("Symbols cannot be represented in JSON Schema");break}case"undefined":{const v=_;v.type="null";break}case"null":{_.type="null";break}case"any":break;case"unknown":break;case"never":{_.not={};break}case"void":{if(this.unrepresentable==="throw")throw new Error("Void cannot be represented in JSON Schema");break}case"date":{if(this.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema");break}case"array":{const v=_,{minimum:w,maximum:S}=e._zod.bag;typeof w=="number"&&(v.minItems=w),typeof S=="number"&&(v.maxItems=S),v.type="array",v.items=this.process(i.element,{...d,path:[...d.path,"items"]});break}case"object":{const v=_;v.type="object",v.properties={};const w=i.shape;for(const N in w)v.properties[N]=this.process(w[N],{...d,path:[...d.path,"properties",N]});const S=new Set(Object.keys(w)),T=new Set([...S].filter(N=>{const x=i.shape[N]._zod;return this.io==="input"?x.optin===void 0:x.optout===void 0}));T.size>0&&(v.required=Array.from(T)),((y=i.catchall)==null?void 0:y._zod.def.type)==="never"?v.additionalProperties=!1:i.catchall?i.catchall&&(v.additionalProperties=this.process(i.catchall,{...d,path:[...d.path,"additionalProperties"]})):this.io==="output"&&(v.additionalProperties=!1);break}case"union":{const v=_;v.anyOf=i.options.map((w,S)=>this.process(w,{...d,path:[...d.path,"anyOf",S]}));break}case"intersection":{const v=_,w=this.process(i.left,{...d,path:[...d.path,"allOf",0]}),S=this.process(i.right,{...d,path:[...d.path,"allOf",1]}),T=x=>"allOf"in x&&Object.keys(x).length===1,N=[...T(w)?w.allOf:[w],...T(S)?S.allOf:[S]];v.allOf=N;break}case"tuple":{const v=_;v.type="array";const w=i.items.map((N,x)=>this.process(N,{...d,path:[...d.path,"prefixItems",x]}));if(this.target==="draft-2020-12"?v.prefixItems=w:v.items=w,i.rest){const N=this.process(i.rest,{...d,path:[...d.path,"items"]});this.target==="draft-2020-12"?v.items=N:v.additionalItems=N}i.rest&&(v.items=this.process(i.rest,{...d,path:[...d.path,"items"]}));const{minimum:S,maximum:T}=e._zod.bag;typeof S=="number"&&(v.minItems=S),typeof T=="number"&&(v.maxItems=T);break}case"record":{const v=_;v.type="object",v.propertyNames=this.process(i.keyType,{...d,path:[...d.path,"propertyNames"]}),v.additionalProperties=this.process(i.valueType,{...d,path:[...d.path,"additionalProperties"]});break}case"map":{if(this.unrepresentable==="throw")throw new Error("Map cannot be represented in JSON Schema");break}case"set":{if(this.unrepresentable==="throw")throw new Error("Set cannot be represented in JSON Schema");break}case"enum":{const v=_,w=Rk(i.entries);w.every(S=>typeof S=="number")&&(v.type="number"),w.every(S=>typeof S=="string")&&(v.type="string"),v.enum=w;break}case"literal":{const v=_,w=[];for(const S of i.values)if(S===void 0){if(this.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof S=="bigint"){if(this.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");w.push(Number(S))}else w.push(S);if(w.length!==0)if(w.length===1){const S=w[0];v.const=S}else v.enum=w;break}case"file":{const v=_,w={type:"string",format:"binary",contentEncoding:"binary"},{minimum:S,maximum:T,mime:N}=e._zod.bag;S!==void 0&&(w.minLength=S),T!==void 0&&(w.maxLength=T),N?N.length===1?(w.contentMediaType=N[0],Object.assign(v,w)):v.anyOf=N.map(x=>({...w,contentMediaType:x})):Object.assign(v,w);break}case"transform":{if(this.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema");break}case"nullable":{const v=this.process(i.innerType,d);_.anyOf=[v,{type:"null"}];break}case"nonoptional":{this.process(i.innerType,d),c.ref=i.innerType;break}case"success":{const v=_;v.type="boolean";break}case"default":{this.process(i.innerType,d),c.ref=i.innerType,_.default=i.defaultValue;break}case"prefault":{this.process(i.innerType,d),c.ref=i.innerType,this.io==="input"&&(_._prefault=i.defaultValue);break}case"catch":{this.process(i.innerType,d),c.ref=i.innerType;let v;try{v=i.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}_.default=v;break}case"nan":{if(this.unrepresentable==="throw")throw new Error("NaN cannot be represented in JSON Schema");break}case"template_literal":{const v=_,w=e._zod.pattern;if(!w)throw new Error("Pattern not found in template literal");v.type="string",v.pattern=w.source;break}case"pipe":{const v=this.io==="input"?i.in._zod.def.type==="transform"?i.out:i.in:i.out;this.process(v,d),c.ref=v;break}case"readonly":{this.process(i.innerType,d),c.ref=i.innerType,_.readOnly=!0;break}case"promise":{this.process(i.innerType,d),c.ref=i.innerType;break}case"optional":{this.process(i.innerType,d),c.ref=i.innerType;break}case"lazy":{const v=e._zod.innerType;this.process(v,d),c.ref=v;break}case"custom":{if(this.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema");break}}}const m=this.metadataRegistry.get(e);return m&&Object.assign(c.schema,m),this.io==="input"&&Wt(e)&&(delete c.schema.examples,delete c.schema.default),this.io==="input"&&c.schema._prefault&&((r=c.schema).default??(r.default=c.schema._prefault)),delete c.schema._prefault,this.seen.get(e).schema}emit(e,n){var m,b,y,_;const r={cycles:(n==null?void 0:n.cycles)??"ref",reused:(n==null?void 0:n.reused)??"inline",external:(n==null?void 0:n.external)??void 0},i=this.seen.get(e);if(!i)throw new Error("Unprocessed schema. This is a bug in Zod.");const o=v=>{var x;const w=this.target==="draft-2020-12"?"$defs":"definitions";if(r.external){const R=(x=r.external.registry.get(v[0]))==null?void 0:x.id;if(R)return{ref:r.external.uri(R)};const O=v[1].defId??v[1].schema.id??`schema${this.counter++}`;return v[1].defId=O,{defId:O,ref:`${r.external.uri("__shared")}#/${w}/${O}`}}if(v[1]===i)return{ref:"#"};const T=`#/${w}/`,N=v[1].schema.id??`__schema${this.counter++}`;return{defId:N,ref:T+N}},u=v=>{if(v[1].schema.$ref)return;const w=v[1],{ref:S,defId:T}=o(v);w.def={...w.schema},T&&(w.defId=T);const N=w.schema;for(const x in N)delete N[x];N.$ref=S};for(const v of this.seen.entries()){const w=v[1];if(e===v[0]){u(v);continue}if(r.external){const T=(m=r.external.registry.get(v[0]))==null?void 0:m.id;if(e!==v[0]&&T){u(v);continue}}if((b=this.metadataRegistry.get(v[0]))==null?void 0:b.id){u(v);continue}if(w.cycle){if(r.cycles==="throw")throw new Error(`Cycle detected: #/${(y=w.cycle)==null?void 0:y.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`);r.cycles==="ref"&&u(v);continue}if(w.count>1&&r.reused==="ref"){u(v);continue}}const c=(v,w)=>{const S=this.seen.get(v),T=S.def??S.schema,N={...T};if(S.ref===null)return;const x=S.ref;if(S.ref=null,x){c(x,w);const R=this.seen.get(x).schema;R.$ref&&w.target==="draft-7"?(T.allOf=T.allOf??[],T.allOf.push(R)):(Object.assign(T,R),Object.assign(T,N))}S.isParent||this.override({zodSchema:v,jsonSchema:T})};for(const v of[...this.seen.entries()].reverse())c(v[0],{target:this.target});const d={};this.target==="draft-2020-12"?d.$schema="https://json-schema.org/draft/2020-12/schema":this.target==="draft-7"?d.$schema="http://json-schema.org/draft-07/schema#":console.warn(`Invalid target: ${this.target}`),Object.assign(d,i.def);const h=((_=r.external)==null?void 0:_.defs)??{};for(const v of this.seen.entries()){const w=v[1];w.def&&w.defId&&(h[w.defId]=w.def)}!r.external&&Object.keys(h).length>0&&(this.target==="draft-2020-12"?d.$defs=h:d.definitions=h);try{return JSON.parse(JSON.stringify(d))}catch{throw new Error("Error converting schema to JSON.")}}}function R1(t,e){if(t instanceof Mx){const r=new O1(e),i={};for(const c of t._idmap.entries()){const[d,h]=c;r.process(h)}const o={},u={registry:t,uri:c=>c,defs:i};for(const c of t._idmap.entries()){const[d,h]=c;o[d]=r.emit(h,{...e,external:u})}if(Object.keys(i).length>0){const c=r.target==="draft-2020-12"?"$defs":"definitions";o.__shared={[c]:i}}return{schemas:o}}const n=new O1(e);return n.process(t),n.emit(t,e)}function Wt(t,e){const n=e??{seen:new Set};if(n.seen.has(t))return!1;n.seen.add(t);const i=t._zod.def;switch(i.type){case"string":case"number":case"bigint":case"boolean":case"date":case"symbol":case"undefined":case"null":case"any":case"unknown":case"never":case"void":case"literal":case"enum":case"nan":case"file":case"template_literal":return!1;case"array":return Wt(i.element,n);case"object":{for(const o in i.shape)if(Wt(i.shape[o],n))return!0;return!1}case"union":{for(const o of i.options)if(Wt(o,n))return!0;return!1}case"intersection":return Wt(i.left,n)||Wt(i.right,n);case"tuple":{for(const o of i.items)if(Wt(o,n))return!0;return!!(i.rest&&Wt(i.rest,n))}case"record":return Wt(i.keyType,n)||Wt(i.valueType,n);case"map":return Wt(i.keyType,n)||Wt(i.valueType,n);case"set":return Wt(i.valueType,n);case"promise":case"optional":case"nonoptional":case"nullable":case"readonly":return Wt(i.innerType,n);case"lazy":return Wt(i.getter(),n);case"default":return Wt(i.innerType,n);case"prefault":return Wt(i.innerType,n);case"custom":return!1;case"transform":return!0;case"pipe":return Wt(i.in,n)||Wt(i.out,n);case"success":return!1;case"catch":return!1}throw new Error(`Unknown schema type: ${i.type}`)}const Gk=Symbol("Let zodToJsonSchema decide on which parser to use"),Vk={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},Zk=t=>({...Vk,...t}),Yk=t=>{const e=Zk(t),n=e.name!==void 0?[...e.basePath,e.definitionPath,e.name]:e.basePath;return{...e,currentPath:n,propertyPath:void 0,seen:new Map(Object.entries(e.definitions).map(([r,i])=>[i._def,{def:i._def,path:[...e.basePath,e.definitionPath,r],jsonSchema:void 0}]))}};function Lx(t,e,n,r){r!=null&&r.errorMessages&&n&&(t.errorMessage={...t.errorMessage,[e]:n})}function ut(t,e,n,r,i){t[e]=n,Lx(t,e,r,i)}function Kk(){return{}}function Xk(t,e){var r,i,o;const n={type:"array"};return(r=t.type)!=null&&r._def&&((o=(i=t.type)==null?void 0:i._def)==null?void 0:o.typeName)!==ce.ZodAny&&(n.items=at(t.type._def,{...e,currentPath:[...e.currentPath,"items"]})),t.minLength&&ut(n,"minItems",t.minLength.value,t.minLength.message,e),t.maxLength&&ut(n,"maxItems",t.maxLength.value,t.maxLength.message,e),t.exactLength&&(ut(n,"minItems",t.exactLength.value,t.exactLength.message,e),ut(n,"maxItems",t.exactLength.value,t.exactLength.message,e)),n}function Wk(t,e){const n={type:"integer",format:"int64"};if(!t.checks)return n;for(const r of t.checks)switch(r.kind){case"min":e.target==="jsonSchema7"?r.inclusive?ut(n,"minimum",r.value,r.message,e):ut(n,"exclusiveMinimum",r.value,r.message,e):(r.inclusive||(n.exclusiveMinimum=!0),ut(n,"minimum",r.value,r.message,e));break;case"max":e.target==="jsonSchema7"?r.inclusive?ut(n,"maximum",r.value,r.message,e):ut(n,"exclusiveMaximum",r.value,r.message,e):(r.inclusive||(n.exclusiveMaximum=!0),ut(n,"maximum",r.value,r.message,e));break;case"multipleOf":ut(n,"multipleOf",r.value,r.message,e);break}return n}function Qk(){return{type:"boolean"}}function Dx(t,e){return at(t.type._def,e)}const Jk=(t,e)=>at(t.innerType._def,e);function Ux(t,e,n){const r=n??e.dateStrategy;if(Array.isArray(r))return{anyOf:r.map((i,o)=>Ux(t,e,i))};switch(r){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return eI(t,e)}}const eI=(t,e)=>{const n={type:"integer",format:"unix-time"};if(e.target==="openApi3")return n;for(const r of t.checks)switch(r.kind){case"min":ut(n,"minimum",r.value,r.message,e);break;case"max":ut(n,"maximum",r.value,r.message,e);break}return n};function tI(t,e){return{...at(t.innerType._def,e),default:t.defaultValue()}}function nI(t,e){return e.effectStrategy==="input"?at(t.schema._def,e):{}}function rI(t){return{type:"string",enum:Array.from(t.values)}}const aI=t=>"type"in t&&t.type==="string"?!1:"allOf"in t;function iI(t,e){const n=[at(t.left._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),at(t.right._def,{...e,currentPath:[...e.currentPath,"allOf","1"]})].filter(o=>!!o);let r=e.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0;const i=[];return n.forEach(o=>{if(aI(o))i.push(...o.allOf),o.unevaluatedProperties===void 0&&(r=void 0);else{let u=o;if("additionalProperties"in o&&o.additionalProperties===!1){const{additionalProperties:c,...d}=o;u=d}else r=void 0;i.push(u)}}),i.length?{allOf:i,...r}:void 0}function sI(t,e){const n=typeof t.value;return n!=="bigint"&&n!=="number"&&n!=="boolean"&&n!=="string"?{type:Array.isArray(t.value)?"array":"object"}:e.target==="openApi3"?{type:n==="bigint"?"integer":n,enum:[t.value]}:{type:n==="bigint"?"integer":n,const:t.value}}let mg;const Rr={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(mg===void 0&&(mg=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),mg),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function zx(t,e){const n={type:"string"};if(t.checks)for(const r of t.checks)switch(r.kind){case"min":ut(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value,r.message,e);break;case"max":ut(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value,r.message,e);break;case"email":switch(e.emailStrategy){case"format:email":Cr(n,"email",r.message,e);break;case"format:idn-email":Cr(n,"idn-email",r.message,e);break;case"pattern:zod":On(n,Rr.email,r.message,e);break}break;case"url":Cr(n,"uri",r.message,e);break;case"uuid":Cr(n,"uuid",r.message,e);break;case"regex":On(n,r.regex,r.message,e);break;case"cuid":On(n,Rr.cuid,r.message,e);break;case"cuid2":On(n,Rr.cuid2,r.message,e);break;case"startsWith":On(n,RegExp(`^${gg(r.value,e)}`),r.message,e);break;case"endsWith":On(n,RegExp(`${gg(r.value,e)}$`),r.message,e);break;case"datetime":Cr(n,"date-time",r.message,e);break;case"date":Cr(n,"date",r.message,e);break;case"time":Cr(n,"time",r.message,e);break;case"duration":Cr(n,"duration",r.message,e);break;case"length":ut(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value,r.message,e),ut(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value,r.message,e);break;case"includes":{On(n,RegExp(gg(r.value,e)),r.message,e);break}case"ip":{r.version!=="v6"&&Cr(n,"ipv4",r.message,e),r.version!=="v4"&&Cr(n,"ipv6",r.message,e);break}case"base64url":On(n,Rr.base64url,r.message,e);break;case"jwt":On(n,Rr.jwt,r.message,e);break;case"cidr":{r.version!=="v6"&&On(n,Rr.ipv4Cidr,r.message,e),r.version!=="v4"&&On(n,Rr.ipv6Cidr,r.message,e);break}case"emoji":On(n,Rr.emoji(),r.message,e);break;case"ulid":{On(n,Rr.ulid,r.message,e);break}case"base64":{switch(e.base64Strategy){case"format:binary":{Cr(n,"binary",r.message,e);break}case"contentEncoding:base64":{ut(n,"contentEncoding","base64",r.message,e);break}case"pattern:zod":{On(n,Rr.base64,r.message,e);break}}break}case"nanoid":On(n,Rr.nanoid,r.message,e)}return n}function gg(t,e){return e.patternStrategy==="escape"?lI(t):t}const oI=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function lI(t){let e="";for(let n=0;n<t.length;n++)oI.has(t[n])||(e+="\\"),e+=t[n];return e}function Cr(t,e,n,r){var i;t.format||(i=t.anyOf)!=null&&i.some(o=>o.format)?(t.anyOf||(t.anyOf=[]),t.format&&(t.anyOf.push({format:t.format,...t.errorMessage&&r.errorMessages&&{errorMessage:{format:t.errorMessage.format}}}),delete t.format,t.errorMessage&&(delete t.errorMessage.format,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.anyOf.push({format:e,...n&&r.errorMessages&&{errorMessage:{format:n}}})):ut(t,"format",e,n,r)}function On(t,e,n,r){var i;t.pattern||(i=t.allOf)!=null&&i.some(o=>o.pattern)?(t.allOf||(t.allOf=[]),t.pattern&&(t.allOf.push({pattern:t.pattern,...t.errorMessage&&r.errorMessages&&{errorMessage:{pattern:t.errorMessage.pattern}}}),delete t.pattern,t.errorMessage&&(delete t.errorMessage.pattern,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.allOf.push({pattern:C1(e,r),...n&&r.errorMessages&&{errorMessage:{pattern:n}}})):ut(t,"pattern",C1(e,r),n,r)}function C1(t,e){var d;if(!e.applyRegexFlags||!t.flags)return t.source;const n={i:t.flags.includes("i"),m:t.flags.includes("m"),s:t.flags.includes("s")},r=n.i?t.source.toLowerCase():t.source;let i="",o=!1,u=!1,c=!1;for(let h=0;h<r.length;h++){if(o){i+=r[h],o=!1;continue}if(n.i){if(u){if(r[h].match(/[a-z]/)){c?(i+=r[h],i+=`${r[h-2]}-${r[h]}`.toUpperCase(),c=!1):r[h+1]==="-"&&((d=r[h+2])!=null&&d.match(/[a-z]/))?(i+=r[h],c=!0):i+=`${r[h]}${r[h].toUpperCase()}`;continue}}else if(r[h].match(/[a-z]/)){i+=`[${r[h]}${r[h].toUpperCase()}]`;continue}}if(n.m){if(r[h]==="^"){i+=`(^|(?<=[\r
]))`;continue}else if(r[h]==="$"){i+=`($|(?=[\r
]))`;continue}}if(n.s&&r[h]==="."){i+=u?`${r[h]}\r
`:`[${r[h]}\r
]`;continue}i+=r[h],r[h]==="\\"?o=!0:u&&r[h]==="]"?u=!1:!u&&r[h]==="["&&(u=!0)}try{new RegExp(i)}catch{return console.warn(`Could not convert regex pattern at ${e.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),t.source}return i}function Bx(t,e){var r,i,o,u,c,d;if(e.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),e.target==="openApi3"&&((r=t.keyType)==null?void 0:r._def.typeName)===ce.ZodEnum)return{type:"object",required:t.keyType._def.values,properties:t.keyType._def.values.reduce((h,m)=>({...h,[m]:at(t.valueType._def,{...e,currentPath:[...e.currentPath,"properties",m]})??{}}),{}),additionalProperties:e.rejectedAdditionalProperties};const n={type:"object",additionalProperties:at(t.valueType._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??e.allowedAdditionalProperties};if(e.target==="openApi3")return n;if(((i=t.keyType)==null?void 0:i._def.typeName)===ce.ZodString&&((o=t.keyType._def.checks)!=null&&o.length)){const{type:h,...m}=zx(t.keyType._def,e);return{...n,propertyNames:m}}else{if(((u=t.keyType)==null?void 0:u._def.typeName)===ce.ZodEnum)return{...n,propertyNames:{enum:t.keyType._def.values}};if(((c=t.keyType)==null?void 0:c._def.typeName)===ce.ZodBranded&&t.keyType._def.type._def.typeName===ce.ZodString&&((d=t.keyType._def.type._def.checks)!=null&&d.length)){const{type:h,...m}=Dx(t.keyType._def,e);return{...n,propertyNames:m}}}return n}function uI(t,e){if(e.mapStrategy==="record")return Bx(t,e);const n=at(t.keyType._def,{...e,currentPath:[...e.currentPath,"items","items","0"]})||{},r=at(t.valueType._def,{...e,currentPath:[...e.currentPath,"items","items","1"]})||{};return{type:"array",maxItems:125,items:{type:"array",items:[n,r],minItems:2,maxItems:2}}}function cI(t){const e=t.values,r=Object.keys(t.values).filter(o=>typeof e[e[o]]!="number").map(o=>e[o]),i=Array.from(new Set(r.map(o=>typeof o)));return{type:i.length===1?i[0]==="string"?"string":"number":["string","number"],enum:r}}function fI(){return{not:{}}}function dI(t){return t.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}const zf={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function hI(t,e){if(e.target==="openApi3")return A1(t,e);const n=t.options instanceof Map?Array.from(t.options.values()):t.options;if(n.every(r=>r._def.typeName in zf&&(!r._def.checks||!r._def.checks.length))){const r=n.reduce((i,o)=>{const u=zf[o._def.typeName];return u&&!i.includes(u)?[...i,u]:i},[]);return{type:r.length>1?r:r[0]}}else if(n.every(r=>r._def.typeName==="ZodLiteral"&&!r.description)){const r=n.reduce((i,o)=>{const u=typeof o._def.value;switch(u){case"string":case"number":case"boolean":return[...i,u];case"bigint":return[...i,"integer"];case"object":if(o._def.value===null)return[...i,"null"];case"symbol":case"undefined":case"function":default:return i}},[]);if(r.length===n.length){const i=r.filter((o,u,c)=>c.indexOf(o)===u);return{type:i.length>1?i:i[0],enum:n.reduce((o,u)=>o.includes(u._def.value)?o:[...o,u._def.value],[])}}}else if(n.every(r=>r._def.typeName==="ZodEnum"))return{type:"string",enum:n.reduce((r,i)=>[...r,...i._def.values.filter(o=>!r.includes(o))],[])};return A1(t,e)}const A1=(t,e)=>{const n=(t.options instanceof Map?Array.from(t.options.values()):t.options).map((r,i)=>at(r._def,{...e,currentPath:[...e.currentPath,"anyOf",`${i}`]})).filter(r=>!!r&&(!e.strictUnions||typeof r=="object"&&Object.keys(r).length>0));return n.length?{anyOf:n}:void 0};function pI(t,e){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(t.innerType._def.typeName)&&(!t.innerType._def.checks||!t.innerType._def.checks.length))return e.target==="openApi3"?{type:zf[t.innerType._def.typeName],nullable:!0}:{type:[zf[t.innerType._def.typeName],"null"]};if(e.target==="openApi3"){const r=at(t.innerType._def,{...e,currentPath:[...e.currentPath]});return r&&"$ref"in r?{allOf:[r],nullable:!0}:r&&{...r,nullable:!0}}const n=at(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","0"]});return n&&{anyOf:[n,{type:"null"}]}}function mI(t,e){const n={type:"number"};if(!t.checks)return n;for(const r of t.checks)switch(r.kind){case"int":n.type="integer",Lx(n,"type",r.message,e);break;case"min":e.target==="jsonSchema7"?r.inclusive?ut(n,"minimum",r.value,r.message,e):ut(n,"exclusiveMinimum",r.value,r.message,e):(r.inclusive||(n.exclusiveMinimum=!0),ut(n,"minimum",r.value,r.message,e));break;case"max":e.target==="jsonSchema7"?r.inclusive?ut(n,"maximum",r.value,r.message,e):ut(n,"exclusiveMaximum",r.value,r.message,e):(r.inclusive||(n.exclusiveMaximum=!0),ut(n,"maximum",r.value,r.message,e));break;case"multipleOf":ut(n,"multipleOf",r.value,r.message,e);break}return n}function gI(t,e){const n=e.target==="openAi",r={type:"object",properties:{}},i=[],o=t.shape();for(const c in o){let d=o[c];if(d===void 0||d._def===void 0)continue;let h=bI(d);h&&n&&(d instanceof Ea&&(d=d._def.innerType),d.isNullable()||(d=d.nullable()),h=!1);const m=at(d._def,{...e,currentPath:[...e.currentPath,"properties",c],propertyPath:[...e.currentPath,"properties",c]});m!==void 0&&(r.properties[c]=m,h||i.push(c))}i.length&&(r.required=i);const u=yI(t,e);return u!==void 0&&(r.additionalProperties=u),r}function yI(t,e){if(t.catchall._def.typeName!=="ZodNever")return at(t.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]});switch(t.unknownKeys){case"passthrough":return e.allowedAdditionalProperties;case"strict":return e.rejectedAdditionalProperties;case"strip":return e.removeAdditionalStrategy==="strict"?e.allowedAdditionalProperties:e.rejectedAdditionalProperties}}function bI(t){try{return t.isOptional()}catch{return!0}}const vI=(t,e)=>{var r;if(e.currentPath.toString()===((r=e.propertyPath)==null?void 0:r.toString()))return at(t.innerType._def,e);const n=at(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","1"]});return n?{anyOf:[{not:{}},n]}:{}},_I=(t,e)=>{if(e.pipeStrategy==="input")return at(t.in._def,e);if(e.pipeStrategy==="output")return at(t.out._def,e);const n=at(t.in._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),r=at(t.out._def,{...e,currentPath:[...e.currentPath,"allOf",n?"1":"0"]});return{allOf:[n,r].filter(i=>i!==void 0)}};function wI(t,e){return at(t.type._def,e)}function SI(t,e){const r={type:"array",uniqueItems:!0,items:at(t.valueType._def,{...e,currentPath:[...e.currentPath,"items"]})};return t.minSize&&ut(r,"minItems",t.minSize.value,t.minSize.message,e),t.maxSize&&ut(r,"maxItems",t.maxSize.value,t.maxSize.message,e),r}function EI(t,e){return t.rest?{type:"array",minItems:t.items.length,items:t.items.map((n,r)=>at(n._def,{...e,currentPath:[...e.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[]),additionalItems:at(t.rest._def,{...e,currentPath:[...e.currentPath,"additionalItems"]})}:{type:"array",minItems:t.items.length,maxItems:t.items.length,items:t.items.map((n,r)=>at(n._def,{...e,currentPath:[...e.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[])}}function xI(){return{not:{}}}function TI(){return{}}const OI=(t,e)=>at(t.innerType._def,e),RI=(t,e,n)=>{switch(e){case ce.ZodString:return zx(t,n);case ce.ZodNumber:return mI(t,n);case ce.ZodObject:return gI(t,n);case ce.ZodBigInt:return Wk(t,n);case ce.ZodBoolean:return Qk();case ce.ZodDate:return Ux(t,n);case ce.ZodUndefined:return xI();case ce.ZodNull:return dI(n);case ce.ZodArray:return Xk(t,n);case ce.ZodUnion:case ce.ZodDiscriminatedUnion:return hI(t,n);case ce.ZodIntersection:return iI(t,n);case ce.ZodTuple:return EI(t,n);case ce.ZodRecord:return Bx(t,n);case ce.ZodLiteral:return sI(t,n);case ce.ZodEnum:return rI(t);case ce.ZodNativeEnum:return cI(t);case ce.ZodNullable:return pI(t,n);case ce.ZodOptional:return vI(t,n);case ce.ZodMap:return uI(t,n);case ce.ZodSet:return SI(t,n);case ce.ZodLazy:return()=>t.getter()._def;case ce.ZodPromise:return wI(t,n);case ce.ZodNaN:case ce.ZodNever:return fI();case ce.ZodEffects:return nI(t,n);case ce.ZodAny:return Kk();case ce.ZodUnknown:return TI();case ce.ZodDefault:return tI(t,n);case ce.ZodBranded:return Dx(t,n);case ce.ZodReadonly:return OI(t,n);case ce.ZodCatch:return Jk(t,n);case ce.ZodPipeline:return _I(t,n);case ce.ZodFunction:case ce.ZodVoid:case ce.ZodSymbol:return;default:return(r=>{})()}};function at(t,e,n=!1){var c;const r=e.seen.get(t);if(e.override){const d=(c=e.override)==null?void 0:c.call(e,t,e,r,n);if(d!==Gk)return d}if(r&&!n){const d=CI(r,e);if(d!==void 0)return d}const i={def:t,path:e.currentPath,jsonSchema:void 0};e.seen.set(t,i);const o=RI(t,t.typeName,e),u=typeof o=="function"?at(o(),e):o;if(u&&NI(t,e,u),e.postProcess){const d=e.postProcess(u,t,e);return i.jsonSchema=u,d}return i.jsonSchema=u,u}const CI=(t,e)=>{switch(e.$refStrategy){case"root":return{$ref:t.path.join("/")};case"relative":return{$ref:AI(e.currentPath,t.path)};case"none":case"seen":return t.path.length<e.currentPath.length&&t.path.every((n,r)=>e.currentPath[r]===n)?(console.warn(`Recursive reference detected at ${e.currentPath.join("/")}! Defaulting to any`),{}):e.$refStrategy==="seen"?{}:void 0}},AI=(t,e)=>{let n=0;for(;n<t.length&&n<e.length&&t[n]===e[n];n++);return[(t.length-n).toString(),...e.slice(n)].join("/")},NI=(t,e,n)=>(t.description&&(n.description=t.description,e.markdownDescription&&(n.markdownDescription=t.description)),n),kI=(t,e)=>{const n=Yk(e),r=void 0,i=e==null?void 0:e.name,o=at(t._def,n,!1)??{},u=i===void 0?r?{...o,[n.definitionPath]:r}:o:{$ref:[...n.$refStrategy==="relative"?[]:n.basePath,n.definitionPath,i].join("/"),[n.definitionPath]:{...r,[i]:o}};return n.target==="jsonSchema7"?u.$schema="http://json-schema.org/draft-07/schema#":(n.target==="jsonSchema2019-09"||n.target==="openAi")&&(u.$schema="https://json-schema.org/draft/2019-09/schema#"),n.target==="openAi"&&("anyOf"in u||"oneOf"in u||"allOf"in u||"type"in u&&Array.isArray(u.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),u};function Kg(t,e){const n=typeof t;if(n!==typeof e)return!1;if(Array.isArray(t)){if(!Array.isArray(e))return!1;const r=t.length;if(r!==e.length)return!1;for(let i=0;i<r;i++)if(!Kg(t[i],e[i]))return!1;return!0}if(n==="object"){if(!t||!e)return t===e;const r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;for(const u of r)if(!Kg(t[u],e[u]))return!1;return!0}return t===e}function Jr(t){if(typeof t!="object"||t===null)return!1;const e=t;if(!("_zod"in e))return!1;const n=e._zod;return typeof n=="object"&&n!==null&&"def"in n}function ka(t){if(typeof t!="object"||t===null)return!1;const e=t;if(!("_def"in e)||"_zod"in e)return!1;const n=e._def;return typeof n=="object"&&n!=null&&"typeName"in n}function Tu(t){return!t||typeof t!="object"||Array.isArray(t)?!1:!!(Jr(t)||ka(t))}async function II(t,e){if(Jr(t))try{return{success:!0,data:await Pk(t,e)}}catch(n){return{success:!1,error:n}}if(ka(t))return t.safeParse(e);throw new Error("Schema must be an instance of z3.ZodType or z4.$ZodType")}async function $I(t,e){if(Jr(t))return $k(t,e);if(ka(t))return t.parse(e);throw new Error("Schema must be an instance of z3.ZodType or z4.$ZodType")}function Hx(t){var e;if(Jr(t))return(e=ci.get(t))==null?void 0:e.description;if(ka(t)||"description"in t&&typeof t.description=="string")return t.description}function jI(t){return Tu(t)?ka(t)?t._def.typeName==="ZodString":Jr(t)?t._zod.def.type==="string":!1:!1}function Wl(t){return Jr(t)?typeof t=="object"&&t!==null&&"_zod"in t&&typeof t._zod=="object"&&t._zod!==null&&"def"in t._zod&&typeof t._zod.def=="object"&&t._zod.def!==null&&"type"in t._zod.def&&t._zod.def.type==="object":!1}function qx(t){return Jr(t)?typeof t=="object"&&t!==null&&"_zod"in t&&typeof t._zod=="object"&&t._zod!==null&&"def"in t._zod&&typeof t._zod.def=="object"&&t._zod.def!==null&&"type"in t._zod.def&&t._zod.def.type==="array":!1}function Xg(t,e=!1){if(ka(t))return t.strict();if(Wl(t)){const n=t._zod.def.shape;if(e)for(const[o,u]of Object.entries(t._zod.def.shape)){if(Wl(u)){const d=Xg(u,e);n[o]=d}else if(qx(u)){let d=u._zod.def.element;Wl(d)&&(d=Xg(d,e)),n[o]=Uf(u,{...u._zod.def,element:d})}else n[o]=u;const c=ci.get(u);c&&ci.add(n[o],c)}const r=Uf(t,{...t._zod.def,shape:n,catchall:Fk(Hk)}),i=ci.get(t);return i&&ci.add(r,i),r}throw new Error("Schema must be an instance of z3.ZodObject or z4.$ZodObject")}function PI(t){return ka(t)&&"typeName"in t._def&&t._def.typeName==="ZodEffects"}function MI(t){return Jr(t)&&t._zod.def.type==="pipe"}function Hl(t,e=!1){if(ka(t))return PI(t)?Hl(t._def.schema,e):t;if(Jr(t)){let n=t;if(MI(t)&&(n=Hl(t._zod.def.in,e)),e){if(Wl(n)){const i=n._zod.def.shape;for(const[o,u]of Object.entries(n._zod.def.shape))i[o]=Hl(u,e);n=Uf(n,{...n._zod.def,shape:i})}else if(qx(n)){const i=Hl(n._zod.def.element,e);n=Uf(n,{...n._zod.def,element:i})}}const r=ci.get(t);return r&&ci.add(n,r),n}throw new Error("Schema must be an instance of z3.ZodType or z4.$ZodType")}function zy(t){if(Jr(t)){const e=Hl(t,!0);if(Wl(e)){const n=Xg(e,!0);return R1(n)}else return R1(t)}return ka(t)?kI(t):t}function LI(t,e){if(t!==void 0&&!io(t))return t;if(Uy(e))try{let n=e.getName();return n=n.startsWith("Runnable")?n.slice(8):n,n}catch{return e.getName()}else return e.name??"UnknownSchema"}function DI(t){return Uy(t.data)?{type:"runnable",data:{id:t.data.lc_id,name:t.data.getName()}}:{type:"schema",data:{...zy(t.data.schema),title:t.data.name}}}class pd{constructor(e){Object.defineProperty(this,"nodes",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"edges",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this.nodes=(e==null?void 0:e.nodes)??this.nodes,this.edges=(e==null?void 0:e.edges)??this.edges}toJSON(){const e={};return Object.values(this.nodes).forEach((n,r)=>{e[n.id]=io(n.id)?r:n.id}),{nodes:Object.values(this.nodes).map(n=>({id:e[n.id],...DI(n)})),edges:this.edges.map(n=>{const r={source:e[n.source],target:e[n.target]};return typeof n.data<"u"&&(r.data=n.data),typeof n.conditional<"u"&&(r.conditional=n.conditional),r})}}addNode(e,n,r){if(n!==void 0&&this.nodes[n]!==void 0)throw new Error(`Node with id ${n} already exists`);const i=n??Rn(),o={id:i,data:e,name:LI(n,e),metadata:r};return this.nodes[i]=o,o}removeNode(e){delete this.nodes[e.id],this.edges=this.edges.filter(n=>n.source!==e.id&&n.target!==e.id)}addEdge(e,n,r,i){if(this.nodes[e.id]===void 0)throw new Error(`Source node ${e.id} not in graph`);if(this.nodes[n.id]===void 0)throw new Error(`Target node ${n.id} not in graph`);const o={source:e.id,target:n.id,data:r,conditional:i};return this.edges.push(o),o}firstNode(){return N1(this)}lastNode(){return k1(this)}extend(e,n=""){let r=n;Object.values(e.nodes).map(h=>h.id).every(io)&&(r="");const o=h=>r?`${r}:${h}`:h;Object.entries(e.nodes).forEach(([h,m])=>{this.nodes[o(h)]={...m,id:o(h)}});const u=e.edges.map(h=>({...h,source:o(h.source),target:o(h.target)}));this.edges=[...this.edges,...u];const c=e.firstNode(),d=e.lastNode();return[c?{id:o(c.id),data:c.data}:void 0,d?{id:o(d.id),data:d.data}:void 0]}trimFirstNode(){const e=this.firstNode();e&&N1(this,[e.id])&&this.removeNode(e)}trimLastNode(){const e=this.lastNode();e&&k1(this,[e.id])&&this.removeNode(e)}reid(){const e=Object.fromEntries(Object.values(this.nodes).map(i=>[i.id,i.name])),n=new Map;Object.values(e).forEach(i=>{n.set(i,(n.get(i)||0)+1)});const r=i=>{const o=e[i];return io(i)&&n.get(o)===1?o:i};return new pd({nodes:Object.fromEntries(Object.entries(this.nodes).map(([i,o])=>[r(i),{...o,id:r(i)}])),edges:this.edges.map(i=>({...i,source:r(i.source),target:r(i.target)}))})}drawMermaid(e){const{withStyles:n,curveStyle:r,nodeColors:i={default:"fill:#f2f0ff,line-height:1.2",first:"fill-opacity:0",last:"fill:#bfb6fc"},wrapLabelNWords:o}=e??{},u=this.reid(),c=u.firstNode(),d=u.lastNode();return xk(u.nodes,u.edges,{firstNode:c==null?void 0:c.id,lastNode:d==null?void 0:d.id,withStyles:n,curveStyle:r,nodeColors:i,wrapLabelNWords:o})}async drawMermaidPng(e){const n=this.drawMermaid(e);return Tk(n,{backgroundColor:e==null?void 0:e.backgroundColor})}}function N1(t,e=[]){const n=new Set(t.edges.filter(i=>!e.includes(i.source)).map(i=>i.target)),r=[];for(const i of Object.values(t.nodes))!e.includes(i.id)&&!n.has(i.id)&&r.push(i);return r.length===1?r[0]:void 0}function k1(t,e=[]){const n=new Set(t.edges.filter(i=>!e.includes(i.target)).map(i=>i.source)),r=[];for(const i of Object.values(t.nodes))!e.includes(i.id)&&!n.has(i.id)&&r.push(i);return r.length===1?r[0]:void 0}function UI(t){const e=new TextEncoder,n=new ReadableStream({async start(r){for await(const i of t)r.enqueue(e.encode(`event: data
data: ${JSON.stringify(i)}

`));r.enqueue(e.encode(`event: end

`)),r.close()}});return nr.fromReadableStream(n)}function I1(t){return typeof t=="object"&&t!==null&&typeof t[Symbol.iterator]=="function"&&typeof t.next=="function"}const zI=t=>t!=null&&typeof t=="object"&&"next"in t&&typeof t.next=="function";function Wg(t){return typeof t=="object"&&t!==null&&typeof t[Symbol.asyncIterator]=="function"}function*$1(t,e){for(;;){const{value:n,done:r}=mi.runWithConfig(po(t),e.next.bind(e),!0);if(r)break;yield n}}async function*Qg(t,e){const n=e[Symbol.asyncIterator]();for(;;){const{value:r,done:i}=await mi.runWithConfig(po(t),n.next.bind(e),!0);if(i)break;yield r}}function sn(t,e){return t&&!Array.isArray(t)&&!(t instanceof Date)&&typeof t=="object"?t:{[e]:t}}class on extends Xi{constructor(){super(...arguments),Object.defineProperty(this,"lc_runnable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}getName(e){const n=this.name??this.constructor.lc_name()??this.constructor.name;return e?`${n}${e}`:n}bind(e){return new Zi({bound:this,kwargs:e,config:{}})}map(){return new Bf({bound:this})}withRetry(e){return new Fx({bound:this,kwargs:{},config:{},maxAttemptNumber:e==null?void 0:e.stopAfterAttempt,...e})}withConfig(e){return new Zi({bound:this,config:e,kwargs:{}})}withFallbacks(e){const n=Array.isArray(e)?e:e.fallbacks;return new HI({runnable:this,fallbacks:n})}_getOptionsList(e,n=0){if(Array.isArray(e)&&e.length!==n)throw new Error(`Passed "options" must be an array with the same length as the inputs, but got ${e.length} options for ${n} inputs`);if(Array.isArray(e))return e.map(rt);if(n>1&&!Array.isArray(e)&&e.runId){console.warn("Provided runId will be used only for the first element of the batch.");const r=Object.fromEntries(Object.entries(e).filter(([i])=>i!=="runId"));return Array.from({length:n},(i,o)=>rt(o===0?e:r))}return Array.from({length:n},()=>rt(e))}async batch(e,n,r){var d;const i=this._getOptionsList(n??{},e.length),o=((d=i[0])==null?void 0:d.maxConcurrency)??(r==null?void 0:r.maxConcurrency),u=new Dy({maxConcurrency:o,onFailedAttempt:h=>{throw h}}),c=e.map((h,m)=>u.call(async()=>{try{return await this.invoke(h,i[m])}catch(b){if(r!=null&&r.returnExceptions)return b;throw b}}));return Promise.all(c)}async*_streamIterator(e,n){yield this.invoke(e,n)}async stream(e,n){const r=rt(n),i=new To({generator:this._streamIterator(e,r),config:r});return await i.setup,nr.fromAsyncGenerator(i)}_separateRunnableConfigFromCallOptions(e){let n;e===void 0?n=rt(e):n=rt({callbacks:e.callbacks,tags:e.tags,metadata:e.metadata,runName:e.runName,configurable:e.configurable,recursionLimit:e.recursionLimit,maxConcurrency:e.maxConcurrency,runId:e.runId,timeout:e.timeout,signal:e.signal});const r={...e};return delete r.callbacks,delete r.tags,delete r.metadata,delete r.runName,delete r.configurable,delete r.recursionLimit,delete r.maxConcurrency,delete r.runId,delete r.timeout,delete r.signal,[n,r]}async _callWithConfig(e,n,r){const i=rt(r),o=await Nr(i),u=await(o==null?void 0:o.handleChainStart(this.toJSON(),sn(n,"input"),i.runId,i==null?void 0:i.runType,void 0,void 0,(i==null?void 0:i.runName)??this.getName()));delete i.runId;let c;try{const d=e.call(this,n,i,u);c=await gi(d,r==null?void 0:r.signal)}catch(d){throw await(u==null?void 0:u.handleChainError(d)),d}return await(u==null?void 0:u.handleChainEnd(sn(c,"output"))),c}async _batchWithConfig(e,n,r,i){var h;const o=this._getOptionsList(r??{},n.length),u=await Promise.all(o.map(Nr)),c=await Promise.all(u.map(async(m,b)=>{const y=await(m==null?void 0:m.handleChainStart(this.toJSON(),sn(n[b],"input"),o[b].runId,o[b].runType,void 0,void 0,o[b].runName??this.getName()));return delete o[b].runId,y}));let d;try{const m=e.call(this,n,o,c,i);d=await gi(m,(h=o==null?void 0:o[0])==null?void 0:h.signal)}catch(m){throw await Promise.all(c.map(b=>b==null?void 0:b.handleChainError(m))),m}return await Promise.all(c.map(m=>m==null?void 0:m.handleChainEnd(sn(d,"output")))),d}async*_transformStreamWithConfig(e,n,r){let i,o=!0,u,c=!0;const d=rt(r),h=await Nr(d);async function*m(){for await(const y of e){if(o)if(i===void 0)i=y;else try{i=kr(i,y)}catch{i=void 0,o=!1}yield y}}let b;try{const y=await pk(n.bind(this),m(),async()=>h==null?void 0:h.handleChainStart(this.toJSON(),{input:""},d.runId,d.runType,void 0,void 0,d.runName??this.getName()),r==null?void 0:r.signal,d);delete d.runId,b=y.setup;const _=b==null?void 0:b.handlers.find(yk);let v=y.output;_!==void 0&&b!==void 0&&(v=_.tapOutputIterable(b.runId,v));const w=b==null?void 0:b.handlers.find(mk);w!==void 0&&b!==void 0&&(v=w.tapOutputIterable(b.runId,v));for await(const S of v)if(yield S,c)if(u===void 0)u=S;else try{u=kr(u,S)}catch{u=void 0,c=!1}}catch(y){throw await(b==null?void 0:b.handleChainError(y,void 0,void 0,void 0,{inputs:sn(i,"input")})),y}await(b==null?void 0:b.handleChainEnd(u??{},void 0,void 0,void 0,{inputs:sn(i,"input")}))}getGraph(e){const n=new pd,r=n.addNode({name:`${this.getName()}Input`,schema:nS()}),i=n.addNode(this),o=n.addNode({name:`${this.getName()}Output`,schema:nS()});return n.addEdge(r,i),n.addEdge(i,o),n}pipe(e){return new wa({first:this,last:qi(e)})}pick(e){return this.pipe(new qI(e))}assign(e){return this.pipe(new Gx(new Oo({steps:e})))}async*transform(e,n){let r;for await(const i of e)r===void 0?r=i:r=kr(r,i);yield*this._streamIterator(r,rt(n))}async*streamLog(e,n,r){const i=new x1({...r,autoClose:!1,_schemaFormat:"original"}),o=rt(n);yield*this._streamLog(e,i,o)}async*_streamLog(e,n,r){const{callbacks:i}=r;if(i===void 0)r.callbacks=[n];else if(Array.isArray(i))r.callbacks=i.concat([n]);else{const d=i.copy();d.addHandler(n,!0),r.callbacks=d}const o=this.stream(e,r);async function u(){try{const d=await o;for await(const h of d){const m=new si({ops:[{op:"add",path:"/streamed_output/-",value:h}]});await n.writer.write(m)}}finally{await n.writer.close()}}const c=u();try{for await(const d of n)yield d}finally{await c}}streamEvents(e,n,r){let i;if(n.version==="v1")i=this._streamEventsV1(e,n,r);else if(n.version==="v2")i=this._streamEventsV2(e,n,r);else throw new Error('Only versions "v1" and "v2" of the schema are currently supported.');return n.encoding==="text/event-stream"?UI(i):nr.fromAsyncGenerator(i)}async*_streamEventsV2(e,n,r){var v;const i=new bk({...r,autoClose:!1}),o=rt(n),u=o.runId??Rn();o.runId=u;const c=o.callbacks;if(c===void 0)o.callbacks=[i];else if(Array.isArray(c))o.callbacks=c.concat(i);else{const w=c.copy();w.addHandler(i,!0),o.callbacks=w}const d=new AbortController,h=this;async function m(){try{let w;n!=null&&n.signal?"any"in AbortSignal?w=AbortSignal.any([d.signal,n.signal]):(w=n.signal,n.signal.addEventListener("abort",()=>{d.abort()},{once:!0})):w=d.signal;const S=await h.stream(e,{...o,signal:w}),T=i.tapOutputIterable(u,S);for await(const N of T)if(d.signal.aborted)break}finally{await i.finish()}}const b=m();let y=!1,_;try{for await(const w of i){if(!y){w.data.input=e,y=!0,_=w.run_id,yield w;continue}w.run_id===_&&w.event.endsWith("_end")&&(v=w.data)!=null&&v.input&&delete w.data.input,yield w}}finally{d.abort(),await b}}async*_streamEventsV1(e,n,r){let i,o=!1;const u=rt(n),c=u.tags??[],d=u.metadata??{},h=u.runName??this.getName(),m=new x1({...r,autoClose:!1,_schemaFormat:"streaming_events"}),b=new wk({...r}),y=this._streamLog(e,m,u);for await(const v of y){if(i?i=i.concat(v):i=cu.fromRunLogPatch(v),i.state===void 0)throw new Error('Internal error: "streamEvents" state is missing. Please open a bug report.');if(!o){o=!0;const N={...i.state},x={run_id:N.id,event:`on_${N.type}_start`,name:h,tags:c,metadata:d,data:{input:e}};b.includeEvent(x,N.type)&&(yield x)}const w=v.ops.filter(N=>N.path.startsWith("/logs/")).map(N=>N.path.split("/")[2]),S=[...new Set(w)];for(const N of S){let x,R={};const O=i.state.logs[N];if(O.end_time===void 0?O.streamed_output.length>0?x="stream":x="start":x="end",x==="start")O.inputs!==void 0&&(R.input=O.inputs);else if(x==="end")O.inputs!==void 0&&(R.input=O.inputs),R.output=O.final_output;else if(x==="stream"){const j=O.streamed_output.length;if(j!==1)throw new Error(`Expected exactly one chunk of streamed output, got ${j} instead. Encountered in: "${O.name}"`);R={chunk:O.streamed_output[0]},O.streamed_output=[]}yield{event:`on_${O.type}_${x}`,name:O.name,run_id:O.id,tags:O.tags,metadata:O.metadata,data:R}}const{state:T}=i;if(T.streamed_output.length>0){const N=T.streamed_output.length;if(N!==1)throw new Error(`Expected exactly one chunk of streamed output, got ${N} instead. Encountered in: "${T.name}"`);const x={chunk:T.streamed_output[0]};T.streamed_output=[];const R={event:`on_${T.type}_stream`,run_id:T.id,tags:c,metadata:d,name:h,data:x};b.includeEvent(R,T.type)&&(yield R)}}const _=i==null?void 0:i.state;if(_!==void 0){const v={event:`on_${_.type}_end`,name:h,run_id:_.id,tags:c,metadata:d,data:{output:_.final_output}};b.includeEvent(v,_.type)&&(yield v)}}static isRunnable(e){return Uy(e)}withListeners({onStart:e,onEnd:n,onError:r}){return new Zi({bound:this,config:{},configFactories:[i=>({callbacks:[new jx({config:i,onStart:e,onEnd:n,onError:r})]})]})}asTool(e){return FI(this,e)}}class Zi extends on{static lc_name(){return"RunnableBinding"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"bound",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"configFactories",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.bound=e.bound,this.kwargs=e.kwargs,this.config=e.config,this.configFactories=e.configFactories}getName(e){return this.bound.getName(e)}async _mergeConfig(...e){const n=w1(this.config,...e);return w1(n,...this.configFactories?await Promise.all(this.configFactories.map(async r=>await r(n))):[])}bind(e){return new this.constructor({bound:this.bound,kwargs:{...this.kwargs,...e},config:this.config})}withConfig(e){return new this.constructor({bound:this.bound,kwargs:this.kwargs,config:{...this.config,...e}})}withRetry(e){return new Fx({bound:this.bound,kwargs:this.kwargs,config:this.config,maxAttemptNumber:e==null?void 0:e.stopAfterAttempt,...e})}async invoke(e,n){return this.bound.invoke(e,await this._mergeConfig(rt(n),this.kwargs))}async batch(e,n,r){const i=Array.isArray(n)?await Promise.all(n.map(async o=>this._mergeConfig(rt(o),this.kwargs))):await this._mergeConfig(rt(n),this.kwargs);return this.bound.batch(e,i,r)}async*_streamIterator(e,n){yield*this.bound._streamIterator(e,await this._mergeConfig(rt(n),this.kwargs))}async stream(e,n){return this.bound.stream(e,await this._mergeConfig(rt(n),this.kwargs))}async*transform(e,n){yield*this.bound.transform(e,await this._mergeConfig(rt(n),this.kwargs))}streamEvents(e,n,r){const i=this,o=async function*(){yield*i.bound.streamEvents(e,{...await i._mergeConfig(rt(n),i.kwargs),version:n.version},r)};return nr.fromAsyncGenerator(o())}static isRunnableBinding(e){return e.bound&&on.isRunnable(e.bound)}withListeners({onStart:e,onEnd:n,onError:r}){return new Zi({bound:this.bound,kwargs:this.kwargs,config:this.config,configFactories:[i=>({callbacks:[new jx({config:i,onStart:e,onEnd:n,onError:r})]})]})}}class Bf extends on{static lc_name(){return"RunnableEach"}constructor(e){super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"bound",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.bound=e.bound}bind(e){return new Bf({bound:this.bound.bind(e)})}async invoke(e,n){return this._callWithConfig(this._invoke.bind(this),e,n)}async _invoke(e,n,r){return this.bound.batch(e,En(n,{callbacks:r==null?void 0:r.getChild()}))}withListeners({onStart:e,onEnd:n,onError:r}){return new Bf({bound:this.bound.withListeners({onStart:e,onEnd:n,onError:r})})}}class Fx extends Zi{static lc_name(){return"RunnableRetry"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"maxAttemptNumber",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"onFailedAttempt",{enumerable:!0,configurable:!0,writable:!0,value:()=>{}}),this.maxAttemptNumber=e.maxAttemptNumber??this.maxAttemptNumber,this.onFailedAttempt=e.onFailedAttempt??this.onFailedAttempt}_patchConfigForRetry(e,n,r){const i=e>1?`retry:attempt:${e}`:void 0;return En(n,{callbacks:r==null?void 0:r.getChild(i)})}async _invoke(e,n,r){return If(i=>super.invoke(e,this._patchConfigForRetry(i,n,r)),{onFailedAttempt:i=>this.onFailedAttempt(i,e),retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}async invoke(e,n){return this._callWithConfig(this._invoke.bind(this),e,n)}async _batch(e,n,r,i){const o={};try{await If(async u=>{const c=e.map((y,_)=>_).filter(y=>o[y.toString()]===void 0||o[y.toString()]instanceof Error),d=c.map(y=>e[y]),h=c.map(y=>this._patchConfigForRetry(u,n==null?void 0:n[y],r==null?void 0:r[y])),m=await super.batch(d,h,{...i,returnExceptions:!0});let b;for(let y=0;y<m.length;y+=1){const _=m[y],v=c[y];_ instanceof Error&&b===void 0&&(b=_,b.input=d[y]),o[v.toString()]=_}if(b)throw b;return m},{onFailedAttempt:u=>this.onFailedAttempt(u,u.input),retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}catch(u){if((i==null?void 0:i.returnExceptions)!==!0)throw u}return Object.keys(o).sort((u,c)=>parseInt(u,10)-parseInt(c,10)).map(u=>o[parseInt(u,10)])}async batch(e,n,r){return this._batchWithConfig(this._batch.bind(this),e,n,r)}}class wa extends on{static lc_name(){return"RunnableSequence"}constructor(e){super(e),Object.defineProperty(this,"first",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"middle",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"last",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"omitSequenceTags",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),this.first=e.first,this.middle=e.middle??this.middle,this.last=e.last,this.name=e.name,this.omitSequenceTags=e.omitSequenceTags??this.omitSequenceTags}get steps(){return[this.first,...this.middle,this.last]}async invoke(e,n){var d;const r=rt(n),i=await Nr(r),o=await(i==null?void 0:i.handleChainStart(this.toJSON(),sn(e,"input"),r.runId,void 0,void 0,void 0,r==null?void 0:r.runName));delete r.runId;let u=e,c;try{const h=[this.first,...this.middle];for(let m=0;m<h.length;m+=1){const y=h[m].invoke(u,En(r,{callbacks:o==null?void 0:o.getChild(this.omitSequenceTags?void 0:`seq:step:${m+1}`)}));u=await gi(y,n==null?void 0:n.signal)}if((d=n==null?void 0:n.signal)!=null&&d.aborted)throw new Error("Aborted");c=await this.last.invoke(u,En(r,{callbacks:o==null?void 0:o.getChild(this.omitSequenceTags?void 0:`seq:step:${this.steps.length}`)}))}catch(h){throw await(o==null?void 0:o.handleChainError(h)),h}return await(o==null?void 0:o.handleChainEnd(sn(c,"output"))),c}async batch(e,n,r){var d;const i=this._getOptionsList(n??{},e.length),o=await Promise.all(i.map(Nr)),u=await Promise.all(o.map(async(h,m)=>{const b=await(h==null?void 0:h.handleChainStart(this.toJSON(),sn(e[m],"input"),i[m].runId,void 0,void 0,void 0,i[m].runName));return delete i[m].runId,b}));let c=e;try{for(let h=0;h<this.steps.length;h+=1){const b=this.steps[h].batch(c,u.map((y,_)=>{const v=y==null?void 0:y.getChild(this.omitSequenceTags?void 0:`seq:step:${h+1}`);return En(i[_],{callbacks:v})}),r);c=await gi(b,(d=i[0])==null?void 0:d.signal)}}catch(h){throw await Promise.all(u.map(m=>m==null?void 0:m.handleChainError(h))),h}return await Promise.all(u.map(h=>h==null?void 0:h.handleChainEnd(sn(c,"output")))),c}async*_streamIterator(e,n){var b;const r=await Nr(n),{runId:i,...o}=n??{},u=await(r==null?void 0:r.handleChainStart(this.toJSON(),sn(e,"input"),i,void 0,void 0,void 0,o==null?void 0:o.runName)),c=[this.first,...this.middle,this.last];let d=!0,h;async function*m(){yield e}try{let y=c[0].transform(m(),En(o,{callbacks:u==null?void 0:u.getChild(this.omitSequenceTags?void 0:"seq:step:1")}));for(let _=1;_<c.length;_+=1)y=await c[_].transform(y,En(o,{callbacks:u==null?void 0:u.getChild(this.omitSequenceTags?void 0:`seq:step:${_+1}`)}));for await(const _ of y)if((b=n==null?void 0:n.signal)==null||b.throwIfAborted(),yield _,d)if(h===void 0)h=_;else try{h=kr(h,_)}catch{h=void 0,d=!1}}catch(y){throw await(u==null?void 0:u.handleChainError(y)),y}await(u==null?void 0:u.handleChainEnd(sn(h,"output")))}getGraph(e){const n=new pd;let r=null;return this.steps.forEach((i,o)=>{const u=i.getGraph(e);o!==0&&u.trimFirstNode(),o!==this.steps.length-1&&u.trimLastNode(),n.extend(u);const c=u.firstNode();if(!c)throw new Error(`Runnable ${i} has no first node`);r&&n.addEdge(r,c),r=u.lastNode()}),n}pipe(e){return wa.isRunnableSequence(e)?new wa({first:this.first,middle:this.middle.concat([this.last,e.first,...e.middle]),last:e.last,name:this.name??e.name}):new wa({first:this.first,middle:[...this.middle,this.last],last:qi(e),name:this.name})}static isRunnableSequence(e){return Array.isArray(e.middle)&&on.isRunnable(e)}static from([e,...n],r){let i={};return typeof r=="string"?i.name=r:r!==void 0&&(i=r),new wa({...i,first:qi(e),middle:n.slice(0,-1).map(qi),last:qi(n[n.length-1])})}}class Oo extends on{static lc_name(){return"RunnableMap"}getStepsKeys(){return Object.keys(this.steps)}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"steps",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.steps={};for(const[n,r]of Object.entries(e.steps))this.steps[n]=qi(r)}static from(e){return new Oo({steps:e})}async invoke(e,n){const r=rt(n),i=await Nr(r),o=await(i==null?void 0:i.handleChainStart(this.toJSON(),{input:e},r.runId,void 0,void 0,void 0,r==null?void 0:r.runName));delete r.runId;const u={};try{const c=Object.entries(this.steps).map(async([d,h])=>{u[d]=await h.invoke(e,En(r,{callbacks:o==null?void 0:o.getChild(`map:key:${d}`)}))});await gi(Promise.all(c),n==null?void 0:n.signal)}catch(c){throw await(o==null?void 0:o.handleChainError(c)),c}return await(o==null?void 0:o.handleChainEnd(u)),u}async*_transform(e,n,r){const i={...this.steps},o=$x(e,Object.keys(i).length),u=new Map(Object.entries(i).map(([c,d],h)=>{const m=d.transform(o[h],En(r,{callbacks:n==null?void 0:n.getChild(`map:key:${c}`)}));return[c,m.next().then(b=>({key:c,gen:m,result:b}))]}));for(;u.size;){const c=Promise.race(u.values()),{key:d,result:h,gen:m}=await gi(c,r==null?void 0:r.signal);u.delete(d),h.done||(yield{[d]:h.value},u.set(d,m.next().then(b=>({key:d,gen:m,result:b}))))}}transform(e,n){return this._transformStreamWithConfig(e,this._transform.bind(this),n)}async stream(e,n){async function*r(){yield e}const i=rt(n),o=new To({generator:this.transform(r(),i),config:i});return await o.setup,nr.fromAsyncGenerator(o)}}class By extends on{constructor(e){if(super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"func",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!Ly(e.func))throw new Error("RunnableTraceable requires a function that is wrapped in traceable higher-order function");this.func=e.func}async invoke(e,n){const[r]=this._getOptionsList(n??{},1),i=await Nr(r),o=this.func(En(r,{callbacks:i}),e);return gi(o,r==null?void 0:r.signal)}async*_streamIterator(e,n){var o,u;const[r]=this._getOptionsList(n??{},1),i=await this.invoke(e,n);if(Wg(i)){for await(const c of i)(o=r==null?void 0:r.signal)==null||o.throwIfAborted(),yield c;return}if(zI(i)){for(;;){(u=r==null?void 0:r.signal)==null||u.throwIfAborted();const c=i.next();if(c.done)break;yield c.value}return}yield i}static from(e){return new By({func:e})}}function BI(t){if(Ly(t))throw new Error("RunnableLambda requires a function that is not wrapped in traceable higher-order function. This shouldn't happen.")}class Ou extends on{static lc_name(){return"RunnableLambda"}constructor(e){if(Ly(e.func))return By.from(e.func);super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"func",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),BI(e.func),this.func=e.func}static from(e){return new Ou({func:e})}async _invoke(e,n,r){return new Promise((i,o)=>{const u=En(n,{callbacks:r==null?void 0:r.getChild(),recursionLimit:((n==null?void 0:n.recursionLimit)??dg)-1});mi.runWithConfig(po(u),async()=>{var c,d;try{let h=await this.func(e,{...u});if(h&&on.isRunnable(h)){if((n==null?void 0:n.recursionLimit)===0)throw new Error("Recursion limit reached.");h=await h.invoke(e,{...u,recursionLimit:(u.recursionLimit??dg)-1})}else if(Wg(h)){let m;for await(const b of Qg(u,h))if((c=n==null?void 0:n.signal)==null||c.throwIfAborted(),m===void 0)m=b;else try{m=kr(m,b)}catch{m=b}h=m}else if(I1(h)){let m;for(const b of $1(u,h))if((d=n==null?void 0:n.signal)==null||d.throwIfAborted(),m===void 0)m=b;else try{m=kr(m,b)}catch{m=b}h=m}i(h)}catch(h){o(h)}})})}async invoke(e,n){return this._callWithConfig(this._invoke.bind(this),e,n)}async*_transform(e,n,r){var c,d;let i;for await(const h of e)if(i===void 0)i=h;else try{i=kr(i,h)}catch{i=h}const o=En(r,{callbacks:n==null?void 0:n.getChild(),recursionLimit:((r==null?void 0:r.recursionLimit)??dg)-1}),u=await new Promise((h,m)=>{mi.runWithConfig(po(o),async()=>{try{const b=await this.func(i,{...o,config:o});h(b)}catch(b){m(b)}})});if(u&&on.isRunnable(u)){if((r==null?void 0:r.recursionLimit)===0)throw new Error("Recursion limit reached.");const h=await u.stream(i,o);for await(const m of h)yield m}else if(Wg(u))for await(const h of Qg(o,u))(c=r==null?void 0:r.signal)==null||c.throwIfAborted(),yield h;else if(I1(u))for(const h of $1(o,u))(d=r==null?void 0:r.signal)==null||d.throwIfAborted(),yield h;else yield u}transform(e,n){return this._transformStreamWithConfig(e,this._transform.bind(this),n)}async stream(e,n){async function*r(){yield e}const i=rt(n),o=new To({generator:this.transform(r(),i),config:i});return await o.setup,nr.fromAsyncGenerator(o)}}class HI extends on{static lc_name(){return"RunnableWithFallbacks"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"runnable",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fallbacks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.runnable=e.runnable,this.fallbacks=e.fallbacks}*runnables(){yield this.runnable;for(const e of this.fallbacks)yield e}async invoke(e,n){const r=rt(n),i=await Nr(r),{runId:o,...u}=r,c=await(i==null?void 0:i.handleChainStart(this.toJSON(),sn(e,"input"),o,void 0,void 0,void 0,u==null?void 0:u.runName)),d=En(u,{callbacks:c==null?void 0:c.getChild()});return await mi.runWithConfig(d,async()=>{var b;let m;for(const y of this.runnables()){(b=r==null?void 0:r.signal)==null||b.throwIfAborted();try{const _=await y.invoke(e,d);return await(c==null?void 0:c.handleChainEnd(sn(_,"output"))),_}catch(_){m===void 0&&(m=_)}}throw m===void 0?new Error("No error stored at end of fallback."):(await(c==null?void 0:c.handleChainError(m)),m)})}async*_streamIterator(e,n){var b;const r=rt(n),i=await Nr(r),{runId:o,...u}=r,c=await(i==null?void 0:i.handleChainStart(this.toJSON(),sn(e,"input"),o,void 0,void 0,void 0,u==null?void 0:u.runName));let d,h;for(const y of this.runnables()){(b=r==null?void 0:r.signal)==null||b.throwIfAborted();const _=En(u,{callbacks:c==null?void 0:c.getChild()});try{const v=await y.stream(e,_);h=Qg(_,v);break}catch(v){d===void 0&&(d=v)}}if(h===void 0){const y=d??new Error("No error stored at end of fallback.");throw await(c==null?void 0:c.handleChainError(y)),y}let m;try{for await(const y of h){yield y;try{m=m===void 0?m:kr(m,y)}catch{m=void 0}}}catch(y){throw await(c==null?void 0:c.handleChainError(y)),y}await(c==null?void 0:c.handleChainEnd(sn(m,"output")))}async batch(e,n,r){var d;if(r!=null&&r.returnExceptions)throw new Error("Not implemented.");const i=this._getOptionsList(n??{},e.length),o=await Promise.all(i.map(h=>Nr(h))),u=await Promise.all(o.map(async(h,m)=>{const b=await(h==null?void 0:h.handleChainStart(this.toJSON(),sn(e[m],"input"),i[m].runId,void 0,void 0,void 0,i[m].runName));return delete i[m].runId,b}));let c;for(const h of this.runnables()){(d=i[0].signal)==null||d.throwIfAborted();try{const m=await h.batch(e,u.map((b,y)=>En(i[y],{callbacks:b==null?void 0:b.getChild()})),r);return await Promise.all(u.map((b,y)=>b==null?void 0:b.handleChainEnd(sn(m[y],"output")))),m}catch(m){c===void 0&&(c=m)}}throw c?(await Promise.all(u.map(h=>h==null?void 0:h.handleChainError(c))),c):new Error("No error stored at end of fallbacks.")}}function qi(t){if(typeof t=="function")return new Ou({func:t});if(on.isRunnable(t))return t;if(!Array.isArray(t)&&typeof t=="object"){const e={};for(const[n,r]of Object.entries(t))e[n]=qi(r);return new Oo({steps:e})}else throw new Error(`Expected a Runnable, function or object.
Instead got an unsupported type.`)}class Gx extends on{static lc_name(){return"RunnableAssign"}constructor(e){e instanceof Oo&&(e={mapper:e}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"mapper",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.mapper=e.mapper}async invoke(e,n){const r=await this.mapper.invoke(e,n);return{...e,...r}}async*_transform(e,n,r){const i=this.mapper.getStepsKeys(),[o,u]=$x(e),c=this.mapper.transform(u,En(r,{callbacks:n==null?void 0:n.getChild()})),d=c.next();for await(const h of o){if(typeof h!="object"||Array.isArray(h))throw new Error(`RunnableAssign can only be used with objects as input, got ${typeof h}`);const m=Object.fromEntries(Object.entries(h).filter(([b])=>!i.includes(b)));Object.keys(m).length>0&&(yield m)}yield(await d).value;for await(const h of c)yield h}transform(e,n){return this._transformStreamWithConfig(e,this._transform.bind(this),n)}async stream(e,n){async function*r(){yield e}const i=rt(n),o=new To({generator:this.transform(r(),i),config:i});return await o.setup,nr.fromAsyncGenerator(o)}}class qI extends on{static lc_name(){return"RunnablePick"}constructor(e){(typeof e=="string"||Array.isArray(e))&&(e={keys:e}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"keys",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.keys=e.keys}async _pick(e){if(typeof this.keys=="string")return e[this.keys];{const n=this.keys.map(r=>[r,e[r]]).filter(r=>r[1]!==void 0);return n.length===0?void 0:Object.fromEntries(n)}}async invoke(e,n){return this._callWithConfig(this._pick.bind(this),e,n)}async*_transform(e){for await(const n of e){const r=await this._pick(n);r!==void 0&&(yield r)}}transform(e,n){return this._transformStreamWithConfig(e,this._transform.bind(this),n)}async stream(e,n){async function*r(){yield e}const i=rt(n),o=new To({generator:this.transform(r(),i),config:i});return await o.setup,nr.fromAsyncGenerator(o)}}class j1 extends Zi{constructor(e){const n=wa.from([Ou.from(async r=>{let i;if(fx(r))try{i=await $I(this.schema,r.args)}catch{throw new IA("Received tool input did not match expected schema",JSON.stringify(r.args))}else i=r;return i}).withConfig({runName:`${e.name}:parse_input`}),e.bound]).withConfig({runName:e.name});super({bound:n,config:e.config??{}}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"description",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"schema",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e.name,this.description=e.description,this.schema=e.schema}static lc_name(){return"RunnableToolLike"}}function FI(t,e){const n=e.name??t.getName(),r=e.description??Hx(e.schema);return jI(e.schema)?new j1({name:n,description:r,schema:u2({input:l2()}).transform(i=>i.input),bound:t}):new j1({name:n,description:r,schema:e.schema,bound:t})}/*
 * [js-sha1]{@link https://github.com/emn178/js-sha1}
 *
 * @version 0.6.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */var GI=typeof window=="object"?window:{},Le="0123456789abcdef".split(""),VI=[-2147483648,8388608,32768,128],Ar=[24,16,8,0],an=[];function Ir(t){t?(an[0]=an[16]=an[1]=an[2]=an[3]=an[4]=an[5]=an[6]=an[7]=an[8]=an[9]=an[10]=an[11]=an[12]=an[13]=an[14]=an[15]=0,this.blocks=an):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.h0=1732584193,this.h1=4023233417,this.h2=2562383102,this.h3=271733878,this.h4=3285377520,this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}Ir.prototype.update=function(t){if(!this.finalized){var e=typeof t!="string";e&&t.constructor===GI.ArrayBuffer&&(t=new Uint8Array(t));for(var n,r=0,i,o=t.length||0,u=this.blocks;r<o;){if(this.hashed&&(this.hashed=!1,u[0]=this.block,u[16]=u[1]=u[2]=u[3]=u[4]=u[5]=u[6]=u[7]=u[8]=u[9]=u[10]=u[11]=u[12]=u[13]=u[14]=u[15]=0),e)for(i=this.start;r<o&&i<64;++r)u[i>>2]|=t[r]<<Ar[i++&3];else for(i=this.start;r<o&&i<64;++r)n=t.charCodeAt(r),n<128?u[i>>2]|=n<<Ar[i++&3]:n<2048?(u[i>>2]|=(192|n>>6)<<Ar[i++&3],u[i>>2]|=(128|n&63)<<Ar[i++&3]):n<55296||n>=57344?(u[i>>2]|=(224|n>>12)<<Ar[i++&3],u[i>>2]|=(128|n>>6&63)<<Ar[i++&3],u[i>>2]|=(128|n&63)<<Ar[i++&3]):(n=65536+((n&1023)<<10|t.charCodeAt(++r)&1023),u[i>>2]|=(240|n>>18)<<Ar[i++&3],u[i>>2]|=(128|n>>12&63)<<Ar[i++&3],u[i>>2]|=(128|n>>6&63)<<Ar[i++&3],u[i>>2]|=(128|n&63)<<Ar[i++&3]);this.lastByteIndex=i,this.bytes+=i-this.start,i>=64?(this.block=u[16],this.start=i-64,this.hash(),this.hashed=!0):this.start=i}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}};Ir.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[16]=this.block,t[e>>2]|=VI[e&3],this.block=t[16],e>=56&&(this.hashed||this.hash(),t[0]=this.block,t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.hBytes<<3|this.bytes>>>29,t[15]=this.bytes<<3,this.hash()}};Ir.prototype.hash=function(){var t=this.h0,e=this.h1,n=this.h2,r=this.h3,i=this.h4,o,u,c,d=this.blocks;for(u=16;u<80;++u)c=d[u-3]^d[u-8]^d[u-14]^d[u-16],d[u]=c<<1|c>>>31;for(u=0;u<20;u+=5)o=e&n|~e&r,c=t<<5|t>>>27,i=c+o+i+1518500249+d[u]<<0,e=e<<30|e>>>2,o=t&e|~t&n,c=i<<5|i>>>27,r=c+o+r+1518500249+d[u+1]<<0,t=t<<30|t>>>2,o=i&t|~i&e,c=r<<5|r>>>27,n=c+o+n+1518500249+d[u+2]<<0,i=i<<30|i>>>2,o=r&i|~r&t,c=n<<5|n>>>27,e=c+o+e+1518500249+d[u+3]<<0,r=r<<30|r>>>2,o=n&r|~n&i,c=e<<5|e>>>27,t=c+o+t+1518500249+d[u+4]<<0,n=n<<30|n>>>2;for(;u<40;u+=5)o=e^n^r,c=t<<5|t>>>27,i=c+o+i+1859775393+d[u]<<0,e=e<<30|e>>>2,o=t^e^n,c=i<<5|i>>>27,r=c+o+r+1859775393+d[u+1]<<0,t=t<<30|t>>>2,o=i^t^e,c=r<<5|r>>>27,n=c+o+n+1859775393+d[u+2]<<0,i=i<<30|i>>>2,o=r^i^t,c=n<<5|n>>>27,e=c+o+e+1859775393+d[u+3]<<0,r=r<<30|r>>>2,o=n^r^i,c=e<<5|e>>>27,t=c+o+t+1859775393+d[u+4]<<0,n=n<<30|n>>>2;for(;u<60;u+=5)o=e&n|e&r|n&r,c=t<<5|t>>>27,i=c+o+i-1894007588+d[u]<<0,e=e<<30|e>>>2,o=t&e|t&n|e&n,c=i<<5|i>>>27,r=c+o+r-1894007588+d[u+1]<<0,t=t<<30|t>>>2,o=i&t|i&e|t&e,c=r<<5|r>>>27,n=c+o+n-1894007588+d[u+2]<<0,i=i<<30|i>>>2,o=r&i|r&t|i&t,c=n<<5|n>>>27,e=c+o+e-1894007588+d[u+3]<<0,r=r<<30|r>>>2,o=n&r|n&i|r&i,c=e<<5|e>>>27,t=c+o+t-1894007588+d[u+4]<<0,n=n<<30|n>>>2;for(;u<80;u+=5)o=e^n^r,c=t<<5|t>>>27,i=c+o+i-899497514+d[u]<<0,e=e<<30|e>>>2,o=t^e^n,c=i<<5|i>>>27,r=c+o+r-899497514+d[u+1]<<0,t=t<<30|t>>>2,o=i^t^e,c=r<<5|r>>>27,n=c+o+n-899497514+d[u+2]<<0,i=i<<30|i>>>2,o=r^i^t,c=n<<5|n>>>27,e=c+o+e-899497514+d[u+3]<<0,r=r<<30|r>>>2,o=n^r^i,c=e<<5|e>>>27,t=c+o+t-899497514+d[u+4]<<0,n=n<<30|n>>>2;this.h0=this.h0+t<<0,this.h1=this.h1+e<<0,this.h2=this.h2+n<<0,this.h3=this.h3+r<<0,this.h4=this.h4+i<<0};Ir.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,r=this.h3,i=this.h4;return Le[t>>28&15]+Le[t>>24&15]+Le[t>>20&15]+Le[t>>16&15]+Le[t>>12&15]+Le[t>>8&15]+Le[t>>4&15]+Le[t&15]+Le[e>>28&15]+Le[e>>24&15]+Le[e>>20&15]+Le[e>>16&15]+Le[e>>12&15]+Le[e>>8&15]+Le[e>>4&15]+Le[e&15]+Le[n>>28&15]+Le[n>>24&15]+Le[n>>20&15]+Le[n>>16&15]+Le[n>>12&15]+Le[n>>8&15]+Le[n>>4&15]+Le[n&15]+Le[r>>28&15]+Le[r>>24&15]+Le[r>>20&15]+Le[r>>16&15]+Le[r>>12&15]+Le[r>>8&15]+Le[r>>4&15]+Le[r&15]+Le[i>>28&15]+Le[i>>24&15]+Le[i>>20&15]+Le[i>>16&15]+Le[i>>12&15]+Le[i>>8&15]+Le[i>>4&15]+Le[i&15]};Ir.prototype.toString=Ir.prototype.hex;Ir.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,r=this.h3,i=this.h4;return[t>>24&255,t>>16&255,t>>8&255,t&255,e>>24&255,e>>16&255,e>>8&255,e&255,n>>24&255,n>>16&255,n>>8&255,n&255,r>>24&255,r>>16&255,r>>8&255,r&255,i>>24&255,i>>16&255,i>>8&255,i&255]};Ir.prototype.array=Ir.prototype.digest;Ir.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(20),e=new DataView(t);return e.setUint32(0,this.h0),e.setUint32(4,this.h1),e.setUint32(8,this.h2),e.setUint32(12,this.h3),e.setUint32(16,this.h4),t};let P1=!1;const ZI=t=>(P1||(console.warn(["The default method for hashing keys is insecure and will be replaced in a future version,","but hasn't been replaced yet as to not break existing caches. It's recommended that you use","a more secure hashing algorithm to avoid cache poisoning.","","See this page for more information:","|","> https://js.langchain.com/docs/troubleshooting/warnings/insecure-cache-algorithm"].join(`
`)),P1=!0),new Ir(!0).update(t).hex()),YI=(...t)=>ZI(t.join("_"));class KI{constructor(){Object.defineProperty(this,"keyEncoder",{enumerable:!0,configurable:!0,writable:!0,value:YI})}makeDefaultKeyEncoder(e){this.keyEncoder=e}}const XI=new Map;class Hy extends KI{constructor(e){super(),Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cache=e??new Map}lookup(e,n){return Promise.resolve(this.cache.get(this.keyEncoder(e,n))??null)}async update(e,n,r){this.cache.set(this.keyEncoder(e,n),r)}static global(){return new Hy(XI)}}class Vx extends Xi{}class WI extends Vx{static lc_name(){return"StringPromptValue"}constructor(e){super({value:e}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompt_values"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.value=e}toString(){return this.value}toChatMessages(){return[new rd(this.value)]}}class QI extends Vx{static lc_name(){return"ChatPromptValue"}constructor(e){Array.isArray(e)&&(e={messages:e}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompt_values"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"messages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.messages=e.messages}toString(){return dx(this.messages)}toChatMessages(){return this.messages}}var kl={},M1;function JI(){if(M1)return kl;M1=1,kl.byteLength=c,kl.toByteArray=h,kl.fromByteArray=y;for(var t=[],e=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,o=r.length;i<o;++i)t[i]=r[i],e[r.charCodeAt(i)]=i;e[45]=62,e[95]=63;function u(_){var v=_.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var w=_.indexOf("=");w===-1&&(w=v);var S=w===v?0:4-w%4;return[w,S]}function c(_){var v=u(_),w=v[0],S=v[1];return(w+S)*3/4-S}function d(_,v,w){return(v+w)*3/4-w}function h(_){var v,w=u(_),S=w[0],T=w[1],N=new n(d(_,S,T)),x=0,R=T>0?S-4:S,O;for(O=0;O<R;O+=4)v=e[_.charCodeAt(O)]<<18|e[_.charCodeAt(O+1)]<<12|e[_.charCodeAt(O+2)]<<6|e[_.charCodeAt(O+3)],N[x++]=v>>16&255,N[x++]=v>>8&255,N[x++]=v&255;return T===2&&(v=e[_.charCodeAt(O)]<<2|e[_.charCodeAt(O+1)]>>4,N[x++]=v&255),T===1&&(v=e[_.charCodeAt(O)]<<10|e[_.charCodeAt(O+1)]<<4|e[_.charCodeAt(O+2)]>>2,N[x++]=v>>8&255,N[x++]=v&255),N}function m(_){return t[_>>18&63]+t[_>>12&63]+t[_>>6&63]+t[_&63]}function b(_,v,w){for(var S,T=[],N=v;N<w;N+=3)S=(_[N]<<16&16711680)+(_[N+1]<<8&65280)+(_[N+2]&255),T.push(m(S));return T.join("")}function y(_){for(var v,w=_.length,S=w%3,T=[],N=16383,x=0,R=w-S;x<R;x+=N)T.push(b(_,x,x+N>R?R:x+N));return S===1?(v=_[w-1],T.push(t[v>>2]+t[v<<4&63]+"==")):S===2&&(v=(_[w-2]<<8)+_[w-1],T.push(t[v>>10]+t[v>>4&63]+t[v<<2&63]+"=")),T.join("")}return kl}var e$=JI();const t$=vi(e$);var n$=Object.defineProperty,r$=(t,e,n)=>e in t?n$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,a$=(t,e,n)=>(r$(t,e+"",n),n);function i$(t,e){let n=Array.from({length:t.length},(r,i)=>({start:i,end:i+1}));for(;n.length>1;){let r=null;for(let i=0;i<n.length-1;i++){const o=t.slice(n[i].start,n[i+1].end),u=e.get(o.join(","));u!=null&&(r==null||u<r[0])&&(r=[u,i])}if(r!=null){const i=r[1];n[i]={start:n[i].start,end:n[i+1].end},n.splice(i+1,1)}else break}return n}function s$(t,e){return t.length===1?[e.get(t.join(","))]:i$(t,e).map(n=>e.get(t.slice(n.start,n.end).join(","))).filter(n=>n!=null)}function o$(t){return t.replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")}var Jg=class{constructor(t,e){pr(this,"specialTokens");pr(this,"inverseSpecialTokens");pr(this,"patStr");pr(this,"textEncoder",new TextEncoder);pr(this,"textDecoder",new TextDecoder("utf-8"));pr(this,"rankMap",new Map);pr(this,"textMap",new Map);this.patStr=t.pat_str;const n=t.bpe_ranks.split(`
`).filter(Boolean).reduce((r,i)=>{const[o,u,...c]=i.split(" "),d=Number.parseInt(u,10);return c.forEach((h,m)=>r[h]=d+m),r},{});for(const[r,i]of Object.entries(n)){const o=t$.toByteArray(r);this.rankMap.set(o.join(","),i),this.textMap.set(i,o)}this.specialTokens={...t.special_tokens,...e},this.inverseSpecialTokens=Object.entries(this.specialTokens).reduce((r,[i,o])=>(r[o]=this.textEncoder.encode(i),r),{})}encode(t,e=[],n="all"){const r=new RegExp(this.patStr,"ug"),i=Jg.specialTokenRegex(Object.keys(this.specialTokens)),o=[],u=new Set(e==="all"?Object.keys(this.specialTokens):e),c=new Set(n==="all"?Object.keys(this.specialTokens).filter(h=>!u.has(h)):n);if(c.size>0){const h=Jg.specialTokenRegex([...c]),m=t.match(h);if(m!=null)throw new Error(`The text contains a special token that is not allowed: ${m[0]}`)}let d=0;for(;;){let h=null,m=d;for(;i.lastIndex=m,h=i.exec(t),!(h==null||u.has(h[0]));)m=h.index+1;const b=(h==null?void 0:h.index)??t.length;for(const _ of t.substring(d,b).matchAll(r)){const v=this.textEncoder.encode(_[0]),w=this.rankMap.get(v.join(","));if(w!=null){o.push(w);continue}o.push(...s$(v,this.rankMap))}if(h==null)break;let y=this.specialTokens[h[0]];o.push(y),d=h.index+h[0].length}return o}decode(t){const e=[];let n=0;for(let o=0;o<t.length;++o){const u=t[o],c=this.textMap.get(u)??this.inverseSpecialTokens[u];c!=null&&(e.push(c),n+=c.length)}const r=new Uint8Array(n);let i=0;for(const o of e)r.set(o,i),i+=o.length;return this.textDecoder.decode(r)}},Zx=Jg;a$(Zx,"specialTokenRegex",t=>new RegExp(t.map(e=>o$(e)).join("|"),"g"));function l$(t){switch(t){case"gpt2":return"gpt2";case"code-cushman-001":case"code-cushman-002":case"code-davinci-001":case"code-davinci-002":case"cushman-codex":case"davinci-codex":case"davinci-002":case"text-davinci-002":case"text-davinci-003":return"p50k_base";case"code-davinci-edit-001":case"text-davinci-edit-001":return"p50k_edit";case"ada":case"babbage":case"babbage-002":case"code-search-ada-code-001":case"code-search-babbage-code-001":case"curie":case"davinci":case"text-ada-001":case"text-babbage-001":case"text-curie-001":case"text-davinci-001":case"text-search-ada-doc-001":case"text-search-babbage-doc-001":case"text-search-curie-doc-001":case"text-search-davinci-doc-001":case"text-similarity-ada-001":case"text-similarity-babbage-001":case"text-similarity-curie-001":case"text-similarity-davinci-001":return"r50k_base";case"gpt-3.5-turbo-instruct-0914":case"gpt-3.5-turbo-instruct":case"gpt-3.5-turbo-16k-0613":case"gpt-3.5-turbo-16k":case"gpt-3.5-turbo-0613":case"gpt-3.5-turbo-0301":case"gpt-3.5-turbo":case"gpt-4-32k-0613":case"gpt-4-32k-0314":case"gpt-4-32k":case"gpt-4-0613":case"gpt-4-0314":case"gpt-4":case"gpt-3.5-turbo-1106":case"gpt-35-turbo":case"gpt-4-1106-preview":case"gpt-4-vision-preview":case"gpt-3.5-turbo-0125":case"gpt-4-turbo":case"gpt-4-turbo-2024-04-09":case"gpt-4-turbo-preview":case"gpt-4-0125-preview":case"text-embedding-ada-002":case"text-embedding-3-small":case"text-embedding-3-large":return"cl100k_base";case"gpt-4o":case"gpt-4o-2024-05-13":case"gpt-4o-2024-08-06":case"gpt-4o-2024-11-20":case"gpt-4o-mini-2024-07-18":case"gpt-4o-mini":case"gpt-4o-search-preview":case"gpt-4o-search-preview-2025-03-11":case"gpt-4o-mini-search-preview":case"gpt-4o-mini-search-preview-2025-03-11":case"gpt-4o-audio-preview":case"gpt-4o-audio-preview-2024-12-17":case"gpt-4o-audio-preview-2024-10-01":case"gpt-4o-mini-audio-preview":case"gpt-4o-mini-audio-preview-2024-12-17":case"o1":case"o1-2024-12-17":case"o1-mini":case"o1-mini-2024-09-12":case"o1-preview":case"o1-preview-2024-09-12":case"o1-pro":case"o1-pro-2025-03-19":case"o3":case"o3-2025-04-16":case"o3-mini":case"o3-mini-2025-01-31":case"o4-mini":case"o4-mini-2025-04-16":case"chatgpt-4o-latest":case"gpt-4o-realtime":case"gpt-4o-realtime-preview-2024-10-01":case"gpt-4o-realtime-preview-2024-12-17":case"gpt-4o-mini-realtime-preview":case"gpt-4o-mini-realtime-preview-2024-12-17":case"gpt-4.1":case"gpt-4.1-2025-04-14":case"gpt-4.1-mini":case"gpt-4.1-mini-2025-04-14":case"gpt-4.1-nano":case"gpt-4.1-nano-2025-04-14":case"gpt-4.5-preview":case"gpt-4.5-preview-2025-02-27":return"o200k_base";default:throw new Error("Unknown model")}}const sf={},u$=new Dy({});async function c$(t){return t in sf||(sf[t]=u$.fetch(`https://tiktoken.pages.dev/js/${t}.json`).then(e=>e.json()).then(e=>new Zx(e)).catch(e=>{throw delete sf[t],e})),await sf[t]}async function f$(t){return c$(l$(t))}const d$=t=>t.startsWith("gpt-3.5-turbo-16k")?"gpt-3.5-turbo-16k":t.startsWith("gpt-3.5-turbo-")?"gpt-3.5-turbo":t.startsWith("gpt-4-32k")?"gpt-4-32k":t.startsWith("gpt-4-")?"gpt-4":t.startsWith("gpt-4o")?"gpt-4o":t;function Yx(t){return typeof t!="object"||!t?!1:!!("type"in t&&t.type==="function"&&"function"in t&&typeof t.function=="object"&&t.function&&"name"in t.function&&"parameters"in t.function)}const h$=()=>!1;class p$ extends on{get lc_attributes(){return{callbacks:void 0,verbose:void 0}}constructor(e){super(e),Object.defineProperty(this,"verbose",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"callbacks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.verbose=e.verbose??h$(),this.callbacks=e.callbacks,this.tags=e.tags??[],this.metadata=e.metadata??{}}}class m$ extends p${get callKeys(){return["stop","timeout","signal","tags","metadata","callbacks"]}constructor({callbacks:e,callbackManager:n,...r}){const{cache:i,...o}=r;super({callbacks:e??n,...o}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_encoding",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),typeof i=="object"?this.cache=i:i?this.cache=Hy.global():this.cache=void 0,this.caller=new Dy(r??{})}async getNumTokens(e){let n;typeof e=="string"?n=e:n=e.map(i=>typeof i=="string"?i:i.type==="text"&&"text"in i?i.text:"").join("");let r=Math.ceil(n.length/4);if(!this._encoding)try{this._encoding=await f$("modelName"in this?d$(this.modelName):"gpt2")}catch(i){console.warn("Failed to calculate number of tokens, falling back to approximate count",i)}if(this._encoding)try{r=this._encoding.encode(n).length}catch(i){console.warn("Failed to calculate number of tokens, falling back to approximate count",i)}return r}static _convertInputToPromptValue(e){return typeof e=="string"?new WI(e):Array.isArray(e)?new QI(e.map(zl)):e}_identifyingParams(){return{}}_getSerializedCacheKeyParametersForCall({config:e,...n}){const r={...this._identifyingParams(),...n,_type:this._llmType(),_model:this._modelType()};return Object.entries(r).filter(([u,c])=>c!==void 0).map(([u,c])=>`${u}:${JSON.stringify(c)}`).sort().join(",")}serialize(){return{...this._identifyingParams(),_type:this._llmType(),_model:this._modelType()}}static async deserialize(e){throw new Error("Use .toJSON() instead")}}class Hf extends on{static lc_name(){return"RunnablePassthrough"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"func",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e&&(this.func=e.func)}async invoke(e,n){const r=rt(n);return this.func&&await this.func(e,r),this._callWithConfig(i=>Promise.resolve(i),e,r)}async*transform(e,n){const r=rt(n);let i,o=!0;for await(const u of this._transformStreamWithConfig(e,c=>c,r))if(yield u,o)if(i===void 0)i=u;else try{i=kr(i,u)}catch{i=void 0,o=!1}this.func&&i!==void 0&&await this.func(i,r)}static assign(e){return new Gx(new Oo({steps:e}))}}function yg(t){const e=[];for(const n of t){let r=n;if(Array.isArray(n.content))for(let i=0;i<n.content.length;i++){const o=n.content[i];(SA(o)||EA(o))&&r===n&&(r=new n.constructor({...r,content:[...n.content.slice(0,i),xA(o),...n.content.slice(i+1)]}))}e.push(r)}return e}class oi extends m${constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","chat_models",this._llmType()]}),Object.defineProperty(this,"disableStreaming",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_separateRunnableConfigFromCallOptionsCompat(e){const[n,r]=super._separateRunnableConfigFromCallOptions(e);return r.signal=n.signal,[n,r]}async invoke(e,n){const r=oi._convertInputToPromptValue(e);return(await this.generatePrompt([r],n,n==null?void 0:n.callbacks)).generations[0][0].message}async*_streamResponseChunks(e,n,r){throw new Error("Not implemented.")}async*_streamIterator(e,n){var r;if(this._streamResponseChunks===oi.prototype._streamResponseChunks||this.disableStreaming)yield this.invoke(e,n);else{const o=oi._convertInputToPromptValue(e).toChatMessages(),[u,c]=this._separateRunnableConfigFromCallOptionsCompat(n),d={...u.metadata,...this.getLsParams(c)},h=await Dn.configure(u.callbacks,this.callbacks,u.tags,this.tags,d,this.metadata,{verbose:this.verbose}),m={options:c,invocation_params:this==null?void 0:this.invocationParams(c),batch_size:1},b=await(h==null?void 0:h.handleChatModelStart(this.toJSON(),[yg(o)],u.runId,void 0,m,void 0,void 0,u.runName));let y,_;try{for await(const v of this._streamResponseChunks(o,c,b==null?void 0:b[0])){if(v.message.id==null){const w=(r=b==null?void 0:b.at(0))==null?void 0:r.runId;w!=null&&v.message._updateId(`run-${w}`)}v.message.response_metadata={...v.generationInfo,...v.message.response_metadata},yield v.message,y?y=y.concat(v):y=v,Uw(v.message)&&v.message.usage_metadata!==void 0&&(_={tokenUsage:{promptTokens:v.message.usage_metadata.input_tokens,completionTokens:v.message.usage_metadata.output_tokens,totalTokens:v.message.usage_metadata.total_tokens}})}}catch(v){throw await Promise.all((b??[]).map(w=>w==null?void 0:w.handleLLMError(v))),v}await Promise.all((b??[]).map(v=>v==null?void 0:v.handleLLMEnd({generations:[[y]],llmOutput:_})))}}getLsParams(e){const n=this.getName().startsWith("Chat")?this.getName().replace("Chat",""):this.getName();return{ls_model_type:"chat",ls_stop:e.stop,ls_provider:n}}async _generateUncached(e,n,r,i){var b,y;const o=e.map(_=>_.map(zl));let u;if(i!==void 0&&i.length===o.length)u=i;else{const _={...r.metadata,...this.getLsParams(n)},v=await Dn.configure(r.callbacks,this.callbacks,r.tags,this.tags,_,this.metadata,{verbose:this.verbose}),w={options:n,invocation_params:this==null?void 0:this.invocationParams(n),batch_size:1};u=await(v==null?void 0:v.handleChatModelStart(this.toJSON(),o.map(yg),r.runId,void 0,w,void 0,void 0,r.runName))}const c=[],d=[];if(!!(u!=null&&u[0].handlers.find(VN))&&!this.disableStreaming&&o.length===1&&this._streamResponseChunks!==oi.prototype._streamResponseChunks)try{const _=await this._streamResponseChunks(o[0],n,u==null?void 0:u[0]);let v,w;for await(const S of _){if(S.message.id==null){const T=(b=u==null?void 0:u.at(0))==null?void 0:b.runId;T!=null&&S.message._updateId(`run-${T}`)}v===void 0?v=S:v=kr(v,S),Uw(S.message)&&S.message.usage_metadata!==void 0&&(w={tokenUsage:{promptTokens:S.message.usage_metadata.input_tokens,completionTokens:S.message.usage_metadata.output_tokens,totalTokens:S.message.usage_metadata.total_tokens}})}if(v===void 0)throw new Error("Received empty response from chat model call.");c.push([v]),await(u==null?void 0:u[0].handleLLMEnd({generations:c,llmOutput:w}))}catch(_){throw await(u==null?void 0:u[0].handleLLMError(_)),_}else{const _=await Promise.allSettled(o.map((v,w)=>this._generate(v,{...n,promptIndex:w},u==null?void 0:u[w])));await Promise.all(_.map(async(v,w)=>{var S,T,N;if(v.status==="fulfilled"){const x=v.value;for(const R of x.generations){if(R.message.id==null){const O=(S=u==null?void 0:u.at(0))==null?void 0:S.runId;O!=null&&R.message._updateId(`run-${O}`)}R.message.response_metadata={...R.generationInfo,...R.message.response_metadata}}return x.generations.length===1&&(x.generations[0].message.response_metadata={...x.llmOutput,...x.generations[0].message.response_metadata}),c[w]=x.generations,d[w]=x.llmOutput,(T=u==null?void 0:u[w])==null?void 0:T.handleLLMEnd({generations:[x.generations],llmOutput:x.llmOutput})}else return await((N=u==null?void 0:u[w])==null?void 0:N.handleLLMError(v.reason)),Promise.reject(v.reason)}))}const m={generations:c,llmOutput:d.length?(y=this._combineLLMOutput)==null?void 0:y.call(this,...d):void 0};return Object.defineProperty(m,T1,{value:u?{runIds:u==null?void 0:u.map(_=>_.runId)}:void 0,configurable:!0}),m}async _generateCached({messages:e,cache:n,llmStringKey:r,parsedOptions:i,handledOptions:o}){const u=e.map(S=>S.map(zl)),c={...o.metadata,...this.getLsParams(i)},d=await Dn.configure(o.callbacks,this.callbacks,o.tags,this.tags,c,this.metadata,{verbose:this.verbose}),h={options:i,invocation_params:this==null?void 0:this.invocationParams(i),batch_size:1},m=await(d==null?void 0:d.handleChatModelStart(this.toJSON(),u.map(yg),o.runId,void 0,h,void 0,void 0,o.runName)),b=[],_=(await Promise.allSettled(u.map(async(S,T)=>{const N=oi._convertInputToPromptValue(S).toString(),x=await n.lookup(N,r);return x==null&&b.push(T),x}))).map((S,T)=>({result:S,runManager:m==null?void 0:m[T]})).filter(({result:S})=>S.status==="fulfilled"&&S.value!=null||S.status==="rejected"),v=[];await Promise.all(_.map(async({result:S,runManager:T},N)=>{if(S.status==="fulfilled"){const x=S.value;return v[N]=x.map(R=>("message"in R&&wu(R.message)&&Ty(R.message)&&(R.message.usage_metadata={input_tokens:0,output_tokens:0,total_tokens:0}),R.generationInfo={...R.generationInfo,tokenUsage:{}},R)),x.length&&await(T==null?void 0:T.handleLLMNewToken(x[0].text)),T==null?void 0:T.handleLLMEnd({generations:[x]},void 0,void 0,void 0,{cached:!0})}else return await(T==null?void 0:T.handleLLMError(S.reason,void 0,void 0,void 0,{cached:!0})),Promise.reject(S.reason)}));const w={generations:v,missingPromptIndices:b,startedRunManagers:m};return Object.defineProperty(w,T1,{value:m?{runIds:m==null?void 0:m.map(S=>S.runId)}:void 0,configurable:!0}),w}async generate(e,n,r){let i;Array.isArray(n)?i={stop:n}:i=n;const o=e.map(v=>v.map(zl)),[u,c]=this._separateRunnableConfigFromCallOptionsCompat(i);if(u.callbacks=u.callbacks??r,!this.cache)return this._generateUncached(o,c,u);const{cache:d}=this,h=this._getSerializedCacheKeyParametersForCall(c),{generations:m,missingPromptIndices:b,startedRunManagers:y}=await this._generateCached({messages:o,cache:d,llmStringKey:h,parsedOptions:c,handledOptions:u});let _={};if(b.length>0){const v=await this._generateUncached(b.map(w=>o[w]),c,u,y!==void 0?b.map(w=>y==null?void 0:y[w]):void 0);await Promise.all(v.generations.map(async(w,S)=>{const T=b[S];m[T]=w;const N=oi._convertInputToPromptValue(o[T]).toString();return d.update(N,h,w)})),_=v.llmOutput??{}}return{generations:m,llmOutput:_}}invocationParams(e){return{}}_modelType(){return"base_chat_model"}serialize(){return{...this.invocationParams(),_type:this._llmType(),_model:this._modelType()}}async generatePrompt(e,n,r){const i=e.map(o=>o.toChatMessages());return this.generate(i,n,r)}async call(e,n,r){return(await this.generate([e.map(zl)],n,r)).generations[0][0].message}async callPrompt(e,n,r){const i=e.toChatMessages();return this.call(i,n,r)}async predictMessages(e,n,r){return this.call(e,n,r)}async predict(e,n,r){const i=new rd(e),o=await this.call([i],n,r);if(typeof o.content!="string")throw new Error("Cannot use predict when output is not a string.");return o.content}withStructuredOutput(e,n){if(typeof this.bindTools!="function")throw new Error('Chat model must implement ".bindTools()" to use withStructuredOutput.');if(n!=null&&n.strict)throw new Error('"strict" mode is not supported for this model by default.');const r=e,i=n==null?void 0:n.name,o=Hx(r)??"A function available to call.",u=n==null?void 0:n.method,c=n==null?void 0:n.includeRaw;if(u==="jsonMode")throw new Error('Base withStructuredOutput implementation only supports "functionCalling" as a method.');let d=i??"extract",h;Tu(r)?h=[{type:"function",function:{name:d,description:o,parameters:zy(r)}}]:("name"in r&&(d=r.name),h=[{type:"function",function:{name:d,description:o,parameters:r}}]);const m=this.bindTools(h),b=Ou.from(w=>{if(!w.tool_calls||w.tool_calls.length===0)throw new Error("No tool calls found in the response.");const S=w.tool_calls.find(T=>T.name===d);if(!S)throw new Error(`No tool call found with name ${d}.`);return S.args});if(!c)return m.pipe(b).withConfig({runName:"StructuredOutput"});const y=Hf.assign({parsed:(w,S)=>b.invoke(w.raw,S)}),_=Hf.assign({parsed:()=>null}),v=y.withFallbacks({fallbacks:[_]});return wa.from([{raw:m},v]).withConfig({runName:"StructuredOutputRunnable"})}}class Kx extends on{parseResultWithPrompt(e,n,r){return this.parseResult(e,r)}_baseMessageToString(e){return typeof e.content=="string"?e.content:this._baseMessageContentToString(e.content)}_baseMessageContentToString(e){return JSON.stringify(e)}async invoke(e,n){return typeof e=="string"?this._callWithConfig(async(r,i)=>this.parseResult([{text:r}],i==null?void 0:i.callbacks),e,{...n,runType:"parser"}):this._callWithConfig(async(r,i)=>this.parseResult([{message:r,text:this._baseMessageToString(r)}],i==null?void 0:i.callbacks),e,{...n,runType:"parser"})}}class g$ extends Kx{parseResult(e,n){return this.parse(e[0].text,n)}async parseWithPrompt(e,n,r){return this.parse(e,r)}_type(){throw new Error("_type not implemented")}}class y$ extends Error{constructor(e,n,r,i=!1){if(super(e),Object.defineProperty(this,"llmOutput",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"observation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sendToLLM",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.llmOutput=n,this.observation=r,this.sendToLLM=i,i&&(r===void 0||n===void 0))throw new Error("Arguments 'observation' & 'llmOutput' are required if 'sendToLlm' is true");cx(this,"OUTPUT_PARSING_FAILURE")}}class b$ extends g${async*_transform(e){for await(const n of e)typeof n=="string"?yield this.parseResult([{text:n}]):yield this.parseResult([{message:n,text:this._baseMessageToString(n)}])}async*transform(e,n){yield*this._transformStreamWithConfig(e,this._transform.bind(this),{...n,runType:"parser"})}}class v$ extends b${constructor(e){super(e),Object.defineProperty(this,"diff",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this.diff=(e==null?void 0:e.diff)??this.diff}async*_transform(e){let n,r;for await(const i of e){if(typeof i!="string"&&typeof i.content!="string")throw new Error("Cannot handle non-string output.");let o;if(CA(i)){if(typeof i.content!="string")throw new Error("Cannot handle non-string message output.");o=new fu({message:i,text:i.content})}else if(wu(i)){if(typeof i.content!="string")throw new Error("Cannot handle non-string message output.");o=new fu({message:PA(i),text:i.content})}else o=new mo({text:i});r===void 0?r=o:r=r.concat(o);const u=await this.parsePartialResult([r]);u!=null&&!Kg(u,n)&&(this.diff?yield this._diff(n,u):yield u,n=u)}}getFormatInstructions(){return""}}class _$ extends v${constructor(){super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","output_parsers"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0})}static lc_name(){return"JsonOutputParser"}_diff(e,n){if(n)return e?FN(e,n):[{op:"replace",path:"",value:n}]}async parsePartialResult(e){return Pw(e[0].text)}async parse(e){return Pw(e,JSON.parse)}getFormatInstructions(){return""}}function Qi(t){if(typeof t=="object"&&t!==null){const e={...t};"additionalProperties"in e&&delete e.additionalProperties,"$schema"in e&&delete e.$schema,"strict"in e&&delete e.strict;for(const n in e)n in e&&(Array.isArray(e[n])?e[n]=e[n].map(Qi):typeof e[n]=="object"&&e[n]!==null&&(e[n]=Qi(e[n])));return e}return t}function ey(t){const e=Qi(Tu(t)?zy(t):t),{$schema:n,...r}=e;return r}function w$(t){const e=Qi(t),{$schema:n,...r}=e;return r}function S$(t){return t!==void 0&&Array.isArray(t.lc_namespace)}function E$(t){return t!==void 0&&on.isRunnable(t)&&"lc_name"in t.constructor&&typeof t.constructor.lc_name=="function"&&t.constructor.lc_name()==="RunnableToolLike"}function x$(t){return!!t&&typeof t=="object"&&"name"in t&&"schema"in t&&(Tu(t.schema)||t.schema!=null&&typeof t.schema=="object"&&"type"in t.schema&&typeof t.schema.type=="string"&&["null","boolean","object","array","number","string"].includes(t.schema.type))}function Xx(t){return x$(t)||E$(t)||S$(t)}const pn=[];for(let t=0;t<256;++t)pn.push((t+256).toString(16).slice(1));function T$(t,e=0){return(pn[t[e+0]]+pn[t[e+1]]+pn[t[e+2]]+pn[t[e+3]]+"-"+pn[t[e+4]]+pn[t[e+5]]+"-"+pn[t[e+6]]+pn[t[e+7]]+"-"+pn[t[e+8]]+pn[t[e+9]]+"-"+pn[t[e+10]]+pn[t[e+11]]+pn[t[e+12]]+pn[t[e+13]]+pn[t[e+14]]+pn[t[e+15]]).toLowerCase()}let bg;const O$=new Uint8Array(16);function R$(){if(!bg){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");bg=crypto.getRandomValues.bind(crypto)}return bg(O$)}const C$=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),L1={randomUUID:C$};function Wx(t,e,n){var i;if(L1.randomUUID&&!t)return L1.randomUUID();t=t||{};const r=t.random??((i=t.rng)==null?void 0:i.call(t))??R$();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,T$(r)}function A$(t){const e=t._getType();return nd.isInstance(t)?t.role:e==="tool"?e:t.name??e}function N$(t){switch(t){case"supervisor":case"ai":case"model":return"model";case"system":return"system";case"human":return"user";case"tool":case"function":return"function";default:throw new Error(`Unknown / unsupported author: ${t}`)}}function k$(t){if("mimeType"in t&&"data"in t)return{inlineData:{mimeType:t.mimeType,data:t.data}};if("mimeType"in t&&"fileUri"in t)return{fileData:{mimeType:t.mimeType,fileUri:t.fileUri}};throw new Error("Invalid media content")}function I$(t,e){var n;return(n=e.map(r=>Ty(r)?r.tool_calls??[]:[]).flat().find(r=>r.id===t.tool_call_id))==null?void 0:n.name}function $$(t){return{providerName:"Google Gemini",fromStandardTextBlock(n){return{text:n.text}},fromStandardImageBlock(n){if(!t)throw new Error("This model does not support images");if(n.source_type==="url"){const r=am({dataUrl:n.url});return r?{inlineData:{mimeType:r.mime_type,data:r.data}}:{fileData:{mimeType:n.mime_type??"",fileUri:n.url}}}if(n.source_type==="base64")return{inlineData:{mimeType:n.mime_type??"",data:n.data}};throw new Error(`Unsupported source type: ${n.source_type}`)},fromStandardAudioBlock(n){if(!t)throw new Error("This model does not support audio");if(n.source_type==="url"){const r=am({dataUrl:n.url});return r?{inlineData:{mimeType:r.mime_type,data:r.data}}:{fileData:{mimeType:n.mime_type??"",fileUri:n.url}}}if(n.source_type==="base64")return{inlineData:{mimeType:n.mime_type??"",data:n.data}};throw new Error(`Unsupported source type: ${n.source_type}`)},fromStandardFileBlock(n){if(!t)throw new Error("This model does not support files");if(n.source_type==="text")return{text:n.text};if(n.source_type==="url"){const r=am({dataUrl:n.url});return r?{inlineData:{mimeType:r.mime_type,data:r.data}}:{fileData:{mimeType:n.mime_type??"",fileUri:n.url}}}if(n.source_type==="base64")return{inlineData:{mimeType:n.mime_type??"",data:n.data}};throw new Error(`Unsupported source type: ${n.source_type}`)}}}function D1(t,e){var n;if(lo(t))return TA(t,$$(e));if(t.type==="text")return{text:t.text};if(t.type==="executableCode")return{executableCode:t.executableCode};if(t.type==="codeExecutionResult")return{codeExecutionResult:t.codeExecutionResult};if(t.type==="image_url"){if(!e)throw new Error("This model does not support images");let r;if(typeof t.image_url=="string")r=t.image_url;else if(typeof t.image_url=="object"&&"url"in t.image_url)r=t.image_url.url;else throw new Error("Please provide image as base64 encoded data URL");const[i,o]=r.split(",");if(!i.startsWith("data:"))throw new Error("Please provide image as base64 encoded data URL");const[u,c]=i.replace(/^data:/,"").split(";");if(c!=="base64")throw new Error("Please provide image as base64 encoded data URL");return{inlineData:{data:o,mimeType:u}}}else{if(t.type==="media")return k$(t);if(t.type==="tool_use")return{functionCall:{name:t.name,args:t.input}};if((n=t.type)!=null&&n.includes("/")&&t.type.split("/").length===2&&"data"in t&&typeof t.data=="string")return{inlineData:{mimeType:t.type,data:t.data}};if("functionCall"in t)return;throw"type"in t?new Error(`Unknown content type ${t.type}`):new Error(`Unknown content ${JSON.stringify(t)}`)}}function j$(t,e,n){var o;if(kA(t)){const u=t.name??I$(t,n);if(u===void 0)throw new Error(`Google requires a tool name for each tool call response, and we could not infer a called tool name for ToolMessage "${t.id}" from your passed messages. Please populate a "name" field on that ToolMessage explicitly.`);const c=Array.isArray(t.content)?t.content.map(d=>D1(d,e)).filter(d=>d!==void 0):t.content;return t.status==="error"?[{functionResponse:{name:u,response:{error:{details:c}}}}]:[{functionResponse:{name:u,response:{result:c}}}]}let r=[];const i=[];return typeof t.content=="string"&&t.content&&i.push({text:t.content}),Array.isArray(t.content)&&i.push(...t.content.map(u=>D1(u,e)).filter(u=>u!==void 0)),Ty(t)&&((o=t.tool_calls)!=null&&o.length)&&(r=t.tool_calls.map(u=>({functionCall:{name:u.name,args:u.args}}))),[...i,...r]}function U1(t,e,n=!1){return t.reduce((r,i,o)=>{if(!wu(i))throw new Error("Unsupported message input");const u=A$(i);if(u==="system"&&o!==0)throw new Error("System message should be the first one");const c=N$(u),d=r.content[r.content.length];if(!r.mergeWithPreviousContent&&d&&d.role===c)throw new Error("Google Generative AI requires alternate messages between authors");const h=j$(i,e,t.slice(0,o));if(r.mergeWithPreviousContent){const y=r.content[r.content.length-1];if(!y)throw new Error("There was a problem parsing your system message. Please try a prompt without one.");return y.parts.push(...h),{mergeWithPreviousContent:!1,content:r.content}}let m=c;(m==="function"||m==="system"&&!n)&&(m="user");const b={role:m,parts:h};return{mergeWithPreviousContent:u==="system"&&!n,content:[...r.content,b]}},{content:[],mergeWithPreviousContent:!1}).content}function P$(t,e){var h,m,b;if(!t.candidates||t.candidates.length===0||!t.candidates[0])return{generations:[],llmOutput:{filters:t.promptFeedback}};const n=t.functionCalls(),[r]=t.candidates,{content:i,...o}=r;let u;Array.isArray(i==null?void 0:i.parts)&&i.parts.length===1&&i.parts[0].text?u=i.parts[0].text:Array.isArray(i==null?void 0:i.parts)&&i.parts.length>0?u=i.parts.map(y=>"text"in y?{type:"text",text:y.text}:"executableCode"in y?{type:"executableCode",executableCode:y.executableCode}:"codeExecutionResult"in y?{type:"codeExecutionResult",codeExecutionResult:y.codeExecutionResult}:y):u=[];let c="";if(typeof u=="string")c=u;else if(Array.isArray(u)&&u.length>0){const y=u.find(_=>"text"in _);c=(y==null?void 0:y.text)??c}return{generations:[{text:c,message:new jg({content:u??"",tool_calls:n==null?void 0:n.map(y=>({...y,type:"tool_call",id:"id"in y&&typeof y.id=="string"?y.id:Wx()})),additional_kwargs:{...o},usage_metadata:e==null?void 0:e.usageMetadata}),generationInfo:o}],llmOutput:{tokenUsage:{promptTokens:(h=e==null?void 0:e.usageMetadata)==null?void 0:h.input_tokens,completionTokens:(m=e==null?void 0:e.usageMetadata)==null?void 0:m.output_tokens,totalTokens:(b=e==null?void 0:e.usageMetadata)==null?void 0:b.total_tokens}}}}function M$(t,e){if(!t.candidates||t.candidates.length===0)return null;const n=t.functionCalls(),[r]=t.candidates,{content:i,...o}=r;let u;Array.isArray(i==null?void 0:i.parts)&&i.parts.every(h=>"text"in h)?u=i.parts.map(h=>h.text).join(""):Array.isArray(i==null?void 0:i.parts)?u=i.parts.map(h=>"text"in h?{type:"text",text:h.text}:"executableCode"in h?{type:"executableCode",executableCode:h.executableCode}:"codeExecutionResult"in h?{type:"codeExecutionResult",codeExecutionResult:h.codeExecutionResult}:h):u=[];let c="";if(u&&typeof u=="string")c=u;else if(Array.isArray(u)){const h=u.find(m=>"text"in m);c=(h==null?void 0:h.text)??""}const d=[];return n&&d.push(...n.map(h=>({...h,args:JSON.stringify(h.args),index:e.index,type:"tool_call_chunk",id:"id"in h&&typeof h.id=="string"?h.id:Wx()}))),new fu({text:c,message:new Eo({content:u||"",name:i?i.role:void 0,tool_call_chunks:d,additional_kwargs:{},usage_metadata:e.usageMetadata}),generationInfo:o})}function L$(t){return t.every(e=>"functionDeclarations"in e&&Array.isArray(e.functionDeclarations))?t:[{functionDeclarations:t.map(e=>{if(Xx(e)){const n=ey(e.schema);return n.type==="object"&&"properties"in n&&Object.keys(n.properties).length===0?{name:e.name,description:e.description}:{name:e.name,description:e.description,parameters:n}}return Yx(e)?{name:e.function.name,description:e.function.description??"A function available to call.",parameters:w$(e.function.parameters)}:e})}]}class z1 extends Kx{static lc_name(){return"GoogleGenerativeAIToolsOutputParser"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","google_genai","output_parsers"]}),Object.defineProperty(this,"returnId",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"keyName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"returnSingle",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"zodSchema",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.keyName=e.keyName,this.returnSingle=e.returnSingle??this.returnSingle,this.zodSchema=e.zodSchema}async _validateResult(e){if(this.zodSchema===void 0)return e;const n=await II(this.zodSchema,e);if(n.success)return n.data;throw new y$(`Failed to parse. Text: "${JSON.stringify(e,null,2)}". Error: ${JSON.stringify(n.error.issues)}`,JSON.stringify(e,null,2))}async parseResult(e){const n=e.flatMap(o=>{const{message:u}=o;return!("tool_calls"in u)||!Array.isArray(u.tool_calls)?[]:u.tool_calls});if(n[0]===void 0)throw new Error("No parseable tool calls provided to GoogleGenerativeAIToolsOutputParser.");const[r]=n;return await this._validateResult(r.args)}}function B1(t,e){const n=D$(t),r=z$(n,e);return{tools:n,toolConfig:r}}function D$(t){let e=[];const n=[];return t.forEach(i=>{if(Xx(i)){const[o]=L$([i]);o.functionDeclarations&&e.push(...o.functionDeclarations)}else if(Yx(i)){const{functionDeclarations:o}=U$(i);if(o)e.push(...o);else throw new Error("Failed to convert OpenAI structured tool to GenerativeAI tool")}else n.push(i)}),n.find(i=>"functionDeclarations"in i)?n.map(i=>{if((e==null?void 0:e.length)>0&&"functionDeclarations"in i){const o={functionDeclarations:[...i.functionDeclarations||[],...e]};return e=[],o}return i}):[...n,...e.length>0?[{functionDeclarations:e}]:[]]}function U$(t){return{functionDeclarations:[{name:t.function.name,description:t.function.description,parameters:Qi(t.function.parameters)}]}}function z$(t,e){if(!t.length||!e)return;const{toolChoice:n,allowedFunctionNames:r}=e,i={any:Js.ANY,auto:Js.AUTO,none:Js.NONE};if(n&&["any","auto","none"].includes(n))return{functionCallingConfig:{mode:i[n]??"MODE_UNSPECIFIED",allowedFunctionNames:r}};if(typeof n=="string"||r)return{functionCallingConfig:{mode:Js.ANY,allowedFunctionNames:[...r??[],...n&&typeof n=="string"?[n]:[]]}}}class B$ extends oi{static lc_name(){return"ChatGoogleGenerativeAI"}get lc_secrets(){return{apiKey:"GOOGLE_API_KEY"}}get lc_aliases(){return{apiKey:"google_api_key"}}get _isMultimodalModel(){return this.model.includes("vision")||this.model.startsWith("gemini-1.5")||this.model.startsWith("gemini-2")}constructor(e){if(super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","chat_models","google_genai"]}),Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"temperature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxOutputTokens",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"topP",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"topK",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stopSequences",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"safetySettings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streaming",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"json",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streamUsage",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"convertSystemMessageToHumanContent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.model=e.model.replace(/^models\//,""),this.maxOutputTokens=e.maxOutputTokens??this.maxOutputTokens,this.maxOutputTokens&&this.maxOutputTokens<0)throw new Error("`maxOutputTokens` must be a positive integer");if(this.temperature=e.temperature??this.temperature,this.temperature&&(this.temperature<0||this.temperature>2))throw new Error("`temperature` must be in the range of [0.0,2.0]");if(this.topP=e.topP??this.topP,this.topP&&this.topP<0)throw new Error("`topP` must be a positive integer");if(this.topP&&this.topP>1)throw new Error("`topP` must be below 1.");if(this.topK=e.topK??this.topK,this.topK&&this.topK<0)throw new Error("`topK` must be a positive integer");if(this.stopSequences=e.stopSequences??this.stopSequences,this.apiKey=e.apiKey??Vi("GOOGLE_API_KEY"),!this.apiKey)throw new Error("Please set an API key for Google GenerativeAI in the environment variable GOOGLE_API_KEY or in the `apiKey` field of the ChatGoogleGenerativeAI constructor");if(this.safetySettings=e.safetySettings??this.safetySettings,this.safetySettings&&this.safetySettings.length>0&&new Set(this.safetySettings.map(r=>r.category)).size!==this.safetySettings.length)throw new Error("The categories in `safetySettings` array must be unique");this.streaming=e.streaming??this.streaming,this.json=e.json,this.client=new jw(this.apiKey).getGenerativeModel({model:this.model,safetySettings:this.safetySettings,generationConfig:{stopSequences:this.stopSequences,maxOutputTokens:this.maxOutputTokens,temperature:this.temperature,topP:this.topP,topK:this.topK,...this.json?{responseMimeType:"application/json"}:{}}},{apiVersion:e.apiVersion,baseUrl:e.baseUrl}),this.streamUsage=e.streamUsage??this.streamUsage}useCachedContent(e,n,r){this.apiKey&&(this.client=new jw(this.apiKey).getGenerativeModelFromCachedContent(e,n,r))}get useSystemInstruction(){return typeof this.convertSystemMessageToHumanContent=="boolean"?!this.convertSystemMessageToHumanContent:this.computeUseSystemInstruction}get computeUseSystemInstruction(){return this.model==="gemini-1.0-pro-001"||this.model.startsWith("gemini-pro-vision")||this.model.startsWith("gemini-1.0-pro-vision")?!1:this.model!=="gemini-pro"}getLsParams(e){return{ls_provider:"google_genai",ls_model_name:this.model,ls_model_type:"chat",ls_temperature:this.client.generationConfig.temperature,ls_max_tokens:this.client.generationConfig.maxOutputTokens,ls_stop:e.stop}}_combineLLMOutput(){return[]}_llmType(){return"googlegenerativeai"}bindTools(e,n){var r;return this.withConfig({tools:(r=B1(e))==null?void 0:r.tools,...n})}invocationParams(e){var r;const n=(r=e==null?void 0:e.tools)!=null&&r.length?B1(e.tools,{toolChoice:e.tool_choice,allowedFunctionNames:e.allowedFunctionNames}):void 0;return e!=null&&e.responseSchema?(this.client.generationConfig.responseSchema=e.responseSchema,this.client.generationConfig.responseMimeType="application/json"):(this.client.generationConfig.responseSchema=void 0,this.client.generationConfig.responseMimeType=this.json?"application/json":void 0),{...n!=null&&n.tools?{tools:n.tools}:{},...n!=null&&n.toolConfig?{toolConfig:n.toolConfig}:{}}}async _generate(e,n,r){var m,b,y;const i=U1(e,this._isMultimodalModel,this.useSystemInstruction);let o=i;if(i[0].role==="system"){const[_]=i;this.client.systemInstruction=_,o=i.slice(1)}const u=this.invocationParams(n);if(this.streaming){const _={},v=this._streamResponseChunks(e,n,r),w={};for await(const T of v){const N=((m=T.generationInfo)==null?void 0:m.completion)??0;w[N]===void 0?w[N]=T:w[N]=w[N].concat(T)}return{generations:Object.entries(w).sort(([T],[N])=>parseInt(T,10)-parseInt(N,10)).map(([T,N])=>N),llmOutput:{estimatedTokenUsage:_}}}const c=await this.completionWithRetry({...u,contents:o});let d;if("usageMetadata"in c.response){const _=c.response.usageMetadata;d={input_tokens:_.promptTokenCount??0,output_tokens:_.candidatesTokenCount??0,total_tokens:_.totalTokenCount??0}}const h=P$(c.response,{usageMetadata:d});return((b=h.generations)==null?void 0:b.length)>0&&await(r==null?void 0:r.handleLLMNewToken(((y=h.generations[0])==null?void 0:y.text)??"")),h}async*_streamResponseChunks(e,n,r){const i=U1(e,this._isMultimodalModel,this.useSystemInstruction);let o=i;if(i[0].role==="system"){const[b]=i;this.client.systemInstruction=b,o=i.slice(1)}const c={...this.invocationParams(n),contents:o},d=await this.caller.callWithOptions({signal:n==null?void 0:n.signal},async()=>{const{stream:b}=await this.client.generateContentStream(c);return b});let h,m=0;for await(const b of d){if("usageMetadata"in b&&this.streamUsage!==!1&&n.streamUsage!==!1){const _=b.usageMetadata;if(!h)h={input_tokens:_.promptTokenCount??0,output_tokens:_.candidatesTokenCount??0,total_tokens:_.totalTokenCount??0};else{const v=(_.candidatesTokenCount??0)-h.output_tokens;h={input_tokens:0,output_tokens:v,total_tokens:v}}}const y=M$(b,{usageMetadata:h,index:m});m+=1,y&&(yield y,await(r==null?void 0:r.handleLLMNewToken(y.text??"")))}}async completionWithRetry(e,n){return this.caller.callWithOptions({signal:n==null?void 0:n.signal},async()=>{var r;try{return await this.client.generateContent(e)}catch(i){throw(r=i.message)!=null&&r.includes("400 Bad Request")&&(i.status=400),i}})}withStructuredOutput(e,n){const r=e,i=n==null?void 0:n.name,o=n==null?void 0:n.method,u=n==null?void 0:n.includeRaw;if(o==="jsonMode")throw new Error('ChatGoogleGenerativeAI only supports "jsonSchema" or "functionCalling" as a method.');let c,d;if(o==="functionCalling"){let y=i??"extract",_;if(Tu(r)){const v=ey(r);_=[{functionDeclarations:[{name:y,description:v.description??"A function available to call.",parameters:v}]}],d=new z1({returnSingle:!0,keyName:y,zodSchema:r})}else{let v;typeof r.name=="string"&&typeof r.parameters=="object"&&r.parameters!=null?(v=r,v.parameters=Qi(r.parameters),y=r.name):v={name:y,description:r.description??"",parameters:Qi(r)},_=[{functionDeclarations:[v]}],d=new z1({returnSingle:!0,keyName:y})}c=this.bindTools(_).withConfig({allowedFunctionNames:[y]})}else{const y=ey(r);c=this.withConfig({responseSchema:y}),d=new _$}if(!u)return c.pipe(d).withConfig({runName:"ChatGoogleGenerativeAIStructuredOutput"});const h=Hf.assign({parsed:(y,_)=>d.invoke(y.raw,_)}),m=Hf.assign({parsed:()=>null}),b=h.withFallbacks({fallbacks:[m]});return wa.from([{raw:c},b]).withConfig({runName:"StructuredOutputRunnable"})}}function H1(t,e,n,r,i,o,u){try{var c=t[o](u),d=c.value}catch(h){n(h);return}c.done?e(d):Promise.resolve(d).then(r,i)}function Fi(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function u(d){H1(o,r,i,u,c,"next",d)}function c(d){H1(o,r,i,u,c,"throw",d)}u(void 0)})}}var vg,q1;function H$(){if(q1)return vg;q1=1;var t="Expected a function",e=NaN,n="[object Symbol]",r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt,d=typeof Kc=="object"&&Kc&&Kc.Object===Object&&Kc,h=typeof self=="object"&&self&&self.Object===Object&&self,m=d||h||Function("return this")(),b=Object.prototype,y=b.toString,_=Math.max,v=Math.min,w=function(){return m.Date.now()};function S(O,j,L){var D,te,C,F,J,ne,G=0,U=!1,I=!1,M=!0;if(typeof O!="function")throw new TypeError(t);j=R(j)||0,T(L)&&(U=!!L.leading,I="maxWait"in L,C=I?_(R(L.maxWait)||0,j):C,M="trailing"in L?!!L.trailing:M);function Z(he){var me=D,Oe=te;return D=te=void 0,G=he,F=O.apply(Oe,me),F}function B(he){return G=he,J=setTimeout(W,j),U?Z(he):F}function k(he){var me=he-ne,Oe=he-G,ge=j-me;return I?v(ge,C-Oe):ge}function H(he){var me=he-ne,Oe=he-G;return ne===void 0||me>=j||me<0||I&&Oe>=C}function W(){var he=w();if(H(he))return ee(he);J=setTimeout(W,k(he))}function ee(he){return J=void 0,M&&D?Z(he):(D=te=void 0,F)}function oe(){J!==void 0&&clearTimeout(J),G=0,D=ne=te=J=void 0}function le(){return J===void 0?F:ee(w())}function fe(){var he=w(),me=H(he);if(D=arguments,te=this,ne=he,me){if(J===void 0)return B(ne);if(I)return J=setTimeout(W,j),Z(ne)}return J===void 0&&(J=setTimeout(W,j)),F}return fe.cancel=oe,fe.flush=le,fe}function T(O){var j=typeof O;return!!O&&(j=="object"||j=="function")}function N(O){return!!O&&typeof O=="object"}function x(O){return typeof O=="symbol"||N(O)&&y.call(O)==n}function R(O){if(typeof O=="number")return O;if(x(O))return e;if(T(O)){var j=typeof O.valueOf=="function"?O.valueOf():O;O=T(j)?j+"":j}if(typeof O!="string")return O===0?O:+O;O=O.replace(r,"");var L=o.test(O);return L||u.test(O)?c(O.slice(2),L?2:8):i.test(O)?e:+O}return vg=S,vg}var q$=H$();const F$=vi(q$),no=typeof window<"u"&&(window.SpeechRecognition||window.webkitSpeechRecognition||window.mozSpeechRecognition||window.msSpeechRecognition||window.oSpeechRecognition),G$=t=>t===no;var qf=()=>/(android)/i.test(typeof navigator<"u"?navigator.userAgent:"");const Ff=(...t)=>t.map(e=>e.trim()).join(" ").trim(),V$=/\s*\((.*?)\)\s*/g,Z$=/(\(\?:[^)]+\))\?/g,Y$=/(\(\?)?:\w+/g,K$=/\*/g,X$=/[-{}[\]+?.,\\^$|#]/g,W$=t=>t instanceof RegExp?new RegExp(t.source,"i"):(t=t.replace(X$,"\\$&").replace(V$,"(?:$1)?").replace(Y$,(e,n)=>n?e:"([^\\s]+)").replace(K$,"(.*?)").replace(Z$,"\\s*$1?\\s*"),new RegExp("^"+t+"$","i")),Q$=(t,e)=>{if(t=t.replace(/\s+/g,"").toLowerCase(),e=e.replace(/\s+/g,"").toLowerCase(),!t.length&&!e.length)return 1;if(!t.length||!e.length)return 0;if(t===e)return 1;if(t.length===1&&e.length===1||t.length<2||e.length<2)return 0;const n=new Map;for(let i=0;i<t.length-1;i++){const o=t.substring(i,i+2),u=n.has(o)?n.get(o)+1:1;n.set(o,u)}let r=0;for(let i=0;i<e.length-1;i++){const o=e.substring(i,i+2),u=n.has(o)?n.get(o):0;u>0&&(n.set(o,u-1),r++)}return 2*r/(t.length+e.length-2)},Qx=()=>typeof window<"u"&&window.navigator!==void 0&&window.navigator.mediaDevices!==void 0&&window.navigator.mediaDevices.getUserMedia!==void 0&&(window.AudioContext!==void 0||window.webkitAudioContext!==void 0);class _g{setSpeechRecognition(e){const n=!!e&&(G$(e)||Qx());n&&(this.disableRecognition(),this.recognition=new e,this.recognition.continuous=!1,this.recognition.interimResults=!0,this.recognition.onresult=this.updateTranscript.bind(this),this.recognition.onend=this.onRecognitionDisconnect.bind(this),this.recognition.onerror=this.onError.bind(this)),this.emitBrowserSupportsSpeechRecognitionChange(n)}subscribe(e,n){this.subscribers[e]=n}unsubscribe(e){delete this.subscribers[e]}emitListeningChange(e){this.listening=e,Object.keys(this.subscribers).forEach(n=>{const{onListeningChange:r}=this.subscribers[n];r(e)})}emitMicrophoneAvailabilityChange(e){this.isMicrophoneAvailable=e,Object.keys(this.subscribers).forEach(n=>{const{onMicrophoneAvailabilityChange:r}=this.subscribers[n];r(e)})}emitTranscriptChange(e,n){Object.keys(this.subscribers).forEach(r=>{const{onTranscriptChange:i}=this.subscribers[r];i(e,n)})}emitClearTranscript(){Object.keys(this.subscribers).forEach(e=>{const{onClearTranscript:n}=this.subscribers[e];n()})}emitBrowserSupportsSpeechRecognitionChange(e){Object.keys(this.subscribers).forEach(n=>{const{onBrowserSupportsSpeechRecognitionChange:r,onBrowserSupportsContinuousListeningChange:i}=this.subscribers[n];r(e),i(e)})}disconnect(e){if(this.recognition&&this.listening)switch(e){case"ABORT":this.pauseAfterDisconnect=!0,this.abort();break;case"RESET":this.pauseAfterDisconnect=!1,this.abort();break;case"STOP":default:this.pauseAfterDisconnect=!0,this.stop()}}disableRecognition(){this.recognition&&(this.recognition.onresult=()=>{},this.recognition.onend=()=>{},this.recognition.onerror=()=>{},this.listening&&this.stopListening())}onError(e){e&&e.error&&e.error==="not-allowed"&&(this.emitMicrophoneAvailabilityChange(!1),this.disableRecognition())}onRecognitionDisconnect(){this.onStopListening(),this.listening=!1,this.pauseAfterDisconnect?this.emitListeningChange(!1):this.recognition&&(this.recognition.continuous?this.startListening({continuous:this.recognition.continuous}):this.emitListeningChange(!1)),this.pauseAfterDisconnect=!1}updateTranscript({results:e,resultIndex:n}){const r=n===void 0?e.length-1:n;this.interimTranscript="",this.finalTranscript="";for(let o=r;o<e.length;++o)e[o].isFinal&&(!qf()||e[o][0].confidence>0)?this.updateFinalTranscript(e[o][0].transcript):this.interimTranscript=Ff(this.interimTranscript,e[o][0].transcript);let i=!1;this.interimTranscript===""&&this.finalTranscript!==""?(this.previousResultWasFinalOnly&&(i=!0),this.previousResultWasFinalOnly=!0):this.previousResultWasFinalOnly=!1,i||this.emitTranscriptChange(this.interimTranscript,this.finalTranscript)}updateFinalTranscript(e){this.finalTranscript=Ff(this.finalTranscript,e)}resetTranscript(){this.disconnect("RESET")}startListening(){return Fi(function*({continuous:e=!1,language:n}={}){if(!this.recognition)return;const r=e!==this.recognition.continuous,i=n&&n!==this.recognition.lang;if((r||i)&&(this.listening&&(yield this.stopListening()),this.recognition.continuous=r?e:this.recognition.continuous,this.recognition.lang=i?n:this.recognition.lang),!this.listening){this.recognition.continuous||(this.resetTranscript(),this.emitClearTranscript());try{yield this.start(),this.emitListeningChange(!0)}catch(o){o instanceof DOMException||this.emitMicrophoneAvailabilityChange(!1)}}}).apply(this,arguments)}abortListening(){return Fi(function*(){this.disconnect("ABORT"),this.emitListeningChange(!1),yield new Promise(e=>{this.onStopListening=e})}).call(this)}stopListening(){return Fi(function*(){this.disconnect("STOP"),this.emitListeningChange(!1),yield new Promise(e=>{this.onStopListening=e})}).call(this)}getRecognition(){return this.recognition}start(){return Fi(function*(){this.recognition&&!this.listening&&(yield this.recognition.start(),this.listening=!0)}).call(this)}stop(){this.recognition&&this.listening&&(this.recognition.stop(),this.listening=!1)}abort(){this.recognition&&this.listening&&(this.recognition.abort(),this.listening=!1)}constructor(e){this.recognition=null,this.pauseAfterDisconnect=!1,this.interimTranscript="",this.finalTranscript="",this.listening=!1,this.isMicrophoneAvailable=!0,this.subscribers={},this.onStopListening=()=>{},this.previousResultWasFinalOnly=!1,this.resetTranscript=this.resetTranscript.bind(this),this.startListening=this.startListening.bind(this),this.stopListening=this.stopListening.bind(this),this.abortListening=this.abortListening.bind(this),this.setSpeechRecognition=this.setSpeechRecognition.bind(this),this.disableRecognition=this.disableRecognition.bind(this),this.setSpeechRecognition(e),qf()&&(this.updateFinalTranscript=F$(this.updateFinalTranscript,250,{leading:!0}))}}const Jx="CLEAR_TRANSCRIPT",eT="APPEND_TRANSCRIPT",J$=()=>({type:Jx}),ej=(t,e)=>({type:eT,payload:{interimTranscript:t,finalTranscript:e}}),tj=(t,e)=>{switch(e.type){case Jx:return{interimTranscript:"",finalTranscript:""};case eT:return{interimTranscript:e.payload.interimTranscript,finalTranscript:Ff(t.finalTranscript,e.payload.finalTranscript)};default:throw new Error}};let ro=!!no,_f=ro&&!qf(),ba;const nj=({transcribing:t=!0,clearTranscriptOnListen:e=!0,commands:n=[]}={})=>{const[r]=$.useState(Sa.getRecognitionManager()),[i,o]=$.useState(ro),[u,c]=$.useState(_f),[{interimTranscript:d,finalTranscript:h},m]=$.useReducer(tj,{interimTranscript:r.interimTranscript,finalTranscript:""}),[b,y]=$.useState(r.listening),[_,v]=$.useState(r.isMicrophoneAvailable),w=$.useRef(n);w.current=n;const S=()=>{m(J$())},T=$.useCallback(()=>{r.resetTranscript(),S()},[r]),N=(D,te,C)=>{const J=(typeof D=="object"?D.toString():D).replace(/[&/\\#,+()!$~%.'":*?<>{}]/g,"").replace(/  +/g," ").trim(),ne=Q$(J,te);return ne>=C?{command:D,commandWithoutSpecials:J,howSimilar:ne,isFuzzyMatch:!0}:null},x=(D,te)=>{const F=W$(D).exec(te);return F?{command:D,parameters:F.slice(1)}:null},R=$.useCallback((D,te)=>{w.current.forEach(({command:C,callback:F,matchInterim:J=!1,isFuzzyMatch:ne=!1,fuzzyMatchingThreshold:G=.8,bestMatchOnly:U=!1})=>{const I=!te&&J?D.trim():te.trim(),Z=(Array.isArray(C)?C:[C]).map(B=>ne?N(B,I,G):x(B,I)).filter(B=>B);if(ne&&U&&Z.length>=2){Z.sort((W,ee)=>ee.howSimilar-W.howSimilar);const{command:B,commandWithoutSpecials:k,howSimilar:H}=Z[0];F(k,I,H,{command:B,resetTranscript:T})}else Z.forEach(B=>{if(B.isFuzzyMatch){const{command:k,commandWithoutSpecials:H,howSimilar:W}=B;F(H,I,W,{command:k,resetTranscript:T})}else{const{command:k,parameters:H}=B;F(...H,{command:k,resetTranscript:T})}})})},[T]),O=$.useCallback((D,te)=>{t&&m(ej(D,te)),R(D,te)},[R,t]),j=$.useCallback(()=>{e&&S()},[e]);return $.useEffect(()=>{const D=Sa.counter;Sa.counter+=1;const te={onListeningChange:y,onMicrophoneAvailabilityChange:v,onTranscriptChange:O,onClearTranscript:j,onBrowserSupportsSpeechRecognitionChange:o,onBrowserSupportsContinuousListeningChange:c};return r.subscribe(D,te),()=>{r.unsubscribe(D)}},[t,e,r,O,j]),{transcript:Ff(h,d),interimTranscript:d,finalTranscript:h,listening:b,isMicrophoneAvailable:_,resetTranscript:T,browserSupportsSpeechRecognition:i,browserSupportsContinuousListening:u}},Sa={counter:0,applyPolyfill:t=>{ba?ba.setSpeechRecognition(t):ba=new _g(t);const e=!!t&&Qx();ro=e,_f=e},removePolyfill:()=>{ba?ba.setSpeechRecognition(no):ba=new _g(no),ro=!!no,_f=ro&&!qf()},getRecognitionManager:()=>(ba||(ba=new _g(no)),ba),getRecognition:()=>Sa.getRecognitionManager().getRecognition(),startListening:({continuous:t,language:e}={})=>Fi(function*(){yield Sa.getRecognitionManager().startListening({continuous:t,language:e})})(),stopListening:()=>Fi(function*(){yield Sa.getRecognitionManager().stopListening()})(),abortListening:()=>Fi(function*(){yield Sa.getRecognitionManager().abortListening()})(),browserSupportsSpeechRecognition:()=>ro,browserSupportsContinuousListening:()=>_f},du={black:"#000",white:"#fff"},Gs={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Vs={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Zs={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Ys={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Ks={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},Il={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},rj={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Ra(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${t}; visit ${n} for the full message.`}const md="$$material";function Gf(){return Gf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gf.apply(null,arguments)}function aj(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function ij(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var sj=function(){function t(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(ij(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=aj(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),wn="-ms-",Vf="-moz-",et="-webkit-",tT="comm",qy="rule",Fy="decl",oj="@import",nT="@keyframes",lj="@layer",uj=Math.abs,gd=String.fromCharCode,cj=Object.assign;function fj(t,e){return mn(t,0)^45?(((e<<2^mn(t,0))<<2^mn(t,1))<<2^mn(t,2))<<2^mn(t,3):0}function rT(t){return t.trim()}function dj(t,e){return(t=e.exec(t))?t[0]:t}function tt(t,e,n){return t.replace(e,n)}function ty(t,e){return t.indexOf(e)}function mn(t,e){return t.charCodeAt(e)|0}function hu(t,e,n){return t.slice(e,n)}function qr(t){return t.length}function Gy(t){return t.length}function of(t,e){return e.push(t),t}function hj(t,e){return t.map(e).join("")}var yd=1,go=1,aT=0,Bn=0,Vt=0,Ro="";function bd(t,e,n,r,i,o,u){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:yd,column:go,length:u,return:""}}function $l(t,e){return cj(bd("",null,null,"",null,null,0),t,{length:-t.length},e)}function pj(){return Vt}function mj(){return Vt=Bn>0?mn(Ro,--Bn):0,go--,Vt===10&&(go=1,yd--),Vt}function er(){return Vt=Bn<aT?mn(Ro,Bn++):0,go++,Vt===10&&(go=1,yd++),Vt}function Xr(){return mn(Ro,Bn)}function wf(){return Bn}function Ru(t,e){return hu(Ro,t,e)}function pu(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function iT(t){return yd=go=1,aT=qr(Ro=t),Bn=0,[]}function sT(t){return Ro="",t}function Sf(t){return rT(Ru(Bn-1,ny(t===91?t+2:t===40?t+1:t)))}function gj(t){for(;(Vt=Xr())&&Vt<33;)er();return pu(t)>2||pu(Vt)>3?"":" "}function yj(t,e){for(;--e&&er()&&!(Vt<48||Vt>102||Vt>57&&Vt<65||Vt>70&&Vt<97););return Ru(t,wf()+(e<6&&Xr()==32&&er()==32))}function ny(t){for(;er();)switch(Vt){case t:return Bn;case 34:case 39:t!==34&&t!==39&&ny(Vt);break;case 40:t===41&&ny(t);break;case 92:er();break}return Bn}function bj(t,e){for(;er()&&t+Vt!==57;)if(t+Vt===84&&Xr()===47)break;return"/*"+Ru(e,Bn-1)+"*"+gd(t===47?t:er())}function vj(t){for(;!pu(Xr());)er();return Ru(t,Bn)}function _j(t){return sT(Ef("",null,null,null,[""],t=iT(t),0,[0],t))}function Ef(t,e,n,r,i,o,u,c,d){for(var h=0,m=0,b=u,y=0,_=0,v=0,w=1,S=1,T=1,N=0,x="",R=i,O=o,j=r,L=x;S;)switch(v=N,N=er()){case 40:if(v!=108&&mn(L,b-1)==58){ty(L+=tt(Sf(N),"&","&\f"),"&\f")!=-1&&(T=-1);break}case 34:case 39:case 91:L+=Sf(N);break;case 9:case 10:case 13:case 32:L+=gj(v);break;case 92:L+=yj(wf()-1,7);continue;case 47:switch(Xr()){case 42:case 47:of(wj(bj(er(),wf()),e,n),d);break;default:L+="/"}break;case 123*w:c[h++]=qr(L)*T;case 125*w:case 59:case 0:switch(N){case 0:case 125:S=0;case 59+m:T==-1&&(L=tt(L,/\f/g,"")),_>0&&qr(L)-b&&of(_>32?G1(L+";",r,n,b-1):G1(tt(L," ","")+";",r,n,b-2),d);break;case 59:L+=";";default:if(of(j=F1(L,e,n,h,m,i,c,x,R=[],O=[],b),o),N===123)if(m===0)Ef(L,e,j,j,R,o,b,c,O);else switch(y===99&&mn(L,3)===110?100:y){case 100:case 108:case 109:case 115:Ef(t,j,j,r&&of(F1(t,j,j,0,0,i,c,x,i,R=[],b),O),i,O,b,c,r?R:O);break;default:Ef(L,j,j,j,[""],O,0,c,O)}}h=m=_=0,w=T=1,x=L="",b=u;break;case 58:b=1+qr(L),_=v;default:if(w<1){if(N==123)--w;else if(N==125&&w++==0&&mj()==125)continue}switch(L+=gd(N),N*w){case 38:T=m>0?1:(L+="\f",-1);break;case 44:c[h++]=(qr(L)-1)*T,T=1;break;case 64:Xr()===45&&(L+=Sf(er())),y=Xr(),m=b=qr(x=L+=vj(wf())),N++;break;case 45:v===45&&qr(L)==2&&(w=0)}}return o}function F1(t,e,n,r,i,o,u,c,d,h,m){for(var b=i-1,y=i===0?o:[""],_=Gy(y),v=0,w=0,S=0;v<r;++v)for(var T=0,N=hu(t,b+1,b=uj(w=u[v])),x=t;T<_;++T)(x=rT(w>0?y[T]+" "+N:tt(N,/&\f/g,y[T])))&&(d[S++]=x);return bd(t,e,n,i===0?qy:c,d,h,m)}function wj(t,e,n){return bd(t,e,n,tT,gd(pj()),hu(t,2,-2),0)}function G1(t,e,n,r){return bd(t,e,n,Fy,hu(t,0,r),hu(t,r+1,-1),r)}function so(t,e){for(var n="",r=Gy(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function Sj(t,e,n,r){switch(t.type){case lj:if(t.children.length)break;case oj:case Fy:return t.return=t.return||t.value;case tT:return"";case nT:return t.return=t.value+"{"+so(t.children,r)+"}";case qy:t.value=t.props.join(",")}return qr(n=so(t.children,r))?t.return=t.value+"{"+n+"}":""}function Ej(t){var e=Gy(t);return function(n,r,i,o){for(var u="",c=0;c<e;c++)u+=t[c](n,r,i,o)||"";return u}}function xj(t){return function(e){e.root||(e=e.return)&&t(e)}}function oT(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var Tj=function(e,n,r){for(var i=0,o=0;i=o,o=Xr(),i===38&&o===12&&(n[r]=1),!pu(o);)er();return Ru(e,Bn)},Oj=function(e,n){var r=-1,i=44;do switch(pu(i)){case 0:i===38&&Xr()===12&&(n[r]=1),e[r]+=Tj(Bn-1,n,r);break;case 2:e[r]+=Sf(i);break;case 4:if(i===44){e[++r]=Xr()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=gd(i)}while(i=er());return e},Rj=function(e,n){return sT(Oj(iT(e),n))},V1=new WeakMap,Cj=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!V1.get(r))&&!i){V1.set(e,!0);for(var o=[],u=Rj(n,o),c=r.props,d=0,h=0;d<u.length;d++)for(var m=0;m<c.length;m++,h++)e.props[h]=o[d]?u[d].replace(/&\f/g,c[m]):c[m]+" "+u[d]}}},Aj=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function lT(t,e){switch(fj(t,e)){case 5103:return et+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return et+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return et+t+Vf+t+wn+t+t;case 6828:case 4268:return et+t+wn+t+t;case 6165:return et+t+wn+"flex-"+t+t;case 5187:return et+t+tt(t,/(\w+).+(:[^]+)/,et+"box-$1$2"+wn+"flex-$1$2")+t;case 5443:return et+t+wn+"flex-item-"+tt(t,/flex-|-self/,"")+t;case 4675:return et+t+wn+"flex-line-pack"+tt(t,/align-content|flex-|-self/,"")+t;case 5548:return et+t+wn+tt(t,"shrink","negative")+t;case 5292:return et+t+wn+tt(t,"basis","preferred-size")+t;case 6060:return et+"box-"+tt(t,"-grow","")+et+t+wn+tt(t,"grow","positive")+t;case 4554:return et+tt(t,/([^-])(transform)/g,"$1"+et+"$2")+t;case 6187:return tt(tt(tt(t,/(zoom-|grab)/,et+"$1"),/(image-set)/,et+"$1"),t,"")+t;case 5495:case 3959:return tt(t,/(image-set\([^]*)/,et+"$1$`$1");case 4968:return tt(tt(t,/(.+:)(flex-)?(.*)/,et+"box-pack:$3"+wn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+et+t+t;case 4095:case 3583:case 4068:case 2532:return tt(t,/(.+)-inline(.+)/,et+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(qr(t)-1-e>6)switch(mn(t,e+1)){case 109:if(mn(t,e+4)!==45)break;case 102:return tt(t,/(.+:)(.+)-([^]+)/,"$1"+et+"$2-$3$1"+Vf+(mn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~ty(t,"stretch")?lT(tt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(mn(t,e+1)!==115)break;case 6444:switch(mn(t,qr(t)-3-(~ty(t,"!important")&&10))){case 107:return tt(t,":",":"+et)+t;case 101:return tt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+et+(mn(t,14)===45?"inline-":"")+"box$3$1"+et+"$2$3$1"+wn+"$2box$3")+t}break;case 5936:switch(mn(t,e+11)){case 114:return et+t+wn+tt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return et+t+wn+tt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return et+t+wn+tt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return et+t+wn+t+t}return t}var Nj=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case Fy:e.return=lT(e.value,e.length);break;case nT:return so([$l(e,{value:tt(e.value,"@","@"+et)})],i);case qy:if(e.length)return hj(e.props,function(o){switch(dj(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return so([$l(e,{props:[tt(o,/:(read-\w+)/,":"+Vf+"$1")]})],i);case"::placeholder":return so([$l(e,{props:[tt(o,/:(plac\w+)/,":"+et+"input-$1")]}),$l(e,{props:[tt(o,/:(plac\w+)/,":"+Vf+"$1")]}),$l(e,{props:[tt(o,/:(plac\w+)/,wn+"input-$1")]})],i)}return""})}},kj=[Nj],Ij=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(w){var S=w.getAttribute("data-emotion");S.indexOf(" ")!==-1&&(document.head.appendChild(w),w.setAttribute("data-s",""))})}var i=e.stylisPlugins||kj,o={},u,c=[];u=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(w){for(var S=w.getAttribute("data-emotion").split(" "),T=1;T<S.length;T++)o[S[T]]=!0;c.push(w)});var d,h=[Cj,Aj];{var m,b=[Sj,xj(function(w){m.insert(w)})],y=Ej(h.concat(i,b)),_=function(S){return so(_j(S),y)};d=function(S,T,N,x){m=N,_(S?S+"{"+T.styles+"}":T.styles),x&&(v.inserted[T.name]=!0)}}var v={key:n,sheet:new sj({key:n,container:u,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:d};return v.sheet.hydrate(c),v},wg={exports:{}},nt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z1;function $j(){if(Z1)return nt;Z1=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,o=t?Symbol.for("react.profiler"):60114,u=t?Symbol.for("react.provider"):60109,c=t?Symbol.for("react.context"):60110,d=t?Symbol.for("react.async_mode"):60111,h=t?Symbol.for("react.concurrent_mode"):60111,m=t?Symbol.for("react.forward_ref"):60112,b=t?Symbol.for("react.suspense"):60113,y=t?Symbol.for("react.suspense_list"):60120,_=t?Symbol.for("react.memo"):60115,v=t?Symbol.for("react.lazy"):60116,w=t?Symbol.for("react.block"):60121,S=t?Symbol.for("react.fundamental"):60117,T=t?Symbol.for("react.responder"):60118,N=t?Symbol.for("react.scope"):60119;function x(O){if(typeof O=="object"&&O!==null){var j=O.$$typeof;switch(j){case e:switch(O=O.type,O){case d:case h:case r:case o:case i:case b:return O;default:switch(O=O&&O.$$typeof,O){case c:case m:case v:case _:case u:return O;default:return j}}case n:return j}}}function R(O){return x(O)===h}return nt.AsyncMode=d,nt.ConcurrentMode=h,nt.ContextConsumer=c,nt.ContextProvider=u,nt.Element=e,nt.ForwardRef=m,nt.Fragment=r,nt.Lazy=v,nt.Memo=_,nt.Portal=n,nt.Profiler=o,nt.StrictMode=i,nt.Suspense=b,nt.isAsyncMode=function(O){return R(O)||x(O)===d},nt.isConcurrentMode=R,nt.isContextConsumer=function(O){return x(O)===c},nt.isContextProvider=function(O){return x(O)===u},nt.isElement=function(O){return typeof O=="object"&&O!==null&&O.$$typeof===e},nt.isForwardRef=function(O){return x(O)===m},nt.isFragment=function(O){return x(O)===r},nt.isLazy=function(O){return x(O)===v},nt.isMemo=function(O){return x(O)===_},nt.isPortal=function(O){return x(O)===n},nt.isProfiler=function(O){return x(O)===o},nt.isStrictMode=function(O){return x(O)===i},nt.isSuspense=function(O){return x(O)===b},nt.isValidElementType=function(O){return typeof O=="string"||typeof O=="function"||O===r||O===h||O===o||O===i||O===b||O===y||typeof O=="object"&&O!==null&&(O.$$typeof===v||O.$$typeof===_||O.$$typeof===u||O.$$typeof===c||O.$$typeof===m||O.$$typeof===S||O.$$typeof===T||O.$$typeof===N||O.$$typeof===w)},nt.typeOf=x,nt}var Y1;function jj(){return Y1||(Y1=1,wg.exports=$j()),wg.exports}var Sg,K1;function Pj(){if(K1)return Sg;K1=1;var t=jj(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[t.ForwardRef]=r,o[t.Memo]=i;function u(v){return t.isMemo(v)?i:o[v.$$typeof]||e}var c=Object.defineProperty,d=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,m=Object.getOwnPropertyDescriptor,b=Object.getPrototypeOf,y=Object.prototype;function _(v,w,S){if(typeof w!="string"){if(y){var T=b(w);T&&T!==y&&_(v,T,S)}var N=d(w);h&&(N=N.concat(h(w)));for(var x=u(v),R=u(w),O=0;O<N.length;++O){var j=N[O];if(!n[j]&&!(S&&S[j])&&!(R&&R[j])&&!(x&&x[j])){var L=m(w,j);try{c(v,j,L)}catch{}}}}return v}return Sg=_,Sg}Pj();var Mj=!0;function uT(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var Vy=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||Mj===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},Zy=function(e,n,r){Vy(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var o=n;do e.insert(n===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function Lj(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Dj={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Uj=/[A-Z]|^ms/g,zj=/_EMO_([^_]+?)_([^]*?)_EMO_/g,cT=function(e){return e.charCodeAt(1)===45},X1=function(e){return e!=null&&typeof e!="boolean"},Eg=oT(function(t){return cT(t)?t:t.replace(Uj,"-$&").toLowerCase()}),W1=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(zj,function(r,i,o){return Fr={name:i,styles:o,next:Fr},i})}return Dj[e]!==1&&!cT(e)&&typeof n=="number"&&n!==0?n+"px":n};function mu(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return Fr={name:i.name,styles:i.styles,next:Fr},i.name;var o=n;if(o.styles!==void 0){var u=o.next;if(u!==void 0)for(;u!==void 0;)Fr={name:u.name,styles:u.styles,next:Fr},u=u.next;var c=o.styles+";";return c}return Bj(t,e,n)}case"function":{if(t!==void 0){var d=Fr,h=n(t);return Fr=d,mu(t,e,h)}break}}var m=n;if(e==null)return m;var b=e[m];return b!==void 0?b:m}function Bj(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=mu(t,e,n[i])+";";else for(var o in n){var u=n[o];if(typeof u!="object"){var c=u;e!=null&&e[c]!==void 0?r+=o+"{"+e[c]+"}":X1(c)&&(r+=Eg(o)+":"+W1(o,c)+";")}else if(Array.isArray(u)&&typeof u[0]=="string"&&(e==null||e[u[0]]===void 0))for(var d=0;d<u.length;d++)X1(u[d])&&(r+=Eg(o)+":"+W1(o,u[d])+";");else{var h=mu(t,e,u);switch(o){case"animation":case"animationName":{r+=Eg(o)+":"+h+";";break}default:r+=o+"{"+h+"}"}}}return r}var Q1=/label:\s*([^\s;{]+)\s*(;|$)/g,Fr;function Cu(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";Fr=void 0;var o=t[0];if(o==null||o.raw===void 0)r=!1,i+=mu(n,e,o);else{var u=o;i+=u[0]}for(var c=1;c<t.length;c++)if(i+=mu(n,e,t[c]),r){var d=o;i+=d[c]}Q1.lastIndex=0;for(var h="",m;(m=Q1.exec(i))!==null;)h+="-"+m[1];var b=Lj(i)+h;return{name:b,styles:i,next:Fr}}var Hj=function(e){return e()},fT=$g.useInsertionEffect?$g.useInsertionEffect:!1,dT=fT||Hj,J1=fT||$.useLayoutEffect,hT=$.createContext(typeof HTMLElement<"u"?Ij({key:"css"}):null);hT.Provider;var Yy=function(e){return $.forwardRef(function(n,r){var i=$.useContext(hT);return e(n,i,r)})},vd=$.createContext({}),Ky={}.hasOwnProperty,ry="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",qj=function(e,n){var r={};for(var i in n)Ky.call(n,i)&&(r[i]=n[i]);return r[ry]=e,r},Fj=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return Vy(n,r,i),dT(function(){return Zy(n,r,i)}),null},Gj=Yy(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[ry],o=[r],u="";typeof t.className=="string"?u=uT(e.registered,o,t.className):t.className!=null&&(u=t.className+" ");var c=Cu(o,void 0,$.useContext(vd));u+=e.key+"-"+c.name;var d={};for(var h in t)Ky.call(t,h)&&h!=="css"&&h!==ry&&(d[h]=t[h]);return d.className=u,n&&(d.ref=n),$.createElement($.Fragment,null,$.createElement(Fj,{cache:e,serialized:c,isStringTag:typeof i=="string"}),$.createElement(i,d))}),Vj=Gj,eE=function(e,n){var r=arguments;if(n==null||!Ky.call(n,"css"))return $.createElement.apply(void 0,r);var i=r.length,o=new Array(i);o[0]=Vj,o[1]=qj(e,n);for(var u=2;u<i;u++)o[u]=r[u];return $.createElement.apply(null,o)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(eE||(eE={}));var Zj=Yy(function(t,e){var n=t.styles,r=Cu([n],void 0,$.useContext(vd)),i=$.useRef();return J1(function(){var o=e.key+"-global",u=new e.sheet.constructor({key:o,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),c=!1,d=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return e.sheet.tags.length&&(u.before=e.sheet.tags[0]),d!==null&&(c=!0,d.setAttribute("data-emotion",o),u.hydrate([d])),i.current=[u,c],function(){u.flush()}},[e]),J1(function(){var o=i.current,u=o[0],c=o[1];if(c){o[1]=!1;return}if(r.next!==void 0&&Zy(e,r.next,!0),u.tags.length){var d=u.tags[u.tags.length-1].nextElementSibling;u.before=d,u.flush()}e.insert("",r,u,!1)},[e,r.name]),null});function Xy(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Cu(e)}function Au(){var t=Xy.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var Yj=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Kj=oT(function(t){return Yj.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),Xj=Kj,Wj=function(e){return e!=="theme"},tE=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?Xj:Wj},nE=function(e,n,r){var i;if(n){var o=n.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(u){return e.__emotion_forwardProp(u)&&o(u)}:o}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},Qj=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return Vy(n,r,i),dT(function(){return Zy(n,r,i)}),null},Jj=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,o,u;n!==void 0&&(o=n.label,u=n.target);var c=nE(e,n,r),d=c||tE(i),h=!d("as");return function(){var m=arguments,b=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&b.push("label:"+o+";"),m[0]==null||m[0].raw===void 0)b.push.apply(b,m);else{var y=m[0];b.push(y[0]);for(var _=m.length,v=1;v<_;v++)b.push(m[v],y[v])}var w=Yy(function(S,T,N){var x=h&&S.as||i,R="",O=[],j=S;if(S.theme==null){j={};for(var L in S)j[L]=S[L];j.theme=$.useContext(vd)}typeof S.className=="string"?R=uT(T.registered,O,S.className):S.className!=null&&(R=S.className+" ");var D=Cu(b.concat(O),T.registered,j);R+=T.key+"-"+D.name,u!==void 0&&(R+=" "+u);var te=h&&c===void 0?tE(x):d,C={};for(var F in S)h&&F==="as"||te(F)&&(C[F]=S[F]);return C.className=R,N&&(C.ref=N),$.createElement($.Fragment,null,$.createElement(Qj,{cache:T,serialized:D,isStringTag:typeof x=="string"}),$.createElement(x,C))});return w.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",w.defaultProps=e.defaultProps,w.__emotion_real=w,w.__emotion_base=i,w.__emotion_styles=b,w.__emotion_forwardProp=c,Object.defineProperty(w,"toString",{value:function(){return"."+u}}),w.withComponent=function(S,T){var N=t(S,Gf({},n,T,{shouldForwardProp:nE(w,T,!0)}));return N.apply(void 0,b)},w}},eP=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],ay=Jj.bind(null);eP.forEach(function(t){ay[t]=ay(t)});function tP(t){return t==null||Object.keys(t).length===0}function nP(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(tP(i)?n:i):e;return X.jsx(Zj,{styles:r})}function pT(t,e){return ay(t,e)}function rP(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const rE=[];function aE(t){return rE[0]=t,Cu(rE)}var xg={exports:{}},ht={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iE;function aP(){if(iE)return ht;iE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),_=Symbol.for("react.client.reference");function v(w){if(typeof w=="object"&&w!==null){var S=w.$$typeof;switch(S){case t:switch(w=w.type,w){case n:case i:case r:case d:case h:case y:return w;default:switch(w=w&&w.$$typeof,w){case u:case c:case b:case m:return w;case o:return w;default:return S}}case e:return S}}}return ht.ContextConsumer=o,ht.ContextProvider=u,ht.Element=t,ht.ForwardRef=c,ht.Fragment=n,ht.Lazy=b,ht.Memo=m,ht.Portal=e,ht.Profiler=i,ht.StrictMode=r,ht.Suspense=d,ht.SuspenseList=h,ht.isContextConsumer=function(w){return v(w)===o},ht.isContextProvider=function(w){return v(w)===u},ht.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===t},ht.isForwardRef=function(w){return v(w)===c},ht.isFragment=function(w){return v(w)===n},ht.isLazy=function(w){return v(w)===b},ht.isMemo=function(w){return v(w)===m},ht.isPortal=function(w){return v(w)===e},ht.isProfiler=function(w){return v(w)===i},ht.isStrictMode=function(w){return v(w)===r},ht.isSuspense=function(w){return v(w)===d},ht.isSuspenseList=function(w){return v(w)===h},ht.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===n||w===i||w===r||w===d||w===h||typeof w=="object"&&w!==null&&(w.$$typeof===b||w.$$typeof===m||w.$$typeof===u||w.$$typeof===o||w.$$typeof===c||w.$$typeof===_||w.getModuleId!==void 0)},ht.typeOf=v,ht}var sE;function iP(){return sE||(sE=1,xg.exports=aP()),xg.exports}var mT=iP();function Vr(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function gT(t){if($.isValidElement(t)||mT.isValidElementType(t)||!Vr(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=gT(t[n])}),e}function ln(t,e,n={clone:!0}){const r=n.clone?{...t}:t;return Vr(t)&&Vr(e)&&Object.keys(e).forEach(i=>{$.isValidElement(e[i])||mT.isValidElementType(e[i])?r[i]=e[i]:Vr(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&Vr(t[i])?r[i]=ln(t[i],e[i],n):n.clone?r[i]=Vr(e[i])?gT(e[i]):e[i]:r[i]=e[i]}),r}const sP=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function oP(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=t,o=sP(e),u=Object.keys(o);function c(y){return`@media (min-width:${typeof e[y]=="number"?e[y]:y}${n})`}function d(y){return`@media (max-width:${(typeof e[y]=="number"?e[y]:y)-r/100}${n})`}function h(y,_){const v=u.indexOf(_);return`@media (min-width:${typeof e[y]=="number"?e[y]:y}${n}) and (max-width:${(v!==-1&&typeof e[u[v]]=="number"?e[u[v]]:_)-r/100}${n})`}function m(y){return u.indexOf(y)+1<u.length?h(y,u[u.indexOf(y)+1]):c(y)}function b(y){const _=u.indexOf(y);return _===0?c(u[1]):_===u.length-1?d(u[_]):h(y,u[u.indexOf(y)+1]).replace("@media","@media not all and")}return{keys:u,values:o,up:c,down:d,between:h,only:m,not:b,unit:n,...i}}function lP(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var u,c;const o=/min-width:\s*([0-9.]+)/;return+(((u=r.match(o))==null?void 0:u[1])||0)-+(((c=i.match(o))==null?void 0:c[1])||0)});return n.length?n.reduce((r,i)=>{const o=e[i];return delete r[i],r[i]=o,r},{...e}):e}function uP(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function cP(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,o=Number.isNaN(+r)?r||0:+r;return t.containerQueries(i).up(o)}function fP(t){const e=(o,u)=>o.replace("@media",u?`@container ${u}`:"@container");function n(o,u){o.up=(...c)=>e(t.breakpoints.up(...c),u),o.down=(...c)=>e(t.breakpoints.down(...c),u),o.between=(...c)=>e(t.breakpoints.between(...c),u),o.only=(...c)=>e(t.breakpoints.only(...c),u),o.not=(...c)=>{const d=e(t.breakpoints.not(...c),u);return d.includes("not all and")?d.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):d}}const r={},i=o=>(n(r,o),r);return n(i),{...t,containerQueries:i}}const dP={borderRadius:4};function Ql(t,e){return e?ln(t,e,{clone:!1}):t}const _d={xs:0,sm:600,md:900,lg:1200,xl:1536},oE={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${_d[t]}px)`},hP={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:_d[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function $r(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const o=r.breakpoints||oE;return e.reduce((u,c,d)=>(u[o.up(o.keys[d])]=n(e[d]),u),{})}if(typeof e=="object"){const o=r.breakpoints||oE;return Object.keys(e).reduce((u,c)=>{if(uP(o.keys,c)){const d=cP(r.containerQueries?r:hP,c);d&&(u[d]=n(e[c],c))}else if(Object.keys(o.values||_d).includes(c)){const d=o.up(c);u[d]=n(e[c],c)}else{const d=c;u[d]=e[d]}return u},{})}return n(e)}function yT(t={}){var n;return((n=t.keys)==null?void 0:n.reduce((r,i)=>{const o=t.up(i);return r[o]={},r},{}))||{}}function bT(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function pP(t,...e){const n=yT(t),r=[n,...e].reduce((i,o)=>ln(i,o),{});return bT(Object.keys(n),r)}function mP(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((i,o)=>{o<t.length&&(n[i]=!0)}):r.forEach(i=>{t[i]!=null&&(n[i]=!0)}),n}function Tg({values:t,breakpoints:e,base:n}){const r=n||mP(t,e),i=Object.keys(r);if(i.length===0)return t;let o;return i.reduce((u,c,d)=>(Array.isArray(t)?(u[c]=t[d]!=null?t[d]:t[o],o=d):typeof t=="object"?(u[c]=t[c]!=null?t[c]:t[o],o=c):u[c]=t,u),{})}function He(t){if(typeof t!="string")throw new Error(Ra(7));return t.charAt(0).toUpperCase()+t.slice(1)}function wd(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function Zf(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=wd(t,n)||r,e&&(i=e(i,r,t)),i}function zt(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,o=u=>{if(u[e]==null)return null;const c=u[e],d=u.theme,h=wd(d,r)||{};return $r(u,c,b=>{let y=Zf(h,i,b);return b===y&&typeof b=="string"&&(y=Zf(h,i,`${e}${b==="default"?"":He(b)}`,b)),n===!1?y:{[n]:y}})};return o.propTypes={},o.filterProps=[e],o}function gP(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const yP={m:"margin",p:"padding"},bP={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},lE={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},vP=gP(t=>{if(t.length>2)if(lE[t])t=lE[t];else return[t];const[e,n]=t.split(""),r=yP[e],i=bP[n]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),Wy=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Qy=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Wy,...Qy];function Nu(t,e,n,r){const i=wd(t,e,!0)??n;return typeof i=="number"||typeof i=="string"?o=>typeof o=="string"?o:typeof i=="string"?i.startsWith("var(")&&o===0?0:i.startsWith("var(")&&o===1?i:`calc(${o} * ${i})`:i*o:Array.isArray(i)?o=>{if(typeof o=="string")return o;const u=Math.abs(o),c=i[u];return o>=0?c:typeof c=="number"?-c:typeof c=="string"&&c.startsWith("var(")?`calc(-1 * ${c})`:`-${c}`}:typeof i=="function"?i:()=>{}}function Sd(t){return Nu(t,"spacing",8)}function Ji(t,e){return typeof e=="string"||e==null?e:t(e)}function _P(t,e){return n=>t.reduce((r,i)=>(r[i]=Ji(e,n),r),{})}function wP(t,e,n,r){if(!e.includes(n))return null;const i=vP(n),o=_P(i,r),u=t[n];return $r(t,u,o)}function vT(t,e){const n=Sd(t.theme);return Object.keys(t).map(r=>wP(t,e,r,n)).reduce(Ql,{})}function jt(t){return vT(t,Wy)}jt.propTypes={};jt.filterProps=Wy;function Pt(t){return vT(t,Qy)}Pt.propTypes={};Pt.filterProps=Qy;function _T(t=8,e=Sd({spacing:t})){if(t.mui)return t;const n=(...r)=>(r.length===0?[1]:r).map(o=>{const u=e(o);return typeof u=="number"?`${u}px`:u}).join(" ");return n.mui=!0,n}function Ed(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),n=r=>Object.keys(r).reduce((i,o)=>e[o]?Ql(i,e[o](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function yr(t){return typeof t!="number"?t:`${t}px solid`}function Er(t,e){return zt({prop:t,themeKey:"borders",transform:e})}const SP=Er("border",yr),EP=Er("borderTop",yr),xP=Er("borderRight",yr),TP=Er("borderBottom",yr),OP=Er("borderLeft",yr),RP=Er("borderColor"),CP=Er("borderTopColor"),AP=Er("borderRightColor"),NP=Er("borderBottomColor"),kP=Er("borderLeftColor"),IP=Er("outline",yr),$P=Er("outlineColor"),xd=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Nu(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:Ji(e,r)});return $r(t,t.borderRadius,n)}return null};xd.propTypes={};xd.filterProps=["borderRadius"];Ed(SP,EP,xP,TP,OP,RP,CP,AP,NP,kP,xd,IP,$P);const Td=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Nu(t.theme,"spacing",8),n=r=>({gap:Ji(e,r)});return $r(t,t.gap,n)}return null};Td.propTypes={};Td.filterProps=["gap"];const Od=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Nu(t.theme,"spacing",8),n=r=>({columnGap:Ji(e,r)});return $r(t,t.columnGap,n)}return null};Od.propTypes={};Od.filterProps=["columnGap"];const Rd=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Nu(t.theme,"spacing",8),n=r=>({rowGap:Ji(e,r)});return $r(t,t.rowGap,n)}return null};Rd.propTypes={};Rd.filterProps=["rowGap"];const jP=zt({prop:"gridColumn"}),PP=zt({prop:"gridRow"}),MP=zt({prop:"gridAutoFlow"}),LP=zt({prop:"gridAutoColumns"}),DP=zt({prop:"gridAutoRows"}),UP=zt({prop:"gridTemplateColumns"}),zP=zt({prop:"gridTemplateRows"}),BP=zt({prop:"gridTemplateAreas"}),HP=zt({prop:"gridArea"});Ed(Td,Od,Rd,jP,PP,MP,LP,DP,UP,zP,BP,HP);function oo(t,e){return e==="grey"?e:t}const qP=zt({prop:"color",themeKey:"palette",transform:oo}),FP=zt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:oo}),GP=zt({prop:"backgroundColor",themeKey:"palette",transform:oo});Ed(qP,FP,GP);function Jn(t){return t<=1&&t!==0?`${t*100}%`:t}const VP=zt({prop:"width",transform:Jn}),Jy=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var i,o,u,c,d;const r=((u=(o=(i=t.theme)==null?void 0:i.breakpoints)==null?void 0:o.values)==null?void 0:u[n])||_d[n];return r?((d=(c=t.theme)==null?void 0:c.breakpoints)==null?void 0:d.unit)!=="px"?{maxWidth:`${r}${t.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Jn(n)}};return $r(t,t.maxWidth,e)}return null};Jy.filterProps=["maxWidth"];const ZP=zt({prop:"minWidth",transform:Jn}),YP=zt({prop:"height",transform:Jn}),KP=zt({prop:"maxHeight",transform:Jn}),XP=zt({prop:"minHeight",transform:Jn});zt({prop:"size",cssProperty:"width",transform:Jn});zt({prop:"size",cssProperty:"height",transform:Jn});const WP=zt({prop:"boxSizing"});Ed(VP,Jy,ZP,YP,KP,XP,WP);const ku={border:{themeKey:"borders",transform:yr},borderTop:{themeKey:"borders",transform:yr},borderRight:{themeKey:"borders",transform:yr},borderBottom:{themeKey:"borders",transform:yr},borderLeft:{themeKey:"borders",transform:yr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:yr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:xd},color:{themeKey:"palette",transform:oo},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:oo},backgroundColor:{themeKey:"palette",transform:oo},p:{style:Pt},pt:{style:Pt},pr:{style:Pt},pb:{style:Pt},pl:{style:Pt},px:{style:Pt},py:{style:Pt},padding:{style:Pt},paddingTop:{style:Pt},paddingRight:{style:Pt},paddingBottom:{style:Pt},paddingLeft:{style:Pt},paddingX:{style:Pt},paddingY:{style:Pt},paddingInline:{style:Pt},paddingInlineStart:{style:Pt},paddingInlineEnd:{style:Pt},paddingBlock:{style:Pt},paddingBlockStart:{style:Pt},paddingBlockEnd:{style:Pt},m:{style:jt},mt:{style:jt},mr:{style:jt},mb:{style:jt},ml:{style:jt},mx:{style:jt},my:{style:jt},margin:{style:jt},marginTop:{style:jt},marginRight:{style:jt},marginBottom:{style:jt},marginLeft:{style:jt},marginX:{style:jt},marginY:{style:jt},marginInline:{style:jt},marginInlineStart:{style:jt},marginInlineEnd:{style:jt},marginBlock:{style:jt},marginBlockStart:{style:jt},marginBlockEnd:{style:jt},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Td},rowGap:{style:Rd},columnGap:{style:Od},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Jn},maxWidth:{style:Jy},minWidth:{transform:Jn},height:{transform:Jn},maxHeight:{transform:Jn},minHeight:{transform:Jn},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function QP(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function JP(t,e){return typeof t=="function"?t(e):t}function eM(){function t(n,r,i,o){const u={[n]:r,theme:i},c=o[n];if(!c)return{[n]:r};const{cssProperty:d=n,themeKey:h,transform:m,style:b}=c;if(r==null)return null;if(h==="typography"&&r==="inherit")return{[n]:r};const y=wd(i,h)||{};return b?b(u):$r(u,r,v=>{let w=Zf(y,m,v);return v===w&&typeof v=="string"&&(w=Zf(y,m,`${n}${v==="default"?"":He(v)}`,v)),d===!1?w:{[d]:w}})}function e(n){const{sx:r,theme:i={}}=n||{};if(!r)return null;const o=i.unstable_sxConfig??ku;function u(c){let d=c;if(typeof c=="function")d=c(i);else if(typeof c!="object")return c;if(!d)return null;const h=yT(i.breakpoints),m=Object.keys(h);let b=h;return Object.keys(d).forEach(y=>{const _=JP(d[y],i);if(_!=null)if(typeof _=="object")if(o[y])b=Ql(b,t(y,_,i,o));else{const v=$r({theme:i},_,w=>({[y]:w}));QP(v,_)?b[y]=e({sx:_,theme:i}):b=Ql(b,v)}else b=Ql(b,t(y,_,i,o))}),lP(i,bT(m,b))}return Array.isArray(r)?r.map(u):u(r)}return e}const es=eM();es.filterProps=["sx"];function tM(t,e){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[t])||typeof n.getColorSchemeSelector!="function")return{};let i=n.getColorSchemeSelector(t);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return n.palette.mode===t?e:{}}function Cd(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:o={},...u}=t,c=oP(n),d=_T(i);let h=ln({breakpoints:c,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:d,shape:{...dP,...o}},u);return h=fP(h),h.applyStyles=tM,h=e.reduce((m,b)=>ln(m,b),h),h.unstable_sxConfig={...ku,...u==null?void 0:u.unstable_sxConfig},h.unstable_sx=function(b){return es({sx:b,theme:this})},h}function nM(t){return Object.keys(t).length===0}function rM(t=null){const e=$.useContext(vd);return!e||nM(e)?t:e}const aM=Cd();function Ad(t=aM){return rM(t)}function iM({styles:t,themeId:e,defaultTheme:n={}}){const r=Ad(n),i=typeof t=="function"?t(e&&r[e]||r):t;return X.jsx(nP,{styles:i})}const sM=t=>{var r;const e={systemProps:{},otherProps:{}},n=((r=t==null?void 0:t.theme)==null?void 0:r.unstable_sxConfig)??ku;return Object.keys(t).forEach(i=>{n[i]?e.systemProps[i]=t[i]:e.otherProps[i]=t[i]}),e};function eb(t){const{sx:e,...n}=t,{systemProps:r,otherProps:i}=sM(n);let o;return Array.isArray(e)?o=[r,...e]:typeof e=="function"?o=(...u)=>{const c=e(...u);return Vr(c)?{...r,...c}:r}:o={...r,...e},{...i,sx:o}}const uE=t=>t,oM=()=>{let t=uE;return{configure(e){t=e},generate(e){return t(e)},reset(){t=uE}}},wT=oM();function ST(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=ST(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Me(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=ST(t))&&(r&&(r+=" "),r+=e);return r}function lM(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,o=pT("div",{shouldForwardProp:c=>c!=="theme"&&c!=="sx"&&c!=="as"})(es);return $.forwardRef(function(d,h){const m=Ad(n),{className:b,component:y="div",..._}=eb(d);return X.jsx(o,{as:y,ref:h,className:Me(b,i?i(r):r),theme:e&&m[e]||m,..._})})}const uM={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function pt(t,e,n="Mui"){const r=uM[e];return r?`${n}-${r}`:`${wT.generate(t)}-${e}`}function mt(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=pt(t,i,n)}),r}function ET(t){const{variants:e,...n}=t,r={variants:e,style:aE(n),isProcessed:!0};return r.style===n||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=aE(i.style))}),r}const cM=Cd();function Og(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function fM(t){return t?(e,n)=>n[t]:null}function dM(t,e,n){t.theme=pM(t.theme)?n:t.theme[e]||t.theme}function xf(t,e){const n=typeof e=="function"?e(t):e;if(Array.isArray(n))return n.flatMap(r=>xf(t,r));if(Array.isArray(n==null?void 0:n.variants)){let r;if(n.isProcessed)r=n.style;else{const{variants:i,...o}=n;r=o}return xT(t,n.variants,[r])}return n!=null&&n.isProcessed?n.style:n}function xT(t,e,n=[]){var i;let r;e:for(let o=0;o<e.length;o+=1){const u=e[o];if(typeof u.props=="function"){if(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),!u.props(r))continue}else for(const c in u.props)if(t[c]!==u.props[c]&&((i=t.ownerState)==null?void 0:i[c])!==u.props[c])continue e;typeof u.style=="function"?(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),n.push(u.style(r))):n.push(u.style)}return n}function TT(t={}){const{themeId:e,defaultTheme:n=cM,rootShouldForwardProp:r=Og,slotShouldForwardProp:i=Og}=t;function o(c){dM(c,e,n)}return(c,d={})=>{rP(c,O=>O.filter(j=>j!==es));const{name:h,slot:m,skipVariantsResolver:b,skipSx:y,overridesResolver:_=fM(gM(m)),...v}=d,w=b!==void 0?b:m&&m!=="Root"&&m!=="root"||!1,S=y||!1;let T=Og;m==="Root"||m==="root"?T=r:m?T=i:mM(c)&&(T=void 0);const N=pT(c,{shouldForwardProp:T,label:hM(),...v}),x=O=>{if(typeof O=="function"&&O.__emotion_real!==O)return function(L){return xf(L,O)};if(Vr(O)){const j=ET(O);return j.variants?function(D){return xf(D,j)}:j.style}return O},R=(...O)=>{const j=[],L=O.map(x),D=[];if(j.push(o),h&&_&&D.push(function(J){var I,M;const G=(M=(I=J.theme.components)==null?void 0:I[h])==null?void 0:M.styleOverrides;if(!G)return null;const U={};for(const Z in G)U[Z]=xf(J,G[Z]);return _(J,U)}),h&&!w&&D.push(function(J){var U,I;const ne=J.theme,G=(I=(U=ne==null?void 0:ne.components)==null?void 0:U[h])==null?void 0:I.variants;return G?xT(J,G):null}),S||D.push(es),Array.isArray(L[0])){const F=L.shift(),J=new Array(j.length).fill(""),ne=new Array(D.length).fill("");let G;G=[...J,...F,...ne],G.raw=[...J,...F.raw,...ne],j.unshift(G)}const te=[...j,...L,...D],C=N(...te);return c.muiName&&(C.muiName=c.muiName),C};return N.withConfig&&(R.withConfig=N.withConfig),R}}function hM(t,e){return void 0}function pM(t){for(const e in t)return!1;return!0}function mM(t){return typeof t=="string"&&t.charCodeAt(0)>96}function gM(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}const yM=TT();function Yf(t,e){const n={...e};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const i=r;if(i==="components"||i==="slots")n[i]={...t[i],...n[i]};else if(i==="componentsProps"||i==="slotProps"){const o=t[i],u=e[i];if(!u)n[i]=o||{};else if(!o)n[i]=u;else{n[i]={...u};for(const c in o)if(Object.prototype.hasOwnProperty.call(o,c)){const d=c;n[i][d]=Yf(o[d],u[d])}}}else n[i]===void 0&&(n[i]=t[i])}return n}function bM(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:Yf(e.components[n].defaultProps,r)}function vM({props:t,name:e,defaultTheme:n,themeId:r}){let i=Ad(n);return r&&(i=i[r]||i),bM({theme:i,name:e,props:t})}const Ca=typeof window<"u"?$.useLayoutEffect:$.useEffect;function _M(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}function tb(t,e=0,n=1){return _M(t,e,n)}function wM(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function yi(t){if(t.type)return t;if(t.charAt(0)==="#")return yi(wM(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(Ra(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(Ra(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:n,values:r,colorSpace:i}}const SM=t=>{const e=yi(t);return e.values.slice(0,3).map((n,r)=>e.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},ql=(t,e)=>{try{return SM(t)}catch{return t}};function Nd(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.includes("rgb")?r=r.map((i,o)=>o<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function OT(t){t=yi(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,o=r*Math.min(i,1-i),u=(h,m=(h+n/30)%12)=>i-o*Math.max(Math.min(m-3,9-m,1),-1);let c="rgb";const d=[Math.round(u(0)*255),Math.round(u(8)*255),Math.round(u(4)*255)];return t.type==="hsla"&&(c+="a",d.push(e[3])),Nd({type:c,values:d})}function iy(t){t=yi(t);let e=t.type==="hsl"||t.type==="hsla"?yi(OT(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function EM(t,e){const n=iy(t),r=iy(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function ts(t,e){return t=yi(t),e=tb(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Nd(t)}function lf(t,e,n){try{return ts(t,e)}catch{return t}}function nb(t,e){if(t=yi(t),e=tb(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return Nd(t)}function _t(t,e,n){try{return nb(t,e)}catch{return t}}function rb(t,e){if(t=yi(t),e=tb(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return Nd(t)}function wt(t,e,n){try{return rb(t,e)}catch{return t}}function xM(t,e=.15){return iy(t)>.5?nb(t,e):rb(t,e)}function uf(t,e,n){try{return xM(t,e)}catch{return t}}const TM=$.createContext(),ab=()=>$.useContext(TM)??!1,OM=$.createContext(void 0);function RM(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?Yf(i.defaultProps,r):!i.styleOverrides&&!i.variants?Yf(i,r):r}function CM({props:t,name:e}){const n=$.useContext(OM);return RM({props:t,name:e,theme:{components:n}})}const cE={theme:void 0};function AM(t){let e,n;return function(i){let o=e;return(o===void 0||i.theme!==n)&&(cE.theme=i.theme,o=ET(t(cE)),e=o,n=i.theme),o}}function NM(t=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${t?`${t}-`:""}${r}${e(...i)})`}const fE=(t,e,n,r=[])=>{let i=t;e.forEach((o,u)=>{u===e.length-1?Array.isArray(i)?i[Number(o)]=n:i&&typeof i=="object"&&(i[o]=n):i&&typeof i=="object"&&(i[o]||(i[o]=r.includes(o)?[]:{}),i=i[o])})},kM=(t,e,n)=>{function r(i,o=[],u=[]){Object.entries(i).forEach(([c,d])=>{(!n||n&&!n([...o,c]))&&d!=null&&(typeof d=="object"&&Object.keys(d).length>0?r(d,[...o,c],Array.isArray(d)?[...u,c]:u):e([...o,c],d,u))})}r(t)},IM=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>t.includes(r))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function Rg(t,e){const{prefix:n,shouldSkipGeneratingVar:r}=e||{},i={},o={},u={};return kM(t,(c,d,h)=>{if((typeof d=="string"||typeof d=="number")&&(!r||!r(c,d))){const m=`--${n?`${n}-`:""}${c.join("-")}`,b=IM(c,d);Object.assign(i,{[m]:b}),fE(o,c,`var(${m})`,h),fE(u,c,`var(${m}, ${b})`,h)}},c=>c[0]==="vars"),{css:i,vars:o,varsWithDefaults:u}}function $M(t,e={}){const{getSelector:n=S,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:o={},components:u,defaultColorScheme:c="light",...d}=t,{vars:h,css:m,varsWithDefaults:b}=Rg(d,e);let y=b;const _={},{[c]:v,...w}=o;if(Object.entries(w||{}).forEach(([x,R])=>{const{vars:O,css:j,varsWithDefaults:L}=Rg(R,e);y=ln(y,L),_[x]={css:j,vars:O}}),v){const{css:x,vars:R,varsWithDefaults:O}=Rg(v,e);y=ln(y,O),_[c]={css:x,vars:R}}function S(x,R){var j,L;let O=i;if(i==="class"&&(O=".%s"),i==="data"&&(O="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(O=`[${i}="%s"]`),x){if(O==="media")return t.defaultColorScheme===x?":root":{[`@media (prefers-color-scheme: ${((L=(j=o[x])==null?void 0:j.palette)==null?void 0:L.mode)||x})`]:{":root":R}};if(O)return t.defaultColorScheme===x?`:root, ${O.replace("%s",String(x))}`:O.replace("%s",String(x))}return":root"}return{vars:y,generateThemeVars:()=>{let x={...h};return Object.entries(_).forEach(([,{vars:R}])=>{x=ln(x,R)}),x},generateStyleSheets:()=>{var D,te;const x=[],R=t.defaultColorScheme||"light";function O(C,F){Object.keys(F).length&&x.push(typeof C=="string"?{[C]:{...F}}:C)}O(n(void 0,{...m}),m);const{[R]:j,...L}=_;if(j){const{css:C}=j,F=(te=(D=o[R])==null?void 0:D.palette)==null?void 0:te.mode,J=!r&&F?{colorScheme:F,...C}:{...C};O(n(R,{...J}),J)}return Object.entries(L).forEach(([C,{css:F}])=>{var G,U;const J=(U=(G=o[C])==null?void 0:G.palette)==null?void 0:U.mode,ne=!r&&J?{colorScheme:J,...F}:{...F};O(n(C,{...ne}),ne)}),x}}}function jM(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}function gt(t,e,n=void 0){const r={};for(const i in t){const o=t[i];let u="",c=!0;for(let d=0;d<o.length;d+=1){const h=o[d];h&&(u+=(c===!0?"":" ")+e(h),c=!1,n&&n[h]&&(u+=" "+n[h]))}r[i]=u}return r}function Cg(t,e){var n,r,i;return $.isValidElement(t)&&e.indexOf(t.type.muiName??((i=(r=(n=t.type)==null?void 0:n._payload)==null?void 0:r.value)==null?void 0:i.muiName))!==-1}const PM=Cd(),MM=yM("div",{name:"MuiStack",slot:"Root"});function LM(t){return vM({props:t,name:"MuiStack",defaultTheme:PM})}function DM(t,e){const n=$.Children.toArray(t).filter(Boolean);return n.reduce((r,i,o)=>(r.push(i),o<n.length-1&&r.push($.cloneElement(e,{key:`separator-${o}`})),r),[])}const UM=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],zM=({ownerState:t,theme:e})=>{let n={display:"flex",flexDirection:"column",...$r({theme:e},Tg({values:t.direction,breakpoints:e.breakpoints.values}),r=>({flexDirection:r}))};if(t.spacing){const r=Sd(e),i=Object.keys(e.breakpoints.values).reduce((d,h)=>((typeof t.spacing=="object"&&t.spacing[h]!=null||typeof t.direction=="object"&&t.direction[h]!=null)&&(d[h]=!0),d),{}),o=Tg({values:t.direction,base:i}),u=Tg({values:t.spacing,base:i});typeof o=="object"&&Object.keys(o).forEach((d,h,m)=>{if(!o[d]){const y=h>0?o[m[h-1]]:"column";o[d]=y}}),n=ln(n,$r({theme:e},u,(d,h)=>t.useFlexGap?{gap:Ji(r,d)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${UM(h?o[h]:t.direction)}`]:Ji(r,d)}}))}return n=pP(e.breakpoints,n),n};function BM(t={}){const{createStyledComponent:e=MM,useThemeProps:n=LM,componentName:r="MuiStack"}=t,i=()=>gt({root:["root"]},d=>pt(r,d),{}),o=e(zM);return $.forwardRef(function(d,h){const m=n(d),b=eb(m),{component:y="div",direction:_="column",spacing:v=0,divider:w,children:S,className:T,useFlexGap:N=!1,...x}=b,R={direction:_,spacing:v,useFlexGap:N},O=i();return X.jsx(o,{as:y,ownerState:R,ref:h,className:Me(O.root,T),...x,children:w?DM(S,w):S})})}function RT(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:du.white,default:du.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const HM=RT();function CT(){return{text:{primary:du.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:du.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const dE=CT();function hE(t,e,n,r){const i=r.light||r,o=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=rb(t.main,i):e==="dark"&&(t.dark=nb(t.main,o)))}function qM(t="light"){return t==="dark"?{main:Zs[200],light:Zs[50],dark:Zs[400]}:{main:Zs[700],light:Zs[400],dark:Zs[800]}}function FM(t="light"){return t==="dark"?{main:Vs[200],light:Vs[50],dark:Vs[400]}:{main:Vs[500],light:Vs[300],dark:Vs[700]}}function GM(t="light"){return t==="dark"?{main:Gs[500],light:Gs[300],dark:Gs[700]}:{main:Gs[700],light:Gs[400],dark:Gs[800]}}function VM(t="light"){return t==="dark"?{main:Ys[400],light:Ys[300],dark:Ys[700]}:{main:Ys[700],light:Ys[500],dark:Ys[900]}}function ZM(t="light"){return t==="dark"?{main:Ks[400],light:Ks[300],dark:Ks[700]}:{main:Ks[800],light:Ks[500],dark:Ks[900]}}function YM(t="light"){return t==="dark"?{main:Il[400],light:Il[300],dark:Il[700]}:{main:"#ed6c02",light:Il[500],dark:Il[900]}}function ib(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2,...i}=t,o=t.primary||qM(e),u=t.secondary||FM(e),c=t.error||GM(e),d=t.info||VM(e),h=t.success||ZM(e),m=t.warning||YM(e);function b(w){return EM(w,dE.text.primary)>=n?dE.text.primary:HM.text.primary}const y=({color:w,name:S,mainShade:T=500,lightShade:N=300,darkShade:x=700})=>{if(w={...w},!w.main&&w[T]&&(w.main=w[T]),!w.hasOwnProperty("main"))throw new Error(Ra(11,S?` (${S})`:"",T));if(typeof w.main!="string")throw new Error(Ra(12,S?` (${S})`:"",JSON.stringify(w.main)));return hE(w,"light",N,r),hE(w,"dark",x,r),w.contrastText||(w.contrastText=b(w.main)),w};let _;return e==="light"?_=RT():e==="dark"&&(_=CT()),ln({common:{...du},mode:e,primary:y({color:o,name:"primary"}),secondary:y({color:u,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:y({color:c,name:"error"}),warning:y({color:m,name:"warning"}),info:y({color:d,name:"info"}),success:y({color:h,name:"success"}),grey:rj,contrastThreshold:n,getContrastText:b,augmentColor:y,tonalOffset:r,..._},i)}function KM(t){const e={};return Object.entries(t).forEach(r=>{const[i,o]=r;typeof o=="object"&&(e[i]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),e}function XM(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function WM(t){return Math.round(t*1e5)/1e5}const pE={textTransform:"uppercase"},mE='"Roboto", "Helvetica", "Arial", sans-serif';function QM(t,e){const{fontFamily:n=mE,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:u=500,fontWeightBold:c=700,htmlFontSize:d=16,allVariants:h,pxToRem:m,...b}=typeof e=="function"?e(t):e,y=r/14,_=m||(S=>`${S/d*y}rem`),v=(S,T,N,x,R)=>({fontFamily:n,fontWeight:S,fontSize:_(T),lineHeight:N,...n===mE?{letterSpacing:`${WM(x/T)}em`}:{},...R,...h}),w={h1:v(i,96,1.167,-1.5),h2:v(i,60,1.2,-.5),h3:v(o,48,1.167,0),h4:v(o,34,1.235,.25),h5:v(o,24,1.334,0),h6:v(u,20,1.6,.15),subtitle1:v(o,16,1.75,.15),subtitle2:v(u,14,1.57,.1),body1:v(o,16,1.5,.15),body2:v(o,14,1.43,.15),button:v(u,14,1.75,.4,pE),caption:v(o,12,1.66,.4),overline:v(o,12,2.66,1,pE),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return ln({htmlFontSize:d,pxToRem:_,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:u,fontWeightBold:c,...w},b,{clone:!1})}const JM=.2,e4=.14,t4=.12;function At(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${JM})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${e4})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${t4})`].join(",")}const n4=["none",At(0,2,1,-1,0,1,1,0,0,1,3,0),At(0,3,1,-2,0,2,2,0,0,1,5,0),At(0,3,3,-2,0,3,4,0,0,1,8,0),At(0,2,4,-1,0,4,5,0,0,1,10,0),At(0,3,5,-1,0,5,8,0,0,1,14,0),At(0,3,5,-1,0,6,10,0,0,1,18,0),At(0,4,5,-2,0,7,10,1,0,2,16,1),At(0,5,5,-3,0,8,10,1,0,3,14,2),At(0,5,6,-3,0,9,12,1,0,3,16,2),At(0,6,6,-3,0,10,14,1,0,4,18,3),At(0,6,7,-4,0,11,15,1,0,4,20,3),At(0,7,8,-4,0,12,17,2,0,5,22,4),At(0,7,8,-4,0,13,19,2,0,5,24,4),At(0,7,9,-4,0,14,21,2,0,5,26,4),At(0,8,9,-5,0,15,22,2,0,6,28,5),At(0,8,10,-5,0,16,24,2,0,6,30,5),At(0,8,11,-5,0,17,26,2,0,6,32,5),At(0,9,11,-5,0,18,28,2,0,7,34,6),At(0,9,12,-6,0,19,29,2,0,7,36,6),At(0,10,13,-6,0,20,31,3,0,8,38,7),At(0,10,13,-6,0,21,33,3,0,8,40,7),At(0,10,14,-6,0,22,35,3,0,8,42,7),At(0,11,14,-7,0,23,36,3,0,9,44,8),At(0,11,15,-7,0,24,38,3,0,9,46,8)],r4={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},a4={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function gE(t){return`${Math.round(t)}ms`}function i4(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function s4(t){const e={...r4,...t.easing},n={...a4,...t.duration};return{getAutoHeightDuration:i4,create:(i=["all"],o={})=>{const{duration:u=n.standard,easing:c=e.easeInOut,delay:d=0,...h}=o;return(Array.isArray(i)?i:[i]).map(m=>`${m} ${typeof u=="string"?u:gE(u)} ${c} ${typeof d=="string"?d:gE(d)}`).join(",")},...t,easing:e,duration:n}}const o4={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function l4(t){return Vr(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function AT(t={}){const e={...t};function n(r){const i=Object.entries(r);for(let o=0;o<i.length;o++){const[u,c]=i[o];!l4(c)||u.startsWith("unstable_")?delete r[u]:Vr(c)&&(r[u]={...c},n(r[u]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function sy(t={},...e){const{breakpoints:n,mixins:r={},spacing:i,palette:o={},transitions:u={},typography:c={},shape:d,...h}=t;if(t.vars&&t.generateThemeVars===void 0)throw new Error(Ra(20));const m=ib(o),b=Cd(t);let y=ln(b,{mixins:XM(b.breakpoints,r),palette:m,shadows:n4.slice(),typography:QM(m,c),transitions:s4(u),zIndex:{...o4}});return y=ln(y,h),y=e.reduce((_,v)=>ln(_,v),y),y.unstable_sxConfig={...ku,...h==null?void 0:h.unstable_sxConfig},y.unstable_sx=function(v){return es({sx:v,theme:this})},y.toRuntimeSource=AT,y}function oy(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const u4=[...Array(25)].map((t,e)=>{if(e===0)return"none";const n=oy(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function NT(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function kT(t){return t==="dark"?u4:[]}function c4(t){const{palette:e={mode:"light"},opacity:n,overlays:r,...i}=t,o=ib(e);return{palette:o,opacity:{...NT(o.mode),...n},overlays:r||kT(o.mode),...i}}function f4(t){var e;return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!((e=t[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const d4=t=>[...[...Array(25)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],h4=t=>(e,n)=>{const r=t.rootSelector||":root",i=t.colorSchemeSelector;let o=i;if(i==="class"&&(o=".%s"),i==="data"&&(o="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(o=`[${i}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const u={};return d4(t.cssVarPrefix).forEach(c=>{u[c]=n[c],delete n[c]}),o==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:u}}:o?{[o.replace("%s",e)]:u,[`${r}, ${o.replace("%s",e)}`]:n}:{[r]:{...n,...u}}}if(o&&o!=="media")return`${r}, ${o.replace("%s",String(e))}`}else if(e){if(o==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:n}};if(o)return o.replace("%s",String(e))}return r};function p4(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function re(t,e,n){!t[e]&&n&&(t[e]=n)}function Fl(t){return typeof t!="string"||!t.startsWith("hsl")?t:OT(t)}function va(t,e){`${e}Channel`in t||(t[`${e}Channel`]=ql(Fl(t[e])))}function m4(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const Br=t=>{try{return t()}catch{}},g4=(t="mui")=>NM(t);function Ag(t,e,n,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!n){t[r]=c4({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:o,...u}=sy({...n,palette:{mode:i,...e==null?void 0:e.palette}});return t[r]={...e,palette:o,opacity:{...NT(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||kT(i)},u}function y4(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:o="mui",shouldSkipGeneratingVar:u=f4,colorSchemeSelector:c=n.light&&n.dark?"media":void 0,rootSelector:d=":root",...h}=t,m=Object.keys(n)[0],b=r||(n.light&&m!=="light"?"light":m),y=g4(o),{[b]:_,light:v,dark:w,...S}=n,T={...S};let N=_;if((b==="dark"&&!("dark"in n)||b==="light"&&!("light"in n))&&(N=!0),!N)throw new Error(Ra(21,b));const x=Ag(T,N,h,b);v&&!T.light&&Ag(T,v,void 0,"light"),w&&!T.dark&&Ag(T,w,void 0,"dark");let R={defaultColorScheme:b,...x,cssVarPrefix:o,colorSchemeSelector:c,rootSelector:d,getCssVar:y,colorSchemes:T,font:{...KM(x.typography),...x.font},spacing:m4(h.spacing)};Object.keys(R.colorSchemes).forEach(te=>{const C=R.colorSchemes[te].palette,F=J=>{const ne=J.split("-"),G=ne[1],U=ne[2];return y(J,C[G][U])};if(C.mode==="light"&&(re(C.common,"background","#fff"),re(C.common,"onBackground","#000")),C.mode==="dark"&&(re(C.common,"background","#000"),re(C.common,"onBackground","#fff")),p4(C,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),C.mode==="light"){re(C.Alert,"errorColor",_t(C.error.light,.6)),re(C.Alert,"infoColor",_t(C.info.light,.6)),re(C.Alert,"successColor",_t(C.success.light,.6)),re(C.Alert,"warningColor",_t(C.warning.light,.6)),re(C.Alert,"errorFilledBg",F("palette-error-main")),re(C.Alert,"infoFilledBg",F("palette-info-main")),re(C.Alert,"successFilledBg",F("palette-success-main")),re(C.Alert,"warningFilledBg",F("palette-warning-main")),re(C.Alert,"errorFilledColor",Br(()=>C.getContrastText(C.error.main))),re(C.Alert,"infoFilledColor",Br(()=>C.getContrastText(C.info.main))),re(C.Alert,"successFilledColor",Br(()=>C.getContrastText(C.success.main))),re(C.Alert,"warningFilledColor",Br(()=>C.getContrastText(C.warning.main))),re(C.Alert,"errorStandardBg",wt(C.error.light,.9)),re(C.Alert,"infoStandardBg",wt(C.info.light,.9)),re(C.Alert,"successStandardBg",wt(C.success.light,.9)),re(C.Alert,"warningStandardBg",wt(C.warning.light,.9)),re(C.Alert,"errorIconColor",F("palette-error-main")),re(C.Alert,"infoIconColor",F("palette-info-main")),re(C.Alert,"successIconColor",F("palette-success-main")),re(C.Alert,"warningIconColor",F("palette-warning-main")),re(C.AppBar,"defaultBg",F("palette-grey-100")),re(C.Avatar,"defaultBg",F("palette-grey-400")),re(C.Button,"inheritContainedBg",F("palette-grey-300")),re(C.Button,"inheritContainedHoverBg",F("palette-grey-A100")),re(C.Chip,"defaultBorder",F("palette-grey-400")),re(C.Chip,"defaultAvatarColor",F("palette-grey-700")),re(C.Chip,"defaultIconColor",F("palette-grey-700")),re(C.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),re(C.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),re(C.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),re(C.LinearProgress,"primaryBg",wt(C.primary.main,.62)),re(C.LinearProgress,"secondaryBg",wt(C.secondary.main,.62)),re(C.LinearProgress,"errorBg",wt(C.error.main,.62)),re(C.LinearProgress,"infoBg",wt(C.info.main,.62)),re(C.LinearProgress,"successBg",wt(C.success.main,.62)),re(C.LinearProgress,"warningBg",wt(C.warning.main,.62)),re(C.Skeleton,"bg",`rgba(${F("palette-text-primaryChannel")} / 0.11)`),re(C.Slider,"primaryTrack",wt(C.primary.main,.62)),re(C.Slider,"secondaryTrack",wt(C.secondary.main,.62)),re(C.Slider,"errorTrack",wt(C.error.main,.62)),re(C.Slider,"infoTrack",wt(C.info.main,.62)),re(C.Slider,"successTrack",wt(C.success.main,.62)),re(C.Slider,"warningTrack",wt(C.warning.main,.62));const J=uf(C.background.default,.8);re(C.SnackbarContent,"bg",J),re(C.SnackbarContent,"color",Br(()=>C.getContrastText(J))),re(C.SpeedDialAction,"fabHoverBg",uf(C.background.paper,.15)),re(C.StepConnector,"border",F("palette-grey-400")),re(C.StepContent,"border",F("palette-grey-400")),re(C.Switch,"defaultColor",F("palette-common-white")),re(C.Switch,"defaultDisabledColor",F("palette-grey-100")),re(C.Switch,"primaryDisabledColor",wt(C.primary.main,.62)),re(C.Switch,"secondaryDisabledColor",wt(C.secondary.main,.62)),re(C.Switch,"errorDisabledColor",wt(C.error.main,.62)),re(C.Switch,"infoDisabledColor",wt(C.info.main,.62)),re(C.Switch,"successDisabledColor",wt(C.success.main,.62)),re(C.Switch,"warningDisabledColor",wt(C.warning.main,.62)),re(C.TableCell,"border",wt(lf(C.divider,1),.88)),re(C.Tooltip,"bg",lf(C.grey[700],.92))}if(C.mode==="dark"){re(C.Alert,"errorColor",wt(C.error.light,.6)),re(C.Alert,"infoColor",wt(C.info.light,.6)),re(C.Alert,"successColor",wt(C.success.light,.6)),re(C.Alert,"warningColor",wt(C.warning.light,.6)),re(C.Alert,"errorFilledBg",F("palette-error-dark")),re(C.Alert,"infoFilledBg",F("palette-info-dark")),re(C.Alert,"successFilledBg",F("palette-success-dark")),re(C.Alert,"warningFilledBg",F("palette-warning-dark")),re(C.Alert,"errorFilledColor",Br(()=>C.getContrastText(C.error.dark))),re(C.Alert,"infoFilledColor",Br(()=>C.getContrastText(C.info.dark))),re(C.Alert,"successFilledColor",Br(()=>C.getContrastText(C.success.dark))),re(C.Alert,"warningFilledColor",Br(()=>C.getContrastText(C.warning.dark))),re(C.Alert,"errorStandardBg",_t(C.error.light,.9)),re(C.Alert,"infoStandardBg",_t(C.info.light,.9)),re(C.Alert,"successStandardBg",_t(C.success.light,.9)),re(C.Alert,"warningStandardBg",_t(C.warning.light,.9)),re(C.Alert,"errorIconColor",F("palette-error-main")),re(C.Alert,"infoIconColor",F("palette-info-main")),re(C.Alert,"successIconColor",F("palette-success-main")),re(C.Alert,"warningIconColor",F("palette-warning-main")),re(C.AppBar,"defaultBg",F("palette-grey-900")),re(C.AppBar,"darkBg",F("palette-background-paper")),re(C.AppBar,"darkColor",F("palette-text-primary")),re(C.Avatar,"defaultBg",F("palette-grey-600")),re(C.Button,"inheritContainedBg",F("palette-grey-800")),re(C.Button,"inheritContainedHoverBg",F("palette-grey-700")),re(C.Chip,"defaultBorder",F("palette-grey-700")),re(C.Chip,"defaultAvatarColor",F("palette-grey-300")),re(C.Chip,"defaultIconColor",F("palette-grey-300")),re(C.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),re(C.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),re(C.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),re(C.LinearProgress,"primaryBg",_t(C.primary.main,.5)),re(C.LinearProgress,"secondaryBg",_t(C.secondary.main,.5)),re(C.LinearProgress,"errorBg",_t(C.error.main,.5)),re(C.LinearProgress,"infoBg",_t(C.info.main,.5)),re(C.LinearProgress,"successBg",_t(C.success.main,.5)),re(C.LinearProgress,"warningBg",_t(C.warning.main,.5)),re(C.Skeleton,"bg",`rgba(${F("palette-text-primaryChannel")} / 0.13)`),re(C.Slider,"primaryTrack",_t(C.primary.main,.5)),re(C.Slider,"secondaryTrack",_t(C.secondary.main,.5)),re(C.Slider,"errorTrack",_t(C.error.main,.5)),re(C.Slider,"infoTrack",_t(C.info.main,.5)),re(C.Slider,"successTrack",_t(C.success.main,.5)),re(C.Slider,"warningTrack",_t(C.warning.main,.5));const J=uf(C.background.default,.98);re(C.SnackbarContent,"bg",J),re(C.SnackbarContent,"color",Br(()=>C.getContrastText(J))),re(C.SpeedDialAction,"fabHoverBg",uf(C.background.paper,.15)),re(C.StepConnector,"border",F("palette-grey-600")),re(C.StepContent,"border",F("palette-grey-600")),re(C.Switch,"defaultColor",F("palette-grey-300")),re(C.Switch,"defaultDisabledColor",F("palette-grey-600")),re(C.Switch,"primaryDisabledColor",_t(C.primary.main,.55)),re(C.Switch,"secondaryDisabledColor",_t(C.secondary.main,.55)),re(C.Switch,"errorDisabledColor",_t(C.error.main,.55)),re(C.Switch,"infoDisabledColor",_t(C.info.main,.55)),re(C.Switch,"successDisabledColor",_t(C.success.main,.55)),re(C.Switch,"warningDisabledColor",_t(C.warning.main,.55)),re(C.TableCell,"border",_t(lf(C.divider,1),.68)),re(C.Tooltip,"bg",lf(C.grey[700],.92))}va(C.background,"default"),va(C.background,"paper"),va(C.common,"background"),va(C.common,"onBackground"),va(C,"divider"),Object.keys(C).forEach(J=>{const ne=C[J];J!=="tonalOffset"&&ne&&typeof ne=="object"&&(ne.main&&re(C[J],"mainChannel",ql(Fl(ne.main))),ne.light&&re(C[J],"lightChannel",ql(Fl(ne.light))),ne.dark&&re(C[J],"darkChannel",ql(Fl(ne.dark))),ne.contrastText&&re(C[J],"contrastTextChannel",ql(Fl(ne.contrastText))),J==="text"&&(va(C[J],"primary"),va(C[J],"secondary")),J==="action"&&(ne.active&&va(C[J],"active"),ne.selected&&va(C[J],"selected")))})}),R=e.reduce((te,C)=>ln(te,C),R);const O={prefix:o,disableCssColorScheme:i,shouldSkipGeneratingVar:u,getSelector:h4(R)},{vars:j,generateThemeVars:L,generateStyleSheets:D}=$M(R,O);return R.vars=j,Object.entries(R.colorSchemes[R.defaultColorScheme]).forEach(([te,C])=>{R[te]=C}),R.generateThemeVars=L,R.generateStyleSheets=D,R.generateSpacing=function(){return _T(h.spacing,Sd(this))},R.getColorSchemeSelector=jM(c),R.spacing=R.generateSpacing(),R.shouldSkipGeneratingVar=u,R.unstable_sxConfig={...ku,...h==null?void 0:h.unstable_sxConfig},R.unstable_sx=function(C){return es({sx:C,theme:this})},R.toRuntimeSource=AT,R}function yE(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:ib({...n===!0?{}:n.palette,mode:e})})}function IT(t={},...e){const{palette:n,cssVariables:r=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:o=n==null?void 0:n.mode,...u}=t,c=o||"light",d=i==null?void 0:i[c],h={...i,...n?{[c]:{...typeof d!="boolean"&&d,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in t))return sy(t,...e);let m=n;"palette"in t||h[c]&&(h[c]!==!0?m=h[c].palette:c==="dark"&&(m={mode:"dark"}));const b=sy({...t,palette:m},...e);return b.defaultColorScheme=c,b.colorSchemes=h,b.palette.mode==="light"&&(b.colorSchemes.light={...h.light!==!0&&h.light,palette:b.palette},yE(b,"dark",h.dark)),b.palette.mode==="dark"&&(b.colorSchemes.dark={...h.dark!==!0&&h.dark,palette:b.palette},yE(b,"light",h.light)),b}return!n&&!("light"in h)&&c==="light"&&(h.light=!0),y4({...u,colorSchemes:h,defaultColorScheme:c,...typeof r!="boolean"&&r},...e)}const sb=IT();function kd(){const t=Ad(sb);return t[md]||t}function $T(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const ea=t=>$T(t)&&t!=="classes",Ee=TT({themeId:md,defaultTheme:sb,rootShouldForwardProp:ea});function bE(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function b4(t){return X.jsx(iM,{...t,defaultTheme:sb,themeId:md})}function ob(t){return function(n){return X.jsx(b4,{styles:typeof t=="function"?r=>t({theme:r,...n}):t})}}function v4(){return eb}const Tt=AM;function yt(t){return CM(t)}function _4(t){return pt("MuiSvgIcon",t)}mt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const w4=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${He(e)}`,`fontSize${He(n)}`]};return gt(i,_4,r)},S4=Ee("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${He(n.color)}`],e[`fontSize${He(n.fontSize)}`]]}})(Tt(({theme:t})=>{var e,n,r,i,o,u,c,d,h,m,b,y,_,v;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(e=t.transitions)==null?void 0:e.create)==null?void 0:i.call(e,"fill",{duration:(r=(n=(t.vars??t).transitions)==null?void 0:n.duration)==null?void 0:r.shorter}),variants:[{props:w=>!w.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((u=(o=t.typography)==null?void 0:o.pxToRem)==null?void 0:u.call(o,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((d=(c=t.typography)==null?void 0:c.pxToRem)==null?void 0:d.call(c,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((m=(h=t.typography)==null?void 0:h.pxToRem)==null?void 0:m.call(h,35))||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,w])=>w&&w.main).map(([w])=>{var S,T;return{props:{color:w},style:{color:(T=(S=(t.vars??t).palette)==null?void 0:S[w])==null?void 0:T.main}}}),{props:{color:"action"},style:{color:(y=(b=(t.vars??t).palette)==null?void 0:b.action)==null?void 0:y.active}},{props:{color:"disabled"},style:{color:(v=(_=(t.vars??t).palette)==null?void 0:_.action)==null?void 0:v.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),ly=$.forwardRef(function(e,n){const r=yt({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:u="inherit",component:c="svg",fontSize:d="medium",htmlColor:h,inheritViewBox:m=!1,titleAccess:b,viewBox:y="0 0 24 24",..._}=r,v=$.isValidElement(i)&&i.type==="svg",w={...r,color:u,component:c,fontSize:d,instanceFontSize:e.fontSize,inheritViewBox:m,viewBox:y,hasSvgAsChild:v},S={};m||(S.viewBox=y);const T=w4(w);return X.jsxs(S4,{as:c,className:Me(T.root,o),focusable:"false",color:h,"aria-hidden":b?void 0:!0,role:b?"img":void 0,ref:n,...S,..._,...v&&i.props,ownerState:w,children:[v?i.props.children:i,b?X.jsx("title",{children:b}):null]})});ly.muiName="SvgIcon";function Iu(t,e){function n(r,i){return X.jsx(ly,{"data-testid":void 0,ref:i,...r,children:t})}return n.muiName=ly.muiName,$.memo($.forwardRef(n))}function jT(t,e=166){let n;function r(...i){const o=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(o,e)}return r.clear=()=>{clearTimeout(n)},r}function rr(t){return t&&t.ownerDocument||document}function Aa(t){return rr(t).defaultView||window}function vE(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let _E=0;function E4(t){const[e,n]=$.useState(t),r=t||e;return $.useEffect(()=>{e==null&&(_E+=1,n(`mui-${_E}`))},[e]),r}const x4={...$g},wE=x4.useId;function Id(t){if(wE!==void 0){const e=wE();return t??e}return E4(t)}function uy(t){const{controlled:e,default:n,name:r,state:i="value"}=t,{current:o}=$.useRef(e!==void 0),[u,c]=$.useState(n),d=o?e:u,h=$.useCallback(m=>{o||c(m)},[]);return[d,h]}function Ta(t){const e=$.useRef(t);return Ca(()=>{e.current=t}),$.useRef((...n)=>(0,e.current)(...n)).current}function gn(...t){const e=$.useRef(void 0),n=$.useCallback(r=>{const i=t.map(o=>{if(o==null)return null;if(typeof o=="function"){const u=o,c=u(r);return typeof c=="function"?c:()=>{u(null)}}return o.current=r,()=>{o.current=null}});return()=>{i.forEach(o=>o==null?void 0:o())}},t);return $.useMemo(()=>t.every(r=>r==null)?null:r=>{e.current&&(e.current(),e.current=void 0),r!=null&&(e.current=n(r))},t)}function T4(t,e){const n=t.charCodeAt(2);return t[0]==="o"&&t[1]==="n"&&n>=65&&n<=90&&typeof e=="function"}function O4(t,e){if(!t)return e;function n(u,c){const d={};return Object.keys(c).forEach(h=>{T4(h,c[h])&&typeof u[h]=="function"&&(d[h]=(...m)=>{u[h](...m),c[h](...m)})}),d}if(typeof t=="function"||typeof e=="function")return u=>{const c=typeof e=="function"?e(u):e,d=typeof t=="function"?t({...u,...c}):t,h=Me(u==null?void 0:u.className,c==null?void 0:c.className,d==null?void 0:d.className),m=n(d,c);return{...c,...d,...m,...!!h&&{className:h},...(c==null?void 0:c.style)&&(d==null?void 0:d.style)&&{style:{...c.style,...d.style}},...(c==null?void 0:c.sx)&&(d==null?void 0:d.sx)&&{sx:[...Array.isArray(c.sx)?c.sx:[c.sx],...Array.isArray(d.sx)?d.sx:[d.sx]]}}};const r=e,i=n(t,r),o=Me(r==null?void 0:r.className,t==null?void 0:t.className);return{...e,...t,...i,...!!o&&{className:o},...(r==null?void 0:r.style)&&(t==null?void 0:t.style)&&{style:{...r.style,...t.style}},...(r==null?void 0:r.sx)&&(t==null?void 0:t.sx)&&{sx:[...Array.isArray(r.sx)?r.sx:[r.sx],...Array.isArray(t.sx)?t.sx:[t.sx]]}}}function PT(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function cy(t,e){return cy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},cy(t,e)}function MT(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,cy(t,e)}var LT=nx();const cf=vi(LT),SE={disabled:!1},Kf=Zr.createContext(null);var R4=function(e){return e.scrollTop},Gl="unmounted",Bi="exited",Hi="entering",Qs="entered",fy="exiting",ta=function(t){MT(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var u=i,c=u&&!u.isMounting?r.enter:r.appear,d;return o.appearStatus=null,r.in?c?(d=Bi,o.appearStatus=Hi):d=Qs:r.unmountOnExit||r.mountOnEnter?d=Gl:d=Bi,o.state={status:d},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var u=i.in;return u&&o.status===Gl?{status:Bi}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var u=this.state.status;this.props.in?u!==Hi&&u!==Qs&&(o=Hi):(u===Hi||u===Qs)&&(o=fy)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,u,c;return o=u=c=i,i!=null&&typeof i!="number"&&(o=i.exit,u=i.enter,c=i.appear!==void 0?i.appear:u),{exit:o,enter:u,appear:c}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===Hi){if(this.props.unmountOnExit||this.props.mountOnEnter){var u=this.props.nodeRef?this.props.nodeRef.current:cf.findDOMNode(this);u&&R4(u)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Bi&&this.setState({status:Gl})},n.performEnter=function(i){var o=this,u=this.props.enter,c=this.context?this.context.isMounting:i,d=this.props.nodeRef?[c]:[cf.findDOMNode(this),c],h=d[0],m=d[1],b=this.getTimeouts(),y=c?b.appear:b.enter;if(!i&&!u||SE.disabled){this.safeSetState({status:Qs},function(){o.props.onEntered(h)});return}this.props.onEnter(h,m),this.safeSetState({status:Hi},function(){o.props.onEntering(h,m),o.onTransitionEnd(y,function(){o.safeSetState({status:Qs},function(){o.props.onEntered(h,m)})})})},n.performExit=function(){var i=this,o=this.props.exit,u=this.getTimeouts(),c=this.props.nodeRef?void 0:cf.findDOMNode(this);if(!o||SE.disabled){this.safeSetState({status:Bi},function(){i.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:fy},function(){i.props.onExiting(c),i.onTransitionEnd(u.exit,function(){i.safeSetState({status:Bi},function(){i.props.onExited(c)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,u=!0;return this.nextCallback=function(c){u&&(u=!1,o.nextCallback=null,i(c))},this.nextCallback.cancel=function(){u=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var u=this.props.nodeRef?this.props.nodeRef.current:cf.findDOMNode(this),c=i==null&&!this.props.addEndListener;if(!u||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var d=this.props.nodeRef?[this.nextCallback]:[u,this.nextCallback],h=d[0],m=d[1];this.props.addEndListener(h,m)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Gl)return null;var o=this.props,u=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var c=PT(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Zr.createElement(Kf.Provider,{value:null},typeof u=="function"?u(i,c):Zr.cloneElement(Zr.Children.only(u),c))},e}(Zr.Component);ta.contextType=Kf;ta.propTypes={};function Xs(){}ta.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Xs,onEntering:Xs,onEntered:Xs,onExit:Xs,onExiting:Xs,onExited:Xs};ta.UNMOUNTED=Gl;ta.EXITED=Bi;ta.ENTERING=Hi;ta.ENTERED=Qs;ta.EXITING=fy;function C4(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lb(t,e){var n=function(o){return e&&$.isValidElement(o)?e(o):o},r=Object.create(null);return t&&$.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function A4(t,e){t=t||{},e=e||{};function n(m){return m in e?e[m]:t[m]}var r=Object.create(null),i=[];for(var o in t)o in e?i.length&&(r[o]=i,i=[]):i.push(o);var u,c={};for(var d in e){if(r[d])for(u=0;u<r[d].length;u++){var h=r[d][u];c[r[d][u]]=n(h)}c[d]=n(d)}for(u=0;u<i.length;u++)c[i[u]]=n(i[u]);return c}function Gi(t,e,n){return n[e]!=null?n[e]:t.props[e]}function N4(t,e){return lb(t.children,function(n){return $.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:Gi(n,"appear",t),enter:Gi(n,"enter",t),exit:Gi(n,"exit",t)})})}function k4(t,e,n){var r=lb(t.children),i=A4(e,r);return Object.keys(i).forEach(function(o){var u=i[o];if($.isValidElement(u)){var c=o in e,d=o in r,h=e[o],m=$.isValidElement(h)&&!h.props.in;d&&(!c||m)?i[o]=$.cloneElement(u,{onExited:n.bind(null,u),in:!0,exit:Gi(u,"exit",t),enter:Gi(u,"enter",t)}):!d&&c&&!m?i[o]=$.cloneElement(u,{in:!1}):d&&c&&$.isValidElement(h)&&(i[o]=$.cloneElement(u,{onExited:n.bind(null,u),in:h.props.in,exit:Gi(u,"exit",t),enter:Gi(u,"enter",t)}))}}),i}var I4=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},$4={component:"div",childFactory:function(e){return e}},ub=function(t){MT(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var u=o.handleExited.bind(C4(o));return o.state={contextValue:{isMounting:!0},handleExited:u,firstRender:!0},o}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,o){var u=o.children,c=o.handleExited,d=o.firstRender;return{children:d?N4(i,c):k4(i,u,c),firstRender:!1}},n.handleExited=function(i,o){var u=lb(this.props.children);i.key in u||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(c){var d=Gf({},c.children);return delete d[i.key],{children:d}}))},n.render=function(){var i=this.props,o=i.component,u=i.childFactory,c=PT(i,["component","childFactory"]),d=this.state.contextValue,h=I4(this.state.children).map(u);return delete c.appear,delete c.enter,delete c.exit,o===null?Zr.createElement(Kf.Provider,{value:d},h):Zr.createElement(Kf.Provider,{value:d},Zr.createElement(o,c,h))},e}(Zr.Component);ub.propTypes={};ub.defaultProps=$4;const EE={};function DT(t,e){const n=$.useRef(EE);return n.current===EE&&(n.current=t(e)),n}const j4=[];function P4(t){$.useEffect(t,j4)}class $d{constructor(){pr(this,"currentId",null);pr(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});pr(this,"disposeEffect",()=>this.clear)}static create(){return new $d}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function ao(){const t=DT($d.create).current;return P4(t.disposeEffect),t}const UT=t=>t.scrollTop;function Xf(t,e){const{timeout:n,easing:r,style:i={}}=t;return{duration:i.transitionDuration??(typeof n=="number"?n:n[e.mode]||0),easing:i.transitionTimingFunction??(typeof r=="object"?r[e.mode]:r),delay:i.transitionDelay}}function M4(t){return pt("MuiPaper",t)}mt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const L4=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,o={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return gt(o,M4,i)},D4=Ee("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(Tt(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(t.vars||t).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),U4=$.forwardRef(function(e,n){var _;const r=yt({props:e,name:"MuiPaper"}),i=kd(),{className:o,component:u="div",elevation:c=1,square:d=!1,variant:h="elevation",...m}=r,b={...r,component:u,elevation:c,square:d,variant:h},y=L4(b);return X.jsx(D4,{as:u,ownerState:b,className:Me(y.root,o),ref:n,...m,style:{...h==="elevation"&&{"--Paper-shadow":(i.vars||i).shadows[c],...i.vars&&{"--Paper-overlay":(_=i.vars.overlays)==null?void 0:_[c]},...!i.vars&&i.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${ts("#fff",oy(c))}, ${ts("#fff",oy(c))})`}},...m.style}})});function z4(t){return typeof t=="string"}function zT(t,e,n){return t===void 0||z4(t)?e:{...e,ownerState:{...e.ownerState,...n}}}function BT(t,e,n){return typeof t=="function"?t(e,n):t}function HT(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function xE(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function qT(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=t;if(!e){const _=Me(n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),v={...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},w={...n,...i,...r};return _.length>0&&(w.className=_),Object.keys(v).length>0&&(w.style=v),{props:w,internalRef:void 0}}const u=HT({...i,...r}),c=xE(r),d=xE(i),h=e(u),m=Me(h==null?void 0:h.className,n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),b={...h==null?void 0:h.style,...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},y={...h,...n,...d,...c};return m.length>0&&(y.className=m),Object.keys(b).length>0&&(y.style=b),{props:y,internalRef:h.ref}}function kt(t,e){const{className:n,elementType:r,ownerState:i,externalForwardedProps:o,internalForwardedProps:u,shouldForwardComponentProp:c=!1,...d}=e,{component:h,slots:m={[t]:void 0},slotProps:b={[t]:void 0},...y}=o,_=m[t]||r,v=BT(b[t],i),{props:{component:w,...S},internalRef:T}=qT({className:n,...d,externalForwardedProps:t==="root"?y:void 0,externalSlotProps:v}),N=gn(T,v==null?void 0:v.ref,e.ref),x=t==="root"?w||h:w,R=zT(_,{...t==="root"&&!h&&!m[t]&&u,...t!=="root"&&!m[t]&&u,...S,...x&&!c&&{as:x},...x&&c&&{component:x},ref:N},i);return[_,R]}function Wf(t){try{return t.matches(":focus-visible")}catch{}return!1}class Qf{constructor(){pr(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new Qf}static use(){const e=DT(Qf.create).current,[n,r]=$.useState(!1);return e.shouldMount=n,e.setShouldMount=r,$.useEffect(e.mountEffect,[n]),e}mount(){return this.mounted||(this.mounted=H4(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.start(...e)})}stop(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.stop(...e)})}pulsate(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.pulsate(...e)})}}function B4(){return Qf.use()}function H4(){let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n}function q4(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:o,rippleSize:u,in:c,onExited:d,timeout:h}=t,[m,b]=$.useState(!1),y=Me(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),_={width:u,height:u,top:-(u/2)+o,left:-(u/2)+i},v=Me(n.child,m&&n.childLeaving,r&&n.childPulsate);return!c&&!m&&b(!0),$.useEffect(()=>{if(!c&&d!=null){const w=setTimeout(d,h);return()=>{clearTimeout(w)}}},[d,c,h]),X.jsx("span",{className:y,style:_,children:X.jsx("span",{className:v})})}const gr=mt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),dy=550,F4=80,G4=Au`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,V4=Au`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,Z4=Au`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,Y4=Ee("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),K4=Ee(q4,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${gr.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${G4};
    animation-duration: ${dy}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  &.${gr.ripplePulsate} {
    animation-duration: ${({theme:t})=>t.transitions.duration.shorter}ms;
  }

  & .${gr.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${gr.childLeaving} {
    opacity: 0;
    animation-name: ${V4};
    animation-duration: ${dy}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  & .${gr.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${Z4};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,X4=$.forwardRef(function(e,n){const r=yt({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:u,...c}=r,[d,h]=$.useState([]),m=$.useRef(0),b=$.useRef(null);$.useEffect(()=>{b.current&&(b.current(),b.current=null)},[d]);const y=$.useRef(!1),_=ao(),v=$.useRef(null),w=$.useRef(null),S=$.useCallback(R=>{const{pulsate:O,rippleX:j,rippleY:L,rippleSize:D,cb:te}=R;h(C=>[...C,X.jsx(K4,{classes:{ripple:Me(o.ripple,gr.ripple),rippleVisible:Me(o.rippleVisible,gr.rippleVisible),ripplePulsate:Me(o.ripplePulsate,gr.ripplePulsate),child:Me(o.child,gr.child),childLeaving:Me(o.childLeaving,gr.childLeaving),childPulsate:Me(o.childPulsate,gr.childPulsate)},timeout:dy,pulsate:O,rippleX:j,rippleY:L,rippleSize:D},m.current)]),m.current+=1,b.current=te},[o]),T=$.useCallback((R={},O={},j=()=>{})=>{const{pulsate:L=!1,center:D=i||O.pulsate,fakeElement:te=!1}=O;if((R==null?void 0:R.type)==="mousedown"&&y.current){y.current=!1;return}(R==null?void 0:R.type)==="touchstart"&&(y.current=!0);const C=te?null:w.current,F=C?C.getBoundingClientRect():{width:0,height:0,left:0,top:0};let J,ne,G;if(D||R===void 0||R.clientX===0&&R.clientY===0||!R.clientX&&!R.touches)J=Math.round(F.width/2),ne=Math.round(F.height/2);else{const{clientX:U,clientY:I}=R.touches&&R.touches.length>0?R.touches[0]:R;J=Math.round(U-F.left),ne=Math.round(I-F.top)}if(D)G=Math.sqrt((2*F.width**2+F.height**2)/3),G%2===0&&(G+=1);else{const U=Math.max(Math.abs((C?C.clientWidth:0)-J),J)*2+2,I=Math.max(Math.abs((C?C.clientHeight:0)-ne),ne)*2+2;G=Math.sqrt(U**2+I**2)}R!=null&&R.touches?v.current===null&&(v.current=()=>{S({pulsate:L,rippleX:J,rippleY:ne,rippleSize:G,cb:j})},_.start(F4,()=>{v.current&&(v.current(),v.current=null)})):S({pulsate:L,rippleX:J,rippleY:ne,rippleSize:G,cb:j})},[i,S,_]),N=$.useCallback(()=>{T({},{pulsate:!0})},[T]),x=$.useCallback((R,O)=>{if(_.clear(),(R==null?void 0:R.type)==="touchend"&&v.current){v.current(),v.current=null,_.start(0,()=>{x(R,O)});return}v.current=null,h(j=>j.length>0?j.slice(1):j),b.current=O},[_]);return $.useImperativeHandle(n,()=>({pulsate:N,start:T,stop:x}),[N,T,x]),X.jsx(Y4,{className:Me(gr.root,o.root,u),ref:w,...c,children:X.jsx(ub,{component:null,exit:!0,children:d})})});function W4(t){return pt("MuiButtonBase",t)}const Q4=mt("MuiButtonBase",["root","disabled","focusVisible"]),J4=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,u=gt({root:["root",e&&"disabled",n&&"focusVisible"]},W4,i);return n&&r&&(u.root+=` ${r}`),u},eL=Ee("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Q4.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),tL=$.forwardRef(function(e,n){const r=yt({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:u,className:c,component:d="button",disabled:h=!1,disableRipple:m=!1,disableTouchRipple:b=!1,focusRipple:y=!1,focusVisibleClassName:_,LinkComponent:v="a",onBlur:w,onClick:S,onContextMenu:T,onDragLeave:N,onFocus:x,onFocusVisible:R,onKeyDown:O,onKeyUp:j,onMouseDown:L,onMouseLeave:D,onMouseUp:te,onTouchEnd:C,onTouchMove:F,onTouchStart:J,tabIndex:ne=0,TouchRippleProps:G,touchRippleRef:U,type:I,...M}=r,Z=$.useRef(null),B=B4(),k=gn(B.ref,U),[H,W]=$.useState(!1);h&&H&&W(!1),$.useImperativeHandle(i,()=>({focusVisible:()=>{W(!0),Z.current.focus()}}),[]);const ee=B.shouldMount&&!m&&!h;$.useEffect(()=>{H&&y&&!m&&B.pulsate()},[m,y,H,B]);const oe=_a(B,"start",L,b),le=_a(B,"stop",T,b),fe=_a(B,"stop",N,b),he=_a(B,"stop",te,b),me=_a(B,"stop",ve=>{H&&ve.preventDefault(),D&&D(ve)},b),Oe=_a(B,"start",J,b),ge=_a(B,"stop",C,b),Ne=_a(B,"stop",F,b),Ce=_a(B,"stop",ve=>{Wf(ve.target)||W(!1),w&&w(ve)},!1),it=Ta(ve=>{Z.current||(Z.current=ve.currentTarget),Wf(ve.target)&&(W(!0),R&&R(ve)),x&&x(ve)}),Ae=()=>{const ve=Z.current;return d&&d!=="button"&&!(ve.tagName==="A"&&ve.href)},Ye=Ta(ve=>{y&&!ve.repeat&&H&&ve.key===" "&&B.stop(ve,()=>{B.start(ve)}),ve.target===ve.currentTarget&&Ae()&&ve.key===" "&&ve.preventDefault(),O&&O(ve),ve.target===ve.currentTarget&&Ae()&&ve.key==="Enter"&&!h&&(ve.preventDefault(),S&&S(ve))}),Lt=Ta(ve=>{y&&ve.key===" "&&H&&!ve.defaultPrevented&&B.stop(ve,()=>{B.pulsate(ve)}),j&&j(ve),S&&ve.target===ve.currentTarget&&Ae()&&ve.key===" "&&!ve.defaultPrevented&&S(ve)});let Ge=d;Ge==="button"&&(M.href||M.to)&&(Ge=v);const bt={};Ge==="button"?(bt.type=I===void 0?"button":I,bt.disabled=h):(!M.href&&!M.to&&(bt.role="button"),h&&(bt["aria-disabled"]=h));const Zt=gn(n,Z),st={...r,centerRipple:o,component:d,disabled:h,disableRipple:m,disableTouchRipple:b,focusRipple:y,tabIndex:ne,focusVisible:H},Xe=J4(st);return X.jsxs(eL,{as:Ge,className:Me(Xe.root,c),ownerState:st,onBlur:Ce,onClick:S,onContextMenu:le,onFocus:it,onKeyDown:Ye,onKeyUp:Lt,onMouseDown:oe,onMouseLeave:me,onMouseUp:he,onDragLeave:fe,onTouchEnd:ge,onTouchMove:Ne,onTouchStart:Oe,ref:Zt,tabIndex:h?-1:ne,type:I,...bt,...M,children:[u,ee?X.jsx(X4,{ref:k,center:o,...G}):null]})});function _a(t,e,n,r=!1){return Ta(i=>(n&&n(i),r||t[e](i),!0))}function nL(t){return typeof t.main=="string"}function rL(t,e=[]){if(!nL(t))return!1;for(const n of e)if(!t.hasOwnProperty(n)||typeof t[n]!="string")return!1;return!0}function bi(t=[]){return([,e])=>e&&rL(e,t)}function aL(t){return pt("MuiCircularProgress",t)}mt("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const ri=44,hy=Au`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,py=Au`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,iL=typeof hy!="string"?Xy`
        animation: ${hy} 1.4s linear infinite;
      `:null,sL=typeof py!="string"?Xy`
        animation: ${py} 1.4s ease-in-out infinite;
      `:null,oL=t=>{const{classes:e,variant:n,color:r,disableShrink:i}=t,o={root:["root",n,`color${He(r)}`],svg:["svg"],circle:["circle",`circle${He(n)}`,i&&"circleDisableShrink"]};return gt(o,aL,e)},lL=Ee("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${He(n.color)}`]]}})(Tt(({theme:t})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:iL||{animation:`${hy} 1.4s linear infinite`}},...Object.entries(t.palette).filter(bi()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}}))]}))),uL=Ee("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),cL=Ee("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${He(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(Tt(({theme:t})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:sL||{animation:`${py} 1.4s ease-in-out infinite`}}]}))),fL=$.forwardRef(function(e,n){const r=yt({props:e,name:"MuiCircularProgress"}),{className:i,color:o="primary",disableShrink:u=!1,size:c=40,style:d,thickness:h=3.6,value:m=0,variant:b="indeterminate",...y}=r,_={...r,color:o,disableShrink:u,size:c,thickness:h,value:m,variant:b},v=oL(_),w={},S={},T={};if(b==="determinate"){const N=2*Math.PI*((ri-h)/2);w.strokeDasharray=N.toFixed(3),T["aria-valuenow"]=Math.round(m),w.strokeDashoffset=`${((100-m)/100*N).toFixed(3)}px`,S.transform="rotate(-90deg)"}return X.jsx(lL,{className:Me(v.root,i),style:{width:c,height:c,...S,...d},ownerState:_,ref:n,role:"progressbar",...T,...y,children:X.jsx(uL,{className:v.svg,ownerState:_,viewBox:`${ri/2} ${ri/2} ${ri} ${ri}`,children:X.jsx(cL,{className:v.circle,style:w,ownerState:_,cx:ri,cy:ri,r:(ri-h)/2,fill:"none",strokeWidth:h})})})});function dL(t){return pt("MuiIconButton",t)}const TE=mt("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),hL=t=>{const{classes:e,disabled:n,color:r,edge:i,size:o,loading:u}=t,c={root:["root",u&&"loading",n&&"disabled",r!=="default"&&`color${He(r)}`,i&&`edge${He(i)}`,`size${He(o)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return gt(c,dL,e)},pL=Ee(tL,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.loading&&e.loading,n.color!=="default"&&e[`color${He(n.color)}`],n.edge&&e[`edge${He(n.edge)}`],e[`size${He(n.size)}`]]}})(Tt(({theme:t})=>({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:ts(t.palette.action.active,t.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),Tt(({theme:t})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(bi()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),...Object.entries(t.palette).filter(bi()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":t.vars?`rgba(${(t.vars||t).palette[e].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:ts((t.vars||t).palette[e].main,t.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],[`&.${TE.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled},[`&.${TE.loading}`]:{color:"transparent"}}))),mL=Ee("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(t.vars||t).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),FT=$.forwardRef(function(e,n){const r=yt({props:e,name:"MuiIconButton"}),{edge:i=!1,children:o,className:u,color:c="default",disabled:d=!1,disableFocusRipple:h=!1,size:m="medium",id:b,loading:y=null,loadingIndicator:_,...v}=r,w=Id(b),S=_??X.jsx(fL,{"aria-labelledby":w,color:"inherit",size:16}),T={...r,edge:i,color:c,disabled:d,disableFocusRipple:h,loading:y,loadingIndicator:S,size:m},N=hL(T);return X.jsxs(pL,{id:y?w:b,className:Me(N.root,u),centerRipple:!0,focusRipple:!h,disabled:d||y,ref:n,...v,ownerState:T,children:[typeof y=="boolean"&&X.jsx("span",{className:N.loadingWrapper,style:{display:"contents"},children:X.jsx(mL,{className:N.loadingIndicator,ownerState:T,children:y&&S})}),o]})});function gL(t){return pt("MuiTypography",t)}mt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const yL={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},bL=v4(),vL=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:u}=t,c={root:["root",o,t.align!=="inherit"&&`align${He(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return gt(c,gL,u)},_L=Ee("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${He(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(Tt(({theme:t})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([n,r])=>n!=="inherit"&&r&&typeof r=="object").map(([n,r])=>({props:{variant:n},style:r})),...Object.entries(t.palette).filter(bi()).map(([n])=>({props:{color:n},style:{color:(t.vars||t).palette[n].main}})),...Object.entries(((e=t.palette)==null?void 0:e.text)||{}).filter(([,n])=>typeof n=="string").map(([n])=>({props:{color:`text${He(n)}`},style:{color:(t.vars||t).palette.text[n]}})),{props:({ownerState:n})=>n.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:n})=>n.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:n})=>n.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:n})=>n.paragraph,style:{marginBottom:16}}]}})),OE={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},li=$.forwardRef(function(e,n){const{color:r,...i}=yt({props:e,name:"MuiTypography"}),o=!yL[r],u=bL({...i,...o&&{color:r}}),{align:c="inherit",className:d,component:h,gutterBottom:m=!1,noWrap:b=!1,paragraph:y=!1,variant:_="body1",variantMapping:v=OE,...w}=u,S={...u,align:c,color:r,className:d,component:h,gutterBottom:m,noWrap:b,paragraph:y,variant:_,variantMapping:v},T=h||(y?"p":v[_]||OE[_])||"span",N=vL(S);return X.jsx(_L,{as:T,ref:n,className:Me(N.root,d),...w,ownerState:S,style:{...c!=="inherit"&&{"--Typography-textAlign":c},...w.style}})});var Un="top",_r="bottom",wr="right",zn="left",cb="auto",$u=[Un,_r,wr,zn],yo="start",gu="end",wL="clippingParents",GT="viewport",jl="popper",SL="reference",RE=$u.reduce(function(t,e){return t.concat([e+"-"+yo,e+"-"+gu])},[]),VT=[].concat($u,[cb]).reduce(function(t,e){return t.concat([e,e+"-"+yo,e+"-"+gu])},[]),EL="beforeRead",xL="read",TL="afterRead",OL="beforeMain",RL="main",CL="afterMain",AL="beforeWrite",NL="write",kL="afterWrite",IL=[EL,xL,TL,OL,RL,CL,AL,NL,kL];function Qr(t){return t?(t.nodeName||"").toLowerCase():null}function ar(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function ns(t){var e=ar(t).Element;return t instanceof e||t instanceof Element}function br(t){var e=ar(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function fb(t){if(typeof ShadowRoot>"u")return!1;var e=ar(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function $L(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},o=e.elements[n];!br(o)||!Qr(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(u){var c=i[u];c===!1?o.removeAttribute(u):o.setAttribute(u,c===!0?"":c)}))})}function jL(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},u=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),c=u.reduce(function(d,h){return d[h]="",d},{});!br(i)||!Qr(i)||(Object.assign(i.style,c),Object.keys(o).forEach(function(d){i.removeAttribute(d)}))})}}const PL={name:"applyStyles",enabled:!0,phase:"write",fn:$L,effect:jL,requires:["computeStyles"]};function Wr(t){return t.split("-")[0]}var Yi=Math.max,Jf=Math.min,bo=Math.round;function my(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function ZT(){return!/^((?!chrome|android).)*safari/i.test(my())}function vo(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,o=1;e&&br(t)&&(i=t.offsetWidth>0&&bo(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&bo(r.height)/t.offsetHeight||1);var u=ns(t)?ar(t):window,c=u.visualViewport,d=!ZT()&&n,h=(r.left+(d&&c?c.offsetLeft:0))/i,m=(r.top+(d&&c?c.offsetTop:0))/o,b=r.width/i,y=r.height/o;return{width:b,height:y,top:m,right:h+b,bottom:m+y,left:h,x:h,y:m}}function db(t){var e=vo(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function YT(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&fb(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Na(t){return ar(t).getComputedStyle(t)}function ML(t){return["table","td","th"].indexOf(Qr(t))>=0}function _i(t){return((ns(t)?t.ownerDocument:t.document)||window.document).documentElement}function jd(t){return Qr(t)==="html"?t:t.assignedSlot||t.parentNode||(fb(t)?t.host:null)||_i(t)}function CE(t){return!br(t)||Na(t).position==="fixed"?null:t.offsetParent}function LL(t){var e=/firefox/i.test(my()),n=/Trident/i.test(my());if(n&&br(t)){var r=Na(t);if(r.position==="fixed")return null}var i=jd(t);for(fb(i)&&(i=i.host);br(i)&&["html","body"].indexOf(Qr(i))<0;){var o=Na(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function ju(t){for(var e=ar(t),n=CE(t);n&&ML(n)&&Na(n).position==="static";)n=CE(n);return n&&(Qr(n)==="html"||Qr(n)==="body"&&Na(n).position==="static")?e:n||LL(t)||e}function hb(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Jl(t,e,n){return Yi(t,Jf(e,n))}function DL(t,e,n){var r=Jl(t,e,n);return r>n?n:r}function KT(){return{top:0,right:0,bottom:0,left:0}}function XT(t){return Object.assign({},KT(),t)}function WT(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var UL=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,XT(typeof e!="number"?e:WT(e,$u))};function zL(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,u=n.modifiersData.popperOffsets,c=Wr(n.placement),d=hb(c),h=[zn,wr].indexOf(c)>=0,m=h?"height":"width";if(!(!o||!u)){var b=UL(i.padding,n),y=db(o),_=d==="y"?Un:zn,v=d==="y"?_r:wr,w=n.rects.reference[m]+n.rects.reference[d]-u[d]-n.rects.popper[m],S=u[d]-n.rects.reference[d],T=ju(o),N=T?d==="y"?T.clientHeight||0:T.clientWidth||0:0,x=w/2-S/2,R=b[_],O=N-y[m]-b[v],j=N/2-y[m]/2+x,L=Jl(R,j,O),D=d;n.modifiersData[r]=(e={},e[D]=L,e.centerOffset=L-j,e)}}function BL(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||YT(e.elements.popper,i)&&(e.elements.arrow=i))}const HL={name:"arrow",enabled:!0,phase:"main",fn:zL,effect:BL,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function _o(t){return t.split("-")[1]}var qL={top:"auto",right:"auto",bottom:"auto",left:"auto"};function FL(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:bo(n*i)/i||0,y:bo(r*i)/i||0}}function AE(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,u=t.offsets,c=t.position,d=t.gpuAcceleration,h=t.adaptive,m=t.roundOffsets,b=t.isFixed,y=u.x,_=y===void 0?0:y,v=u.y,w=v===void 0?0:v,S=typeof m=="function"?m({x:_,y:w}):{x:_,y:w};_=S.x,w=S.y;var T=u.hasOwnProperty("x"),N=u.hasOwnProperty("y"),x=zn,R=Un,O=window;if(h){var j=ju(n),L="clientHeight",D="clientWidth";if(j===ar(n)&&(j=_i(n),Na(j).position!=="static"&&c==="absolute"&&(L="scrollHeight",D="scrollWidth")),j=j,i===Un||(i===zn||i===wr)&&o===gu){R=_r;var te=b&&j===O&&O.visualViewport?O.visualViewport.height:j[L];w-=te-r.height,w*=d?1:-1}if(i===zn||(i===Un||i===_r)&&o===gu){x=wr;var C=b&&j===O&&O.visualViewport?O.visualViewport.width:j[D];_-=C-r.width,_*=d?1:-1}}var F=Object.assign({position:c},h&&qL),J=m===!0?FL({x:_,y:w},ar(n)):{x:_,y:w};if(_=J.x,w=J.y,d){var ne;return Object.assign({},F,(ne={},ne[R]=N?"0":"",ne[x]=T?"0":"",ne.transform=(O.devicePixelRatio||1)<=1?"translate("+_+"px, "+w+"px)":"translate3d("+_+"px, "+w+"px, 0)",ne))}return Object.assign({},F,(e={},e[R]=N?w+"px":"",e[x]=T?_+"px":"",e.transform="",e))}function GL(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,u=o===void 0?!0:o,c=n.roundOffsets,d=c===void 0?!0:c,h={placement:Wr(e.placement),variation:_o(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,AE(Object.assign({},h,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:u,roundOffsets:d})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,AE(Object.assign({},h,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const VL={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:GL,data:{}};var ff={passive:!0};function ZL(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,u=r.resize,c=u===void 0?!0:u,d=ar(e.elements.popper),h=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&h.forEach(function(m){m.addEventListener("scroll",n.update,ff)}),c&&d.addEventListener("resize",n.update,ff),function(){o&&h.forEach(function(m){m.removeEventListener("scroll",n.update,ff)}),c&&d.removeEventListener("resize",n.update,ff)}}const YL={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:ZL,data:{}};var KL={left:"right",right:"left",bottom:"top",top:"bottom"};function Tf(t){return t.replace(/left|right|bottom|top/g,function(e){return KL[e]})}var XL={start:"end",end:"start"};function NE(t){return t.replace(/start|end/g,function(e){return XL[e]})}function pb(t){var e=ar(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function mb(t){return vo(_i(t)).left+pb(t).scrollLeft}function WL(t,e){var n=ar(t),r=_i(t),i=n.visualViewport,o=r.clientWidth,u=r.clientHeight,c=0,d=0;if(i){o=i.width,u=i.height;var h=ZT();(h||!h&&e==="fixed")&&(c=i.offsetLeft,d=i.offsetTop)}return{width:o,height:u,x:c+mb(t),y:d}}function QL(t){var e,n=_i(t),r=pb(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=Yi(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),u=Yi(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),c=-r.scrollLeft+mb(t),d=-r.scrollTop;return Na(i||n).direction==="rtl"&&(c+=Yi(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:u,x:c,y:d}}function gb(t){var e=Na(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function QT(t){return["html","body","#document"].indexOf(Qr(t))>=0?t.ownerDocument.body:br(t)&&gb(t)?t:QT(jd(t))}function eu(t,e){var n;e===void 0&&(e=[]);var r=QT(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=ar(r),u=i?[o].concat(o.visualViewport||[],gb(r)?r:[]):r,c=e.concat(u);return i?c:c.concat(eu(jd(u)))}function gy(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function JL(t,e){var n=vo(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function kE(t,e,n){return e===GT?gy(WL(t,n)):ns(e)?JL(e,n):gy(QL(_i(t)))}function eD(t){var e=eu(jd(t)),n=["absolute","fixed"].indexOf(Na(t).position)>=0,r=n&&br(t)?ju(t):t;return ns(r)?e.filter(function(i){return ns(i)&&YT(i,r)&&Qr(i)!=="body"}):[]}function tD(t,e,n,r){var i=e==="clippingParents"?eD(t):[].concat(e),o=[].concat(i,[n]),u=o[0],c=o.reduce(function(d,h){var m=kE(t,h,r);return d.top=Yi(m.top,d.top),d.right=Jf(m.right,d.right),d.bottom=Jf(m.bottom,d.bottom),d.left=Yi(m.left,d.left),d},kE(t,u,r));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function JT(t){var e=t.reference,n=t.element,r=t.placement,i=r?Wr(r):null,o=r?_o(r):null,u=e.x+e.width/2-n.width/2,c=e.y+e.height/2-n.height/2,d;switch(i){case Un:d={x:u,y:e.y-n.height};break;case _r:d={x:u,y:e.y+e.height};break;case wr:d={x:e.x+e.width,y:c};break;case zn:d={x:e.x-n.width,y:c};break;default:d={x:e.x,y:e.y}}var h=i?hb(i):null;if(h!=null){var m=h==="y"?"height":"width";switch(o){case yo:d[h]=d[h]-(e[m]/2-n[m]/2);break;case gu:d[h]=d[h]+(e[m]/2-n[m]/2);break}}return d}function yu(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,o=n.strategy,u=o===void 0?t.strategy:o,c=n.boundary,d=c===void 0?wL:c,h=n.rootBoundary,m=h===void 0?GT:h,b=n.elementContext,y=b===void 0?jl:b,_=n.altBoundary,v=_===void 0?!1:_,w=n.padding,S=w===void 0?0:w,T=XT(typeof S!="number"?S:WT(S,$u)),N=y===jl?SL:jl,x=t.rects.popper,R=t.elements[v?N:y],O=tD(ns(R)?R:R.contextElement||_i(t.elements.popper),d,m,u),j=vo(t.elements.reference),L=JT({reference:j,element:x,placement:i}),D=gy(Object.assign({},x,L)),te=y===jl?D:j,C={top:O.top-te.top+T.top,bottom:te.bottom-O.bottom+T.bottom,left:O.left-te.left+T.left,right:te.right-O.right+T.right},F=t.modifiersData.offset;if(y===jl&&F){var J=F[i];Object.keys(C).forEach(function(ne){var G=[wr,_r].indexOf(ne)>=0?1:-1,U=[Un,_r].indexOf(ne)>=0?"y":"x";C[ne]+=J[U]*G})}return C}function nD(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,u=n.padding,c=n.flipVariations,d=n.allowedAutoPlacements,h=d===void 0?VT:d,m=_o(r),b=m?c?RE:RE.filter(function(v){return _o(v)===m}):$u,y=b.filter(function(v){return h.indexOf(v)>=0});y.length===0&&(y=b);var _=y.reduce(function(v,w){return v[w]=yu(t,{placement:w,boundary:i,rootBoundary:o,padding:u})[Wr(w)],v},{});return Object.keys(_).sort(function(v,w){return _[v]-_[w]})}function rD(t){if(Wr(t)===cb)return[];var e=Tf(t);return[NE(t),e,NE(e)]}function aD(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,u=n.altAxis,c=u===void 0?!0:u,d=n.fallbackPlacements,h=n.padding,m=n.boundary,b=n.rootBoundary,y=n.altBoundary,_=n.flipVariations,v=_===void 0?!0:_,w=n.allowedAutoPlacements,S=e.options.placement,T=Wr(S),N=T===S,x=d||(N||!v?[Tf(S)]:rD(S)),R=[S].concat(x).reduce(function(oe,le){return oe.concat(Wr(le)===cb?nD(e,{placement:le,boundary:m,rootBoundary:b,padding:h,flipVariations:v,allowedAutoPlacements:w}):le)},[]),O=e.rects.reference,j=e.rects.popper,L=new Map,D=!0,te=R[0],C=0;C<R.length;C++){var F=R[C],J=Wr(F),ne=_o(F)===yo,G=[Un,_r].indexOf(J)>=0,U=G?"width":"height",I=yu(e,{placement:F,boundary:m,rootBoundary:b,altBoundary:y,padding:h}),M=G?ne?wr:zn:ne?_r:Un;O[U]>j[U]&&(M=Tf(M));var Z=Tf(M),B=[];if(o&&B.push(I[J]<=0),c&&B.push(I[M]<=0,I[Z]<=0),B.every(function(oe){return oe})){te=F,D=!1;break}L.set(F,B)}if(D)for(var k=v?3:1,H=function(le){var fe=R.find(function(he){var me=L.get(he);if(me)return me.slice(0,le).every(function(Oe){return Oe})});if(fe)return te=fe,"break"},W=k;W>0;W--){var ee=H(W);if(ee==="break")break}e.placement!==te&&(e.modifiersData[r]._skip=!0,e.placement=te,e.reset=!0)}}const iD={name:"flip",enabled:!0,phase:"main",fn:aD,requiresIfExists:["offset"],data:{_skip:!1}};function IE(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function $E(t){return[Un,wr,_r,zn].some(function(e){return t[e]>=0})}function sD(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,u=yu(e,{elementContext:"reference"}),c=yu(e,{altBoundary:!0}),d=IE(u,r),h=IE(c,i,o),m=$E(d),b=$E(h);e.modifiersData[n]={referenceClippingOffsets:d,popperEscapeOffsets:h,isReferenceHidden:m,hasPopperEscaped:b},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":m,"data-popper-escaped":b})}const oD={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:sD};function lD(t,e,n){var r=Wr(t),i=[zn,Un].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,u=o[0],c=o[1];return u=u||0,c=(c||0)*i,[zn,wr].indexOf(r)>=0?{x:c,y:u}:{x:u,y:c}}function uD(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,u=VT.reduce(function(m,b){return m[b]=lD(b,e.rects,o),m},{}),c=u[e.placement],d=c.x,h=c.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=d,e.modifiersData.popperOffsets.y+=h),e.modifiersData[r]=u}const cD={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:uD};function fD(t){var e=t.state,n=t.name;e.modifiersData[n]=JT({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const dD={name:"popperOffsets",enabled:!0,phase:"read",fn:fD,data:{}};function hD(t){return t==="x"?"y":"x"}function pD(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=i===void 0?!0:i,u=n.altAxis,c=u===void 0?!1:u,d=n.boundary,h=n.rootBoundary,m=n.altBoundary,b=n.padding,y=n.tether,_=y===void 0?!0:y,v=n.tetherOffset,w=v===void 0?0:v,S=yu(e,{boundary:d,rootBoundary:h,padding:b,altBoundary:m}),T=Wr(e.placement),N=_o(e.placement),x=!N,R=hb(T),O=hD(R),j=e.modifiersData.popperOffsets,L=e.rects.reference,D=e.rects.popper,te=typeof w=="function"?w(Object.assign({},e.rects,{placement:e.placement})):w,C=typeof te=="number"?{mainAxis:te,altAxis:te}:Object.assign({mainAxis:0,altAxis:0},te),F=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,J={x:0,y:0};if(j){if(o){var ne,G=R==="y"?Un:zn,U=R==="y"?_r:wr,I=R==="y"?"height":"width",M=j[R],Z=M+S[G],B=M-S[U],k=_?-D[I]/2:0,H=N===yo?L[I]:D[I],W=N===yo?-D[I]:-L[I],ee=e.elements.arrow,oe=_&&ee?db(ee):{width:0,height:0},le=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:KT(),fe=le[G],he=le[U],me=Jl(0,L[I],oe[I]),Oe=x?L[I]/2-k-me-fe-C.mainAxis:H-me-fe-C.mainAxis,ge=x?-L[I]/2+k+me+he+C.mainAxis:W+me+he+C.mainAxis,Ne=e.elements.arrow&&ju(e.elements.arrow),Ce=Ne?R==="y"?Ne.clientTop||0:Ne.clientLeft||0:0,it=(ne=F==null?void 0:F[R])!=null?ne:0,Ae=M+Oe-it-Ce,Ye=M+ge-it,Lt=Jl(_?Jf(Z,Ae):Z,M,_?Yi(B,Ye):B);j[R]=Lt,J[R]=Lt-M}if(c){var Ge,bt=R==="x"?Un:zn,Zt=R==="x"?_r:wr,st=j[O],Xe=O==="y"?"height":"width",ve=st+S[bt],un=st-S[Zt],Ot=[Un,zn].indexOf(T)!==-1,Hn=(Ge=F==null?void 0:F[O])!=null?Ge:0,yn=Ot?ve:st-L[Xe]-D[Xe]-Hn+C.altAxis,St=Ot?st+L[Xe]+D[Xe]-Hn-C.altAxis:un,Bt=_&&Ot?DL(yn,st,St):Jl(_?yn:ve,st,_?St:un);j[O]=Bt,J[O]=Bt-st}e.modifiersData[r]=J}}const mD={name:"preventOverflow",enabled:!0,phase:"main",fn:pD,requiresIfExists:["offset"]};function gD(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function yD(t){return t===ar(t)||!br(t)?pb(t):gD(t)}function bD(t){var e=t.getBoundingClientRect(),n=bo(e.width)/t.offsetWidth||1,r=bo(e.height)/t.offsetHeight||1;return n!==1||r!==1}function vD(t,e,n){n===void 0&&(n=!1);var r=br(e),i=br(e)&&bD(e),o=_i(e),u=vo(t,i,n),c={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(r||!r&&!n)&&((Qr(e)!=="body"||gb(o))&&(c=yD(e)),br(e)?(d=vo(e,!0),d.x+=e.clientLeft,d.y+=e.clientTop):o&&(d.x=mb(o))),{x:u.left+c.scrollLeft-d.x,y:u.top+c.scrollTop-d.y,width:u.width,height:u.height}}function _D(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var u=[].concat(o.requires||[],o.requiresIfExists||[]);u.forEach(function(c){if(!n.has(c)){var d=e.get(c);d&&i(d)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function wD(t){var e=_D(t);return IL.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function SD(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function ED(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var jE={placement:"bottom",modifiers:[],strategy:"absolute"};function PE(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function xD(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?jE:i;return function(c,d,h){h===void 0&&(h=o);var m={placement:"bottom",orderedModifiers:[],options:Object.assign({},jE,o),modifiersData:{},elements:{reference:c,popper:d},attributes:{},styles:{}},b=[],y=!1,_={state:m,setOptions:function(T){var N=typeof T=="function"?T(m.options):T;w(),m.options=Object.assign({},o,m.options,N),m.scrollParents={reference:ns(c)?eu(c):c.contextElement?eu(c.contextElement):[],popper:eu(d)};var x=wD(ED([].concat(r,m.options.modifiers)));return m.orderedModifiers=x.filter(function(R){return R.enabled}),v(),_.update()},forceUpdate:function(){if(!y){var T=m.elements,N=T.reference,x=T.popper;if(PE(N,x)){m.rects={reference:vD(N,ju(x),m.options.strategy==="fixed"),popper:db(x)},m.reset=!1,m.placement=m.options.placement,m.orderedModifiers.forEach(function(C){return m.modifiersData[C.name]=Object.assign({},C.data)});for(var R=0;R<m.orderedModifiers.length;R++){if(m.reset===!0){m.reset=!1,R=-1;continue}var O=m.orderedModifiers[R],j=O.fn,L=O.options,D=L===void 0?{}:L,te=O.name;typeof j=="function"&&(m=j({state:m,options:D,name:te,instance:_})||m)}}}},update:SD(function(){return new Promise(function(S){_.forceUpdate(),S(m)})}),destroy:function(){w(),y=!0}};if(!PE(c,d))return _;_.setOptions(h).then(function(S){!y&&h.onFirstUpdate&&h.onFirstUpdate(S)});function v(){m.orderedModifiers.forEach(function(S){var T=S.name,N=S.options,x=N===void 0?{}:N,R=S.effect;if(typeof R=="function"){var O=R({state:m,name:T,instance:_,options:x}),j=function(){};b.push(O||j)}})}function w(){b.forEach(function(S){return S()}),b=[]}return _}}var TD=[YL,dD,VL,PL,cD,iD,mD,HL,oD],OD=xD({defaultModifiers:TD});function eO(t){var b;const{elementType:e,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:i=!1,...o}=t,u=i?{}:BT(n,r),{props:c,internalRef:d}=qT({...o,externalSlotProps:u}),h=gn(d,u==null?void 0:u.ref,(b=t.additionalProps)==null?void 0:b.ref);return zT(e,{...c,ref:h},r)}function Co(t){var e;return parseInt($.version,10)>=19?((e=t==null?void 0:t.props)==null?void 0:e.ref)||null:(t==null?void 0:t.ref)||null}function RD(t){return typeof t=="function"?t():t}const tO=$.forwardRef(function(e,n){const{children:r,container:i,disablePortal:o=!1}=e,[u,c]=$.useState(null),d=gn($.isValidElement(r)?Co(r):null,n);if(Ca(()=>{o||c(RD(i)||document.body)},[i,o]),Ca(()=>{if(u&&!o)return vE(n,u),()=>{vE(n,null)}},[n,u,o]),o){if($.isValidElement(r)){const h={ref:d};return $.cloneElement(r,h)}return r}return u&&LT.createPortal(r,u)});function CD(t){return pt("MuiPopper",t)}mt("MuiPopper",["root"]);function AD(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function yy(t){return typeof t=="function"?t():t}function ND(t){return t.nodeType!==void 0}const kD=t=>{const{classes:e}=t;return gt({root:["root"]},CD,e)},ID={},$D=$.forwardRef(function(e,n){const{anchorEl:r,children:i,direction:o,disablePortal:u,modifiers:c,open:d,placement:h,popperOptions:m,popperRef:b,slotProps:y={},slots:_={},TransitionProps:v,ownerState:w,...S}=e,T=$.useRef(null),N=gn(T,n),x=$.useRef(null),R=gn(x,b),O=$.useRef(R);Ca(()=>{O.current=R},[R]),$.useImperativeHandle(b,()=>x.current,[]);const j=AD(h,o),[L,D]=$.useState(j),[te,C]=$.useState(yy(r));$.useEffect(()=>{x.current&&x.current.forceUpdate()}),$.useEffect(()=>{r&&C(yy(r))},[r]),Ca(()=>{if(!te||!d)return;const U=Z=>{D(Z.placement)};let I=[{name:"preventOverflow",options:{altBoundary:u}},{name:"flip",options:{altBoundary:u}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:Z})=>{U(Z)}}];c!=null&&(I=I.concat(c)),m&&m.modifiers!=null&&(I=I.concat(m.modifiers));const M=OD(te,T.current,{placement:j,...m,modifiers:I});return O.current(M),()=>{M.destroy(),O.current(null)}},[te,u,c,d,m,j]);const F={placement:L};v!==null&&(F.TransitionProps=v);const J=kD(e),ne=_.root??"div",G=eO({elementType:ne,externalSlotProps:y.root,externalForwardedProps:S,additionalProps:{role:"tooltip",ref:N},ownerState:e,className:J.root});return X.jsx(ne,{...G,children:typeof i=="function"?i(F):i})}),jD=$.forwardRef(function(e,n){const{anchorEl:r,children:i,container:o,direction:u="ltr",disablePortal:c=!1,keepMounted:d=!1,modifiers:h,open:m,placement:b="bottom",popperOptions:y=ID,popperRef:_,style:v,transition:w=!1,slotProps:S={},slots:T={},...N}=e,[x,R]=$.useState(!0),O=()=>{R(!1)},j=()=>{R(!0)};if(!d&&!m&&(!w||x))return null;let L;if(o)L=o;else if(r){const C=yy(r);L=C&&ND(C)?rr(C).body:rr(null).body}const D=!m&&d&&(!w||x)?"none":void 0,te=w?{in:m,onEnter:O,onExited:j}:void 0;return X.jsx(tO,{disablePortal:c,container:L,children:X.jsx($D,{anchorEl:r,direction:u,disablePortal:c,modifiers:h,ref:n,open:w?!x:m,placement:b,popperOptions:y,popperRef:_,slotProps:S,slots:T,...N,style:{position:"fixed",top:0,left:0,display:D,...v},TransitionProps:te,children:i})})}),PD=Ee(jD,{name:"MuiPopper",slot:"Root"})({}),nO=$.forwardRef(function(e,n){const r=ab(),i=yt({props:e,name:"MuiPopper"}),{anchorEl:o,component:u,components:c,componentsProps:d,container:h,disablePortal:m,keepMounted:b,modifiers:y,open:_,placement:v,popperOptions:w,popperRef:S,transition:T,slots:N,slotProps:x,...R}=i,O=(N==null?void 0:N.root)??(c==null?void 0:c.Root),j={anchorEl:o,container:h,disablePortal:m,keepMounted:b,modifiers:y,open:_,placement:v,popperOptions:w,popperRef:S,transition:T,...R};return X.jsx(PD,{as:u,direction:r?"rtl":"ltr",slots:{root:O},slotProps:x??d,...j,ref:n})});function df(t){return parseInt(t,10)||0}const MD={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function LD(t){for(const e in t)return!1;return!0}function ME(t){return LD(t)||t.outerHeightStyle===0&&!t.overflowing}const DD=$.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:o=1,style:u,value:c,...d}=e,{current:h}=$.useRef(c!=null),m=$.useRef(null),b=gn(n,m),y=$.useRef(null),_=$.useRef(null),v=$.useCallback(()=>{const x=m.current,R=_.current;if(!x||!R)return;const j=Aa(x).getComputedStyle(x);if(j.width==="0px")return{outerHeightStyle:0,overflowing:!1};R.style.width=j.width,R.value=x.value||e.placeholder||"x",R.value.slice(-1)===`
`&&(R.value+=" ");const L=j.boxSizing,D=df(j.paddingBottom)+df(j.paddingTop),te=df(j.borderBottomWidth)+df(j.borderTopWidth),C=R.scrollHeight;R.value="x";const F=R.scrollHeight;let J=C;o&&(J=Math.max(Number(o)*F,J)),i&&(J=Math.min(Number(i)*F,J)),J=Math.max(J,F);const ne=J+(L==="border-box"?D+te:0),G=Math.abs(J-C)<=1;return{outerHeightStyle:ne,overflowing:G}},[i,o,e.placeholder]),w=Ta(()=>{const x=m.current,R=v();if(!x||!R||ME(R))return!1;const O=R.outerHeightStyle;return y.current!=null&&y.current!==O}),S=$.useCallback(()=>{const x=m.current,R=v();if(!x||!R||ME(R))return;const O=R.outerHeightStyle;y.current!==O&&(y.current=O,x.style.height=`${O}px`),x.style.overflow=R.overflowing?"hidden":""},[v]),T=$.useRef(-1);Ca(()=>{const x=jT(S),R=m==null?void 0:m.current;if(!R)return;const O=Aa(R);O.addEventListener("resize",x);let j;return typeof ResizeObserver<"u"&&(j=new ResizeObserver(()=>{w()&&(j.unobserve(R),cancelAnimationFrame(T.current),S(),T.current=requestAnimationFrame(()=>{j.observe(R)}))}),j.observe(R)),()=>{x.clear(),cancelAnimationFrame(T.current),O.removeEventListener("resize",x),j&&j.disconnect()}},[v,S,w]),Ca(()=>{S()});const N=x=>{h||S();const R=x.target,O=R.value.length,j=R.value.endsWith(`
`),L=R.selectionStart===O;j&&L&&R.setSelectionRange(O,O),r&&r(x)};return X.jsxs($.Fragment,{children:[X.jsx("textarea",{value:c,onChange:N,ref:b,rows:o,style:u,...d}),X.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:_,tabIndex:-1,style:{...MD.shadow,...u,paddingTop:0,paddingBottom:0}})]})});function by(t){return typeof t=="string"}function Ao({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const Pd=$.createContext(void 0);function rs(){return $.useContext(Pd)}function LE(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function ed(t,e=!1){return t&&(LE(t.value)&&t.value!==""||e&&LE(t.defaultValue)&&t.defaultValue!=="")}function UD(t){return t.startAdornment}function zD(t){return pt("MuiInputBase",t)}const wo=mt("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var DE;const Md=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${He(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},Ld=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},BD=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:o,focused:u,formControl:c,fullWidth:d,hiddenLabel:h,multiline:m,readOnly:b,size:y,startAdornment:_,type:v}=t,w={root:["root",`color${He(n)}`,r&&"disabled",i&&"error",d&&"fullWidth",u&&"focused",c&&"formControl",y&&y!=="medium"&&`size${He(y)}`,m&&"multiline",_&&"adornedStart",o&&"adornedEnd",h&&"hiddenLabel",b&&"readOnly"],input:["input",r&&"disabled",v==="search"&&"inputTypeSearch",m&&"inputMultiline",y==="small"&&"inputSizeSmall",h&&"inputHiddenLabel",_&&"inputAdornedStart",o&&"inputAdornedEnd",b&&"readOnly"]};return gt(w,zD,e)},Dd=Ee("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Md})(Tt(({theme:t})=>({...t.typography.body1,color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${wo.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:n})=>e.multiline&&n==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),Ud=Ee("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Ld})(Tt(({theme:t})=>{const e=t.palette.mode==="light",n={color:"currentColor",...t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})},r={opacity:"0 !important"},i=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${wo.formControl} &`]:{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${wo.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},variants:[{props:({ownerState:o})=>!o.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:o})=>o.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),UE=ob({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),yb=$.forwardRef(function(e,n){const r=yt({props:e,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:o,autoFocus:u,className:c,color:d,components:h={},componentsProps:m={},defaultValue:b,disabled:y,disableInjectingGlobalStyles:_,endAdornment:v,error:w,fullWidth:S=!1,id:T,inputComponent:N="input",inputProps:x={},inputRef:R,margin:O,maxRows:j,minRows:L,multiline:D=!1,name:te,onBlur:C,onChange:F,onClick:J,onFocus:ne,onKeyDown:G,onKeyUp:U,placeholder:I,readOnly:M,renderSuffix:Z,rows:B,size:k,slotProps:H={},slots:W={},startAdornment:ee,type:oe="text",value:le,...fe}=r,he=x.value!=null?x.value:le,{current:me}=$.useRef(he!=null),Oe=$.useRef(),ge=$.useCallback(Ue=>{},[]),Ne=gn(Oe,R,x.ref,ge),[Ce,it]=$.useState(!1),Ae=rs(),Ye=Ao({props:r,muiFormControl:Ae,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Ye.focused=Ae?Ae.focused:Ce,$.useEffect(()=>{!Ae&&y&&Ce&&(it(!1),C&&C())},[Ae,y,Ce,C]);const Lt=Ae&&Ae.onFilled,Ge=Ae&&Ae.onEmpty,bt=$.useCallback(Ue=>{ed(Ue)?Lt&&Lt():Ge&&Ge()},[Lt,Ge]);Ca(()=>{me&&bt({value:he})},[he,bt,me]);const Zt=Ue=>{ne&&ne(Ue),x.onFocus&&x.onFocus(Ue),Ae&&Ae.onFocus?Ae.onFocus(Ue):it(!0)},st=Ue=>{C&&C(Ue),x.onBlur&&x.onBlur(Ue),Ae&&Ae.onBlur?Ae.onBlur(Ue):it(!1)},Xe=(Ue,...An)=>{if(!me){const Jt=Ue.target||Oe.current;if(Jt==null)throw new Error(Ra(1));bt({value:Jt.value})}x.onChange&&x.onChange(Ue,...An),F&&F(Ue,...An)};$.useEffect(()=>{bt(Oe.current)},[]);const ve=Ue=>{Oe.current&&Ue.currentTarget===Ue.target&&Oe.current.focus(),J&&J(Ue)};let un=N,Ot=x;D&&un==="input"&&(B?Ot={type:void 0,minRows:B,maxRows:B,...Ot}:Ot={type:void 0,maxRows:j,minRows:L,...Ot},un=DD);const Hn=Ue=>{bt(Ue.animationName==="mui-auto-fill-cancel"?Oe.current:{value:"x"})};$.useEffect(()=>{Ae&&Ae.setAdornedStart(!!ee)},[Ae,ee]);const yn={...r,color:Ye.color||"primary",disabled:Ye.disabled,endAdornment:v,error:Ye.error,focused:Ye.focused,formControl:Ae,fullWidth:S,hiddenLabel:Ye.hiddenLabel,multiline:D,size:Ye.size,startAdornment:ee,type:oe},St=BD(yn),Bt=W.root||h.Root||Dd,Et=H.root||m.root||{},qn=W.input||h.Input||Ud;return Ot={...Ot,...H.input??m.input},X.jsxs($.Fragment,{children:[!_&&typeof UE=="function"&&(DE||(DE=X.jsx(UE,{}))),X.jsxs(Bt,{...Et,ref:n,onClick:ve,...fe,...!by(Bt)&&{ownerState:{...yn,...Et.ownerState}},className:Me(St.root,Et.className,c,M&&"MuiInputBase-readOnly"),children:[ee,X.jsx(Pd.Provider,{value:null,children:X.jsx(qn,{"aria-invalid":Ye.error,"aria-describedby":i,autoComplete:o,autoFocus:u,defaultValue:b,disabled:Ye.disabled,id:T,onAnimationStart:Hn,name:te,placeholder:I,readOnly:M,required:Ye.required,rows:B,value:he,onKeyDown:G,onKeyUp:U,type:oe,...Ot,...!by(qn)&&{as:un,ownerState:{...yn,...Ot.ownerState}},ref:Ne,className:Me(St.input,Ot.className,M&&"MuiInputBase-readOnly"),onBlur:st,onChange:Xe,onFocus:Zt})}),v,Z?Z({...Ye,startAdornment:ee}):null]})]})});function HD(t){return pt("MuiInput",t)}const Pl={...wo,...mt("MuiInput",["root","underline","input"])};function qD(t){return pt("MuiOutlinedInput",t)}const Hr={...wo,...mt("MuiOutlinedInput",["root","notchedOutline","input"])};function FD(t){return pt("MuiFilledInput",t)}const zi={...wo,...mt("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},GD=Iu(X.jsx("path",{d:"M7 10l5 5 5-5z"})),VD=Iu(X.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}));function ZD(t){return pt("MuiAvatar",t)}mt("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const YD=t=>{const{classes:e,variant:n,colorDefault:r}=t;return gt({root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]},ZD,e)},KD=Ee("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.colorDefault&&e.colorDefault]}})(Tt(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(t.vars||t).palette.background.default,...t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:t.palette.grey[400],...t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})}}}]}))),XD=Ee("img",{name:"MuiAvatar",slot:"Img"})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),WD=Ee(VD,{name:"MuiAvatar",slot:"Fallback"})({width:"75%",height:"75%"});function QD({crossOrigin:t,referrerPolicy:e,src:n,srcSet:r}){const[i,o]=$.useState(!1);return $.useEffect(()=>{if(!n&&!r)return;o(!1);let u=!0;const c=new Image;return c.onload=()=>{u&&o("loaded")},c.onerror=()=>{u&&o("error")},c.crossOrigin=t,c.referrerPolicy=e,c.src=n,r&&(c.srcset=r),()=>{u=!1}},[t,e,n,r]),i}const JD=$.forwardRef(function(e,n){const r=yt({props:e,name:"MuiAvatar"}),{alt:i,children:o,className:u,component:c="div",slots:d={},slotProps:h={},imgProps:m,sizes:b,src:y,srcSet:_,variant:v="circular",...w}=r;let S=null;const T={...r,component:c,variant:v},N=QD({...m,...typeof h.img=="function"?h.img(T):h.img,src:y,srcSet:_}),x=y||_,R=x&&N!=="error";T.colorDefault=!R,delete T.ownerState;const O=YD(T),[j,L]=kt("root",{ref:n,className:Me(O.root,u),elementType:KD,externalForwardedProps:{slots:d,slotProps:h,component:c,...w},ownerState:T}),[D,te]=kt("img",{className:O.img,elementType:XD,externalForwardedProps:{slots:d,slotProps:{img:{...m,...h.img}}},additionalProps:{alt:i,src:y,srcSet:_,sizes:b},ownerState:T}),[C,F]=kt("fallback",{className:O.fallback,elementType:WD,externalForwardedProps:{slots:d,slotProps:h},shouldForwardComponentProp:!0,ownerState:T});return R?S=X.jsx(D,{...te}):o||o===0?S=o:x&&i?S=i[0]:S=X.jsx(C,{...F}),X.jsx(j,{...L,children:S})}),e3={entering:{opacity:1},entered:{opacity:1}},t3=$.forwardRef(function(e,n){const r=kd(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:u=!0,children:c,easing:d,in:h,onEnter:m,onEntered:b,onEntering:y,onExit:_,onExited:v,onExiting:w,style:S,timeout:T=i,TransitionComponent:N=ta,...x}=e,R=$.useRef(null),O=gn(R,Co(c),n),j=G=>U=>{if(G){const I=R.current;U===void 0?G(I):G(I,U)}},L=j(y),D=j((G,U)=>{UT(G);const I=Xf({style:S,timeout:T,easing:d},{mode:"enter"});G.style.webkitTransition=r.transitions.create("opacity",I),G.style.transition=r.transitions.create("opacity",I),m&&m(G,U)}),te=j(b),C=j(w),F=j(G=>{const U=Xf({style:S,timeout:T,easing:d},{mode:"exit"});G.style.webkitTransition=r.transitions.create("opacity",U),G.style.transition=r.transitions.create("opacity",U),_&&_(G)}),J=j(v),ne=G=>{o&&o(R.current,G)};return X.jsx(N,{appear:u,in:h,nodeRef:R,onEnter:D,onEntered:te,onEntering:L,onExit:F,onExited:J,onExiting:C,addEndListener:ne,timeout:T,...x,children:(G,{ownerState:U,...I})=>$.cloneElement(c,{style:{opacity:0,visibility:G==="exited"&&!h?"hidden":void 0,...e3[G],...S,...c.props.style},ref:O,...I})})});function n3(t){return pt("MuiBackdrop",t)}mt("MuiBackdrop",["root","invisible"]);const r3=t=>{const{classes:e,invisible:n}=t;return gt({root:["root",n&&"invisible"]},n3,e)},a3=Ee("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),i3=$.forwardRef(function(e,n){const r=yt({props:e,name:"MuiBackdrop"}),{children:i,className:o,component:u="div",invisible:c=!1,open:d,components:h={},componentsProps:m={},slotProps:b={},slots:y={},TransitionComponent:_,transitionDuration:v,...w}=r,S={...r,component:u,invisible:c},T=r3(S),N={transition:_,root:h.Root,...y},x={...m,...b},R={slots:N,slotProps:x},[O,j]=kt("root",{elementType:a3,externalForwardedProps:R,className:Me(T.root,o),ownerState:S}),[L,D]=kt("transition",{elementType:t3,externalForwardedProps:R,ownerState:S});return X.jsx(L,{in:d,timeout:v,...w,...D,children:X.jsx(O,{"aria-hidden":!0,...j,classes:T,ref:n,children:i})})}),s3=mt("MuiBox",["root"]),o3=IT(),Ml=lM({themeId:md,defaultTheme:o3,defaultClassName:s3.root,generateClassName:wT.generate}),vy=typeof ob({})=="function",l3=(t,e)=>({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%",...e&&!t.vars&&{colorScheme:t.palette.mode}}),u3=t=>({color:(t.vars||t).palette.text.primary,...t.typography.body1,backgroundColor:(t.vars||t).palette.background.default,"@media print":{backgroundColor:(t.vars||t).palette.common.white}}),rO=(t,e=!1)=>{var o,u;const n={};e&&t.colorSchemes&&typeof t.getColorSchemeSelector=="function"&&Object.entries(t.colorSchemes).forEach(([c,d])=>{var m,b;const h=t.getColorSchemeSelector(c);h.startsWith("@")?n[h]={":root":{colorScheme:(m=d.palette)==null?void 0:m.mode}}:n[h.replace(/\s*&/,"")]={colorScheme:(b=d.palette)==null?void 0:b.mode}});let r={html:l3(t,e),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:t.typography.fontWeightBold},body:{margin:0,...u3(t),"&::backdrop":{backgroundColor:(t.vars||t).palette.background.default}},...n};const i=(u=(o=t.components)==null?void 0:o.MuiCssBaseline)==null?void 0:u.styleOverrides;return i&&(r=[r,i]),r},Of="mui-ecs",c3=t=>{const e=rO(t,!1),n=Array.isArray(e)?e[0]:e;return!t.vars&&n&&(n.html[`:root:has(${Of})`]={colorScheme:t.palette.mode}),t.colorSchemes&&Object.entries(t.colorSchemes).forEach(([r,i])=>{var u,c;const o=t.getColorSchemeSelector(r);o.startsWith("@")?n[o]={[`:root:not(:has(.${Of}))`]:{colorScheme:(u=i.palette)==null?void 0:u.mode}}:n[o.replace(/\s*&/,"")]={[`&:not(:has(.${Of}))`]:{colorScheme:(c=i.palette)==null?void 0:c.mode}}}),e},f3=ob(vy?({theme:t,enableColorScheme:e})=>rO(t,e):({theme:t})=>c3(t));function d3(t){const e=yt({props:t,name:"MuiCssBaseline"}),{children:n,enableColorScheme:r=!1}=e;return X.jsxs($.Fragment,{children:[vy&&X.jsx(f3,{enableColorScheme:r}),!vy&&!r&&X.jsx("span",{className:Of,style:{display:"none"}}),n]})}function aO(t=window){const e=t.document.documentElement.clientWidth;return t.innerWidth-e}function h3(t){const e=rr(t);return e.body===t?Aa(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function tu(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function zE(t){return parseInt(Aa(t).getComputedStyle(t).paddingRight,10)||0}function p3(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(t.tagName),r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function BE(t,e,n,r,i){const o=[e,n,...r];[].forEach.call(t.children,u=>{const c=!o.includes(u),d=!p3(u);c&&d&&tu(u,i)})}function Ng(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function m3(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(h3(r)){const u=aO(Aa(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${zE(r)+u}px`;const c=rr(r).querySelectorAll(".mui-fixed");[].forEach.call(c,d=>{n.push({value:d.style.paddingRight,property:"padding-right",el:d}),d.style.paddingRight=`${zE(d)+u}px`})}let o;if(r.parentNode instanceof DocumentFragment)o=rr(r).body;else{const u=r.parentElement,c=Aa(r);o=(u==null?void 0:u.nodeName)==="HTML"&&c.getComputedStyle(u).overflowY==="scroll"?u:r}n.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{n.forEach(({value:o,el:u,property:c})=>{o?u.style.setProperty(c,o):u.style.removeProperty(c)})}}function g3(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class y3{constructor(){this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&tu(e.modalRef,!1);const i=g3(n);BE(n,e.mount,e.modalRef,i,!0);const o=Ng(this.containers,u=>u.container===n);return o!==-1?(this.containers[o].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=Ng(this.containers,o=>o.modals.includes(e)),i=this.containers[r];i.restore||(i.restore=m3(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=Ng(this.containers,u=>u.modals.includes(e)),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(r,1),o.modals.length===0)o.restore&&o.restore(),e.modalRef&&tu(e.modalRef,n),BE(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const u=o.modals[o.modals.length-1];u.modalRef&&tu(u.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const b3=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function v3(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function _3(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function w3(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||_3(t))}function S3(t){const e=[],n=[];return Array.from(t.querySelectorAll(b3)).forEach((r,i)=>{const o=v3(r);o===-1||!w3(r)||(o===0?e.push(r):n.push({documentOrder:i,tabIndex:o,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function E3(){return!0}function x3(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:o=S3,isEnabled:u=E3,open:c}=t,d=$.useRef(!1),h=$.useRef(null),m=$.useRef(null),b=$.useRef(null),y=$.useRef(null),_=$.useRef(!1),v=$.useRef(null),w=gn(Co(e),v),S=$.useRef(null);$.useEffect(()=>{!c||!v.current||(_.current=!n)},[n,c]),$.useEffect(()=>{if(!c||!v.current)return;const x=rr(v.current);return v.current.contains(x.activeElement)||(v.current.hasAttribute("tabIndex")||v.current.setAttribute("tabIndex","-1"),_.current&&v.current.focus()),()=>{i||(b.current&&b.current.focus&&(d.current=!0,b.current.focus()),b.current=null)}},[c]),$.useEffect(()=>{if(!c||!v.current)return;const x=rr(v.current),R=L=>{S.current=L,!(r||!u()||L.key!=="Tab")&&x.activeElement===v.current&&L.shiftKey&&(d.current=!0,m.current&&m.current.focus())},O=()=>{var te,C;const L=v.current;if(L===null)return;if(!x.hasFocus()||!u()||d.current){d.current=!1;return}if(L.contains(x.activeElement)||r&&x.activeElement!==h.current&&x.activeElement!==m.current)return;if(x.activeElement!==y.current)y.current=null;else if(y.current!==null)return;if(!_.current)return;let D=[];if((x.activeElement===h.current||x.activeElement===m.current)&&(D=o(v.current)),D.length>0){const F=!!((te=S.current)!=null&&te.shiftKey&&((C=S.current)==null?void 0:C.key)==="Tab"),J=D[0],ne=D[D.length-1];typeof J!="string"&&typeof ne!="string"&&(F?ne.focus():J.focus())}else L.focus()};x.addEventListener("focusin",O),x.addEventListener("keydown",R,!0);const j=setInterval(()=>{x.activeElement&&x.activeElement.tagName==="BODY"&&O()},50);return()=>{clearInterval(j),x.removeEventListener("focusin",O),x.removeEventListener("keydown",R,!0)}},[n,r,i,u,c,o]);const T=x=>{b.current===null&&(b.current=x.relatedTarget),_.current=!0,y.current=x.target;const R=e.props.onFocus;R&&R(x)},N=x=>{b.current===null&&(b.current=x.relatedTarget),_.current=!0};return X.jsxs($.Fragment,{children:[X.jsx("div",{tabIndex:c?0:-1,onFocus:N,ref:h,"data-testid":"sentinelStart"}),$.cloneElement(e,{ref:w,onFocus:T}),X.jsx("div",{tabIndex:c?0:-1,onFocus:N,ref:m,"data-testid":"sentinelEnd"})]})}function T3(t){return typeof t=="function"?t():t}function O3(t){return t?t.props.hasOwnProperty("in"):!1}const HE=()=>{},hf=new y3;function R3(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:i=!1,onTransitionEnter:o,onTransitionExited:u,children:c,onClose:d,open:h,rootRef:m}=t,b=$.useRef({}),y=$.useRef(null),_=$.useRef(null),v=gn(_,m),[w,S]=$.useState(!h),T=O3(c);let N=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(N=!1);const x=()=>rr(y.current),R=()=>(b.current.modalRef=_.current,b.current.mount=y.current,b.current),O=()=>{hf.mount(R(),{disableScrollLock:r}),_.current&&(_.current.scrollTop=0)},j=Ta(()=>{const U=T3(e)||x().body;hf.add(R(),U),_.current&&O()}),L=()=>hf.isTopModal(R()),D=Ta(U=>{y.current=U,U&&(h&&L()?O():_.current&&tu(_.current,N))}),te=$.useCallback(()=>{hf.remove(R(),N)},[N]);$.useEffect(()=>()=>{te()},[te]),$.useEffect(()=>{h?j():(!T||!i)&&te()},[h,te,T,i,j]);const C=U=>I=>{var M;(M=U.onKeyDown)==null||M.call(U,I),!(I.key!=="Escape"||I.which===229||!L())&&(n||(I.stopPropagation(),d&&d(I,"escapeKeyDown")))},F=U=>I=>{var M;(M=U.onClick)==null||M.call(U,I),I.target===I.currentTarget&&d&&d(I,"backdropClick")};return{getRootProps:(U={})=>{const I=HT(t);delete I.onTransitionEnter,delete I.onTransitionExited;const M={...I,...U};return{role:"presentation",...M,onKeyDown:C(M),ref:v}},getBackdropProps:(U={})=>{const I=U;return{"aria-hidden":!0,...I,onClick:F(I),open:h}},getTransitionProps:()=>{const U=()=>{S(!1),o&&o()},I=()=>{S(!0),u&&u(),i&&te()};return{onEnter:bE(U,(c==null?void 0:c.props.onEnter)??HE),onExited:bE(I,(c==null?void 0:c.props.onExited)??HE)}},rootRef:v,portalRef:D,isTopModal:L,exited:w,hasTransition:T}}function C3(t){return pt("MuiModal",t)}mt("MuiModal",["root","hidden","backdrop"]);const A3=t=>{const{open:e,exited:n,classes:r}=t;return gt({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},C3,r)},N3=Ee("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(Tt(({theme:t})=>({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),k3=Ee(i3,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),I3=$.forwardRef(function(e,n){const r=yt({name:"MuiModal",props:e}),{BackdropComponent:i=k3,BackdropProps:o,classes:u,className:c,closeAfterTransition:d=!1,children:h,container:m,component:b,components:y={},componentsProps:_={},disableAutoFocus:v=!1,disableEnforceFocus:w=!1,disableEscapeKeyDown:S=!1,disablePortal:T=!1,disableRestoreFocus:N=!1,disableScrollLock:x=!1,hideBackdrop:R=!1,keepMounted:O=!1,onClose:j,onTransitionEnter:L,onTransitionExited:D,open:te,slotProps:C={},slots:F={},theme:J,...ne}=r,G={...r,closeAfterTransition:d,disableAutoFocus:v,disableEnforceFocus:w,disableEscapeKeyDown:S,disablePortal:T,disableRestoreFocus:N,disableScrollLock:x,hideBackdrop:R,keepMounted:O},{getRootProps:U,getBackdropProps:I,getTransitionProps:M,portalRef:Z,isTopModal:B,exited:k,hasTransition:H}=R3({...G,rootRef:n}),W={...G,exited:k},ee=A3(W),oe={};if(h.props.tabIndex===void 0&&(oe.tabIndex="-1"),H){const{onEnter:ge,onExited:Ne}=M();oe.onEnter=ge,oe.onExited=Ne}const le={slots:{root:y.Root,backdrop:y.Backdrop,...F},slotProps:{..._,...C}},[fe,he]=kt("root",{ref:n,elementType:N3,externalForwardedProps:{...le,...ne,component:b},getSlotProps:U,ownerState:W,className:Me(c,ee==null?void 0:ee.root,!W.open&&W.exited&&(ee==null?void 0:ee.hidden))}),[me,Oe]=kt("backdrop",{ref:o==null?void 0:o.ref,elementType:i,externalForwardedProps:le,shouldForwardComponentProp:!0,additionalProps:o,getSlotProps:ge=>I({...ge,onClick:Ne=>{ge!=null&&ge.onClick&&ge.onClick(Ne)}}),className:Me(o==null?void 0:o.className,ee==null?void 0:ee.backdrop),ownerState:W});return!O&&!te&&(!H||k)?null:X.jsx(tO,{ref:Z,container:m,disablePortal:T,children:X.jsxs(fe,{...he,children:[!R&&i?X.jsx(me,{...Oe}):null,X.jsx(x3,{disableEnforceFocus:w,disableAutoFocus:v,disableRestoreFocus:N,isEnabled:B,open:te,children:$.cloneElement(h,oe)})]})})}),$3=t=>{const{classes:e,disableUnderline:n,startAdornment:r,endAdornment:i,size:o,hiddenLabel:u,multiline:c}=t,d={root:["root",!n&&"underline",r&&"adornedStart",i&&"adornedEnd",o==="small"&&`size${He(o)}`,u&&"hiddenLabel",c&&"multiline"],input:["input"]},h=gt(d,FD,e);return{...e,...h}},j3=Ee(Dd,{shouldForwardProp:t=>ea(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...Md(t,e),!n.disableUnderline&&e.underline]}})(Tt(({theme:t})=>{const e=t.palette.mode==="light",n=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",o=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r}},[`&.${zi.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r},[`&.${zi.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:o},variants:[{props:({ownerState:u})=>!u.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${zi.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${zi.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${zi.disabled}, .${zi.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${zi.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(bi()).map(([u])=>{var c;return{props:{disableUnderline:!1,color:u},style:{"&::after":{borderBottom:`2px solid ${(c=(t.vars||t).palette[u])==null?void 0:c.main}`}}}}),{props:({ownerState:u})=>u.startAdornment,style:{paddingLeft:12}},{props:({ownerState:u})=>u.endAdornment,style:{paddingRight:12}},{props:({ownerState:u})=>u.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:u,size:c})=>u.multiline&&c==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:u})=>u.multiline&&u.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:u})=>u.multiline&&u.hiddenLabel&&u.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),P3=Ee(Ud,{name:"MuiFilledInput",slot:"Input",overridesResolver:Ld})(Tt(({theme:t})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&e.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),bb=$.forwardRef(function(e,n){const r=yt({props:e,name:"MuiFilledInput"}),{disableUnderline:i=!1,components:o={},componentsProps:u,fullWidth:c=!1,hiddenLabel:d,inputComponent:h="input",multiline:m=!1,slotProps:b,slots:y={},type:_="text",...v}=r,w={...r,disableUnderline:i,fullWidth:c,inputComponent:h,multiline:m,type:_},S=$3(r),T={root:{ownerState:w},input:{ownerState:w}},N=b??u?ln(T,b??u):T,x=y.root??o.Root??j3,R=y.input??o.Input??P3;return X.jsx(yb,{slots:{root:x,input:R},slotProps:N,fullWidth:c,inputComponent:h,multiline:m,ref:n,type:_,...v,classes:S})});bb.muiName="Input";function M3(t){return pt("MuiFormControl",t)}mt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const L3=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${He(n)}`,r&&"fullWidth"]};return gt(i,M3,e)},D3=Ee("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`margin${He(n.margin)}`],n.fullWidth&&e.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),U3=$.forwardRef(function(e,n){const r=yt({props:e,name:"MuiFormControl"}),{children:i,className:o,color:u="primary",component:c="div",disabled:d=!1,error:h=!1,focused:m,fullWidth:b=!1,hiddenLabel:y=!1,margin:_="none",required:v=!1,size:w="medium",variant:S="outlined",...T}=r,N={...r,color:u,component:c,disabled:d,error:h,fullWidth:b,hiddenLabel:y,margin:_,required:v,size:w,variant:S},x=L3(N),[R,O]=$.useState(()=>{let U=!1;return i&&$.Children.forEach(i,I=>{if(!Cg(I,["Input","Select"]))return;const M=Cg(I,["Select"])?I.props.input:I;M&&UD(M.props)&&(U=!0)}),U}),[j,L]=$.useState(()=>{let U=!1;return i&&$.Children.forEach(i,I=>{Cg(I,["Input","Select"])&&(ed(I.props,!0)||ed(I.props.inputProps,!0))&&(U=!0)}),U}),[D,te]=$.useState(!1);d&&D&&te(!1);const C=m!==void 0&&!d?m:D;let F;$.useRef(!1);const J=$.useCallback(()=>{L(!0)},[]),ne=$.useCallback(()=>{L(!1)},[]),G=$.useMemo(()=>({adornedStart:R,setAdornedStart:O,color:u,disabled:d,error:h,filled:j,focused:C,fullWidth:b,hiddenLabel:y,size:w,onBlur:()=>{te(!1)},onFocus:()=>{te(!0)},onEmpty:ne,onFilled:J,registerEffect:F,required:v,variant:S}),[R,u,d,h,j,C,b,y,F,ne,J,v,w,S]);return X.jsx(Pd.Provider,{value:G,children:X.jsx(D3,{as:c,ownerState:N,className:Me(x.root,o),ref:n,...T,children:i})})});function z3(t){return pt("MuiFormHelperText",t)}const qE=mt("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var FE;const B3=t=>{const{classes:e,contained:n,size:r,disabled:i,error:o,filled:u,focused:c,required:d}=t,h={root:["root",i&&"disabled",o&&"error",r&&`size${He(r)}`,n&&"contained",c&&"focused",u&&"filled",d&&"required"]};return gt(h,z3,e)},H3=Ee("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${He(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(Tt(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${qE.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${qE.error}`]:{color:(t.vars||t).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),q3=$.forwardRef(function(e,n){const r=yt({props:e,name:"MuiFormHelperText"}),{children:i,className:o,component:u="p",disabled:c,error:d,filled:h,focused:m,margin:b,required:y,variant:_,...v}=r,w=rs(),S=Ao({props:r,muiFormControl:w,states:["variant","size","disabled","error","filled","focused","required"]}),T={...r,component:u,contained:S.variant==="filled"||S.variant==="outlined",variant:S.variant,size:S.size,disabled:S.disabled,error:S.error,filled:S.filled,focused:S.focused,required:S.required};delete T.ownerState;const N=B3(T);return X.jsx(H3,{as:u,className:Me(N.root,o),ref:n,...v,ownerState:T,children:i===" "?FE||(FE=X.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):i})});function F3(t){return pt("MuiFormLabel",t)}const nu=mt("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),G3=t=>{const{classes:e,color:n,focused:r,disabled:i,error:o,filled:u,required:c}=t,d={root:["root",`color${He(n)}`,i&&"disabled",o&&"error",u&&"filled",r&&"focused",c&&"required"],asterisk:["asterisk",o&&"error"]};return gt(d,F3,e)},V3=Ee("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color==="secondary"&&e.colorSecondary,n.filled&&e.filled]}})(Tt(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(t.palette).filter(bi()).map(([e])=>({props:{color:e},style:{[`&.${nu.focused}`]:{color:(t.vars||t).palette[e].main}}})),{props:{},style:{[`&.${nu.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${nu.error}`]:{color:(t.vars||t).palette.error.main}}}]}))),Z3=Ee("span",{name:"MuiFormLabel",slot:"Asterisk"})(Tt(({theme:t})=>({[`&.${nu.error}`]:{color:(t.vars||t).palette.error.main}}))),Y3=$.forwardRef(function(e,n){const r=yt({props:e,name:"MuiFormLabel"}),{children:i,className:o,color:u,component:c="label",disabled:d,error:h,filled:m,focused:b,required:y,..._}=r,v=rs(),w=Ao({props:r,muiFormControl:v,states:["color","required","focused","disabled","error","filled"]}),S={...r,color:w.color||"primary",component:c,disabled:w.disabled,error:w.error,filled:w.filled,focused:w.focused,required:w.required},T=G3(S);return X.jsxs(V3,{as:c,ownerState:S,className:Me(T.root,o),ref:n,..._,children:[i,w.required&&X.jsxs(Z3,{ownerState:S,"aria-hidden":!0,className:T.asterisk,children:["","*"]})]})});function _y(t){return`scale(${t}, ${t**2})`}const K3={entering:{opacity:1,transform:_y(1)},entered:{opacity:1,transform:"none"}},kg=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),td=$.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:o,easing:u,in:c,onEnter:d,onEntered:h,onEntering:m,onExit:b,onExited:y,onExiting:_,style:v,timeout:w="auto",TransitionComponent:S=ta,...T}=e,N=ao(),x=$.useRef(),R=kd(),O=$.useRef(null),j=gn(O,Co(o),n),L=U=>I=>{if(U){const M=O.current;I===void 0?U(M):U(M,I)}},D=L(m),te=L((U,I)=>{UT(U);const{duration:M,delay:Z,easing:B}=Xf({style:v,timeout:w,easing:u},{mode:"enter"});let k;w==="auto"?(k=R.transitions.getAutoHeightDuration(U.clientHeight),x.current=k):k=M,U.style.transition=[R.transitions.create("opacity",{duration:k,delay:Z}),R.transitions.create("transform",{duration:kg?k:k*.666,delay:Z,easing:B})].join(","),d&&d(U,I)}),C=L(h),F=L(_),J=L(U=>{const{duration:I,delay:M,easing:Z}=Xf({style:v,timeout:w,easing:u},{mode:"exit"});let B;w==="auto"?(B=R.transitions.getAutoHeightDuration(U.clientHeight),x.current=B):B=I,U.style.transition=[R.transitions.create("opacity",{duration:B,delay:M}),R.transitions.create("transform",{duration:kg?B:B*.666,delay:kg?M:M||B*.333,easing:Z})].join(","),U.style.opacity=0,U.style.transform=_y(.75),b&&b(U)}),ne=L(y),G=U=>{w==="auto"&&N.start(x.current||0,U),r&&r(O.current,U)};return X.jsx(S,{appear:i,in:c,nodeRef:O,onEnter:te,onEntered:C,onEntering:D,onExit:J,onExited:ne,onExiting:F,addEndListener:G,timeout:w==="auto"?null:w,...T,children:(U,{ownerState:I,...M})=>$.cloneElement(o,{style:{opacity:0,transform:_y(.75),visibility:U==="exited"&&!c?"hidden":void 0,...K3[U],...v,...o.props.style},ref:j,...M})})});td&&(td.muiSupportAuto=!0);const X3=t=>{const{classes:e,disableUnderline:n}=t,i=gt({root:["root",!n&&"underline"],input:["input"]},HD,e);return{...e,...i}},W3=Ee(Dd,{shouldForwardProp:t=>ea(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...Md(t,e),!n.disableUnderline&&e.underline]}})(Tt(({theme:t})=>{let n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(n=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:r})=>r.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:r})=>!r.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Pl.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Pl.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Pl.disabled}, .${Pl.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${Pl.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(bi()).map(([r])=>({props:{color:r,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[r].main}`}}}))]}})),Q3=Ee(Ud,{name:"MuiInput",slot:"Input",overridesResolver:Ld})({}),vb=$.forwardRef(function(e,n){const r=yt({props:e,name:"MuiInput"}),{disableUnderline:i=!1,components:o={},componentsProps:u,fullWidth:c=!1,inputComponent:d="input",multiline:h=!1,slotProps:m,slots:b={},type:y="text",..._}=r,v=X3(r),S={root:{ownerState:{disableUnderline:i}}},T=m??u?ln(m??u,S):S,N=b.root??o.Root??W3,x=b.input??o.Input??Q3;return X.jsx(yb,{slots:{root:N,input:x},slotProps:T,fullWidth:c,inputComponent:d,multiline:h,ref:n,type:y,..._,classes:v})});vb.muiName="Input";function J3(t){return pt("MuiInputAdornment",t)}const GE=mt("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var VE;const e5=(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${He(n.position)}`],n.disablePointerEvents===!0&&e.disablePointerEvents,e[n.variant]]},t5=t=>{const{classes:e,disablePointerEvents:n,hiddenLabel:r,position:i,size:o,variant:u}=t,c={root:["root",n&&"disablePointerEvents",i&&`position${He(i)}`,u,r&&"hiddenLabel",o&&`size${He(o)}`]};return gt(c,J3,e)},n5=Ee("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:e5})(Tt(({theme:t})=>({display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active,variants:[{props:{variant:"filled"},style:{[`&.${GE.positionStart}&:not(.${GE.hiddenLabel})`]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}))),r5=$.forwardRef(function(e,n){const r=yt({props:e,name:"MuiInputAdornment"}),{children:i,className:o,component:u="div",disablePointerEvents:c=!1,disableTypography:d=!1,position:h,variant:m,...b}=r,y=rs()||{};let _=m;m&&y.variant,y&&!_&&(_=y.variant);const v={...r,hiddenLabel:y.hiddenLabel,size:y.size,disablePointerEvents:c,position:h,variant:_},w=t5(v);return X.jsx(Pd.Provider,{value:null,children:X.jsx(n5,{as:u,ownerState:v,className:Me(w.root,o),ref:n,...b,children:typeof i=="string"&&!d?X.jsx(li,{color:"textSecondary",children:i}):X.jsxs($.Fragment,{children:[h==="start"?VE||(VE=X.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):null,i]})})})});function a5(t){return pt("MuiInputLabel",t)}mt("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const i5=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:o,variant:u,required:c}=t,d={root:["root",n&&"formControl",!o&&"animated",i&&"shrink",r&&r!=="medium"&&`size${He(r)}`,u],asterisk:[c&&"asterisk"]},h=gt(d,a5,e);return{...e,...h}},s5=Ee(Y3,{shouldForwardProp:t=>ea(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${nu.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(Tt(({theme:t})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:n})=>e==="filled"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:n,size:r})=>e==="filled"&&n.shrink&&r==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:n})=>e==="outlined"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),o5=$.forwardRef(function(e,n){const r=yt({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,margin:o,shrink:u,variant:c,className:d,...h}=r,m=rs();let b=u;typeof b>"u"&&m&&(b=m.filled||m.focused||m.adornedStart);const y=Ao({props:r,muiFormControl:m,states:["size","variant","required","focused"]}),_={...r,disableAnimation:i,formControl:m,shrink:b,size:y.size,variant:y.variant,required:y.required,focused:y.focused},v=i5(_);return X.jsx(s5,{"data-shrink":b,ref:n,className:Me(v.root,d),...h,ownerState:_,classes:v})}),l5=$.createContext({});function u5(t){return pt("MuiList",t)}mt("MuiList",["root","padding","dense","subheader"]);const c5=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return gt({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},u5,e)},f5=Ee("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>t.subheader,style:{paddingTop:0}}]}),d5=$.forwardRef(function(e,n){const r=yt({props:e,name:"MuiList"}),{children:i,className:o,component:u="ul",dense:c=!1,disablePadding:d=!1,subheader:h,...m}=r,b=$.useMemo(()=>({dense:c}),[c]),y={...r,component:u,dense:c,disablePadding:d},_=c5(y);return X.jsx(l5.Provider,{value:b,children:X.jsxs(f5,{as:u,className:Me(_.root,o),ref:n,ownerState:y,...m,children:[h,i]})})});function Ig(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function ZE(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function iO(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.startsWith(e.keys.join(""))}function Ll(t,e,n,r,i,o){let u=!1,c=i(t,e,e?n:!1);for(;c;){if(c===t.firstChild){if(u)return!1;u=!0}const d=r?!1:c.disabled||c.getAttribute("aria-disabled")==="true";if(!c.hasAttribute("tabindex")||!iO(c,o)||d)c=i(t,c,n);else return c.focus(),!0}return!1}const h5=$.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:o=!1,children:u,className:c,disabledItemsFocusable:d=!1,disableListWrap:h=!1,onKeyDown:m,variant:b="selectedMenu",...y}=e,_=$.useRef(null),v=$.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Ca(()=>{i&&_.current.focus()},[i]),$.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(x,{direction:R})=>{const O=!_.current.style.width;if(x.clientHeight<_.current.clientHeight&&O){const j=`${aO(Aa(x))}px`;_.current.style[R==="rtl"?"paddingLeft":"paddingRight"]=j,_.current.style.width=`calc(100% + ${j})`}return _.current}}),[]);const w=x=>{const R=_.current,O=x.key;if(x.ctrlKey||x.metaKey||x.altKey){m&&m(x);return}const L=rr(R).activeElement;if(O==="ArrowDown")x.preventDefault(),Ll(R,L,h,d,Ig);else if(O==="ArrowUp")x.preventDefault(),Ll(R,L,h,d,ZE);else if(O==="Home")x.preventDefault(),Ll(R,null,h,d,Ig);else if(O==="End")x.preventDefault(),Ll(R,null,h,d,ZE);else if(O.length===1){const D=v.current,te=O.toLowerCase(),C=performance.now();D.keys.length>0&&(C-D.lastTime>500?(D.keys=[],D.repeating=!0,D.previousKeyMatched=!0):D.repeating&&te!==D.keys[0]&&(D.repeating=!1)),D.lastTime=C,D.keys.push(te);const F=L&&!D.repeating&&iO(L,D);D.previousKeyMatched&&(F||Ll(R,L,!1,d,Ig,D))?x.preventDefault():D.previousKeyMatched=!1}m&&m(x)},S=gn(_,n);let T=-1;$.Children.forEach(u,(x,R)=>{if(!$.isValidElement(x)){T===R&&(T+=1,T>=u.length&&(T=-1));return}x.props.disabled||(b==="selectedMenu"&&x.props.selected||T===-1)&&(T=R),T===R&&(x.props.disabled||x.props.muiSkipListHighlight||x.type.muiSkipListHighlight)&&(T+=1,T>=u.length&&(T=-1))});const N=$.Children.map(u,(x,R)=>{if(R===T){const O={};return o&&(O.autoFocus=!0),x.props.tabIndex===void 0&&b==="selectedMenu"&&(O.tabIndex=0),$.cloneElement(x,O)}return x});return X.jsx(d5,{role:"menu",ref:S,className:c,onKeyDown:w,tabIndex:i?0:-1,...y,children:N})});function p5(t){return pt("MuiPopover",t)}mt("MuiPopover",["root","paper"]);function YE(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function KE(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function XE(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function pf(t){return typeof t=="function"?t():t}const m5=t=>{const{classes:e}=t;return gt({root:["root"],paper:["paper"]},p5,e)},g5=Ee(I3,{name:"MuiPopover",slot:"Root"})({}),sO=Ee(U4,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),y5=$.forwardRef(function(e,n){const r=yt({props:e,name:"MuiPopover"}),{action:i,anchorEl:o,anchorOrigin:u={vertical:"top",horizontal:"left"},anchorPosition:c,anchorReference:d="anchorEl",children:h,className:m,container:b,elevation:y=8,marginThreshold:_=16,open:v,PaperProps:w={},slots:S={},slotProps:T={},transformOrigin:N={vertical:"top",horizontal:"left"},TransitionComponent:x,transitionDuration:R="auto",TransitionProps:O={},disableScrollLock:j=!1,...L}=r,D=$.useRef(),te={...r,anchorOrigin:u,anchorReference:d,elevation:y,marginThreshold:_,transformOrigin:N,TransitionComponent:x,transitionDuration:R,TransitionProps:O},C=m5(te),F=$.useCallback(()=>{if(d==="anchorPosition")return c;const ge=pf(o),Ce=(ge&&ge.nodeType===1?ge:rr(D.current).body).getBoundingClientRect();return{top:Ce.top+YE(Ce,u.vertical),left:Ce.left+KE(Ce,u.horizontal)}},[o,u.horizontal,u.vertical,c,d]),J=$.useCallback(ge=>({vertical:YE(ge,N.vertical),horizontal:KE(ge,N.horizontal)}),[N.horizontal,N.vertical]),ne=$.useCallback(ge=>{const Ne={width:ge.offsetWidth,height:ge.offsetHeight},Ce=J(Ne);if(d==="none")return{top:null,left:null,transformOrigin:XE(Ce)};const it=F();let Ae=it.top-Ce.vertical,Ye=it.left-Ce.horizontal;const Lt=Ae+Ne.height,Ge=Ye+Ne.width,bt=Aa(pf(o)),Zt=bt.innerHeight-_,st=bt.innerWidth-_;if(_!==null&&Ae<_){const Xe=Ae-_;Ae-=Xe,Ce.vertical+=Xe}else if(_!==null&&Lt>Zt){const Xe=Lt-Zt;Ae-=Xe,Ce.vertical+=Xe}if(_!==null&&Ye<_){const Xe=Ye-_;Ye-=Xe,Ce.horizontal+=Xe}else if(Ge>st){const Xe=Ge-st;Ye-=Xe,Ce.horizontal+=Xe}return{top:`${Math.round(Ae)}px`,left:`${Math.round(Ye)}px`,transformOrigin:XE(Ce)}},[o,d,F,J,_]),[G,U]=$.useState(v),I=$.useCallback(()=>{const ge=D.current;if(!ge)return;const Ne=ne(ge);Ne.top!==null&&ge.style.setProperty("top",Ne.top),Ne.left!==null&&(ge.style.left=Ne.left),ge.style.transformOrigin=Ne.transformOrigin,U(!0)},[ne]);$.useEffect(()=>(j&&window.addEventListener("scroll",I),()=>window.removeEventListener("scroll",I)),[o,j,I]);const M=()=>{I()},Z=()=>{U(!1)};$.useEffect(()=>{v&&I()}),$.useImperativeHandle(i,()=>v?{updatePosition:()=>{I()}}:null,[v,I]),$.useEffect(()=>{if(!v)return;const ge=jT(()=>{I()}),Ne=Aa(pf(o));return Ne.addEventListener("resize",ge),()=>{ge.clear(),Ne.removeEventListener("resize",ge)}},[o,v,I]);let B=R;const k={slots:{transition:x,...S},slotProps:{transition:O,paper:w,...T}},[H,W]=kt("transition",{elementType:td,externalForwardedProps:k,ownerState:te,getSlotProps:ge=>({...ge,onEntering:(Ne,Ce)=>{var it;(it=ge.onEntering)==null||it.call(ge,Ne,Ce),M()},onExited:Ne=>{var Ce;(Ce=ge.onExited)==null||Ce.call(ge,Ne),Z()}}),additionalProps:{appear:!0,in:v}});R==="auto"&&!H.muiSupportAuto&&(B=void 0);const ee=b||(o?rr(pf(o)).body:void 0),[oe,{slots:le,slotProps:fe,...he}]=kt("root",{ref:n,elementType:g5,externalForwardedProps:{...k,...L},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:S.backdrop},slotProps:{backdrop:O4(typeof T.backdrop=="function"?T.backdrop(te):T.backdrop,{invisible:!0})},container:ee,open:v},ownerState:te,className:Me(C.root,m)}),[me,Oe]=kt("paper",{ref:D,className:C.paper,elementType:sO,externalForwardedProps:k,shouldForwardComponentProp:!0,additionalProps:{elevation:y,style:G?void 0:{opacity:0}},ownerState:te});return X.jsx(oe,{...he,...!by(oe)&&{slots:le,slotProps:fe,disableScrollLock:j},children:X.jsx(H,{...W,timeout:B,children:X.jsx(me,{...Oe,children:h})})})});function b5(t){return pt("MuiMenu",t)}mt("MuiMenu",["root","paper","list"]);const v5={vertical:"top",horizontal:"right"},_5={vertical:"top",horizontal:"left"},w5=t=>{const{classes:e}=t;return gt({root:["root"],paper:["paper"],list:["list"]},b5,e)},S5=Ee(y5,{shouldForwardProp:t=>ea(t)||t==="classes",name:"MuiMenu",slot:"Root"})({}),E5=Ee(sO,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),x5=Ee(h5,{name:"MuiMenu",slot:"List"})({outline:0}),T5=$.forwardRef(function(e,n){const r=yt({props:e,name:"MuiMenu"}),{autoFocus:i=!0,children:o,className:u,disableAutoFocusItem:c=!1,MenuListProps:d={},onClose:h,open:m,PaperProps:b={},PopoverClasses:y,transitionDuration:_="auto",TransitionProps:{onEntering:v,...w}={},variant:S="selectedMenu",slots:T={},slotProps:N={},...x}=r,R=ab(),O={...r,autoFocus:i,disableAutoFocusItem:c,MenuListProps:d,onEntering:v,PaperProps:b,transitionDuration:_,TransitionProps:w,variant:S},j=w5(O),L=i&&!c&&m,D=$.useRef(null),te=(B,k)=>{D.current&&D.current.adjustStyleForScrollbar(B,{direction:R?"rtl":"ltr"}),v&&v(B,k)},C=B=>{B.key==="Tab"&&(B.preventDefault(),h&&h(B,"tabKeyDown"))};let F=-1;$.Children.map(o,(B,k)=>{$.isValidElement(B)&&(B.props.disabled||(S==="selectedMenu"&&B.props.selected||F===-1)&&(F=k))});const J={slots:T,slotProps:{list:d,transition:w,paper:b,...N}},ne=eO({elementType:T.root,externalSlotProps:N.root,ownerState:O,className:[j.root,u]}),[G,U]=kt("paper",{className:j.paper,elementType:E5,externalForwardedProps:J,shouldForwardComponentProp:!0,ownerState:O}),[I,M]=kt("list",{className:Me(j.list,d.className),elementType:x5,shouldForwardComponentProp:!0,externalForwardedProps:J,getSlotProps:B=>({...B,onKeyDown:k=>{var H;C(k),(H=B.onKeyDown)==null||H.call(B,k)}}),ownerState:O}),Z=typeof J.slotProps.transition=="function"?J.slotProps.transition(O):J.slotProps.transition;return X.jsx(S5,{onClose:h,anchorOrigin:{vertical:"bottom",horizontal:R?"right":"left"},transformOrigin:R?v5:_5,slots:{root:T.root,paper:G,backdrop:T.backdrop,...T.transition&&{transition:T.transition}},slotProps:{root:ne,paper:U,backdrop:typeof N.backdrop=="function"?N.backdrop(O):N.backdrop,transition:{...Z,onEntering:(...B)=>{var k;te(...B),(k=Z==null?void 0:Z.onEntering)==null||k.call(Z,...B)}}},open:m,ref:n,transitionDuration:_,ownerState:O,...x,classes:y,children:X.jsx(I,{actions:D,autoFocus:i&&(F===-1||c),autoFocusItem:L,variant:S,...M,children:o})})});function O5(t){return pt("MuiNativeSelect",t)}const _b=mt("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),R5=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:o,error:u}=t,c={select:["select",n,r&&"disabled",i&&"multiple",u&&"error"],icon:["icon",`icon${He(n)}`,o&&"iconOpen",r&&"disabled"]};return gt(c,O5,e)},oO=Ee("select")(({theme:t})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${_b.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},variants:[{props:({ownerState:e})=>e.variant!=="filled"&&e.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}}]})),C5=Ee(oO,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:ea,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${_b.multiple}`]:e.multiple}]}})({}),lO=Ee("svg")(({theme:t})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${_b.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),A5=Ee(lO,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${He(n.variant)}`],n.open&&e.iconOpen]}})({}),N5=$.forwardRef(function(e,n){const{className:r,disabled:i,error:o,IconComponent:u,inputRef:c,variant:d="standard",...h}=e,m={...e,disabled:i,variant:d,error:o},b=R5(m);return X.jsxs($.Fragment,{children:[X.jsx(C5,{ownerState:m,className:Me(b.select,r),disabled:i,ref:c||n,...h}),e.multiple?null:X.jsx(A5,{as:u,ownerState:m,className:b.icon})]})});var WE;const k5=Ee("fieldset",{shouldForwardProp:ea})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),I5=Ee("legend",{shouldForwardProp:ea})(Tt(({theme:t})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]})));function $5(t){const{children:e,classes:n,className:r,label:i,notched:o,...u}=t,c=i!=null&&i!=="",d={...t,notched:o,withLabel:c};return X.jsx(k5,{"aria-hidden":!0,className:r,ownerState:d,...u,children:X.jsx(I5,{ownerState:d,children:c?X.jsx("span",{children:i}):WE||(WE=X.jsx("span",{className:"notranslate","aria-hidden":!0,children:""}))})})}const j5=t=>{const{classes:e}=t,r=gt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},qD,e);return{...e,...r}},P5=Ee(Dd,{shouldForwardProp:t=>ea(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:Md})(Tt(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Hr.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Hr.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}},[`&.${Hr.focused} .${Hr.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(t.palette).filter(bi()).map(([n])=>({props:{color:n},style:{[`&.${Hr.focused} .${Hr.notchedOutline}`]:{borderColor:(t.vars||t).palette[n].main}}})),{props:{},style:{[`&.${Hr.error} .${Hr.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${Hr.disabled} .${Hr.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}}},{props:({ownerState:n})=>n.startAdornment,style:{paddingLeft:14}},{props:({ownerState:n})=>n.endAdornment,style:{paddingRight:14}},{props:({ownerState:n})=>n.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:n,size:r})=>n.multiline&&r==="small",style:{padding:"8.5px 14px"}}]}})),M5=Ee($5,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(Tt(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}})),L5=Ee(Ud,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Ld})(Tt(({theme:t})=>({padding:"16.5px 14px",...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),wb=$.forwardRef(function(e,n){const r=yt({props:e,name:"MuiOutlinedInput"}),{components:i={},fullWidth:o=!1,inputComponent:u="input",label:c,multiline:d=!1,notched:h,slots:m={},slotProps:b={},type:y="text",..._}=r,v=j5(r),w=rs(),S=Ao({props:r,muiFormControl:w,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),T={...r,color:S.color||"primary",disabled:S.disabled,error:S.error,focused:S.focused,formControl:w,fullWidth:o,hiddenLabel:S.hiddenLabel,multiline:d,size:S.size,type:y},N=m.root??i.Root??P5,x=m.input??i.Input??L5,[R,O]=kt("notchedOutline",{elementType:M5,className:v.notchedOutline,shouldForwardComponentProp:!0,ownerState:T,externalForwardedProps:{slots:m,slotProps:b},additionalProps:{label:c!=null&&c!==""&&S.required?X.jsxs($.Fragment,{children:[c,"","*"]}):c}});return X.jsx(yb,{slots:{root:N,input:x},slotProps:b,renderSuffix:j=>X.jsx(R,{...O,notched:typeof h<"u"?h:!!(j.startAdornment||j.filled||j.focused)}),fullWidth:o,inputComponent:u,multiline:d,ref:n,type:y,..._,classes:{...v,notchedOutline:null}})});wb.muiName="Input";function uO(t){return pt("MuiSelect",t)}const Dl=mt("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var QE;const D5=Ee(oO,{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${Dl.select}`]:e.select},{[`&.${Dl.select}`]:e[n.variant]},{[`&.${Dl.error}`]:e.error},{[`&.${Dl.multiple}`]:e.multiple}]}})({[`&.${Dl.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),U5=Ee(lO,{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${He(n.variant)}`],n.open&&e.iconOpen]}})({}),z5=Ee("input",{shouldForwardProp:t=>$T(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function JE(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function B5(t){return t==null||typeof t=="string"&&!t.trim()}const H5=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:o,error:u}=t,c={select:["select",n,r&&"disabled",i&&"multiple",u&&"error"],icon:["icon",`icon${He(n)}`,o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return gt(c,uO,e)},q5=$.forwardRef(function(e,n){var Yt;const{"aria-describedby":r,"aria-label":i,autoFocus:o,autoWidth:u,children:c,className:d,defaultOpen:h,defaultValue:m,disabled:b,displayEmpty:y,error:_=!1,IconComponent:v,inputRef:w,labelId:S,MenuProps:T={},multiple:N,name:x,onBlur:R,onChange:O,onClose:j,onFocus:L,onOpen:D,open:te,readOnly:C,renderValue:F,required:J,SelectDisplayProps:ne={},tabIndex:G,type:U,value:I,variant:M="standard",...Z}=e,[B,k]=uy({controlled:I,default:m,name:"Select"}),[H,W]=uy({controlled:te,default:h,name:"Select"}),ee=$.useRef(null),oe=$.useRef(null),[le,fe]=$.useState(null),{current:he}=$.useRef(te!=null),[me,Oe]=$.useState(),ge=gn(n,w),Ne=$.useCallback(_e=>{oe.current=_e,_e&&fe(_e)},[]),Ce=le==null?void 0:le.parentNode;$.useImperativeHandle(ge,()=>({focus:()=>{oe.current.focus()},node:ee.current,value:B}),[B]),$.useEffect(()=>{h&&H&&le&&!he&&(Oe(u?null:Ce.clientWidth),oe.current.focus())},[le,u]),$.useEffect(()=>{o&&oe.current.focus()},[o]),$.useEffect(()=>{if(!S)return;const _e=rr(oe.current).getElementById(S);if(_e){const Ve=()=>{getSelection().isCollapsed&&oe.current.focus()};return _e.addEventListener("click",Ve),()=>{_e.removeEventListener("click",Ve)}}},[S]);const it=(_e,Ve)=>{_e?D&&D(Ve):j&&j(Ve),he||(Oe(u?null:Ce.clientWidth),W(_e))},Ae=_e=>{_e.button===0&&(_e.preventDefault(),oe.current.focus(),it(!0,_e))},Ye=_e=>{it(!1,_e)},Lt=$.Children.toArray(c),Ge=_e=>{const Ve=Lt.find(Rt=>Rt.props.value===_e.target.value);Ve!==void 0&&(k(Ve.props.value),O&&O(_e,Ve))},bt=_e=>Ve=>{let Rt;if(Ve.currentTarget.hasAttribute("tabindex")){if(N){Rt=Array.isArray(B)?B.slice():[];const Fn=B.indexOf(_e.props.value);Fn===-1?Rt.push(_e.props.value):Rt.splice(Fn,1)}else Rt=_e.props.value;if(_e.props.onClick&&_e.props.onClick(Ve),B!==Rt&&(k(Rt),O)){const Fn=Ve.nativeEvent||Ve,wi=new Fn.constructor(Fn.type,Fn);Object.defineProperty(wi,"target",{writable:!0,value:{value:Rt,name:x}}),O(wi,_e)}N||it(!1,Ve)}},Zt=_e=>{C||[" ","ArrowUp","ArrowDown","Enter"].includes(_e.key)&&(_e.preventDefault(),it(!0,_e))},st=le!==null&&H,Xe=_e=>{!st&&R&&(Object.defineProperty(_e,"target",{writable:!0,value:{value:B,name:x}}),R(_e))};delete Z["aria-invalid"];let ve,un;const Ot=[];let Hn=!1;(ed({value:B})||y)&&(F?ve=F(B):Hn=!0);const yn=Lt.map(_e=>{if(!$.isValidElement(_e))return null;let Ve;if(N){if(!Array.isArray(B))throw new Error(Ra(2));Ve=B.some(Rt=>JE(Rt,_e.props.value)),Ve&&Hn&&Ot.push(_e.props.children)}else Ve=JE(B,_e.props.value),Ve&&Hn&&(un=_e.props.children);return $.cloneElement(_e,{"aria-selected":Ve?"true":"false",onClick:bt(_e),onKeyUp:Rt=>{Rt.key===" "&&Rt.preventDefault(),_e.props.onKeyUp&&_e.props.onKeyUp(Rt)},role:"option",selected:Ve,value:void 0,"data-value":_e.props.value})});Hn&&(N?Ot.length===0?ve=null:ve=Ot.reduce((_e,Ve,Rt)=>(_e.push(Ve),Rt<Ot.length-1&&_e.push(", "),_e),[]):ve=un);let St=me;!u&&he&&le&&(St=Ce.clientWidth);let Bt;typeof G<"u"?Bt=G:Bt=b?null:0;const Et=ne.id||(x?`mui-component-select-${x}`:void 0),qn={...e,variant:M,value:B,open:st,error:_},Ue=H5(qn),An={...T.PaperProps,...(Yt=T.slotProps)==null?void 0:Yt.paper},Jt=Id();return X.jsxs($.Fragment,{children:[X.jsx(D5,{as:"div",ref:Ne,tabIndex:Bt,role:"combobox","aria-controls":st?Jt:void 0,"aria-disabled":b?"true":void 0,"aria-expanded":st?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[S,Et].filter(Boolean).join(" ")||void 0,"aria-describedby":r,"aria-required":J?"true":void 0,"aria-invalid":_?"true":void 0,onKeyDown:Zt,onMouseDown:b||C?null:Ae,onBlur:Xe,onFocus:L,...ne,ownerState:qn,className:Me(ne.className,Ue.select,d),id:Et,children:B5(ve)?QE||(QE=X.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):ve}),X.jsx(z5,{"aria-invalid":_,value:Array.isArray(B)?B.join(","):B,name:x,ref:ee,"aria-hidden":!0,onChange:Ge,tabIndex:-1,disabled:b,className:Ue.nativeInput,autoFocus:o,required:J,...Z,ownerState:qn}),X.jsx(U5,{as:v,className:Ue.icon,ownerState:qn}),X.jsx(T5,{id:`menu-${x||""}`,anchorEl:Ce,open:st,onClose:Ye,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...T,slotProps:{...T.slotProps,list:{"aria-labelledby":S,role:"listbox","aria-multiselectable":N?"true":void 0,disableListWrap:!0,id:Jt,...T.MenuListProps},paper:{...An,style:{minWidth:St,...An!=null?An.style:null}}},children:yn})]})}),F5=t=>{const{classes:e}=t,r=gt({root:["root"]},uO,e);return{...e,...r}},Sb={name:"MuiSelect",slot:"Root",shouldForwardProp:t=>ea(t)&&t!=="variant"},G5=Ee(vb,Sb)(""),V5=Ee(wb,Sb)(""),Z5=Ee(bb,Sb)(""),cO=$.forwardRef(function(e,n){const r=yt({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:o,classes:u={},className:c,defaultOpen:d=!1,displayEmpty:h=!1,IconComponent:m=GD,id:b,input:y,inputProps:_,label:v,labelId:w,MenuProps:S,multiple:T=!1,native:N=!1,onClose:x,onOpen:R,open:O,renderValue:j,SelectDisplayProps:L,variant:D="outlined",...te}=r,C=N?N5:q5,F=rs(),J=Ao({props:r,muiFormControl:F,states:["variant","error"]}),ne=J.variant||D,G={...r,variant:ne,classes:u},U=F5(G),{root:I,...M}=U,Z=y||{standard:X.jsx(G5,{ownerState:G}),outlined:X.jsx(V5,{label:v,ownerState:G}),filled:X.jsx(Z5,{ownerState:G})}[ne],B=gn(n,Co(Z));return X.jsx($.Fragment,{children:$.cloneElement(Z,{inputComponent:C,inputProps:{children:o,error:J.error,IconComponent:m,variant:ne,type:void 0,multiple:T,...N?{id:b}:{autoWidth:i,defaultOpen:d,displayEmpty:h,labelId:w,MenuProps:S,onClose:x,onOpen:R,open:O,renderValue:j,SelectDisplayProps:{id:b,...L}},..._,classes:_?ln(M,_.classes):M,...y?y.props.inputProps:{}},...(T&&N||h)&&ne==="outlined"?{notched:!0}:{},ref:B,className:Me(Z.props.className,c,U.root),...!y&&{variant:ne},...te})})});cO.muiName="Select";function Y5(t){return pt("MuiTooltip",t)}const Mt=mt("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function K5(t){return Math.round(t*1e5)/1e5}const X5=t=>{const{classes:e,disableInteractive:n,arrow:r,touch:i,placement:o}=t,u={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch",`tooltipPlacement${He(o.split("-")[0])}`],arrow:["arrow"]};return gt(u,Y5,e)},W5=Ee(nO,{name:"MuiTooltip",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.popper,!n.disableInteractive&&e.popperInteractive,n.arrow&&e.popperArrow,!n.open&&e.popperClose]}})(Tt(({theme:t})=>({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:e})=>!e.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:e})=>!e,style:{pointerEvents:"none"}},{props:({ownerState:e})=>e.arrow,style:{[`&[data-popper-placement*="bottom"] .${Mt.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Mt.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Mt.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${Mt.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="right"] .${Mt.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="right"] .${Mt.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="left"] .${Mt.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="left"] .${Mt.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),Q5=Ee("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.tooltip,n.touch&&e.touch,n.arrow&&e.tooltipArrow,e[`tooltipPlacement${He(n.placement.split("-")[0])}`]]}})(Tt(({theme:t})=>({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:ts(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium,[`.${Mt.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${Mt.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${Mt.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${Mt.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:e})=>e.arrow,style:{position:"relative",margin:0}},{props:({ownerState:e})=>e.touch,style:{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${K5(16/14)}em`,fontWeight:t.typography.fontWeightRegular}},{props:({ownerState:e})=>!e.isRtl,style:{[`.${Mt.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${Mt.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:e})=>!e.isRtl&&e.touch,style:{[`.${Mt.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${Mt.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:e})=>!!e.isRtl,style:{[`.${Mt.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${Mt.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:e})=>!!e.isRtl&&e.touch,style:{[`.${Mt.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${Mt.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${Mt.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${Mt.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),J5=Ee("span",{name:"MuiTooltip",slot:"Arrow"})(Tt(({theme:t})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:ts(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let mf=!1;const ex=new $d;let Ul={x:0,y:0};function gf(t,e){return(n,...r)=>{e&&e(n,...r),t(n,...r)}}const eU=$.forwardRef(function(e,n){const r=yt({props:e,name:"MuiTooltip"}),{arrow:i=!1,children:o,classes:u,components:c={},componentsProps:d={},describeChild:h=!1,disableFocusListener:m=!1,disableHoverListener:b=!1,disableInteractive:y=!1,disableTouchListener:_=!1,enterDelay:v=100,enterNextDelay:w=0,enterTouchDelay:S=700,followCursor:T=!1,id:N,leaveDelay:x=0,leaveTouchDelay:R=1500,onClose:O,onOpen:j,open:L,placement:D="bottom",PopperComponent:te,PopperProps:C={},slotProps:F={},slots:J={},title:ne,TransitionComponent:G,TransitionProps:U,...I}=r,M=$.isValidElement(o)?o:X.jsx("span",{children:o}),Z=kd(),B=ab(),[k,H]=$.useState(),[W,ee]=$.useState(null),oe=$.useRef(!1),le=y||T,fe=ao(),he=ao(),me=ao(),Oe=ao(),[ge,Ne]=uy({controlled:L,default:!1,name:"Tooltip",state:"open"});let Ce=ge;const it=Id(N),Ae=$.useRef(),Ye=Ta(()=>{Ae.current!==void 0&&(document.body.style.WebkitUserSelect=Ae.current,Ae.current=void 0),Oe.clear()});$.useEffect(()=>Ye,[Ye]);const Lt=Ie=>{ex.clear(),mf=!0,Ne(!0),j&&!Ce&&j(Ie)},Ge=Ta(Ie=>{ex.start(800+x,()=>{mf=!1}),Ne(!1),O&&Ce&&O(Ie),fe.start(Z.transitions.duration.shortest,()=>{oe.current=!1})}),bt=Ie=>{oe.current&&Ie.type!=="touchstart"||(k&&k.removeAttribute("title"),he.clear(),me.clear(),v||mf&&w?he.start(mf?w:v,()=>{Lt(Ie)}):Lt(Ie))},Zt=Ie=>{he.clear(),me.start(x,()=>{Ge(Ie)})},[,st]=$.useState(!1),Xe=Ie=>{Wf(Ie.target)||(st(!1),Zt(Ie))},ve=Ie=>{k||H(Ie.currentTarget),Wf(Ie.target)&&(st(!0),bt(Ie))},un=Ie=>{oe.current=!0;const Nn=M.props;Nn.onTouchStart&&Nn.onTouchStart(Ie)},Ot=Ie=>{un(Ie),me.clear(),fe.clear(),Ye(),Ae.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Oe.start(S,()=>{document.body.style.WebkitUserSelect=Ae.current,bt(Ie)})},Hn=Ie=>{M.props.onTouchEnd&&M.props.onTouchEnd(Ie),Ye(),me.start(R,()=>{Ge(Ie)})};$.useEffect(()=>{if(!Ce)return;function Ie(Nn){Nn.key==="Escape"&&Ge(Nn)}return document.addEventListener("keydown",Ie),()=>{document.removeEventListener("keydown",Ie)}},[Ge,Ce]);const yn=gn(Co(M),H,n);!ne&&ne!==0&&(Ce=!1);const St=$.useRef(),Bt=Ie=>{const Nn=M.props;Nn.onMouseMove&&Nn.onMouseMove(Ie),Ul={x:Ie.clientX,y:Ie.clientY},St.current&&St.current.update()},Et={},qn=typeof ne=="string";h?(Et.title=!Ce&&qn&&!b?ne:null,Et["aria-describedby"]=Ce?it:null):(Et["aria-label"]=qn?ne:null,Et["aria-labelledby"]=Ce&&!qn?it:null);const Ue={...Et,...I,...M.props,className:Me(I.className,M.props.className),onTouchStart:un,ref:yn,...T?{onMouseMove:Bt}:{}},An={};_||(Ue.onTouchStart=Ot,Ue.onTouchEnd=Hn),b||(Ue.onMouseOver=gf(bt,Ue.onMouseOver),Ue.onMouseLeave=gf(Zt,Ue.onMouseLeave),le||(An.onMouseOver=bt,An.onMouseLeave=Zt)),m||(Ue.onFocus=gf(ve,Ue.onFocus),Ue.onBlur=gf(Xe,Ue.onBlur),le||(An.onFocus=ve,An.onBlur=Xe));const Jt={...r,isRtl:B,arrow:i,disableInteractive:le,placement:D,PopperComponentProp:te,touch:oe.current},Yt=typeof F.popper=="function"?F.popper(Jt):F.popper,_e=$.useMemo(()=>{var Nn,Du;let Ie=[{name:"arrow",enabled:!!W,options:{element:W,padding:4}}];return(Nn=C.popperOptions)!=null&&Nn.modifiers&&(Ie=Ie.concat(C.popperOptions.modifiers)),(Du=Yt==null?void 0:Yt.popperOptions)!=null&&Du.modifiers&&(Ie=Ie.concat(Yt.popperOptions.modifiers)),{...C.popperOptions,...Yt==null?void 0:Yt.popperOptions,modifiers:Ie}},[W,C.popperOptions,Yt==null?void 0:Yt.popperOptions]),Ve=X5(Jt),Rt=typeof F.transition=="function"?F.transition(Jt):F.transition,Fn={slots:{popper:c.Popper,transition:c.Transition??G,tooltip:c.Tooltip,arrow:c.Arrow,...J},slotProps:{arrow:F.arrow??d.arrow,popper:{...C,...Yt??d.popper},tooltip:F.tooltip??d.tooltip,transition:{...U,...Rt??d.transition}}},[wi,Pu]=kt("popper",{elementType:W5,externalForwardedProps:Fn,ownerState:Jt,className:Me(Ve.popper,C==null?void 0:C.className)}),[No,Si]=kt("transition",{elementType:td,externalForwardedProps:Fn,ownerState:Jt}),[zd,Mu]=kt("tooltip",{elementType:Q5,className:Ve.tooltip,externalForwardedProps:Fn,ownerState:Jt}),[Lu,ko]=kt("arrow",{elementType:J5,className:Ve.arrow,externalForwardedProps:Fn,ownerState:Jt,ref:ee});return X.jsxs($.Fragment,{children:[$.cloneElement(M,Ue),X.jsx(wi,{as:te??nO,placement:D,anchorEl:T?{getBoundingClientRect:()=>({top:Ul.y,left:Ul.x,right:Ul.x,bottom:Ul.y,width:0,height:0})}:k,popperRef:St,open:k?Ce:!1,id:it,transition:!0,...An,...Pu,popperOptions:_e,children:({TransitionProps:Ie})=>X.jsx(No,{timeout:Z.transitions.duration.shorter,...Ie,...Si,children:X.jsxs(zd,{...Mu,children:[ne,i?X.jsx(Lu,{...ko}):null]})})})]})}),fO=BM({createStyledComponent:Ee("div",{name:"MuiStack",slot:"Root"}),useThemeProps:t=>yt({props:t,name:"MuiStack"})});function tU(t){return pt("MuiTextField",t)}mt("MuiTextField",["root"]);const nU={standard:vb,filled:bb,outlined:wb},rU=t=>{const{classes:e}=t;return gt({root:["root"]},tU,e)},aU=Ee(U3,{name:"MuiTextField",slot:"Root"})({}),iU=$.forwardRef(function(e,n){const r=yt({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:o=!1,children:u,className:c,color:d="primary",defaultValue:h,disabled:m=!1,error:b=!1,FormHelperTextProps:y,fullWidth:_=!1,helperText:v,id:w,InputLabelProps:S,inputProps:T,InputProps:N,inputRef:x,label:R,maxRows:O,minRows:j,multiline:L=!1,name:D,onBlur:te,onChange:C,onFocus:F,placeholder:J,required:ne=!1,rows:G,select:U=!1,SelectProps:I,slots:M={},slotProps:Z={},type:B,value:k,variant:H="outlined",...W}=r,ee={...r,autoFocus:o,color:d,disabled:m,error:b,fullWidth:_,multiline:L,required:ne,select:U,variant:H},oe=rU(ee),le=Id(w),fe=v&&le?`${le}-helper-text`:void 0,he=R&&le?`${le}-label`:void 0,me=nU[H],Oe={slots:M,slotProps:{input:N,inputLabel:S,htmlInput:T,formHelperText:y,select:I,...Z}},ge={},Ne=Oe.slotProps.inputLabel;H==="outlined"&&(Ne&&typeof Ne.shrink<"u"&&(ge.notched=Ne.shrink),ge.label=R),U&&((!I||!I.native)&&(ge.id=void 0),ge["aria-describedby"]=void 0);const[Ce,it]=kt("root",{elementType:aU,shouldForwardComponentProp:!0,externalForwardedProps:{...Oe,...W},ownerState:ee,className:Me(oe.root,c),ref:n,additionalProps:{disabled:m,error:b,fullWidth:_,required:ne,color:d,variant:H}}),[Ae,Ye]=kt("input",{elementType:me,externalForwardedProps:Oe,additionalProps:ge,ownerState:ee}),[Lt,Ge]=kt("inputLabel",{elementType:o5,externalForwardedProps:Oe,ownerState:ee}),[bt,Zt]=kt("htmlInput",{elementType:"input",externalForwardedProps:Oe,ownerState:ee}),[st,Xe]=kt("formHelperText",{elementType:q3,externalForwardedProps:Oe,ownerState:ee}),[ve,un]=kt("select",{elementType:cO,externalForwardedProps:Oe,ownerState:ee}),Ot=X.jsx(Ae,{"aria-describedby":fe,autoComplete:i,autoFocus:o,defaultValue:h,fullWidth:_,multiline:L,name:D,rows:G,maxRows:O,minRows:j,type:B,value:k,id:le,inputRef:x,onBlur:te,onChange:C,onFocus:F,placeholder:J,inputProps:Zt,slots:{input:M.htmlInput?bt:void 0},...Ye});return X.jsxs(Ce,{...it,children:[R!=null&&R!==""&&X.jsx(Lt,{htmlFor:le,id:he,...Ge,children:R}),U?X.jsx(ve,{"aria-describedby":fe,id:le,labelId:he,value:k,input:Ot,...un,children:u}):Ot,v&&X.jsx(st,{id:fe,...Xe,children:v})]})}),sU=Iu(X.jsx("path",{d:"M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3m5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72z"})),oU=Iu(X.jsx("path",{d:"M6 6h12v12H6z"}));function lU({chat:t,listening:e,micDisabled:n,onMicClick:r,onMicStop:i}){const o=$.useRef(null);return $.useEffect(()=>{var u;(u=o.current)==null||u.scrollIntoView({behavior:"smooth"})},[t]),X.jsxs(Ml,{sx:{display:"flex",flexDirection:"column",border:"1px solid #ccc",borderRadius:2,flexGrow:1,overflow:"hidden"},children:[X.jsxs(Ml,{sx:{flex:1,overflowY:"auto",p:2,backgroundColor:"#fafafa"},children:[t.map((u,c)=>X.jsxs(Ml,{display:"flex",flexDirection:u.role==="user"?"row":"row-reverse",alignItems:"flex-start",mb:2,children:[X.jsx(JD,{sx:{bgcolor:u.role==="user"?"success.main":"primary.main",mx:1},children:u.role==="user"?"U":"A"}),X.jsxs(Ml,{sx:{bgcolor:u.role==="user"?"#e8f5e9":"#e3f2fd",p:1.5,borderRadius:2,maxWidth:"50%",wordBreak:"break-word",display:"flex",flexDirection:"column",gap:1},children:[X.jsx(li,{variant:"body2",children:u.content}),u.audio&&X.jsx("audio",{style:{width:"100%"},controls:!0,src:u.audio,autoPlay:!0,children:"Your browser does not support the audio element."})]})]},c)),X.jsx("div",{ref:o})]}),X.jsx(Ml,{sx:{borderTop:"1px solid #ccc",p:1,display:"flex",justifyContent:"center"},children:X.jsx(FT,{onClick:e?i:r,color:e?"error":"primary",size:"large",disabled:n,children:e?X.jsx(oU,{fontSize:"large"}):X.jsx(sU,{fontSize:"large"})})})]})}const uU=({listening:t,transcript:e,finalTranscript:n,lastTranscript:r,prompt:i})=>X.jsxs(fO,{sx:{gap:.5,p:2,border:"1px solid #ccc",borderRadius:2},children:[X.jsx(li,{variant:"subtitle1",children:X.jsx("strong",{children:"Debug Section"})}),X.jsxs(li,{variant:"body2",children:["Microphone: ",X.jsx("strong",{children:t?"On":"Off"})]}),X.jsxs(li,{variant:"body2",children:["Transcript: ",X.jsx("span",{children:e})]}),X.jsxs(li,{variant:"body2",children:["Final Transcript: ",X.jsx("span",{children:n})]}),X.jsxs(li,{variant:"body2",children:["Last Handled Transcript: ",X.jsx("span",{children:r})]}),X.jsxs(li,{variant:"body2",children:["Prompt: ",X.jsx("span",{children:i})]})]}),cU=Iu(X.jsx("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"})),tx="AI",fU=()=>{const{transcript:t,listening:e,finalTranscript:n,browserSupportsSpeechRecognition:r,resetTranscript:i}=nj(),[o,u]=$.useState(""),[c,d]=$.useState(""),[h,m]=$.useState([]);return r?($.useEffect(()=>{(async()=>{const y="",_="https://api.tts.quest/v3/voicevox/synthesis?"+new URLSearchParams({speaker:"0",text:y}).toString(),S=(await(await fetch(_)).json()).mp3StreamingUrl;m([{role:"ai",content:y,audio:S}])})()},[]),$.useEffect(()=>{(async()=>{if(e||!n||n===c)return;const y=[...h,{role:"user",content:n}];m(y);const v=await new B$({apiKey:o,model:"gemini-2.0-flash-lite",temperature:1,maxOutputTokens:128}).invoke([{role:"system",content:tx},...y]),w=v.content;console.log("model response:",v);const S="https://api.tts.quest/v3/voicevox/synthesis?"+new URLSearchParams({speaker:"0",text:w}).toString(),N=await(await fetch(S)).json();console.log("Voicevox response:",N);const x=N.mp3StreamingUrl;m([...y,{role:"ai",content:w,audio:x}]),d(n),i()})()},[e,n,c]),X.jsxs(X.Fragment,{children:[X.jsx(d3,{}),X.jsxs(fO,{spacing:1,p:2,height:"100vh",maxWidth:"lg",margin:"auto",children:[X.jsx(iU,{label:"Gemini API Key",variant:"outlined",fullWidth:!0,value:o,onChange:b=>u(b.target.value),required:!0,slotProps:{input:{endAdornment:X.jsx(r5,{position:"end",children:X.jsx(eU,{title:"aistudio.google.com/app/apikey ",children:X.jsx(FT,{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",size:"small",children:X.jsx(cU,{})})})})}}}),X.jsx(lU,{chat:h,listening:e,micDisabled:!o,onMicClick:()=>Sa.startListening({continuous:!0,language:"ja",interimResults:!1}),onMicStop:Sa.stopListening}),X.jsx(uU,{listening:e,transcript:t,finalTranscript:n,lastTranscript:c,prompt:tx})]})]})):X.jsx("span",{children:"Browser doesn't support speech recognition."})};$C.createRoot(document.getElementById("root")).render(X.jsx($.StrictMode,{children:X.jsx(fU,{})}));
