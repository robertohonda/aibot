var uO=Object.defineProperty;var cO=(t,e,n)=>e in t?uO(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Jn=(t,e,n)=>cO(t,typeof e!="symbol"?e+"":e,n);function dO(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ri(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ip={exports:{}},nl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p_;function fO(){if(p_)return nl;p_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,o){var u=null;if(o!==void 0&&(u=""+o),i.key!==void 0&&(u=""+i.key),"key"in i){o={};for(var d in i)d!=="key"&&(o[d]=i[d])}else o=i;return i=o.ref,{$$typeof:t,type:r,key:u,ref:i!==void 0?i:null,props:o}}return nl.Fragment=e,nl.jsx=n,nl.jsxs=n,nl}var m_;function hO(){return m_||(m_=1,ip.exports=fO()),ip.exports}var J=hO(),sp={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g_;function pO(){if(g_)return Ne;g_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),b=Symbol.iterator;function y(k){return k===null||typeof k!="object"?null:(k=b&&k[b]||k["@@iterator"],typeof k=="function"?k:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,w={};function E(k,q,Q){this.props=k,this.context=q,this.refs=w,this.updater=Q||_}E.prototype.isReactComponent={},E.prototype.setState=function(k,q){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,q,"setState")},E.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function x(){}x.prototype=E.prototype;function N(k,q,Q){this.props=k,this.context=q,this.refs=w,this.updater=Q||_}var T=N.prototype=new x;T.constructor=N,v(T,E.prototype),T.isPureReactComponent=!0;var A=Array.isArray,R={H:null,A:null,T:null,S:null,V:null},M=Object.prototype.hasOwnProperty;function H(k,q,Q,W,oe,ce){return Q=ce.ref,{$$typeof:t,type:k,key:q,ref:Q!==void 0?Q:null,props:ce}}function U(k,q){return H(k.type,q,void 0,void 0,void 0,k.props)}function ie(k){return typeof k=="object"&&k!==null&&k.$$typeof===t}function C(k){var q={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(Q){return q[Q]})}var X=/\/+/g;function ee(k,q){return typeof k=="object"&&k!==null&&k.key!=null?C(""+k.key):q.toString(36)}function se(){}function V(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(se,se):(k.status="pending",k.then(function(q){k.status==="pending"&&(k.status="fulfilled",k.value=q)},function(q){k.status==="pending"&&(k.status="rejected",k.reason=q)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function L(k,q,Q,W,oe){var ce=typeof k;(ce==="undefined"||ce==="boolean")&&(k=null);var de=!1;if(k===null)de=!0;else switch(ce){case"bigint":case"string":case"number":de=!0;break;case"object":switch(k.$$typeof){case t:case e:de=!0;break;case m:return de=k._init,L(de(k._payload),q,Q,W,oe)}}if(de)return oe=oe(k),de=W===""?"."+ee(k,0):W,A(oe)?(Q="",de!=null&&(Q=de.replace(X,"$&/")+"/"),L(oe,q,Q,"",function(Ce){return Ce})):oe!=null&&(ie(oe)&&(oe=U(oe,Q+(oe.key==null||k&&k.key===oe.key?"":(""+oe.key).replace(X,"$&/")+"/")+de)),q.push(oe)),1;de=0;var ge=W===""?".":W+":";if(A(k))for(var Te=0;Te<k.length;Te++)W=k[Te],ce=ge+ee(W,Te),de+=L(W,q,Q,ce,oe);else if(Te=y(k),typeof Te=="function")for(k=Te.call(k),Te=0;!(W=k.next()).done;)W=W.value,ce=ge+ee(W,Te++),de+=L(W,q,Q,ce,oe);else if(ce==="object"){if(typeof k.then=="function")return L(V(k),q,Q,W,oe);throw q=String(k),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return de}function I(k,q,Q){if(k==null)return k;var W=[],oe=0;return L(k,W,"","",function(ce){return q.call(Q,ce,oe++)}),W}function D(k){if(k._status===-1){var q=k._result;q=q(),q.then(function(Q){(k._status===0||k._status===-1)&&(k._status=1,k._result=Q)},function(Q){(k._status===0||k._status===-1)&&(k._status=2,k._result=Q)}),k._status===-1&&(k._status=0,k._result=q)}if(k._status===1)return k._result.default;throw k._result}var Y=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function B(){}return Ne.Children={map:I,forEach:function(k,q,Q){I(k,function(){q.apply(this,arguments)},Q)},count:function(k){var q=0;return I(k,function(){q++}),q},toArray:function(k){return I(k,function(q){return q})||[]},only:function(k){if(!ie(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Ne.Component=E,Ne.Fragment=n,Ne.Profiler=i,Ne.PureComponent=N,Ne.StrictMode=r,Ne.Suspense=f,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(k){return R.H.useMemoCache(k)}},Ne.cache=function(k){return function(){return k.apply(null,arguments)}},Ne.cloneElement=function(k,q,Q){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var W=v({},k.props),oe=k.key,ce=void 0;if(q!=null)for(de in q.ref!==void 0&&(ce=void 0),q.key!==void 0&&(oe=""+q.key),q)!M.call(q,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&q.ref===void 0||(W[de]=q[de]);var de=arguments.length-2;if(de===1)W.children=Q;else if(1<de){for(var ge=Array(de),Te=0;Te<de;Te++)ge[Te]=arguments[Te+2];W.children=ge}return H(k.type,oe,void 0,void 0,ce,W)},Ne.createContext=function(k){return k={$$typeof:u,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:o,_context:k},k},Ne.createElement=function(k,q,Q){var W,oe={},ce=null;if(q!=null)for(W in q.key!==void 0&&(ce=""+q.key),q)M.call(q,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(oe[W]=q[W]);var de=arguments.length-2;if(de===1)oe.children=Q;else if(1<de){for(var ge=Array(de),Te=0;Te<de;Te++)ge[Te]=arguments[Te+2];oe.children=ge}if(k&&k.defaultProps)for(W in de=k.defaultProps,de)oe[W]===void 0&&(oe[W]=de[W]);return H(k,ce,void 0,void 0,null,oe)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(k){return{$$typeof:d,render:k}},Ne.isValidElement=ie,Ne.lazy=function(k){return{$$typeof:m,_payload:{_status:-1,_result:k},_init:D}},Ne.memo=function(k,q){return{$$typeof:h,type:k,compare:q===void 0?null:q}},Ne.startTransition=function(k){var q=R.T,Q={};R.T=Q;try{var W=k(),oe=R.S;oe!==null&&oe(Q,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(B,Y)}catch(ce){Y(ce)}finally{R.T=q}},Ne.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Ne.use=function(k){return R.H.use(k)},Ne.useActionState=function(k,q,Q){return R.H.useActionState(k,q,Q)},Ne.useCallback=function(k,q){return R.H.useCallback(k,q)},Ne.useContext=function(k){return R.H.useContext(k)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(k,q){return R.H.useDeferredValue(k,q)},Ne.useEffect=function(k,q,Q){var W=R.H;if(typeof Q=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(k,q)},Ne.useId=function(){return R.H.useId()},Ne.useImperativeHandle=function(k,q,Q){return R.H.useImperativeHandle(k,q,Q)},Ne.useInsertionEffect=function(k,q){return R.H.useInsertionEffect(k,q)},Ne.useLayoutEffect=function(k,q){return R.H.useLayoutEffect(k,q)},Ne.useMemo=function(k,q){return R.H.useMemo(k,q)},Ne.useOptimistic=function(k,q){return R.H.useOptimistic(k,q)},Ne.useReducer=function(k,q,Q){return R.H.useReducer(k,q,Q)},Ne.useRef=function(k){return R.H.useRef(k)},Ne.useState=function(k){return R.H.useState(k)},Ne.useSyncExternalStore=function(k,q,Q){return R.H.useSyncExternalStore(k,q,Q)},Ne.useTransition=function(){return R.H.useTransition()},Ne.version="19.1.0",Ne}var y_;function Cg(){return y_||(y_=1,sp.exports=pO()),sp.exports}var $=Cg();const jr=ri($),qm=dO({__proto__:null,default:jr},[$]);var op={exports:{}},rl={},lp={exports:{}},up={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b_;function mO(){return b_||(b_=1,function(t){function e(I,D){var Y=I.length;I.push(D);e:for(;0<Y;){var B=Y-1>>>1,k=I[B];if(0<i(k,D))I[B]=D,I[Y]=k,Y=B;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var D=I[0],Y=I.pop();if(Y!==D){I[0]=Y;e:for(var B=0,k=I.length,q=k>>>1;B<q;){var Q=2*(B+1)-1,W=I[Q],oe=Q+1,ce=I[oe];if(0>i(W,Y))oe<k&&0>i(ce,W)?(I[B]=ce,I[oe]=Y,B=oe):(I[B]=W,I[Q]=Y,B=Q);else if(oe<k&&0>i(ce,Y))I[B]=ce,I[oe]=Y,B=oe;else break e}}return D}function i(I,D){var Y=I.sortIndex-D.sortIndex;return Y!==0?Y:I.id-D.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var f=[],h=[],m=1,b=null,y=3,_=!1,v=!1,w=!1,E=!1,x=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function A(I){for(var D=n(h);D!==null;){if(D.callback===null)r(h);else if(D.startTime<=I)r(h),D.sortIndex=D.expirationTime,e(f,D);else break;D=n(h)}}function R(I){if(w=!1,A(I),!v)if(n(f)!==null)v=!0,M||(M=!0,ee());else{var D=n(h);D!==null&&L(R,D.startTime-I)}}var M=!1,H=-1,U=5,ie=-1;function C(){return E?!0:!(t.unstable_now()-ie<U)}function X(){if(E=!1,M){var I=t.unstable_now();ie=I;var D=!0;try{e:{v=!1,w&&(w=!1,N(H),H=-1),_=!0;var Y=y;try{t:{for(A(I),b=n(f);b!==null&&!(b.expirationTime>I&&C());){var B=b.callback;if(typeof B=="function"){b.callback=null,y=b.priorityLevel;var k=B(b.expirationTime<=I);if(I=t.unstable_now(),typeof k=="function"){b.callback=k,A(I),D=!0;break t}b===n(f)&&r(f),A(I)}else r(f);b=n(f)}if(b!==null)D=!0;else{var q=n(h);q!==null&&L(R,q.startTime-I),D=!1}}break e}finally{b=null,y=Y,_=!1}D=void 0}}finally{D?ee():M=!1}}}var ee;if(typeof T=="function")ee=function(){T(X)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,V=se.port2;se.port1.onmessage=X,ee=function(){V.postMessage(null)}}else ee=function(){x(X,0)};function L(I,D){H=x(function(){I(t.unstable_now())},D)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(I){switch(y){case 1:case 2:case 3:var D=3;break;default:D=y}var Y=y;y=D;try{return I()}finally{y=Y}},t.unstable_requestPaint=function(){E=!0},t.unstable_runWithPriority=function(I,D){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var Y=y;y=I;try{return D()}finally{y=Y}},t.unstable_scheduleCallback=function(I,D,Y){var B=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?B+Y:B):Y=B,I){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=Y+k,I={id:m++,callback:D,priorityLevel:I,startTime:Y,expirationTime:k,sortIndex:-1},Y>B?(I.sortIndex=Y,e(h,I),n(f)===null&&I===n(h)&&(w?(N(H),H=-1):w=!0,L(R,Y-B))):(I.sortIndex=k,e(f,I),v||_||(v=!0,M||(M=!0,ee()))),I},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(I){var D=y;return function(){var Y=y;y=D;try{return I.apply(this,arguments)}finally{y=Y}}}}(up)),up}var v_;function gO(){return v_||(v_=1,lp.exports=mO()),lp.exports}var cp={exports:{}},cn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var __;function yO(){if(__)return cn;__=1;var t=Cg();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(f,h,m){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:b==null?null:""+b,children:f,containerInfo:h,implementation:m}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,cn.createPortal=function(f,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return o(f,h,null,m)},cn.flushSync=function(f){var h=u.T,m=r.p;try{if(u.T=null,r.p=2,f)return f()}finally{u.T=h,r.p=m,r.d.f()}},cn.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},cn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},cn.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var m=h.as,b=d(m,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,_=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:b,integrity:y,fetchPriority:_}):m==="script"&&r.d.X(f,{crossOrigin:b,integrity:y,fetchPriority:_,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},cn.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=d(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},cn.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,b=d(m,h.crossOrigin);r.d.L(f,m,{crossOrigin:b,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},cn.preloadModule=function(f,h){if(typeof f=="string")if(h){var m=d(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},cn.requestFormReset=function(f){r.d.r(f)},cn.unstable_batchedUpdates=function(f,h){return f(h)},cn.useFormState=function(f,h,m){return u.H.useFormState(f,h,m)},cn.useFormStatus=function(){return u.H.useHostTransitionStatus()},cn.version="19.1.0",cn}var w_;function J1(){if(w_)return cp.exports;w_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),cp.exports=yO(),cp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S_;function bO(){if(S_)return rl;S_=1;var t=gO(),e=Cg(),n=J1();function r(a){var s="https://react.dev/errors/"+a;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var s=a,l=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&4098)!==0&&(l=s.return),a=s.return;while(a)}return s.tag===3?l:null}function u(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function d(a){if(o(a)!==a)throw Error(r(188))}function f(a){var s=a.alternate;if(!s){if(s=o(a),s===null)throw Error(r(188));return s!==a?null:a}for(var l=a,c=s;;){var p=l.return;if(p===null)break;var g=p.alternate;if(g===null){if(c=p.return,c!==null){l=c;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===l)return d(p),a;if(g===c)return d(p),s;g=g.sibling}throw Error(r(188))}if(l.return!==c.return)l=p,c=g;else{for(var S=!1,O=p.child;O;){if(O===l){S=!0,l=p,c=g;break}if(O===c){S=!0,c=p,l=g;break}O=O.sibling}if(!S){for(O=g.child;O;){if(O===l){S=!0,l=g,c=p;break}if(O===c){S=!0,c=g,l=p;break}O=O.sibling}if(!S)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?a:s}function h(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a;for(a=a.child;a!==null;){if(s=h(a),s!==null)return s;a=a.sibling}return null}var m=Object.assign,b=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),N=Symbol.for("react.consumer"),T=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),ie=Symbol.for("react.activity"),C=Symbol.for("react.memo_cache_sentinel"),X=Symbol.iterator;function ee(a){return a===null||typeof a!="object"?null:(a=X&&a[X]||a["@@iterator"],typeof a=="function"?a:null)}var se=Symbol.for("react.client.reference");function V(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===se?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case v:return"Fragment";case E:return"Profiler";case w:return"StrictMode";case R:return"Suspense";case M:return"SuspenseList";case ie:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case _:return"Portal";case T:return(a.displayName||"Context")+".Provider";case N:return(a._context.displayName||"Context")+".Consumer";case A:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case H:return s=a.displayName||null,s!==null?s:V(a.type)||"Memo";case U:s=a._payload,a=a._init;try{return V(a(s))}catch{}}return null}var L=Array.isArray,I=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y={pending:!1,data:null,method:null,action:null},B=[],k=-1;function q(a){return{current:a}}function Q(a){0>k||(a.current=B[k],B[k]=null,k--)}function W(a,s){k++,B[k]=a.current,a.current=s}var oe=q(null),ce=q(null),de=q(null),ge=q(null);function Te(a,s){switch(W(de,s),W(ce,a),W(oe,null),s.nodeType){case 9:case 11:a=(a=s.documentElement)&&(a=a.namespaceURI)?H0(a):0;break;default:if(a=s.tagName,s=s.namespaceURI)s=H0(s),a=q0(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}Q(oe),W(oe,a)}function Ce(){Q(oe),Q(ce),Q(de)}function ye(a){a.memoizedState!==null&&W(ge,a);var s=oe.current,l=q0(s,a.type);s!==l&&(W(ce,a),W(oe,l))}function $e(a){ce.current===a&&(Q(oe),Q(ce)),ge.current===a&&(Q(ge),Qo._currentValue=Y)}var Be=Object.prototype.hasOwnProperty,Et=t.unstable_scheduleCallback,Me=t.unstable_cancelCallback,ct=t.unstable_shouldYield,pn=t.unstable_requestPaint,dt=t.unstable_now,It=t.unstable_getCurrentPriorityLevel,kn=t.unstable_ImmediatePriority,Vt=t.unstable_UserBlockingPriority,bt=t.unstable_NormalPriority,we=t.unstable_LowPriority,sr=t.unstable_IdlePriority,Ut=t.log,pa=t.unstable_setDisableYieldValue,or=null,zt=null;function mn(a){if(typeof Ut=="function"&&pa(a),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(or,a)}catch{}}var jt=Math.clz32?Math.clz32:ma,zr=Math.log,ft=Math.LN2;function ma(a){return a>>>=0,a===0?32:31-(zr(a)/ft|0)|0}var wr=256,ai=4194304;function _e(a){var s=a&42;if(s!==0)return s;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Xe(a,s,l){var c=a.pendingLanes;if(c===0)return 0;var p=0,g=a.suspendedLanes,S=a.pingedLanes;a=a.warmLanes;var O=c&134217727;return O!==0?(c=O&~g,c!==0?p=_e(c):(S&=O,S!==0?p=_e(S):l||(l=O&~a,l!==0&&(p=_e(l))))):(O=c&~g,O!==0?p=_e(O):S!==0?p=_e(S):l||(l=c&~a,l!==0&&(p=_e(l)))),p===0?0:s!==0&&s!==p&&(s&g)===0&&(g=p&-p,l=s&-s,g>=l||g===32&&(l&4194048)!==0)?s:p}function wt(a,s){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&s)===0}function ga(a,s){switch(a){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function io(){var a=wr;return wr<<=1,(wr&4194048)===0&&(wr=256),a}function Ry(){var a=ai;return ai<<=1,(ai&62914560)===0&&(ai=4194304),a}function Zd(a){for(var s=[],l=0;31>l;l++)s.push(a);return s}function so(a,s){a.pendingLanes|=s,s!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function QT(a,s,l,c,p,g){var S=a.pendingLanes;a.pendingLanes=l,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=l,a.entangledLanes&=l,a.errorRecoveryDisabledLanes&=l,a.shellSuspendCounter=0;var O=a.entanglements,j=a.expirationTimes,F=a.hiddenUpdates;for(l=S&~l;0<l;){var ne=31-jt(l),ae=1<<ne;O[ne]=0,j[ne]=-1;var Z=F[ne];if(Z!==null)for(F[ne]=null,ne=0;ne<Z.length;ne++){var K=Z[ne];K!==null&&(K.lane&=-536870913)}l&=~ae}c!==0&&Oy(a,c,0),g!==0&&p===0&&a.tag!==0&&(a.suspendedLanes|=g&~(S&~s))}function Oy(a,s,l){a.pendingLanes|=s,a.suspendedLanes&=~s;var c=31-jt(s);a.entangledLanes|=s,a.entanglements[c]=a.entanglements[c]|1073741824|l&4194090}function Cy(a,s){var l=a.entangledLanes|=s;for(a=a.entanglements;l;){var c=31-jt(l),p=1<<c;p&s|a[c]&s&&(a[c]|=s),l&=~p}}function Yd(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Kd(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Ay(){var a=D.p;return a!==0?a:(a=window.event,a===void 0?32:l_(a.type))}function WT(a,s){var l=D.p;try{return D.p=a,s()}finally{D.p=l}}var ya=Math.random().toString(36).slice(2),ln="__reactFiber$"+ya,wn="__reactProps$"+ya,Ui="__reactContainer$"+ya,Xd="__reactEvents$"+ya,JT="__reactListeners$"+ya,ex="__reactHandles$"+ya,Ny="__reactResources$"+ya,oo="__reactMarker$"+ya;function Qd(a){delete a[ln],delete a[wn],delete a[Xd],delete a[JT],delete a[ex]}function zi(a){var s=a[ln];if(s)return s;for(var l=a.parentNode;l;){if(s=l[Ui]||l[ln]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(a=Z0(a);a!==null;){if(l=a[ln])return l;a=Z0(a)}return s}a=l,l=a.parentNode}return null}function Bi(a){if(a=a[ln]||a[Ui]){var s=a.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return a}return null}function lo(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a.stateNode;throw Error(r(33))}function Hi(a){var s=a[Ny];return s||(s=a[Ny]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Zt(a){a[oo]=!0}var ky=new Set,Iy={};function ii(a,s){qi(a,s),qi(a+"Capture",s)}function qi(a,s){for(Iy[a]=s,a=0;a<s.length;a++)ky.add(s[a])}var tx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jy={},$y={};function nx(a){return Be.call($y,a)?!0:Be.call(jy,a)?!1:tx.test(a)?$y[a]=!0:(jy[a]=!0,!1)}function au(a,s,l){if(nx(s))if(l===null)a.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":a.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){a.removeAttribute(s);return}}a.setAttribute(s,""+l)}}function iu(a,s,l){if(l===null)a.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(s);return}a.setAttribute(s,""+l)}}function Br(a,s,l,c){if(c===null)a.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttributeNS(s,l,""+c)}}var Wd,My;function Gi(a){if(Wd===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);Wd=s&&s[1]||"",My=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wd+a+My}var Jd=!1;function ef(a,s){if(!a||Jd)return"";Jd=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(K){var Z=K}Reflect.construct(a,[],ae)}else{try{ae.call()}catch(K){Z=K}a.call(ae.prototype)}}else{try{throw Error()}catch(K){Z=K}(ae=a())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(K){if(K&&Z&&typeof K.stack=="string")return[K.stack,Z.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),S=g[0],O=g[1];if(S&&O){var j=S.split(`
`),F=O.split(`
`);for(p=c=0;c<j.length&&!j[c].includes("DetermineComponentFrameRoot");)c++;for(;p<F.length&&!F[p].includes("DetermineComponentFrameRoot");)p++;if(c===j.length||p===F.length)for(c=j.length-1,p=F.length-1;1<=c&&0<=p&&j[c]!==F[p];)p--;for(;1<=c&&0<=p;c--,p--)if(j[c]!==F[p]){if(c!==1||p!==1)do if(c--,p--,0>p||j[c]!==F[p]){var ne=`
`+j[c].replace(" at new "," at ");return a.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",a.displayName)),ne}while(1<=c&&0<=p);break}}}finally{Jd=!1,Error.prepareStackTrace=l}return(l=a?a.displayName||a.name:"")?Gi(l):""}function rx(a){switch(a.tag){case 26:case 27:case 5:return Gi(a.type);case 16:return Gi("Lazy");case 13:return Gi("Suspense");case 19:return Gi("SuspenseList");case 0:case 15:return ef(a.type,!1);case 11:return ef(a.type.render,!1);case 1:return ef(a.type,!0);case 31:return Gi("Activity");default:return""}}function Py(a){try{var s="";do s+=rx(a),a=a.return;while(a);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Gn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ly(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ax(a){var s=Ly(a)?"checked":"value",l=Object.getOwnPropertyDescriptor(a.constructor.prototype,s),c=""+a[s];if(!a.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,g=l.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return p.call(this)},set:function(S){c=""+S,g.call(this,S)}}),Object.defineProperty(a,s,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(S){c=""+S},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function su(a){a._valueTracker||(a._valueTracker=ax(a))}function Dy(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var l=s.getValue(),c="";return a&&(c=Ly(a)?a.checked?"true":"false":a.value),a=c,a!==l?(s.setValue(a),!0):!1}function ou(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var ix=/[\n"\\]/g;function Fn(a){return a.replace(ix,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function tf(a,s,l,c,p,g,S,O){a.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?a.type=S:a.removeAttribute("type"),s!=null?S==="number"?(s===0&&a.value===""||a.value!=s)&&(a.value=""+Gn(s)):a.value!==""+Gn(s)&&(a.value=""+Gn(s)):S!=="submit"&&S!=="reset"||a.removeAttribute("value"),s!=null?nf(a,S,Gn(s)):l!=null?nf(a,S,Gn(l)):c!=null&&a.removeAttribute("value"),p==null&&g!=null&&(a.defaultChecked=!!g),p!=null&&(a.checked=p&&typeof p!="function"&&typeof p!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?a.name=""+Gn(O):a.removeAttribute("name")}function Uy(a,s,l,c,p,g,S,O){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(a.type=g),s!=null||l!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;l=l!=null?""+Gn(l):"",s=s!=null?""+Gn(s):l,O||s===a.value||(a.value=s),a.defaultValue=s}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,a.checked=O?a.checked:!!c,a.defaultChecked=!!c,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(a.name=S)}function nf(a,s,l){s==="number"&&ou(a.ownerDocument)===a||a.defaultValue===""+l||(a.defaultValue=""+l)}function Fi(a,s,l,c){if(a=a.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<a.length;l++)p=s.hasOwnProperty("$"+a[l].value),a[l].selected!==p&&(a[l].selected=p),p&&c&&(a[l].defaultSelected=!0)}else{for(l=""+Gn(l),s=null,p=0;p<a.length;p++){if(a[p].value===l){a[p].selected=!0,c&&(a[p].defaultSelected=!0);return}s!==null||a[p].disabled||(s=a[p])}s!==null&&(s.selected=!0)}}function zy(a,s,l){if(s!=null&&(s=""+Gn(s),s!==a.value&&(a.value=s),l==null)){a.defaultValue!==s&&(a.defaultValue=s);return}a.defaultValue=l!=null?""+Gn(l):""}function By(a,s,l,c){if(s==null){if(c!=null){if(l!=null)throw Error(r(92));if(L(c)){if(1<c.length)throw Error(r(93));c=c[0]}l=c}l==null&&(l=""),s=l}l=Gn(s),a.defaultValue=l,c=a.textContent,c===l&&c!==""&&c!==null&&(a.value=c)}function Vi(a,s){if(s){var l=a.firstChild;if(l&&l===a.lastChild&&l.nodeType===3){l.nodeValue=s;return}}a.textContent=s}var sx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hy(a,s,l){var c=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?a.setProperty(s,""):s==="float"?a.cssFloat="":a[s]="":c?a.setProperty(s,l):typeof l!="number"||l===0||sx.has(s)?s==="float"?a.cssFloat=l:a[s]=(""+l).trim():a[s]=l+"px"}function qy(a,s,l){if(s!=null&&typeof s!="object")throw Error(r(62));if(a=a.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?a.setProperty(c,""):c==="float"?a.cssFloat="":a[c]="");for(var p in s)c=s[p],s.hasOwnProperty(p)&&l[p]!==c&&Hy(a,p,c)}else for(var g in s)s.hasOwnProperty(g)&&Hy(a,g,s[g])}function rf(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ox=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function lu(a){return lx.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var af=null;function sf(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Zi=null,Yi=null;function Gy(a){var s=Bi(a);if(s&&(a=s.stateNode)){var l=a[wn]||null;e:switch(a=s.stateNode,s.type){case"input":if(tf(a,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=a;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Fn(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var c=l[s];if(c!==a&&c.form===a.form){var p=c[wn]||null;if(!p)throw Error(r(90));tf(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<l.length;s++)c=l[s],c.form===a.form&&Dy(c)}break e;case"textarea":zy(a,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&Fi(a,!!l.multiple,s,!1)}}}var of=!1;function Fy(a,s,l){if(of)return a(s,l);of=!0;try{var c=a(s);return c}finally{if(of=!1,(Zi!==null||Yi!==null)&&(Zu(),Zi&&(s=Zi,a=Yi,Yi=Zi=null,Gy(s),a)))for(s=0;s<a.length;s++)Gy(a[s])}}function uo(a,s){var l=a.stateNode;if(l===null)return null;var c=l[wn]||null;if(c===null)return null;l=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(a=a.type,c=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!c;break e;default:a=!1}if(a)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var Hr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lf=!1;if(Hr)try{var co={};Object.defineProperty(co,"passive",{get:function(){lf=!0}}),window.addEventListener("test",co,co),window.removeEventListener("test",co,co)}catch{lf=!1}var ba=null,uf=null,uu=null;function Vy(){if(uu)return uu;var a,s=uf,l=s.length,c,p="value"in ba?ba.value:ba.textContent,g=p.length;for(a=0;a<l&&s[a]===p[a];a++);var S=l-a;for(c=1;c<=S&&s[l-c]===p[g-c];c++);return uu=p.slice(a,1<c?1-c:void 0)}function cu(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function du(){return!0}function Zy(){return!1}function Sn(a){function s(l,c,p,g,S){this._reactName=l,this._targetInst=p,this.type=c,this.nativeEvent=g,this.target=S,this.currentTarget=null;for(var O in a)a.hasOwnProperty(O)&&(l=a[O],this[O]=l?l(g):g[O]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?du:Zy,this.isPropagationStopped=Zy,this}return m(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=du)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=du)},persist:function(){},isPersistent:du}),s}var si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fu=Sn(si),fo=m({},si,{view:0,detail:0}),ux=Sn(fo),cf,df,ho,hu=m({},fo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hf,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==ho&&(ho&&a.type==="mousemove"?(cf=a.screenX-ho.screenX,df=a.screenY-ho.screenY):df=cf=0,ho=a),cf)},movementY:function(a){return"movementY"in a?a.movementY:df}}),Yy=Sn(hu),cx=m({},hu,{dataTransfer:0}),dx=Sn(cx),fx=m({},fo,{relatedTarget:0}),ff=Sn(fx),hx=m({},si,{animationName:0,elapsedTime:0,pseudoElement:0}),px=Sn(hx),mx=m({},si,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),gx=Sn(mx),yx=m({},si,{data:0}),Ky=Sn(yx),bx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_x={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wx(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=_x[a])?!!s[a]:!1}function hf(){return wx}var Sx=m({},fo,{key:function(a){if(a.key){var s=bx[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=cu(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?vx[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hf,charCode:function(a){return a.type==="keypress"?cu(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?cu(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Ex=Sn(Sx),Tx=m({},hu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xy=Sn(Tx),xx=m({},fo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hf}),Rx=Sn(xx),Ox=m({},si,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cx=Sn(Ox),Ax=m({},hu,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Nx=Sn(Ax),kx=m({},si,{newState:0,oldState:0}),Ix=Sn(kx),jx=[9,13,27,32],pf=Hr&&"CompositionEvent"in window,po=null;Hr&&"documentMode"in document&&(po=document.documentMode);var $x=Hr&&"TextEvent"in window&&!po,Qy=Hr&&(!pf||po&&8<po&&11>=po),Wy=" ",Jy=!1;function eb(a,s){switch(a){case"keyup":return jx.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tb(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Ki=!1;function Mx(a,s){switch(a){case"compositionend":return tb(s);case"keypress":return s.which!==32?null:(Jy=!0,Wy);case"textInput":return a=s.data,a===Wy&&Jy?null:a;default:return null}}function Px(a,s){if(Ki)return a==="compositionend"||!pf&&eb(a,s)?(a=Vy(),uu=uf=ba=null,Ki=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Qy&&s.locale!=="ko"?null:s.data;default:return null}}var Lx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nb(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!Lx[a.type]:s==="textarea"}function rb(a,s,l,c){Zi?Yi?Yi.push(c):Yi=[c]:Zi=c,s=Ju(s,"onChange"),0<s.length&&(l=new fu("onChange","change",null,l,c),a.push({event:l,listeners:s}))}var mo=null,go=null;function Dx(a){L0(a,0)}function pu(a){var s=lo(a);if(Dy(s))return a}function ab(a,s){if(a==="change")return s}var ib=!1;if(Hr){var mf;if(Hr){var gf="oninput"in document;if(!gf){var sb=document.createElement("div");sb.setAttribute("oninput","return;"),gf=typeof sb.oninput=="function"}mf=gf}else mf=!1;ib=mf&&(!document.documentMode||9<document.documentMode)}function ob(){mo&&(mo.detachEvent("onpropertychange",lb),go=mo=null)}function lb(a){if(a.propertyName==="value"&&pu(go)){var s=[];rb(s,go,a,sf(a)),Fy(Dx,s)}}function Ux(a,s,l){a==="focusin"?(ob(),mo=s,go=l,mo.attachEvent("onpropertychange",lb)):a==="focusout"&&ob()}function zx(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return pu(go)}function Bx(a,s){if(a==="click")return pu(s)}function Hx(a,s){if(a==="input"||a==="change")return pu(s)}function qx(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var In=typeof Object.is=="function"?Object.is:qx;function yo(a,s){if(In(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var l=Object.keys(a),c=Object.keys(s);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var p=l[c];if(!Be.call(s,p)||!In(a[p],s[p]))return!1}return!0}function ub(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function cb(a,s){var l=ub(a);a=0;for(var c;l;){if(l.nodeType===3){if(c=a+l.textContent.length,a<=s&&c>=s)return{node:l,offset:s-a};a=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=ub(l)}}function db(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?db(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function fb(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var s=ou(a.document);s instanceof a.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)a=s.contentWindow;else break;s=ou(a.document)}return s}function yf(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}var Gx=Hr&&"documentMode"in document&&11>=document.documentMode,Xi=null,bf=null,bo=null,vf=!1;function hb(a,s,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;vf||Xi==null||Xi!==ou(c)||(c=Xi,"selectionStart"in c&&yf(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),bo&&yo(bo,c)||(bo=c,c=Ju(bf,"onSelect"),0<c.length&&(s=new fu("onSelect","select",null,s,l),a.push({event:s,listeners:c}),s.target=Xi)))}function oi(a,s){var l={};return l[a.toLowerCase()]=s.toLowerCase(),l["Webkit"+a]="webkit"+s,l["Moz"+a]="moz"+s,l}var Qi={animationend:oi("Animation","AnimationEnd"),animationiteration:oi("Animation","AnimationIteration"),animationstart:oi("Animation","AnimationStart"),transitionrun:oi("Transition","TransitionRun"),transitionstart:oi("Transition","TransitionStart"),transitioncancel:oi("Transition","TransitionCancel"),transitionend:oi("Transition","TransitionEnd")},_f={},pb={};Hr&&(pb=document.createElement("div").style,"AnimationEvent"in window||(delete Qi.animationend.animation,delete Qi.animationiteration.animation,delete Qi.animationstart.animation),"TransitionEvent"in window||delete Qi.transitionend.transition);function li(a){if(_f[a])return _f[a];if(!Qi[a])return a;var s=Qi[a],l;for(l in s)if(s.hasOwnProperty(l)&&l in pb)return _f[a]=s[l];return a}var mb=li("animationend"),gb=li("animationiteration"),yb=li("animationstart"),Fx=li("transitionrun"),Vx=li("transitionstart"),Zx=li("transitioncancel"),bb=li("transitionend"),vb=new Map,wf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wf.push("scrollEnd");function lr(a,s){vb.set(a,s),ii(s,[a])}var _b=new WeakMap;function Vn(a,s){if(typeof a=="object"&&a!==null){var l=_b.get(a);return l!==void 0?l:(s={value:a,source:s,stack:Py(s)},_b.set(a,s),s)}return{value:a,source:s,stack:Py(s)}}var Zn=[],Wi=0,Sf=0;function mu(){for(var a=Wi,s=Sf=Wi=0;s<a;){var l=Zn[s];Zn[s++]=null;var c=Zn[s];Zn[s++]=null;var p=Zn[s];Zn[s++]=null;var g=Zn[s];if(Zn[s++]=null,c!==null&&p!==null){var S=c.pending;S===null?p.next=p:(p.next=S.next,S.next=p),c.pending=p}g!==0&&wb(l,p,g)}}function gu(a,s,l,c){Zn[Wi++]=a,Zn[Wi++]=s,Zn[Wi++]=l,Zn[Wi++]=c,Sf|=c,a.lanes|=c,a=a.alternate,a!==null&&(a.lanes|=c)}function Ef(a,s,l,c){return gu(a,s,l,c),yu(a)}function Ji(a,s){return gu(a,null,null,s),yu(a)}function wb(a,s,l){a.lanes|=l;var c=a.alternate;c!==null&&(c.lanes|=l);for(var p=!1,g=a.return;g!==null;)g.childLanes|=l,c=g.alternate,c!==null&&(c.childLanes|=l),g.tag===22&&(a=g.stateNode,a===null||a._visibility&1||(p=!0)),a=g,g=g.return;return a.tag===3?(g=a.stateNode,p&&s!==null&&(p=31-jt(l),a=g.hiddenUpdates,c=a[p],c===null?a[p]=[s]:c.push(s),s.lane=l|536870912),g):null}function yu(a){if(50<qo)throw qo=0,Ah=null,Error(r(185));for(var s=a.return;s!==null;)a=s,s=a.return;return a.tag===3?a.stateNode:null}var es={};function Yx(a,s,l,c){this.tag=a,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(a,s,l,c){return new Yx(a,s,l,c)}function Tf(a){return a=a.prototype,!(!a||!a.isReactComponent)}function qr(a,s){var l=a.alternate;return l===null?(l=jn(a.tag,s,a.key,a.mode),l.elementType=a.elementType,l.type=a.type,l.stateNode=a.stateNode,l.alternate=a,a.alternate=l):(l.pendingProps=s,l.type=a.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=a.flags&65011712,l.childLanes=a.childLanes,l.lanes=a.lanes,l.child=a.child,l.memoizedProps=a.memoizedProps,l.memoizedState=a.memoizedState,l.updateQueue=a.updateQueue,s=a.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=a.sibling,l.index=a.index,l.ref=a.ref,l.refCleanup=a.refCleanup,l}function Sb(a,s){a.flags&=65011714;var l=a.alternate;return l===null?(a.childLanes=0,a.lanes=s,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,s=l.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),a}function bu(a,s,l,c,p,g){var S=0;if(c=a,typeof a=="function")Tf(a)&&(S=1);else if(typeof a=="string")S=XR(a,l,oe.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case ie:return a=jn(31,l,s,p),a.elementType=ie,a.lanes=g,a;case v:return ui(l.children,p,g,s);case w:S=8,p|=24;break;case E:return a=jn(12,l,s,p|2),a.elementType=E,a.lanes=g,a;case R:return a=jn(13,l,s,p),a.elementType=R,a.lanes=g,a;case M:return a=jn(19,l,s,p),a.elementType=M,a.lanes=g,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case x:case T:S=10;break e;case N:S=9;break e;case A:S=11;break e;case H:S=14;break e;case U:S=16,c=null;break e}S=29,l=Error(r(130,a===null?"null":typeof a,"")),c=null}return s=jn(S,l,s,p),s.elementType=a,s.type=c,s.lanes=g,s}function ui(a,s,l,c){return a=jn(7,a,c,s),a.lanes=l,a}function xf(a,s,l){return a=jn(6,a,null,s),a.lanes=l,a}function Rf(a,s,l){return s=jn(4,a.children!==null?a.children:[],a.key,s),s.lanes=l,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}var ts=[],ns=0,vu=null,_u=0,Yn=[],Kn=0,ci=null,Gr=1,Fr="";function di(a,s){ts[ns++]=_u,ts[ns++]=vu,vu=a,_u=s}function Eb(a,s,l){Yn[Kn++]=Gr,Yn[Kn++]=Fr,Yn[Kn++]=ci,ci=a;var c=Gr;a=Fr;var p=32-jt(c)-1;c&=~(1<<p),l+=1;var g=32-jt(s)+p;if(30<g){var S=p-p%5;g=(c&(1<<S)-1).toString(32),c>>=S,p-=S,Gr=1<<32-jt(s)+p|l<<p|c,Fr=g+a}else Gr=1<<g|l<<p|c,Fr=a}function Of(a){a.return!==null&&(di(a,1),Eb(a,1,0))}function Cf(a){for(;a===vu;)vu=ts[--ns],ts[ns]=null,_u=ts[--ns],ts[ns]=null;for(;a===ci;)ci=Yn[--Kn],Yn[Kn]=null,Fr=Yn[--Kn],Yn[Kn]=null,Gr=Yn[--Kn],Yn[Kn]=null}var gn=null,Tt=null,Ze=!1,fi=null,Sr=!1,Af=Error(r(519));function hi(a){var s=Error(r(418,""));throw wo(Vn(s,a)),Af}function Tb(a){var s=a.stateNode,l=a.type,c=a.memoizedProps;switch(s[ln]=a,s[wn]=c,l){case"dialog":ze("cancel",s),ze("close",s);break;case"iframe":case"object":case"embed":ze("load",s);break;case"video":case"audio":for(l=0;l<Fo.length;l++)ze(Fo[l],s);break;case"source":ze("error",s);break;case"img":case"image":case"link":ze("error",s),ze("load",s);break;case"details":ze("toggle",s);break;case"input":ze("invalid",s),Uy(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),su(s);break;case"select":ze("invalid",s);break;case"textarea":ze("invalid",s),By(s,c.value,c.defaultValue,c.children),su(s)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||c.suppressHydrationWarning===!0||B0(s.textContent,l)?(c.popover!=null&&(ze("beforetoggle",s),ze("toggle",s)),c.onScroll!=null&&ze("scroll",s),c.onScrollEnd!=null&&ze("scrollend",s),c.onClick!=null&&(s.onclick=ec),s=!0):s=!1,s||hi(a)}function xb(a){for(gn=a.return;gn;)switch(gn.tag){case 5:case 13:Sr=!1;return;case 27:case 3:Sr=!0;return;default:gn=gn.return}}function vo(a){if(a!==gn)return!1;if(!Ze)return xb(a),Ze=!0,!1;var s=a.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=a.type,l=!(l!=="form"&&l!=="button")||Fh(a.type,a.memoizedProps)),l=!l),l&&Tt&&hi(a),xb(a),s===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));e:{for(a=a.nextSibling,s=0;a;){if(a.nodeType===8)if(l=a.data,l==="/$"){if(s===0){Tt=cr(a.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++;a=a.nextSibling}Tt=null}}else s===27?(s=Tt,$a(a.type)?(a=Kh,Kh=null,Tt=a):Tt=s):Tt=gn?cr(a.stateNode.nextSibling):null;return!0}function _o(){Tt=gn=null,Ze=!1}function Rb(){var a=fi;return a!==null&&(xn===null?xn=a:xn.push.apply(xn,a),fi=null),a}function wo(a){fi===null?fi=[a]:fi.push(a)}var Nf=q(null),pi=null,Vr=null;function va(a,s,l){W(Nf,s._currentValue),s._currentValue=l}function Zr(a){a._currentValue=Nf.current,Q(Nf)}function kf(a,s,l){for(;a!==null;){var c=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),a===l)break;a=a.return}}function If(a,s,l,c){var p=a.child;for(p!==null&&(p.return=a);p!==null;){var g=p.dependencies;if(g!==null){var S=p.child;g=g.firstContext;e:for(;g!==null;){var O=g;g=p;for(var j=0;j<s.length;j++)if(O.context===s[j]){g.lanes|=l,O=g.alternate,O!==null&&(O.lanes|=l),kf(g.return,l,a),c||(S=null);break e}g=O.next}}else if(p.tag===18){if(S=p.return,S===null)throw Error(r(341));S.lanes|=l,g=S.alternate,g!==null&&(g.lanes|=l),kf(S,l,a),S=null}else S=p.child;if(S!==null)S.return=p;else for(S=p;S!==null;){if(S===a){S=null;break}if(p=S.sibling,p!==null){p.return=S.return,S=p;break}S=S.return}p=S}}function So(a,s,l,c){a=null;for(var p=s,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var S=p.alternate;if(S===null)throw Error(r(387));if(S=S.memoizedProps,S!==null){var O=p.type;In(p.pendingProps.value,S.value)||(a!==null?a.push(O):a=[O])}}else if(p===ge.current){if(S=p.alternate,S===null)throw Error(r(387));S.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(a!==null?a.push(Qo):a=[Qo])}p=p.return}a!==null&&If(s,a,l,c),s.flags|=262144}function wu(a){for(a=a.firstContext;a!==null;){if(!In(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function mi(a){pi=a,Vr=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function un(a){return Ob(pi,a)}function Su(a,s){return pi===null&&mi(a),Ob(a,s)}function Ob(a,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},Vr===null){if(a===null)throw Error(r(308));Vr=s,a.dependencies={lanes:0,firstContext:s},a.flags|=524288}else Vr=Vr.next=s;return l}var Kx=typeof AbortController<"u"?AbortController:function(){var a=[],s=this.signal={aborted:!1,addEventListener:function(l,c){a.push(c)}};this.abort=function(){s.aborted=!0,a.forEach(function(l){return l()})}},Xx=t.unstable_scheduleCallback,Qx=t.unstable_NormalPriority,Bt={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jf(){return{controller:new Kx,data:new Map,refCount:0}}function Eo(a){a.refCount--,a.refCount===0&&Xx(Qx,function(){a.controller.abort()})}var To=null,$f=0,rs=0,as=null;function Wx(a,s){if(To===null){var l=To=[];$f=0,rs=Ph(),as={status:"pending",value:void 0,then:function(c){l.push(c)}}}return $f++,s.then(Cb,Cb),s}function Cb(){if(--$f===0&&To!==null){as!==null&&(as.status="fulfilled");var a=To;To=null,rs=0,as=null;for(var s=0;s<a.length;s++)(0,a[s])()}}function Jx(a,s){var l=[],c={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return a.then(function(){c.status="fulfilled",c.value=s;for(var p=0;p<l.length;p++)(0,l[p])(s)},function(p){for(c.status="rejected",c.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),c}var Ab=I.S;I.S=function(a,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&Wx(a,s),Ab!==null&&Ab(a,s)};var gi=q(null);function Mf(){var a=gi.current;return a!==null?a:ht.pooledCache}function Eu(a,s){s===null?W(gi,gi.current):W(gi,s.pool)}function Nb(){var a=Mf();return a===null?null:{parent:Bt._currentValue,pool:a}}var xo=Error(r(460)),kb=Error(r(474)),Tu=Error(r(542)),Pf={then:function(){}};function Ib(a){return a=a.status,a==="fulfilled"||a==="rejected"}function xu(){}function jb(a,s,l){switch(l=a[l],l===void 0?a.push(s):l!==s&&(s.then(xu,xu),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,Mb(a),a;default:if(typeof s.status=="string")s.then(xu,xu);else{if(a=ht,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=s,a.status="pending",a.then(function(c){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=c}},function(c){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,Mb(a),a}throw Ro=s,xo}}var Ro=null;function $b(){if(Ro===null)throw Error(r(459));var a=Ro;return Ro=null,a}function Mb(a){if(a===xo||a===Tu)throw Error(r(483))}var _a=!1;function Lf(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Df(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function wa(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Sa(a,s,l){var c=a.updateQueue;if(c===null)return null;if(c=c.shared,(et&2)!==0){var p=c.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),c.pending=s,s=yu(a),wb(a,null,l),s}return gu(a,c,s,l),yu(a)}function Oo(a,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var c=s.lanes;c&=a.pendingLanes,l|=c,s.lanes=l,Cy(a,l)}}function Uf(a,s){var l=a.updateQueue,c=a.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var p=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var S={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};g===null?p=g=S:g=g.next=S,l=l.next}while(l!==null);g===null?p=g=s:g=g.next=s}else p=g=s;l={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},a.updateQueue=l;return}a=l.lastBaseUpdate,a===null?l.firstBaseUpdate=s:a.next=s,l.lastBaseUpdate=s}var zf=!1;function Co(){if(zf){var a=as;if(a!==null)throw a}}function Ao(a,s,l,c){zf=!1;var p=a.updateQueue;_a=!1;var g=p.firstBaseUpdate,S=p.lastBaseUpdate,O=p.shared.pending;if(O!==null){p.shared.pending=null;var j=O,F=j.next;j.next=null,S===null?g=F:S.next=F,S=j;var ne=a.alternate;ne!==null&&(ne=ne.updateQueue,O=ne.lastBaseUpdate,O!==S&&(O===null?ne.firstBaseUpdate=F:O.next=F,ne.lastBaseUpdate=j))}if(g!==null){var ae=p.baseState;S=0,ne=F=j=null,O=g;do{var Z=O.lane&-536870913,K=Z!==O.lane;if(K?(He&Z)===Z:(c&Z)===Z){Z!==0&&Z===rs&&(zf=!0),ne!==null&&(ne=ne.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var Re=a,Se=O;Z=s;var it=l;switch(Se.tag){case 1:if(Re=Se.payload,typeof Re=="function"){ae=Re.call(it,ae,Z);break e}ae=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Se.payload,Z=typeof Re=="function"?Re.call(it,ae,Z):Re,Z==null)break e;ae=m({},ae,Z);break e;case 2:_a=!0}}Z=O.callback,Z!==null&&(a.flags|=64,K&&(a.flags|=8192),K=p.callbacks,K===null?p.callbacks=[Z]:K.push(Z))}else K={lane:Z,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ne===null?(F=ne=K,j=ae):ne=ne.next=K,S|=Z;if(O=O.next,O===null){if(O=p.shared.pending,O===null)break;K=O,O=K.next,K.next=null,p.lastBaseUpdate=K,p.shared.pending=null}}while(!0);ne===null&&(j=ae),p.baseState=j,p.firstBaseUpdate=F,p.lastBaseUpdate=ne,g===null&&(p.shared.lanes=0),Na|=S,a.lanes=S,a.memoizedState=ae}}function Pb(a,s){if(typeof a!="function")throw Error(r(191,a));a.call(s)}function Lb(a,s){var l=a.callbacks;if(l!==null)for(a.callbacks=null,a=0;a<l.length;a++)Pb(l[a],s)}var is=q(null),Ru=q(0);function Db(a,s){a=ea,W(Ru,a),W(is,s),ea=a|s.baseLanes}function Bf(){W(Ru,ea),W(is,is.current)}function Hf(){ea=Ru.current,Q(is),Q(Ru)}var Ea=0,je=null,rt=null,$t=null,Ou=!1,ss=!1,yi=!1,Cu=0,No=0,os=null,eR=0;function At(){throw Error(r(321))}function qf(a,s){if(s===null)return!1;for(var l=0;l<s.length&&l<a.length;l++)if(!In(a[l],s[l]))return!1;return!0}function Gf(a,s,l,c,p,g){return Ea=g,je=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,I.H=a===null||a.memoizedState===null?wv:Sv,yi=!1,g=l(c,p),yi=!1,ss&&(g=zb(s,l,c,p)),Ub(a),g}function Ub(a){I.H=$u;var s=rt!==null&&rt.next!==null;if(Ea=0,$t=rt=je=null,Ou=!1,No=0,os=null,s)throw Error(r(300));a===null||Yt||(a=a.dependencies,a!==null&&wu(a)&&(Yt=!0))}function zb(a,s,l,c){je=a;var p=0;do{if(ss&&(os=null),No=0,ss=!1,25<=p)throw Error(r(301));if(p+=1,$t=rt=null,a.updateQueue!=null){var g=a.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}I.H=oR,g=s(l,c)}while(ss);return g}function tR(){var a=I.H,s=a.useState()[0];return s=typeof s.then=="function"?ko(s):s,a=a.useState()[0],(rt!==null?rt.memoizedState:null)!==a&&(je.flags|=1024),s}function Ff(){var a=Cu!==0;return Cu=0,a}function Vf(a,s,l){s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~l}function Zf(a){if(Ou){for(a=a.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}Ou=!1}Ea=0,$t=rt=je=null,ss=!1,No=Cu=0,os=null}function En(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?je.memoizedState=$t=a:$t=$t.next=a,$t}function Mt(){if(rt===null){var a=je.alternate;a=a!==null?a.memoizedState:null}else a=rt.next;var s=$t===null?je.memoizedState:$t.next;if(s!==null)$t=s,rt=a;else{if(a===null)throw je.alternate===null?Error(r(467)):Error(r(310));rt=a,a={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},$t===null?je.memoizedState=$t=a:$t=$t.next=a}return $t}function Yf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ko(a){var s=No;return No+=1,os===null&&(os=[]),a=jb(os,a,s),s=je,($t===null?s.memoizedState:$t.next)===null&&(s=s.alternate,I.H=s===null||s.memoizedState===null?wv:Sv),a}function Au(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return ko(a);if(a.$$typeof===T)return un(a)}throw Error(r(438,String(a)))}function Kf(a){var s=null,l=je.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var c=je.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=Yf(),je.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(a),c=0;c<a;c++)l[c]=C;return s.index++,l}function Yr(a,s){return typeof s=="function"?s(a):s}function Nu(a){var s=Mt();return Xf(s,rt,a)}function Xf(a,s,l){var c=a.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=l;var p=a.baseQueue,g=c.pending;if(g!==null){if(p!==null){var S=p.next;p.next=g.next,g.next=S}s.baseQueue=p=g,c.pending=null}if(g=a.baseState,p===null)a.memoizedState=g;else{s=p.next;var O=S=null,j=null,F=s,ne=!1;do{var ae=F.lane&-536870913;if(ae!==F.lane?(He&ae)===ae:(Ea&ae)===ae){var Z=F.revertLane;if(Z===0)j!==null&&(j=j.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ae===rs&&(ne=!0);else if((Ea&Z)===Z){F=F.next,Z===rs&&(ne=!0);continue}else ae={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},j===null?(O=j=ae,S=g):j=j.next=ae,je.lanes|=Z,Na|=Z;ae=F.action,yi&&l(g,ae),g=F.hasEagerState?F.eagerState:l(g,ae)}else Z={lane:ae,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},j===null?(O=j=Z,S=g):j=j.next=Z,je.lanes|=ae,Na|=ae;F=F.next}while(F!==null&&F!==s);if(j===null?S=g:j.next=O,!In(g,a.memoizedState)&&(Yt=!0,ne&&(l=as,l!==null)))throw l;a.memoizedState=g,a.baseState=S,a.baseQueue=j,c.lastRenderedState=g}return p===null&&(c.lanes=0),[a.memoizedState,c.dispatch]}function Qf(a){var s=Mt(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var c=l.dispatch,p=l.pending,g=s.memoizedState;if(p!==null){l.pending=null;var S=p=p.next;do g=a(g,S.action),S=S.next;while(S!==p);In(g,s.memoizedState)||(Yt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),l.lastRenderedState=g}return[g,c]}function Bb(a,s,l){var c=je,p=Mt(),g=Ze;if(g){if(l===void 0)throw Error(r(407));l=l()}else l=s();var S=!In((rt||p).memoizedState,l);S&&(p.memoizedState=l,Yt=!0),p=p.queue;var O=Gb.bind(null,c,p,a);if(Io(2048,8,O,[a]),p.getSnapshot!==s||S||$t!==null&&$t.memoizedState.tag&1){if(c.flags|=2048,ls(9,ku(),qb.bind(null,c,p,l,s),null),ht===null)throw Error(r(349));g||(Ea&124)!==0||Hb(c,s,l)}return l}function Hb(a,s,l){a.flags|=16384,a={getSnapshot:s,value:l},s=je.updateQueue,s===null?(s=Yf(),je.updateQueue=s,s.stores=[a]):(l=s.stores,l===null?s.stores=[a]:l.push(a))}function qb(a,s,l,c){s.value=l,s.getSnapshot=c,Fb(s)&&Vb(a)}function Gb(a,s,l){return l(function(){Fb(s)&&Vb(a)})}function Fb(a){var s=a.getSnapshot;a=a.value;try{var l=s();return!In(a,l)}catch{return!0}}function Vb(a){var s=Ji(a,2);s!==null&&Dn(s,a,2)}function Wf(a){var s=En();if(typeof a=="function"){var l=a;if(a=l(),yi){mn(!0);try{l()}finally{mn(!1)}}}return s.memoizedState=s.baseState=a,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:a},s}function Zb(a,s,l,c){return a.baseState=l,Xf(a,rt,typeof c=="function"?c:Yr)}function nR(a,s,l,c,p){if(ju(a))throw Error(r(485));if(a=s.action,a!==null){var g={payload:p,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){g.listeners.push(S)}};I.T!==null?l(!0):g.isTransition=!1,c(g),l=s.pending,l===null?(g.next=s.pending=g,Yb(s,g)):(g.next=l.next,s.pending=l.next=g)}}function Yb(a,s){var l=s.action,c=s.payload,p=a.state;if(s.isTransition){var g=I.T,S={};I.T=S;try{var O=l(p,c),j=I.S;j!==null&&j(S,O),Kb(a,s,O)}catch(F){Jf(a,s,F)}finally{I.T=g}}else try{g=l(p,c),Kb(a,s,g)}catch(F){Jf(a,s,F)}}function Kb(a,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){Xb(a,s,c)},function(c){return Jf(a,s,c)}):Xb(a,s,l)}function Xb(a,s,l){s.status="fulfilled",s.value=l,Qb(s),a.state=l,s=a.pending,s!==null&&(l=s.next,l===s?a.pending=null:(l=l.next,s.next=l,Yb(a,l)))}function Jf(a,s,l){var c=a.pending;if(a.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=l,Qb(s),s=s.next;while(s!==c)}a.action=null}function Qb(a){a=a.listeners;for(var s=0;s<a.length;s++)(0,a[s])()}function Wb(a,s){return s}function Jb(a,s){if(Ze){var l=ht.formState;if(l!==null){e:{var c=je;if(Ze){if(Tt){t:{for(var p=Tt,g=Sr;p.nodeType!==8;){if(!g){p=null;break t}if(p=cr(p.nextSibling),p===null){p=null;break t}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){Tt=cr(p.nextSibling),c=p.data==="F!";break e}}hi(c)}c=!1}c&&(s=l[0])}}return l=En(),l.memoizedState=l.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wb,lastRenderedState:s},l.queue=c,l=bv.bind(null,je,c),c.dispatch=l,c=Wf(!1),g=ah.bind(null,je,!1,c.queue),c=En(),p={state:s,dispatch:null,action:a,pending:null},c.queue=p,l=nR.bind(null,je,p,g,l),p.dispatch=l,c.memoizedState=a,[s,l,!1]}function ev(a){var s=Mt();return tv(s,rt,a)}function tv(a,s,l){if(s=Xf(a,s,Wb)[0],a=Nu(Yr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=ko(s)}catch(S){throw S===xo?Tu:S}else c=s;s=Mt();var p=s.queue,g=p.dispatch;return l!==s.memoizedState&&(je.flags|=2048,ls(9,ku(),rR.bind(null,p,l),null)),[c,g,a]}function rR(a,s){a.action=s}function nv(a){var s=Mt(),l=rt;if(l!==null)return tv(s,l,a);Mt(),s=s.memoizedState,l=Mt();var c=l.queue.dispatch;return l.memoizedState=a,[s,c,!1]}function ls(a,s,l,c){return a={tag:a,create:l,deps:c,inst:s,next:null},s=je.updateQueue,s===null&&(s=Yf(),je.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=a.next=a:(c=l.next,l.next=a,a.next=c,s.lastEffect=a),a}function ku(){return{destroy:void 0,resource:void 0}}function rv(){return Mt().memoizedState}function Iu(a,s,l,c){var p=En();c=c===void 0?null:c,je.flags|=a,p.memoizedState=ls(1|s,ku(),l,c)}function Io(a,s,l,c){var p=Mt();c=c===void 0?null:c;var g=p.memoizedState.inst;rt!==null&&c!==null&&qf(c,rt.memoizedState.deps)?p.memoizedState=ls(s,g,l,c):(je.flags|=a,p.memoizedState=ls(1|s,g,l,c))}function av(a,s){Iu(8390656,8,a,s)}function iv(a,s){Io(2048,8,a,s)}function sv(a,s){return Io(4,2,a,s)}function ov(a,s){return Io(4,4,a,s)}function lv(a,s){if(typeof s=="function"){a=a();var l=s(a);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function uv(a,s,l){l=l!=null?l.concat([a]):null,Io(4,4,lv.bind(null,s,a),l)}function eh(){}function cv(a,s){var l=Mt();s=s===void 0?null:s;var c=l.memoizedState;return s!==null&&qf(s,c[1])?c[0]:(l.memoizedState=[a,s],a)}function dv(a,s){var l=Mt();s=s===void 0?null:s;var c=l.memoizedState;if(s!==null&&qf(s,c[1]))return c[0];if(c=a(),yi){mn(!0);try{a()}finally{mn(!1)}}return l.memoizedState=[c,s],c}function th(a,s,l){return l===void 0||(Ea&1073741824)!==0?a.memoizedState=s:(a.memoizedState=l,a=p0(),je.lanes|=a,Na|=a,l)}function fv(a,s,l,c){return In(l,s)?l:is.current!==null?(a=th(a,l,c),In(a,s)||(Yt=!0),a):(Ea&42)===0?(Yt=!0,a.memoizedState=l):(a=p0(),je.lanes|=a,Na|=a,s)}function hv(a,s,l,c,p){var g=D.p;D.p=g!==0&&8>g?g:8;var S=I.T,O={};I.T=O,ah(a,!1,s,l);try{var j=p(),F=I.S;if(F!==null&&F(O,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var ne=Jx(j,c);jo(a,s,ne,Ln(a))}else jo(a,s,c,Ln(a))}catch(ae){jo(a,s,{then:function(){},status:"rejected",reason:ae},Ln())}finally{D.p=g,I.T=S}}function aR(){}function nh(a,s,l,c){if(a.tag!==5)throw Error(r(476));var p=pv(a).queue;hv(a,p,s,Y,l===null?aR:function(){return mv(a),l(c)})}function pv(a){var s=a.memoizedState;if(s!==null)return s;s={memoizedState:Y,baseState:Y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:Y},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:l},next:null},a.memoizedState=s,a=a.alternate,a!==null&&(a.memoizedState=s),s}function mv(a){var s=pv(a).next.queue;jo(a,s,{},Ln())}function rh(){return un(Qo)}function gv(){return Mt().memoizedState}function yv(){return Mt().memoizedState}function iR(a){for(var s=a.return;s!==null;){switch(s.tag){case 24:case 3:var l=Ln();a=wa(l);var c=Sa(s,a,l);c!==null&&(Dn(c,s,l),Oo(c,s,l)),s={cache:jf()},a.payload=s;return}s=s.return}}function sR(a,s,l){var c=Ln();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},ju(a)?vv(s,l):(l=Ef(a,s,l,c),l!==null&&(Dn(l,a,c),_v(l,s,c)))}function bv(a,s,l){var c=Ln();jo(a,s,l,c)}function jo(a,s,l,c){var p={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(ju(a))vv(s,p);else{var g=a.alternate;if(a.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var S=s.lastRenderedState,O=g(S,l);if(p.hasEagerState=!0,p.eagerState=O,In(O,S))return gu(a,s,p,0),ht===null&&mu(),!1}catch{}finally{}if(l=Ef(a,s,p,c),l!==null)return Dn(l,a,c),_v(l,s,c),!0}return!1}function ah(a,s,l,c){if(c={lane:2,revertLane:Ph(),action:c,hasEagerState:!1,eagerState:null,next:null},ju(a)){if(s)throw Error(r(479))}else s=Ef(a,l,c,2),s!==null&&Dn(s,a,2)}function ju(a){var s=a.alternate;return a===je||s!==null&&s===je}function vv(a,s){ss=Ou=!0;var l=a.pending;l===null?s.next=s:(s.next=l.next,l.next=s),a.pending=s}function _v(a,s,l){if((l&4194048)!==0){var c=s.lanes;c&=a.pendingLanes,l|=c,s.lanes=l,Cy(a,l)}}var $u={readContext:un,use:Au,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At},wv={readContext:un,use:Au,useCallback:function(a,s){return En().memoizedState=[a,s===void 0?null:s],a},useContext:un,useEffect:av,useImperativeHandle:function(a,s,l){l=l!=null?l.concat([a]):null,Iu(4194308,4,lv.bind(null,s,a),l)},useLayoutEffect:function(a,s){return Iu(4194308,4,a,s)},useInsertionEffect:function(a,s){Iu(4,2,a,s)},useMemo:function(a,s){var l=En();s=s===void 0?null:s;var c=a();if(yi){mn(!0);try{a()}finally{mn(!1)}}return l.memoizedState=[c,s],c},useReducer:function(a,s,l){var c=En();if(l!==void 0){var p=l(s);if(yi){mn(!0);try{l(s)}finally{mn(!1)}}}else p=s;return c.memoizedState=c.baseState=p,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:p},c.queue=a,a=a.dispatch=sR.bind(null,je,a),[c.memoizedState,a]},useRef:function(a){var s=En();return a={current:a},s.memoizedState=a},useState:function(a){a=Wf(a);var s=a.queue,l=bv.bind(null,je,s);return s.dispatch=l,[a.memoizedState,l]},useDebugValue:eh,useDeferredValue:function(a,s){var l=En();return th(l,a,s)},useTransition:function(){var a=Wf(!1);return a=hv.bind(null,je,a.queue,!0,!1),En().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,s,l){var c=je,p=En();if(Ze){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),ht===null)throw Error(r(349));(He&124)!==0||Hb(c,s,l)}p.memoizedState=l;var g={value:l,getSnapshot:s};return p.queue=g,av(Gb.bind(null,c,g,a),[a]),c.flags|=2048,ls(9,ku(),qb.bind(null,c,g,l,s),null),l},useId:function(){var a=En(),s=ht.identifierPrefix;if(Ze){var l=Fr,c=Gr;l=(c&~(1<<32-jt(c)-1)).toString(32)+l,s="«"+s+"R"+l,l=Cu++,0<l&&(s+="H"+l.toString(32)),s+="»"}else l=eR++,s="«"+s+"r"+l.toString(32)+"»";return a.memoizedState=s},useHostTransitionStatus:rh,useFormState:Jb,useActionState:Jb,useOptimistic:function(a){var s=En();s.memoizedState=s.baseState=a;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=ah.bind(null,je,!0,l),l.dispatch=s,[a,s]},useMemoCache:Kf,useCacheRefresh:function(){return En().memoizedState=iR.bind(null,je)}},Sv={readContext:un,use:Au,useCallback:cv,useContext:un,useEffect:iv,useImperativeHandle:uv,useInsertionEffect:sv,useLayoutEffect:ov,useMemo:dv,useReducer:Nu,useRef:rv,useState:function(){return Nu(Yr)},useDebugValue:eh,useDeferredValue:function(a,s){var l=Mt();return fv(l,rt.memoizedState,a,s)},useTransition:function(){var a=Nu(Yr)[0],s=Mt().memoizedState;return[typeof a=="boolean"?a:ko(a),s]},useSyncExternalStore:Bb,useId:gv,useHostTransitionStatus:rh,useFormState:ev,useActionState:ev,useOptimistic:function(a,s){var l=Mt();return Zb(l,rt,a,s)},useMemoCache:Kf,useCacheRefresh:yv},oR={readContext:un,use:Au,useCallback:cv,useContext:un,useEffect:iv,useImperativeHandle:uv,useInsertionEffect:sv,useLayoutEffect:ov,useMemo:dv,useReducer:Qf,useRef:rv,useState:function(){return Qf(Yr)},useDebugValue:eh,useDeferredValue:function(a,s){var l=Mt();return rt===null?th(l,a,s):fv(l,rt.memoizedState,a,s)},useTransition:function(){var a=Qf(Yr)[0],s=Mt().memoizedState;return[typeof a=="boolean"?a:ko(a),s]},useSyncExternalStore:Bb,useId:gv,useHostTransitionStatus:rh,useFormState:nv,useActionState:nv,useOptimistic:function(a,s){var l=Mt();return rt!==null?Zb(l,rt,a,s):(l.baseState=a,[a,l.queue.dispatch])},useMemoCache:Kf,useCacheRefresh:yv},us=null,$o=0;function Mu(a){var s=$o;return $o+=1,us===null&&(us=[]),jb(us,a,s)}function Mo(a,s){s=s.props.ref,a.ref=s!==void 0?s:null}function Pu(a,s){throw s.$$typeof===b?Error(r(525)):(a=Object.prototype.toString.call(s),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a)))}function Ev(a){var s=a._init;return s(a._payload)}function Tv(a){function s(z,P){if(a){var G=z.deletions;G===null?(z.deletions=[P],z.flags|=16):G.push(P)}}function l(z,P){if(!a)return null;for(;P!==null;)s(z,P),P=P.sibling;return null}function c(z){for(var P=new Map;z!==null;)z.key!==null?P.set(z.key,z):P.set(z.index,z),z=z.sibling;return P}function p(z,P){return z=qr(z,P),z.index=0,z.sibling=null,z}function g(z,P,G){return z.index=G,a?(G=z.alternate,G!==null?(G=G.index,G<P?(z.flags|=67108866,P):G):(z.flags|=67108866,P)):(z.flags|=1048576,P)}function S(z){return a&&z.alternate===null&&(z.flags|=67108866),z}function O(z,P,G,re){return P===null||P.tag!==6?(P=xf(G,z.mode,re),P.return=z,P):(P=p(P,G),P.return=z,P)}function j(z,P,G,re){var he=G.type;return he===v?ne(z,P,G.props.children,re,G.key):P!==null&&(P.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===U&&Ev(he)===P.type)?(P=p(P,G.props),Mo(P,G),P.return=z,P):(P=bu(G.type,G.key,G.props,null,z.mode,re),Mo(P,G),P.return=z,P)}function F(z,P,G,re){return P===null||P.tag!==4||P.stateNode.containerInfo!==G.containerInfo||P.stateNode.implementation!==G.implementation?(P=Rf(G,z.mode,re),P.return=z,P):(P=p(P,G.children||[]),P.return=z,P)}function ne(z,P,G,re,he){return P===null||P.tag!==7?(P=ui(G,z.mode,re,he),P.return=z,P):(P=p(P,G),P.return=z,P)}function ae(z,P,G){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=xf(""+P,z.mode,G),P.return=z,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case y:return G=bu(P.type,P.key,P.props,null,z.mode,G),Mo(G,P),G.return=z,G;case _:return P=Rf(P,z.mode,G),P.return=z,P;case U:var re=P._init;return P=re(P._payload),ae(z,P,G)}if(L(P)||ee(P))return P=ui(P,z.mode,G,null),P.return=z,P;if(typeof P.then=="function")return ae(z,Mu(P),G);if(P.$$typeof===T)return ae(z,Su(z,P),G);Pu(z,P)}return null}function Z(z,P,G,re){var he=P!==null?P.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return he!==null?null:O(z,P,""+G,re);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case y:return G.key===he?j(z,P,G,re):null;case _:return G.key===he?F(z,P,G,re):null;case U:return he=G._init,G=he(G._payload),Z(z,P,G,re)}if(L(G)||ee(G))return he!==null?null:ne(z,P,G,re,null);if(typeof G.then=="function")return Z(z,P,Mu(G),re);if(G.$$typeof===T)return Z(z,P,Su(z,G),re);Pu(z,G)}return null}function K(z,P,G,re,he){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return z=z.get(G)||null,O(P,z,""+re,he);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case y:return z=z.get(re.key===null?G:re.key)||null,j(P,z,re,he);case _:return z=z.get(re.key===null?G:re.key)||null,F(P,z,re,he);case U:var Pe=re._init;return re=Pe(re._payload),K(z,P,G,re,he)}if(L(re)||ee(re))return z=z.get(G)||null,ne(P,z,re,he,null);if(typeof re.then=="function")return K(z,P,G,Mu(re),he);if(re.$$typeof===T)return K(z,P,G,Su(P,re),he);Pu(P,re)}return null}function Re(z,P,G,re){for(var he=null,Pe=null,be=P,xe=P=0,Xt=null;be!==null&&xe<G.length;xe++){be.index>xe?(Xt=be,be=null):Xt=be.sibling;var Fe=Z(z,be,G[xe],re);if(Fe===null){be===null&&(be=Xt);break}a&&be&&Fe.alternate===null&&s(z,be),P=g(Fe,P,xe),Pe===null?he=Fe:Pe.sibling=Fe,Pe=Fe,be=Xt}if(xe===G.length)return l(z,be),Ze&&di(z,xe),he;if(be===null){for(;xe<G.length;xe++)be=ae(z,G[xe],re),be!==null&&(P=g(be,P,xe),Pe===null?he=be:Pe.sibling=be,Pe=be);return Ze&&di(z,xe),he}for(be=c(be);xe<G.length;xe++)Xt=K(be,z,xe,G[xe],re),Xt!==null&&(a&&Xt.alternate!==null&&be.delete(Xt.key===null?xe:Xt.key),P=g(Xt,P,xe),Pe===null?he=Xt:Pe.sibling=Xt,Pe=Xt);return a&&be.forEach(function(Ua){return s(z,Ua)}),Ze&&di(z,xe),he}function Se(z,P,G,re){if(G==null)throw Error(r(151));for(var he=null,Pe=null,be=P,xe=P=0,Xt=null,Fe=G.next();be!==null&&!Fe.done;xe++,Fe=G.next()){be.index>xe?(Xt=be,be=null):Xt=be.sibling;var Ua=Z(z,be,Fe.value,re);if(Ua===null){be===null&&(be=Xt);break}a&&be&&Ua.alternate===null&&s(z,be),P=g(Ua,P,xe),Pe===null?he=Ua:Pe.sibling=Ua,Pe=Ua,be=Xt}if(Fe.done)return l(z,be),Ze&&di(z,xe),he;if(be===null){for(;!Fe.done;xe++,Fe=G.next())Fe=ae(z,Fe.value,re),Fe!==null&&(P=g(Fe,P,xe),Pe===null?he=Fe:Pe.sibling=Fe,Pe=Fe);return Ze&&di(z,xe),he}for(be=c(be);!Fe.done;xe++,Fe=G.next())Fe=K(be,z,xe,Fe.value,re),Fe!==null&&(a&&Fe.alternate!==null&&be.delete(Fe.key===null?xe:Fe.key),P=g(Fe,P,xe),Pe===null?he=Fe:Pe.sibling=Fe,Pe=Fe);return a&&be.forEach(function(lO){return s(z,lO)}),Ze&&di(z,xe),he}function it(z,P,G,re){if(typeof G=="object"&&G!==null&&G.type===v&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case y:e:{for(var he=G.key;P!==null;){if(P.key===he){if(he=G.type,he===v){if(P.tag===7){l(z,P.sibling),re=p(P,G.props.children),re.return=z,z=re;break e}}else if(P.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===U&&Ev(he)===P.type){l(z,P.sibling),re=p(P,G.props),Mo(re,G),re.return=z,z=re;break e}l(z,P);break}else s(z,P);P=P.sibling}G.type===v?(re=ui(G.props.children,z.mode,re,G.key),re.return=z,z=re):(re=bu(G.type,G.key,G.props,null,z.mode,re),Mo(re,G),re.return=z,z=re)}return S(z);case _:e:{for(he=G.key;P!==null;){if(P.key===he)if(P.tag===4&&P.stateNode.containerInfo===G.containerInfo&&P.stateNode.implementation===G.implementation){l(z,P.sibling),re=p(P,G.children||[]),re.return=z,z=re;break e}else{l(z,P);break}else s(z,P);P=P.sibling}re=Rf(G,z.mode,re),re.return=z,z=re}return S(z);case U:return he=G._init,G=he(G._payload),it(z,P,G,re)}if(L(G))return Re(z,P,G,re);if(ee(G)){if(he=ee(G),typeof he!="function")throw Error(r(150));return G=he.call(G),Se(z,P,G,re)}if(typeof G.then=="function")return it(z,P,Mu(G),re);if(G.$$typeof===T)return it(z,P,Su(z,G),re);Pu(z,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,P!==null&&P.tag===6?(l(z,P.sibling),re=p(P,G),re.return=z,z=re):(l(z,P),re=xf(G,z.mode,re),re.return=z,z=re),S(z)):l(z,P)}return function(z,P,G,re){try{$o=0;var he=it(z,P,G,re);return us=null,he}catch(be){if(be===xo||be===Tu)throw be;var Pe=jn(29,be,null,z.mode);return Pe.lanes=re,Pe.return=z,Pe}finally{}}}var cs=Tv(!0),xv=Tv(!1),Xn=q(null),Er=null;function Ta(a){var s=a.alternate;W(Ht,Ht.current&1),W(Xn,a),Er===null&&(s===null||is.current!==null||s.memoizedState!==null)&&(Er=a)}function Rv(a){if(a.tag===22){if(W(Ht,Ht.current),W(Xn,a),Er===null){var s=a.alternate;s!==null&&s.memoizedState!==null&&(Er=a)}}else xa()}function xa(){W(Ht,Ht.current),W(Xn,Xn.current)}function Kr(a){Q(Xn),Er===a&&(Er=null),Q(Ht)}var Ht=q(0);function Lu(a){for(var s=a;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Yh(l)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function ih(a,s,l,c){s=a.memoizedState,l=l(c,s),l=l==null?s:m({},s,l),a.memoizedState=l,a.lanes===0&&(a.updateQueue.baseState=l)}var sh={enqueueSetState:function(a,s,l){a=a._reactInternals;var c=Ln(),p=wa(c);p.payload=s,l!=null&&(p.callback=l),s=Sa(a,p,c),s!==null&&(Dn(s,a,c),Oo(s,a,c))},enqueueReplaceState:function(a,s,l){a=a._reactInternals;var c=Ln(),p=wa(c);p.tag=1,p.payload=s,l!=null&&(p.callback=l),s=Sa(a,p,c),s!==null&&(Dn(s,a,c),Oo(s,a,c))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var l=Ln(),c=wa(l);c.tag=2,s!=null&&(c.callback=s),s=Sa(a,c,l),s!==null&&(Dn(s,a,l),Oo(s,a,l))}};function Ov(a,s,l,c,p,g,S){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(c,g,S):s.prototype&&s.prototype.isPureReactComponent?!yo(l,c)||!yo(p,g):!0}function Cv(a,s,l,c){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,c),s.state!==a&&sh.enqueueReplaceState(s,s.state,null)}function bi(a,s){var l=s;if("ref"in s){l={};for(var c in s)c!=="ref"&&(l[c]=s[c])}if(a=a.defaultProps){l===s&&(l=m({},l));for(var p in a)l[p]===void 0&&(l[p]=a[p])}return l}var Du=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function Av(a){Du(a)}function Nv(a){console.error(a)}function kv(a){Du(a)}function Uu(a,s){try{var l=a.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function Iv(a,s,l){try{var c=a.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function oh(a,s,l){return l=wa(l),l.tag=3,l.payload={element:null},l.callback=function(){Uu(a,s)},l}function jv(a){return a=wa(a),a.tag=3,a}function $v(a,s,l,c){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var g=c.value;a.payload=function(){return p(g)},a.callback=function(){Iv(s,l,c)}}var S=l.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(a.callback=function(){Iv(s,l,c),typeof p!="function"&&(ka===null?ka=new Set([this]):ka.add(this));var O=c.stack;this.componentDidCatch(c.value,{componentStack:O!==null?O:""})})}function lR(a,s,l,c,p){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=l.alternate,s!==null&&So(s,l,p,!0),l=Xn.current,l!==null){switch(l.tag){case 13:return Er===null?kh():l.alternate===null&&xt===0&&(xt=3),l.flags&=-257,l.flags|=65536,l.lanes=p,c===Pf?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([c]):s.add(c),jh(a,c,p)),!1;case 22:return l.flags|=65536,c===Pf?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([c]):l.add(c)),jh(a,c,p)),!1}throw Error(r(435,l.tag))}return jh(a,c,p),kh(),!1}if(Ze)return s=Xn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,c!==Af&&(a=Error(r(422),{cause:c}),wo(Vn(a,l)))):(c!==Af&&(s=Error(r(423),{cause:c}),wo(Vn(s,l))),a=a.current.alternate,a.flags|=65536,p&=-p,a.lanes|=p,c=Vn(c,l),p=oh(a.stateNode,c,p),Uf(a,p),xt!==4&&(xt=2)),!1;var g=Error(r(520),{cause:c});if(g=Vn(g,l),Ho===null?Ho=[g]:Ho.push(g),xt!==4&&(xt=2),s===null)return!0;c=Vn(c,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,a=p&-p,l.lanes|=a,a=oh(l.stateNode,c,a),Uf(l,a),!1;case 1:if(s=l.type,g=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ka===null||!ka.has(g))))return l.flags|=65536,p&=-p,l.lanes|=p,p=jv(p),$v(p,a,l,c),Uf(l,p),!1}l=l.return}while(l!==null);return!1}var Mv=Error(r(461)),Yt=!1;function tn(a,s,l,c){s.child=a===null?xv(s,null,l,c):cs(s,a.child,l,c)}function Pv(a,s,l,c,p){l=l.render;var g=s.ref;if("ref"in c){var S={};for(var O in c)O!=="ref"&&(S[O]=c[O])}else S=c;return mi(s),c=Gf(a,s,l,S,g,p),O=Ff(),a!==null&&!Yt?(Vf(a,s,p),Xr(a,s,p)):(Ze&&O&&Of(s),s.flags|=1,tn(a,s,c,p),s.child)}function Lv(a,s,l,c,p){if(a===null){var g=l.type;return typeof g=="function"&&!Tf(g)&&g.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=g,Dv(a,s,g,c,p)):(a=bu(l.type,null,c,s,s.mode,p),a.ref=s.ref,a.return=s,s.child=a)}if(g=a.child,!mh(a,p)){var S=g.memoizedProps;if(l=l.compare,l=l!==null?l:yo,l(S,c)&&a.ref===s.ref)return Xr(a,s,p)}return s.flags|=1,a=qr(g,c),a.ref=s.ref,a.return=s,s.child=a}function Dv(a,s,l,c,p){if(a!==null){var g=a.memoizedProps;if(yo(g,c)&&a.ref===s.ref)if(Yt=!1,s.pendingProps=c=g,mh(a,p))(a.flags&131072)!==0&&(Yt=!0);else return s.lanes=a.lanes,Xr(a,s,p)}return lh(a,s,l,c,p)}function Uv(a,s,l){var c=s.pendingProps,p=c.children,g=a!==null?a.memoizedState:null;if(c.mode==="hidden"){if((s.flags&128)!==0){if(c=g!==null?g.baseLanes|l:l,a!==null){for(p=s.child=a.child,g=0;p!==null;)g=g|p.lanes|p.childLanes,p=p.sibling;s.childLanes=g&~c}else s.childLanes=0,s.child=null;return zv(a,s,c,l)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},a!==null&&Eu(s,g!==null?g.cachePool:null),g!==null?Db(s,g):Bf(),Rv(s);else return s.lanes=s.childLanes=536870912,zv(a,s,g!==null?g.baseLanes|l:l,l)}else g!==null?(Eu(s,g.cachePool),Db(s,g),xa(),s.memoizedState=null):(a!==null&&Eu(s,null),Bf(),xa());return tn(a,s,p,l),s.child}function zv(a,s,l,c){var p=Mf();return p=p===null?null:{parent:Bt._currentValue,pool:p},s.memoizedState={baseLanes:l,cachePool:p},a!==null&&Eu(s,null),Bf(),Rv(s),a!==null&&So(a,s,c,!0),null}function zu(a,s){var l=s.ref;if(l===null)a!==null&&a.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(a===null||a.ref!==l)&&(s.flags|=4194816)}}function lh(a,s,l,c,p){return mi(s),l=Gf(a,s,l,c,void 0,p),c=Ff(),a!==null&&!Yt?(Vf(a,s,p),Xr(a,s,p)):(Ze&&c&&Of(s),s.flags|=1,tn(a,s,l,p),s.child)}function Bv(a,s,l,c,p,g){return mi(s),s.updateQueue=null,l=zb(s,c,l,p),Ub(a),c=Ff(),a!==null&&!Yt?(Vf(a,s,g),Xr(a,s,g)):(Ze&&c&&Of(s),s.flags|=1,tn(a,s,l,g),s.child)}function Hv(a,s,l,c,p){if(mi(s),s.stateNode===null){var g=es,S=l.contextType;typeof S=="object"&&S!==null&&(g=un(S)),g=new l(c,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=sh,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=c,g.state=s.memoizedState,g.refs={},Lf(s),S=l.contextType,g.context=typeof S=="object"&&S!==null?un(S):es,g.state=s.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(ih(s,l,S,c),g.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(S=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),S!==g.state&&sh.enqueueReplaceState(g,g.state,null),Ao(s,c,g,p),Co(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(a===null){g=s.stateNode;var O=s.memoizedProps,j=bi(l,O);g.props=j;var F=g.context,ne=l.contextType;S=es,typeof ne=="object"&&ne!==null&&(S=un(ne));var ae=l.getDerivedStateFromProps;ne=typeof ae=="function"||typeof g.getSnapshotBeforeUpdate=="function",O=s.pendingProps!==O,ne||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(O||F!==S)&&Cv(s,g,c,S),_a=!1;var Z=s.memoizedState;g.state=Z,Ao(s,c,g,p),Co(),F=s.memoizedState,O||Z!==F||_a?(typeof ae=="function"&&(ih(s,l,ae,c),F=s.memoizedState),(j=_a||Ov(s,l,j,c,Z,F,S))?(ne||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=F),g.props=c,g.state=F,g.context=S,c=j):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{g=s.stateNode,Df(a,s),S=s.memoizedProps,ne=bi(l,S),g.props=ne,ae=s.pendingProps,Z=g.context,F=l.contextType,j=es,typeof F=="object"&&F!==null&&(j=un(F)),O=l.getDerivedStateFromProps,(F=typeof O=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S!==ae||Z!==j)&&Cv(s,g,c,j),_a=!1,Z=s.memoizedState,g.state=Z,Ao(s,c,g,p),Co();var K=s.memoizedState;S!==ae||Z!==K||_a||a!==null&&a.dependencies!==null&&wu(a.dependencies)?(typeof O=="function"&&(ih(s,l,O,c),K=s.memoizedState),(ne=_a||Ov(s,l,ne,c,Z,K,j)||a!==null&&a.dependencies!==null&&wu(a.dependencies))?(F||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,K,j),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,K,j)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||S===a.memoizedProps&&Z===a.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===a.memoizedProps&&Z===a.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=K),g.props=c,g.state=K,g.context=j,c=ne):(typeof g.componentDidUpdate!="function"||S===a.memoizedProps&&Z===a.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===a.memoizedProps&&Z===a.memoizedState||(s.flags|=1024),c=!1)}return g=c,zu(a,s),c=(s.flags&128)!==0,g||c?(g=s.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,a!==null&&c?(s.child=cs(s,a.child,null,p),s.child=cs(s,null,l,p)):tn(a,s,l,p),s.memoizedState=g.state,a=s.child):a=Xr(a,s,p),a}function qv(a,s,l,c){return _o(),s.flags|=256,tn(a,s,l,c),s.child}var uh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ch(a){return{baseLanes:a,cachePool:Nb()}}function dh(a,s,l){return a=a!==null?a.childLanes&~l:0,s&&(a|=Qn),a}function Gv(a,s,l){var c=s.pendingProps,p=!1,g=(s.flags&128)!==0,S;if((S=g)||(S=a!==null&&a.memoizedState===null?!1:(Ht.current&2)!==0),S&&(p=!0,s.flags&=-129),S=(s.flags&32)!==0,s.flags&=-33,a===null){if(Ze){if(p?Ta(s):xa(),Ze){var O=Tt,j;if(j=O){e:{for(j=O,O=Sr;j.nodeType!==8;){if(!O){O=null;break e}if(j=cr(j.nextSibling),j===null){O=null;break e}}O=j}O!==null?(s.memoizedState={dehydrated:O,treeContext:ci!==null?{id:Gr,overflow:Fr}:null,retryLane:536870912,hydrationErrors:null},j=jn(18,null,null,0),j.stateNode=O,j.return=s,s.child=j,gn=s,Tt=null,j=!0):j=!1}j||hi(s)}if(O=s.memoizedState,O!==null&&(O=O.dehydrated,O!==null))return Yh(O)?s.lanes=32:s.lanes=536870912,null;Kr(s)}return O=c.children,c=c.fallback,p?(xa(),p=s.mode,O=Bu({mode:"hidden",children:O},p),c=ui(c,p,l,null),O.return=s,c.return=s,O.sibling=c,s.child=O,p=s.child,p.memoizedState=ch(l),p.childLanes=dh(a,S,l),s.memoizedState=uh,c):(Ta(s),fh(s,O))}if(j=a.memoizedState,j!==null&&(O=j.dehydrated,O!==null)){if(g)s.flags&256?(Ta(s),s.flags&=-257,s=hh(a,s,l)):s.memoizedState!==null?(xa(),s.child=a.child,s.flags|=128,s=null):(xa(),p=c.fallback,O=s.mode,c=Bu({mode:"visible",children:c.children},O),p=ui(p,O,l,null),p.flags|=2,c.return=s,p.return=s,c.sibling=p,s.child=c,cs(s,a.child,null,l),c=s.child,c.memoizedState=ch(l),c.childLanes=dh(a,S,l),s.memoizedState=uh,s=p);else if(Ta(s),Yh(O)){if(S=O.nextSibling&&O.nextSibling.dataset,S)var F=S.dgst;S=F,c=Error(r(419)),c.stack="",c.digest=S,wo({value:c,source:null,stack:null}),s=hh(a,s,l)}else if(Yt||So(a,s,l,!1),S=(l&a.childLanes)!==0,Yt||S){if(S=ht,S!==null&&(c=l&-l,c=(c&42)!==0?1:Yd(c),c=(c&(S.suspendedLanes|l))!==0?0:c,c!==0&&c!==j.retryLane))throw j.retryLane=c,Ji(a,c),Dn(S,a,c),Mv;O.data==="$?"||kh(),s=hh(a,s,l)}else O.data==="$?"?(s.flags|=192,s.child=a.child,s=null):(a=j.treeContext,Tt=cr(O.nextSibling),gn=s,Ze=!0,fi=null,Sr=!1,a!==null&&(Yn[Kn++]=Gr,Yn[Kn++]=Fr,Yn[Kn++]=ci,Gr=a.id,Fr=a.overflow,ci=s),s=fh(s,c.children),s.flags|=4096);return s}return p?(xa(),p=c.fallback,O=s.mode,j=a.child,F=j.sibling,c=qr(j,{mode:"hidden",children:c.children}),c.subtreeFlags=j.subtreeFlags&65011712,F!==null?p=qr(F,p):(p=ui(p,O,l,null),p.flags|=2),p.return=s,c.return=s,c.sibling=p,s.child=c,c=p,p=s.child,O=a.child.memoizedState,O===null?O=ch(l):(j=O.cachePool,j!==null?(F=Bt._currentValue,j=j.parent!==F?{parent:F,pool:F}:j):j=Nb(),O={baseLanes:O.baseLanes|l,cachePool:j}),p.memoizedState=O,p.childLanes=dh(a,S,l),s.memoizedState=uh,c):(Ta(s),l=a.child,a=l.sibling,l=qr(l,{mode:"visible",children:c.children}),l.return=s,l.sibling=null,a!==null&&(S=s.deletions,S===null?(s.deletions=[a],s.flags|=16):S.push(a)),s.child=l,s.memoizedState=null,l)}function fh(a,s){return s=Bu({mode:"visible",children:s},a.mode),s.return=a,a.child=s}function Bu(a,s){return a=jn(22,a,null,s),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function hh(a,s,l){return cs(s,a.child,null,l),a=fh(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function Fv(a,s,l){a.lanes|=s;var c=a.alternate;c!==null&&(c.lanes|=s),kf(a.return,s,l)}function ph(a,s,l,c,p){var g=a.memoizedState;g===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:p}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=l,g.tailMode=p)}function Vv(a,s,l){var c=s.pendingProps,p=c.revealOrder,g=c.tail;if(tn(a,s,c.children,l),c=Ht.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Fv(a,l,s);else if(a.tag===19)Fv(a,l,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}c&=1}switch(W(Ht,c),p){case"forwards":for(l=s.child,p=null;l!==null;)a=l.alternate,a!==null&&Lu(a)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),ph(s,!1,p,l,g);break;case"backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(a=p.alternate,a!==null&&Lu(a)===null){s.child=p;break}a=p.sibling,p.sibling=l,l=p,p=a}ph(s,!0,l,null,g);break;case"together":ph(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Xr(a,s,l){if(a!==null&&(s.dependencies=a.dependencies),Na|=s.lanes,(l&s.childLanes)===0)if(a!==null){if(So(a,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(a!==null&&s.child!==a.child)throw Error(r(153));if(s.child!==null){for(a=s.child,l=qr(a,a.pendingProps),s.child=l,l.return=s;a.sibling!==null;)a=a.sibling,l=l.sibling=qr(a,a.pendingProps),l.return=s;l.sibling=null}return s.child}function mh(a,s){return(a.lanes&s)!==0?!0:(a=a.dependencies,!!(a!==null&&wu(a)))}function uR(a,s,l){switch(s.tag){case 3:Te(s,s.stateNode.containerInfo),va(s,Bt,a.memoizedState.cache),_o();break;case 27:case 5:ye(s);break;case 4:Te(s,s.stateNode.containerInfo);break;case 10:va(s,s.type,s.memoizedProps.value);break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(Ta(s),s.flags|=128,null):(l&s.child.childLanes)!==0?Gv(a,s,l):(Ta(s),a=Xr(a,s,l),a!==null?a.sibling:null);Ta(s);break;case 19:var p=(a.flags&128)!==0;if(c=(l&s.childLanes)!==0,c||(So(a,s,l,!1),c=(l&s.childLanes)!==0),p){if(c)return Vv(a,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),W(Ht,Ht.current),c)break;return null;case 22:case 23:return s.lanes=0,Uv(a,s,l);case 24:va(s,Bt,a.memoizedState.cache)}return Xr(a,s,l)}function Zv(a,s,l){if(a!==null)if(a.memoizedProps!==s.pendingProps)Yt=!0;else{if(!mh(a,l)&&(s.flags&128)===0)return Yt=!1,uR(a,s,l);Yt=(a.flags&131072)!==0}else Yt=!1,Ze&&(s.flags&1048576)!==0&&Eb(s,_u,s.index);switch(s.lanes=0,s.tag){case 16:e:{a=s.pendingProps;var c=s.elementType,p=c._init;if(c=p(c._payload),s.type=c,typeof c=="function")Tf(c)?(a=bi(c,a),s.tag=1,s=Hv(null,s,c,a,l)):(s.tag=0,s=lh(null,s,c,a,l));else{if(c!=null){if(p=c.$$typeof,p===A){s.tag=11,s=Pv(null,s,c,a,l);break e}else if(p===H){s.tag=14,s=Lv(null,s,c,a,l);break e}}throw s=V(c)||c,Error(r(306,s,""))}}return s;case 0:return lh(a,s,s.type,s.pendingProps,l);case 1:return c=s.type,p=bi(c,s.pendingProps),Hv(a,s,c,p,l);case 3:e:{if(Te(s,s.stateNode.containerInfo),a===null)throw Error(r(387));c=s.pendingProps;var g=s.memoizedState;p=g.element,Df(a,s),Ao(s,c,null,l);var S=s.memoizedState;if(c=S.cache,va(s,Bt,c),c!==g.cache&&If(s,[Bt],l,!0),Co(),c=S.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:S.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=qv(a,s,c,l);break e}else if(c!==p){p=Vn(Error(r(424)),s),wo(p),s=qv(a,s,c,l);break e}else{switch(a=s.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Tt=cr(a.firstChild),gn=s,Ze=!0,fi=null,Sr=!0,l=xv(s,null,c,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(_o(),c===p){s=Xr(a,s,l);break e}tn(a,s,c,l)}s=s.child}return s;case 26:return zu(a,s),a===null?(l=Q0(s.type,null,s.pendingProps,null))?s.memoizedState=l:Ze||(l=s.type,a=s.pendingProps,c=tc(de.current).createElement(l),c[ln]=s,c[wn]=a,rn(c,l,a),Zt(c),s.stateNode=c):s.memoizedState=Q0(s.type,a.memoizedProps,s.pendingProps,a.memoizedState),null;case 27:return ye(s),a===null&&Ze&&(c=s.stateNode=Y0(s.type,s.pendingProps,de.current),gn=s,Sr=!0,p=Tt,$a(s.type)?(Kh=p,Tt=cr(c.firstChild)):Tt=p),tn(a,s,s.pendingProps.children,l),zu(a,s),a===null&&(s.flags|=4194304),s.child;case 5:return a===null&&Ze&&((p=c=Tt)&&(c=LR(c,s.type,s.pendingProps,Sr),c!==null?(s.stateNode=c,gn=s,Tt=cr(c.firstChild),Sr=!1,p=!0):p=!1),p||hi(s)),ye(s),p=s.type,g=s.pendingProps,S=a!==null?a.memoizedProps:null,c=g.children,Fh(p,g)?c=null:S!==null&&Fh(p,S)&&(s.flags|=32),s.memoizedState!==null&&(p=Gf(a,s,tR,null,null,l),Qo._currentValue=p),zu(a,s),tn(a,s,c,l),s.child;case 6:return a===null&&Ze&&((a=l=Tt)&&(l=DR(l,s.pendingProps,Sr),l!==null?(s.stateNode=l,gn=s,Tt=null,a=!0):a=!1),a||hi(s)),null;case 13:return Gv(a,s,l);case 4:return Te(s,s.stateNode.containerInfo),c=s.pendingProps,a===null?s.child=cs(s,null,c,l):tn(a,s,c,l),s.child;case 11:return Pv(a,s,s.type,s.pendingProps,l);case 7:return tn(a,s,s.pendingProps,l),s.child;case 8:return tn(a,s,s.pendingProps.children,l),s.child;case 12:return tn(a,s,s.pendingProps.children,l),s.child;case 10:return c=s.pendingProps,va(s,s.type,c.value),tn(a,s,c.children,l),s.child;case 9:return p=s.type._context,c=s.pendingProps.children,mi(s),p=un(p),c=c(p),s.flags|=1,tn(a,s,c,l),s.child;case 14:return Lv(a,s,s.type,s.pendingProps,l);case 15:return Dv(a,s,s.type,s.pendingProps,l);case 19:return Vv(a,s,l);case 31:return c=s.pendingProps,l=s.mode,c={mode:c.mode,children:c.children},a===null?(l=Bu(c,l),l.ref=s.ref,s.child=l,l.return=s,s=l):(l=qr(a.child,c),l.ref=s.ref,s.child=l,l.return=s,s=l),s;case 22:return Uv(a,s,l);case 24:return mi(s),c=un(Bt),a===null?(p=Mf(),p===null&&(p=ht,g=jf(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=l),p=g),s.memoizedState={parent:c,cache:p},Lf(s),va(s,Bt,p)):((a.lanes&l)!==0&&(Df(a,s),Ao(s,null,null,l),Co()),p=a.memoizedState,g=s.memoizedState,p.parent!==c?(p={parent:c,cache:c},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),va(s,Bt,c)):(c=g.cache,va(s,Bt,c),c!==p.cache&&If(s,[Bt],l,!0))),tn(a,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Qr(a){a.flags|=4}function Yv(a,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!n_(s)){if(s=Xn.current,s!==null&&((He&4194048)===He?Er!==null:(He&62914560)!==He&&(He&536870912)===0||s!==Er))throw Ro=Pf,kb;a.flags|=8192}}function Hu(a,s){s!==null&&(a.flags|=4),a.flags&16384&&(s=a.tag!==22?Ry():536870912,a.lanes|=s,ps|=s)}function Po(a,s){if(!Ze)switch(a.tailMode){case"hidden":s=a.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?a.tail=null:l.sibling=null;break;case"collapsed":l=a.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:c.sibling=null}}function St(a){var s=a.alternate!==null&&a.alternate.child===a.child,l=0,c=0;if(s)for(var p=a.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=a,p=p.sibling;else for(p=a.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=a,p=p.sibling;return a.subtreeFlags|=c,a.childLanes=l,s}function cR(a,s,l){var c=s.pendingProps;switch(Cf(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(s),null;case 1:return St(s),null;case 3:return l=s.stateNode,c=null,a!==null&&(c=a.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Zr(Bt),Ce(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(a===null||a.child===null)&&(vo(s)?Qr(s):a===null||a.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Rb())),St(s),null;case 26:return l=s.memoizedState,a===null?(Qr(s),l!==null?(St(s),Yv(s,l)):(St(s),s.flags&=-16777217)):l?l!==a.memoizedState?(Qr(s),St(s),Yv(s,l)):(St(s),s.flags&=-16777217):(a.memoizedProps!==c&&Qr(s),St(s),s.flags&=-16777217),null;case 27:$e(s),l=de.current;var p=s.type;if(a!==null&&s.stateNode!=null)a.memoizedProps!==c&&Qr(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return St(s),null}a=oe.current,vo(s)?Tb(s):(a=Y0(p,c,l),s.stateNode=a,Qr(s))}return St(s),null;case 5:if($e(s),l=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==c&&Qr(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return St(s),null}if(a=oe.current,vo(s))Tb(s);else{switch(p=tc(de.current),a){case 1:a=p.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:a=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":a=p.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":a=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":a=p.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof c.is=="string"?p.createElement("select",{is:c.is}):p.createElement("select"),c.multiple?a.multiple=!0:c.size&&(a.size=c.size);break;default:a=typeof c.is=="string"?p.createElement(l,{is:c.is}):p.createElement(l)}}a[ln]=s,a[wn]=c;e:for(p=s.child;p!==null;){if(p.tag===5||p.tag===6)a.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===s)break e;for(;p.sibling===null;){if(p.return===null||p.return===s)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}s.stateNode=a;e:switch(rn(a,l,c),l){case"button":case"input":case"select":case"textarea":a=!!c.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Qr(s)}}return St(s),s.flags&=-16777217,null;case 6:if(a&&s.stateNode!=null)a.memoizedProps!==c&&Qr(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(r(166));if(a=de.current,vo(s)){if(a=s.stateNode,l=s.memoizedProps,c=null,p=gn,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}a[ln]=s,a=!!(a.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||B0(a.nodeValue,l)),a||hi(s)}else a=tc(a).createTextNode(c),a[ln]=s,s.stateNode=a}return St(s),null;case 13:if(c=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(p=vo(s),c!==null&&c.dehydrated!==null){if(a===null){if(!p)throw Error(r(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[ln]=s}else _o(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;St(s),p=!1}else p=Rb(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(Kr(s),s):(Kr(s),null)}if(Kr(s),(s.flags&128)!==0)return s.lanes=l,s;if(l=c!==null,a=a!==null&&a.memoizedState!==null,l){c=s.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool);var g=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==p&&(c.flags|=2048)}return l!==a&&l&&(s.child.flags|=8192),Hu(s,s.updateQueue),St(s),null;case 4:return Ce(),a===null&&zh(s.stateNode.containerInfo),St(s),null;case 10:return Zr(s.type),St(s),null;case 19:if(Q(Ht),p=s.memoizedState,p===null)return St(s),null;if(c=(s.flags&128)!==0,g=p.rendering,g===null)if(c)Po(p,!1);else{if(xt!==0||a!==null&&(a.flags&128)!==0)for(a=s.child;a!==null;){if(g=Lu(a),g!==null){for(s.flags|=128,Po(p,!1),a=g.updateQueue,s.updateQueue=a,Hu(s,a),s.subtreeFlags=0,a=l,l=s.child;l!==null;)Sb(l,a),l=l.sibling;return W(Ht,Ht.current&1|2),s.child}a=a.sibling}p.tail!==null&&dt()>Fu&&(s.flags|=128,c=!0,Po(p,!1),s.lanes=4194304)}else{if(!c)if(a=Lu(g),a!==null){if(s.flags|=128,c=!0,a=a.updateQueue,s.updateQueue=a,Hu(s,a),Po(p,!0),p.tail===null&&p.tailMode==="hidden"&&!g.alternate&&!Ze)return St(s),null}else 2*dt()-p.renderingStartTime>Fu&&l!==536870912&&(s.flags|=128,c=!0,Po(p,!1),s.lanes=4194304);p.isBackwards?(g.sibling=s.child,s.child=g):(a=p.last,a!==null?a.sibling=g:s.child=g,p.last=g)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=dt(),s.sibling=null,a=Ht.current,W(Ht,c?a&1|2:a&1),s):(St(s),null);case 22:case 23:return Kr(s),Hf(),c=s.memoizedState!==null,a!==null?a.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(l&536870912)!==0&&(s.flags&128)===0&&(St(s),s.subtreeFlags&6&&(s.flags|=8192)):St(s),l=s.updateQueue,l!==null&&Hu(s,l.retryQueue),l=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==l&&(s.flags|=2048),a!==null&&Q(gi),null;case 24:return l=null,a!==null&&(l=a.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Zr(Bt),St(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function dR(a,s){switch(Cf(s),s.tag){case 1:return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return Zr(Bt),Ce(),a=s.flags,(a&65536)!==0&&(a&128)===0?(s.flags=a&-65537|128,s):null;case 26:case 27:case 5:return $e(s),null;case 13:if(Kr(s),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(r(340));_o()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return Q(Ht),null;case 4:return Ce(),null;case 10:return Zr(s.type),null;case 22:case 23:return Kr(s),Hf(),a!==null&&Q(gi),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 24:return Zr(Bt),null;case 25:return null;default:return null}}function Kv(a,s){switch(Cf(s),s.tag){case 3:Zr(Bt),Ce();break;case 26:case 27:case 5:$e(s);break;case 4:Ce();break;case 13:Kr(s);break;case 19:Q(Ht);break;case 10:Zr(s.type);break;case 22:case 23:Kr(s),Hf(),a!==null&&Q(gi);break;case 24:Zr(Bt)}}function Lo(a,s){try{var l=s.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var p=c.next;l=p;do{if((l.tag&a)===a){c=void 0;var g=l.create,S=l.inst;c=g(),S.destroy=c}l=l.next}while(l!==p)}}catch(O){ot(s,s.return,O)}}function Ra(a,s,l){try{var c=s.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var g=p.next;c=g;do{if((c.tag&a)===a){var S=c.inst,O=S.destroy;if(O!==void 0){S.destroy=void 0,p=s;var j=l,F=O;try{F()}catch(ne){ot(p,j,ne)}}}c=c.next}while(c!==g)}}catch(ne){ot(s,s.return,ne)}}function Xv(a){var s=a.updateQueue;if(s!==null){var l=a.stateNode;try{Lb(s,l)}catch(c){ot(a,a.return,c)}}}function Qv(a,s,l){l.props=bi(a.type,a.memoizedProps),l.state=a.memoizedState;try{l.componentWillUnmount()}catch(c){ot(a,s,c)}}function Do(a,s){try{var l=a.ref;if(l!==null){switch(a.tag){case 26:case 27:case 5:var c=a.stateNode;break;case 30:c=a.stateNode;break;default:c=a.stateNode}typeof l=="function"?a.refCleanup=l(c):l.current=c}}catch(p){ot(a,s,p)}}function Tr(a,s){var l=a.ref,c=a.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(p){ot(a,s,p)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){ot(a,s,p)}else l.current=null}function Wv(a){var s=a.type,l=a.memoizedProps,c=a.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(p){ot(a,a.return,p)}}function gh(a,s,l){try{var c=a.stateNode;IR(c,a.type,l,s),c[wn]=s}catch(p){ot(a,a.return,p)}}function Jv(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&$a(a.type)||a.tag===4}function yh(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Jv(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&$a(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function bh(a,s,l){var c=a.tag;if(c===5||c===6)a=a.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(a,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(a),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=ec));else if(c!==4&&(c===27&&$a(a.type)&&(l=a.stateNode,s=null),a=a.child,a!==null))for(bh(a,s,l),a=a.sibling;a!==null;)bh(a,s,l),a=a.sibling}function qu(a,s,l){var c=a.tag;if(c===5||c===6)a=a.stateNode,s?l.insertBefore(a,s):l.appendChild(a);else if(c!==4&&(c===27&&$a(a.type)&&(l=a.stateNode),a=a.child,a!==null))for(qu(a,s,l),a=a.sibling;a!==null;)qu(a,s,l),a=a.sibling}function e0(a){var s=a.stateNode,l=a.memoizedProps;try{for(var c=a.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);rn(s,c,l),s[ln]=a,s[wn]=l}catch(g){ot(a,a.return,g)}}var Wr=!1,Nt=!1,vh=!1,t0=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function fR(a,s){if(a=a.containerInfo,qh=oc,a=fb(a),yf(a)){if("selectionStart"in a)var l={start:a.selectionStart,end:a.selectionEnd};else e:{l=(l=a.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var p=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var S=0,O=-1,j=-1,F=0,ne=0,ae=a,Z=null;t:for(;;){for(var K;ae!==l||p!==0&&ae.nodeType!==3||(O=S+p),ae!==g||c!==0&&ae.nodeType!==3||(j=S+c),ae.nodeType===3&&(S+=ae.nodeValue.length),(K=ae.firstChild)!==null;)Z=ae,ae=K;for(;;){if(ae===a)break t;if(Z===l&&++F===p&&(O=S),Z===g&&++ne===c&&(j=S),(K=ae.nextSibling)!==null)break;ae=Z,Z=ae.parentNode}ae=K}l=O===-1||j===-1?null:{start:O,end:j}}else l=null}l=l||{start:0,end:0}}else l=null;for(Gh={focusedElem:a,selectionRange:l},oc=!1,Kt=s;Kt!==null;)if(s=Kt,a=s.child,(s.subtreeFlags&1024)!==0&&a!==null)a.return=s,Kt=a;else for(;Kt!==null;){switch(s=Kt,g=s.alternate,a=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&g!==null){a=void 0,l=s,p=g.memoizedProps,g=g.memoizedState,c=l.stateNode;try{var Re=bi(l.type,p,l.elementType===l.type);a=c.getSnapshotBeforeUpdate(Re,g),c.__reactInternalSnapshotBeforeUpdate=a}catch(Se){ot(l,l.return,Se)}}break;case 3:if((a&1024)!==0){if(a=s.stateNode.containerInfo,l=a.nodeType,l===9)Zh(a);else if(l===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Zh(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=s.sibling,a!==null){a.return=s.return,Kt=a;break}Kt=s.return}}function n0(a,s,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:Oa(a,l),c&4&&Lo(5,l);break;case 1:if(Oa(a,l),c&4)if(a=l.stateNode,s===null)try{a.componentDidMount()}catch(S){ot(l,l.return,S)}else{var p=bi(l.type,s.memoizedProps);s=s.memoizedState;try{a.componentDidUpdate(p,s,a.__reactInternalSnapshotBeforeUpdate)}catch(S){ot(l,l.return,S)}}c&64&&Xv(l),c&512&&Do(l,l.return);break;case 3:if(Oa(a,l),c&64&&(a=l.updateQueue,a!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{Lb(a,s)}catch(S){ot(l,l.return,S)}}break;case 27:s===null&&c&4&&e0(l);case 26:case 5:Oa(a,l),s===null&&c&4&&Wv(l),c&512&&Do(l,l.return);break;case 12:Oa(a,l);break;case 13:Oa(a,l),c&4&&i0(a,l),c&64&&(a=l.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(l=wR.bind(null,l),UR(a,l))));break;case 22:if(c=l.memoizedState!==null||Wr,!c){s=s!==null&&s.memoizedState!==null||Nt,p=Wr;var g=Nt;Wr=c,(Nt=s)&&!g?Ca(a,l,(l.subtreeFlags&8772)!==0):Oa(a,l),Wr=p,Nt=g}break;case 30:break;default:Oa(a,l)}}function r0(a){var s=a.alternate;s!==null&&(a.alternate=null,r0(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&Qd(s)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var vt=null,Tn=!1;function Jr(a,s,l){for(l=l.child;l!==null;)a0(a,s,l),l=l.sibling}function a0(a,s,l){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(or,l)}catch{}switch(l.tag){case 26:Nt||Tr(l,s),Jr(a,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Nt||Tr(l,s);var c=vt,p=Tn;$a(l.type)&&(vt=l.stateNode,Tn=!1),Jr(a,s,l),Zo(l.stateNode),vt=c,Tn=p;break;case 5:Nt||Tr(l,s);case 6:if(c=vt,p=Tn,vt=null,Jr(a,s,l),vt=c,Tn=p,vt!==null)if(Tn)try{(vt.nodeType===9?vt.body:vt.nodeName==="HTML"?vt.ownerDocument.body:vt).removeChild(l.stateNode)}catch(g){ot(l,s,g)}else try{vt.removeChild(l.stateNode)}catch(g){ot(l,s,g)}break;case 18:vt!==null&&(Tn?(a=vt,V0(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,l.stateNode),tl(a)):V0(vt,l.stateNode));break;case 4:c=vt,p=Tn,vt=l.stateNode.containerInfo,Tn=!0,Jr(a,s,l),vt=c,Tn=p;break;case 0:case 11:case 14:case 15:Nt||Ra(2,l,s),Nt||Ra(4,l,s),Jr(a,s,l);break;case 1:Nt||(Tr(l,s),c=l.stateNode,typeof c.componentWillUnmount=="function"&&Qv(l,s,c)),Jr(a,s,l);break;case 21:Jr(a,s,l);break;case 22:Nt=(c=Nt)||l.memoizedState!==null,Jr(a,s,l),Nt=c;break;default:Jr(a,s,l)}}function i0(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{tl(a)}catch(l){ot(s,s.return,l)}}function hR(a){switch(a.tag){case 13:case 19:var s=a.stateNode;return s===null&&(s=a.stateNode=new t0),s;case 22:return a=a.stateNode,s=a._retryCache,s===null&&(s=a._retryCache=new t0),s;default:throw Error(r(435,a.tag))}}function _h(a,s){var l=hR(a);s.forEach(function(c){var p=SR.bind(null,a,c);l.has(c)||(l.add(c),c.then(p,p))})}function $n(a,s){var l=s.deletions;if(l!==null)for(var c=0;c<l.length;c++){var p=l[c],g=a,S=s,O=S;e:for(;O!==null;){switch(O.tag){case 27:if($a(O.type)){vt=O.stateNode,Tn=!1;break e}break;case 5:vt=O.stateNode,Tn=!1;break e;case 3:case 4:vt=O.stateNode.containerInfo,Tn=!0;break e}O=O.return}if(vt===null)throw Error(r(160));a0(g,S,p),vt=null,Tn=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)s0(s,a),s=s.sibling}var ur=null;function s0(a,s){var l=a.alternate,c=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:$n(s,a),Mn(a),c&4&&(Ra(3,a,a.return),Lo(3,a),Ra(5,a,a.return));break;case 1:$n(s,a),Mn(a),c&512&&(Nt||l===null||Tr(l,l.return)),c&64&&Wr&&(a=a.updateQueue,a!==null&&(c=a.callbacks,c!==null&&(l=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var p=ur;if($n(s,a),Mn(a),c&512&&(Nt||l===null||Tr(l,l.return)),c&4){var g=l!==null?l.memoizedState:null;if(c=a.memoizedState,l===null)if(c===null)if(a.stateNode===null){e:{c=a.type,l=a.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":g=p.getElementsByTagName("title")[0],(!g||g[oo]||g[ln]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(c),p.head.insertBefore(g,p.querySelector("head > title"))),rn(g,c,l),g[ln]=a,Zt(g),c=g;break e;case"link":var S=e_("link","href",p).get(c+(l.href||""));if(S){for(var O=0;O<S.length;O++)if(g=S[O],g.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&g.getAttribute("rel")===(l.rel==null?null:l.rel)&&g.getAttribute("title")===(l.title==null?null:l.title)&&g.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){S.splice(O,1);break t}}g=p.createElement(c),rn(g,c,l),p.head.appendChild(g);break;case"meta":if(S=e_("meta","content",p).get(c+(l.content||""))){for(O=0;O<S.length;O++)if(g=S[O],g.getAttribute("content")===(l.content==null?null:""+l.content)&&g.getAttribute("name")===(l.name==null?null:l.name)&&g.getAttribute("property")===(l.property==null?null:l.property)&&g.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&g.getAttribute("charset")===(l.charSet==null?null:l.charSet)){S.splice(O,1);break t}}g=p.createElement(c),rn(g,c,l),p.head.appendChild(g);break;default:throw Error(r(468,c))}g[ln]=a,Zt(g),c=g}a.stateNode=c}else t_(p,a.type,a.stateNode);else a.stateNode=J0(p,c,a.memoizedProps);else g!==c?(g===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):g.count--,c===null?t_(p,a.type,a.stateNode):J0(p,c,a.memoizedProps)):c===null&&a.stateNode!==null&&gh(a,a.memoizedProps,l.memoizedProps)}break;case 27:$n(s,a),Mn(a),c&512&&(Nt||l===null||Tr(l,l.return)),l!==null&&c&4&&gh(a,a.memoizedProps,l.memoizedProps);break;case 5:if($n(s,a),Mn(a),c&512&&(Nt||l===null||Tr(l,l.return)),a.flags&32){p=a.stateNode;try{Vi(p,"")}catch(K){ot(a,a.return,K)}}c&4&&a.stateNode!=null&&(p=a.memoizedProps,gh(a,p,l!==null?l.memoizedProps:p)),c&1024&&(vh=!0);break;case 6:if($n(s,a),Mn(a),c&4){if(a.stateNode===null)throw Error(r(162));c=a.memoizedProps,l=a.stateNode;try{l.nodeValue=c}catch(K){ot(a,a.return,K)}}break;case 3:if(ac=null,p=ur,ur=nc(s.containerInfo),$n(s,a),ur=p,Mn(a),c&4&&l!==null&&l.memoizedState.isDehydrated)try{tl(s.containerInfo)}catch(K){ot(a,a.return,K)}vh&&(vh=!1,o0(a));break;case 4:c=ur,ur=nc(a.stateNode.containerInfo),$n(s,a),Mn(a),ur=c;break;case 12:$n(s,a),Mn(a);break;case 13:$n(s,a),Mn(a),a.child.flags&8192&&a.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Rh=dt()),c&4&&(c=a.updateQueue,c!==null&&(a.updateQueue=null,_h(a,c)));break;case 22:p=a.memoizedState!==null;var j=l!==null&&l.memoizedState!==null,F=Wr,ne=Nt;if(Wr=F||p,Nt=ne||j,$n(s,a),Nt=ne,Wr=F,Mn(a),c&8192)e:for(s=a.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(l===null||j||Wr||Nt||vi(a)),l=null,s=a;;){if(s.tag===5||s.tag===26){if(l===null){j=l=s;try{if(g=j.stateNode,p)S=g.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{O=j.stateNode;var ae=j.memoizedProps.style,Z=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;O.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(K){ot(j,j.return,K)}}}else if(s.tag===6){if(l===null){j=s;try{j.stateNode.nodeValue=p?"":j.memoizedProps}catch(K){ot(j,j.return,K)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===a)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=a.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,_h(a,l))));break;case 19:$n(s,a),Mn(a),c&4&&(c=a.updateQueue,c!==null&&(a.updateQueue=null,_h(a,c)));break;case 30:break;case 21:break;default:$n(s,a),Mn(a)}}function Mn(a){var s=a.flags;if(s&2){try{for(var l,c=a.return;c!==null;){if(Jv(c)){l=c;break}c=c.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var p=l.stateNode,g=yh(a);qu(a,g,p);break;case 5:var S=l.stateNode;l.flags&32&&(Vi(S,""),l.flags&=-33);var O=yh(a);qu(a,O,S);break;case 3:case 4:var j=l.stateNode.containerInfo,F=yh(a);bh(a,F,j);break;default:throw Error(r(161))}}catch(ne){ot(a,a.return,ne)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function o0(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var s=a;o0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),a=a.sibling}}function Oa(a,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)n0(a,s.alternate,s),s=s.sibling}function vi(a){for(a=a.child;a!==null;){var s=a;switch(s.tag){case 0:case 11:case 14:case 15:Ra(4,s,s.return),vi(s);break;case 1:Tr(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&Qv(s,s.return,l),vi(s);break;case 27:Zo(s.stateNode);case 26:case 5:Tr(s,s.return),vi(s);break;case 22:s.memoizedState===null&&vi(s);break;case 30:vi(s);break;default:vi(s)}a=a.sibling}}function Ca(a,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,p=a,g=s,S=g.flags;switch(g.tag){case 0:case 11:case 15:Ca(p,g,l),Lo(4,g);break;case 1:if(Ca(p,g,l),c=g,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(F){ot(c,c.return,F)}if(c=g,p=c.updateQueue,p!==null){var O=c.stateNode;try{var j=p.shared.hiddenCallbacks;if(j!==null)for(p.shared.hiddenCallbacks=null,p=0;p<j.length;p++)Pb(j[p],O)}catch(F){ot(c,c.return,F)}}l&&S&64&&Xv(g),Do(g,g.return);break;case 27:e0(g);case 26:case 5:Ca(p,g,l),l&&c===null&&S&4&&Wv(g),Do(g,g.return);break;case 12:Ca(p,g,l);break;case 13:Ca(p,g,l),l&&S&4&&i0(p,g);break;case 22:g.memoizedState===null&&Ca(p,g,l),Do(g,g.return);break;case 30:break;default:Ca(p,g,l)}s=s.sibling}}function wh(a,s){var l=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),a=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==l&&(a!=null&&a.refCount++,l!=null&&Eo(l))}function Sh(a,s){a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&Eo(a))}function xr(a,s,l,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)l0(a,s,l,c),s=s.sibling}function l0(a,s,l,c){var p=s.flags;switch(s.tag){case 0:case 11:case 15:xr(a,s,l,c),p&2048&&Lo(9,s);break;case 1:xr(a,s,l,c);break;case 3:xr(a,s,l,c),p&2048&&(a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&Eo(a)));break;case 12:if(p&2048){xr(a,s,l,c),a=s.stateNode;try{var g=s.memoizedProps,S=g.id,O=g.onPostCommit;typeof O=="function"&&O(S,s.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(j){ot(s,s.return,j)}}else xr(a,s,l,c);break;case 13:xr(a,s,l,c);break;case 23:break;case 22:g=s.stateNode,S=s.alternate,s.memoizedState!==null?g._visibility&2?xr(a,s,l,c):Uo(a,s):g._visibility&2?xr(a,s,l,c):(g._visibility|=2,ds(a,s,l,c,(s.subtreeFlags&10256)!==0)),p&2048&&wh(S,s);break;case 24:xr(a,s,l,c),p&2048&&Sh(s.alternate,s);break;default:xr(a,s,l,c)}}function ds(a,s,l,c,p){for(p=p&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=a,S=s,O=l,j=c,F=S.flags;switch(S.tag){case 0:case 11:case 15:ds(g,S,O,j,p),Lo(8,S);break;case 23:break;case 22:var ne=S.stateNode;S.memoizedState!==null?ne._visibility&2?ds(g,S,O,j,p):Uo(g,S):(ne._visibility|=2,ds(g,S,O,j,p)),p&&F&2048&&wh(S.alternate,S);break;case 24:ds(g,S,O,j,p),p&&F&2048&&Sh(S.alternate,S);break;default:ds(g,S,O,j,p)}s=s.sibling}}function Uo(a,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=a,c=s,p=c.flags;switch(c.tag){case 22:Uo(l,c),p&2048&&wh(c.alternate,c);break;case 24:Uo(l,c),p&2048&&Sh(c.alternate,c);break;default:Uo(l,c)}s=s.sibling}}var zo=8192;function fs(a){if(a.subtreeFlags&zo)for(a=a.child;a!==null;)u0(a),a=a.sibling}function u0(a){switch(a.tag){case 26:fs(a),a.flags&zo&&a.memoizedState!==null&&WR(ur,a.memoizedState,a.memoizedProps);break;case 5:fs(a);break;case 3:case 4:var s=ur;ur=nc(a.stateNode.containerInfo),fs(a),ur=s;break;case 22:a.memoizedState===null&&(s=a.alternate,s!==null&&s.memoizedState!==null?(s=zo,zo=16777216,fs(a),zo=s):fs(a));break;default:fs(a)}}function c0(a){var s=a.alternate;if(s!==null&&(a=s.child,a!==null)){s.child=null;do s=a.sibling,a.sibling=null,a=s;while(a!==null)}}function Bo(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];Kt=c,f0(c,a)}c0(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)d0(a),a=a.sibling}function d0(a){switch(a.tag){case 0:case 11:case 15:Bo(a),a.flags&2048&&Ra(9,a,a.return);break;case 3:Bo(a);break;case 12:Bo(a);break;case 22:var s=a.stateNode;a.memoizedState!==null&&s._visibility&2&&(a.return===null||a.return.tag!==13)?(s._visibility&=-3,Gu(a)):Bo(a);break;default:Bo(a)}}function Gu(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];Kt=c,f0(c,a)}c0(a)}for(a=a.child;a!==null;){switch(s=a,s.tag){case 0:case 11:case 15:Ra(8,s,s.return),Gu(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,Gu(s));break;default:Gu(s)}a=a.sibling}}function f0(a,s){for(;Kt!==null;){var l=Kt;switch(l.tag){case 0:case 11:case 15:Ra(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Eo(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,Kt=c;else e:for(l=a;Kt!==null;){c=Kt;var p=c.sibling,g=c.return;if(r0(c),c===l){Kt=null;break e}if(p!==null){p.return=g,Kt=p;break e}Kt=g}}}var pR={getCacheForType:function(a){var s=un(Bt),l=s.data.get(a);return l===void 0&&(l=a(),s.data.set(a,l)),l}},mR=typeof WeakMap=="function"?WeakMap:Map,et=0,ht=null,Ue=null,He=0,tt=0,Pn=null,Aa=!1,hs=!1,Eh=!1,ea=0,xt=0,Na=0,_i=0,Th=0,Qn=0,ps=0,Ho=null,xn=null,xh=!1,Rh=0,Fu=1/0,Vu=null,ka=null,nn=0,Ia=null,ms=null,gs=0,Oh=0,Ch=null,h0=null,qo=0,Ah=null;function Ln(){if((et&2)!==0&&He!==0)return He&-He;if(I.T!==null){var a=rs;return a!==0?a:Ph()}return Ay()}function p0(){Qn===0&&(Qn=(He&536870912)===0||Ze?io():536870912);var a=Xn.current;return a!==null&&(a.flags|=32),Qn}function Dn(a,s,l){(a===ht&&(tt===2||tt===9)||a.cancelPendingCommit!==null)&&(ys(a,0),ja(a,He,Qn,!1)),so(a,l),((et&2)===0||a!==ht)&&(a===ht&&((et&2)===0&&(_i|=l),xt===4&&ja(a,He,Qn,!1)),Rr(a))}function m0(a,s,l){if((et&6)!==0)throw Error(r(327));var c=!l&&(s&124)===0&&(s&a.expiredLanes)===0||wt(a,s),p=c?bR(a,s):Ih(a,s,!0),g=c;do{if(p===0){hs&&!c&&ja(a,s,0,!1);break}else{if(l=a.current.alternate,g&&!gR(l)){p=Ih(a,s,!1),g=!1;continue}if(p===2){if(g=s,a.errorRecoveryDisabledLanes&g)var S=0;else S=a.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){s=S;e:{var O=a;p=Ho;var j=O.current.memoizedState.isDehydrated;if(j&&(ys(O,S).flags|=256),S=Ih(O,S,!1),S!==2){if(Eh&&!j){O.errorRecoveryDisabledLanes|=g,_i|=g,p=4;break e}g=xn,xn=p,g!==null&&(xn===null?xn=g:xn.push.apply(xn,g))}p=S}if(g=!1,p!==2)continue}}if(p===1){ys(a,0),ja(a,s,0,!0);break}e:{switch(c=a,g=p,g){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:ja(c,s,Qn,!Aa);break e;case 2:xn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(p=Rh+300-dt(),10<p)){if(ja(c,s,Qn,!Aa),Xe(c,0,!0)!==0)break e;c.timeoutHandle=G0(g0.bind(null,c,l,xn,Vu,xh,s,Qn,_i,ps,Aa,g,2,-0,0),p);break e}g0(c,l,xn,Vu,xh,s,Qn,_i,ps,Aa,g,0,-0,0)}}break}while(!0);Rr(a)}function g0(a,s,l,c,p,g,S,O,j,F,ne,ae,Z,K){if(a.timeoutHandle=-1,ae=s.subtreeFlags,(ae&8192||(ae&16785408)===16785408)&&(Xo={stylesheets:null,count:0,unsuspend:QR},u0(s),ae=JR(),ae!==null)){a.cancelPendingCommit=ae(E0.bind(null,a,s,g,l,c,p,S,O,j,ne,1,Z,K)),ja(a,g,S,!F);return}E0(a,s,g,l,c,p,S,O,j)}function gR(a){for(var s=a;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var p=l[c],g=p.getSnapshot;p=p.value;try{if(!In(g(),p))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ja(a,s,l,c){s&=~Th,s&=~_i,a.suspendedLanes|=s,a.pingedLanes&=~s,c&&(a.warmLanes|=s),c=a.expirationTimes;for(var p=s;0<p;){var g=31-jt(p),S=1<<g;c[g]=-1,p&=~S}l!==0&&Oy(a,l,s)}function Zu(){return(et&6)===0?(Go(0),!1):!0}function Nh(){if(Ue!==null){if(tt===0)var a=Ue.return;else a=Ue,Vr=pi=null,Zf(a),us=null,$o=0,a=Ue;for(;a!==null;)Kv(a.alternate,a),a=a.return;Ue=null}}function ys(a,s){var l=a.timeoutHandle;l!==-1&&(a.timeoutHandle=-1,$R(l)),l=a.cancelPendingCommit,l!==null&&(a.cancelPendingCommit=null,l()),Nh(),ht=a,Ue=l=qr(a.current,null),He=s,tt=0,Pn=null,Aa=!1,hs=wt(a,s),Eh=!1,ps=Qn=Th=_i=Na=xt=0,xn=Ho=null,xh=!1,(s&8)!==0&&(s|=s&32);var c=a.entangledLanes;if(c!==0)for(a=a.entanglements,c&=s;0<c;){var p=31-jt(c),g=1<<p;s|=a[p],c&=~g}return ea=s,mu(),l}function y0(a,s){je=null,I.H=$u,s===xo||s===Tu?(s=$b(),tt=3):s===kb?(s=$b(),tt=4):tt=s===Mv?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Pn=s,Ue===null&&(xt=1,Uu(a,Vn(s,a.current)))}function b0(){var a=I.H;return I.H=$u,a===null?$u:a}function v0(){var a=I.A;return I.A=pR,a}function kh(){xt=4,Aa||(He&4194048)!==He&&Xn.current!==null||(hs=!0),(Na&134217727)===0&&(_i&134217727)===0||ht===null||ja(ht,He,Qn,!1)}function Ih(a,s,l){var c=et;et|=2;var p=b0(),g=v0();(ht!==a||He!==s)&&(Vu=null,ys(a,s)),s=!1;var S=xt;e:do try{if(tt!==0&&Ue!==null){var O=Ue,j=Pn;switch(tt){case 8:Nh(),S=6;break e;case 3:case 2:case 9:case 6:Xn.current===null&&(s=!0);var F=tt;if(tt=0,Pn=null,bs(a,O,j,F),l&&hs){S=0;break e}break;default:F=tt,tt=0,Pn=null,bs(a,O,j,F)}}yR(),S=xt;break}catch(ne){y0(a,ne)}while(!0);return s&&a.shellSuspendCounter++,Vr=pi=null,et=c,I.H=p,I.A=g,Ue===null&&(ht=null,He=0,mu()),S}function yR(){for(;Ue!==null;)_0(Ue)}function bR(a,s){var l=et;et|=2;var c=b0(),p=v0();ht!==a||He!==s?(Vu=null,Fu=dt()+500,ys(a,s)):hs=wt(a,s);e:do try{if(tt!==0&&Ue!==null){s=Ue;var g=Pn;t:switch(tt){case 1:tt=0,Pn=null,bs(a,s,g,1);break;case 2:case 9:if(Ib(g)){tt=0,Pn=null,w0(s);break}s=function(){tt!==2&&tt!==9||ht!==a||(tt=7),Rr(a)},g.then(s,s);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:Ib(g)?(tt=0,Pn=null,w0(s)):(tt=0,Pn=null,bs(a,s,g,7));break;case 5:var S=null;switch(Ue.tag){case 26:S=Ue.memoizedState;case 5:case 27:var O=Ue;if(!S||n_(S)){tt=0,Pn=null;var j=O.sibling;if(j!==null)Ue=j;else{var F=O.return;F!==null?(Ue=F,Yu(F)):Ue=null}break t}}tt=0,Pn=null,bs(a,s,g,5);break;case 6:tt=0,Pn=null,bs(a,s,g,6);break;case 8:Nh(),xt=6;break e;default:throw Error(r(462))}}vR();break}catch(ne){y0(a,ne)}while(!0);return Vr=pi=null,I.H=c,I.A=p,et=l,Ue!==null?0:(ht=null,He=0,mu(),xt)}function vR(){for(;Ue!==null&&!ct();)_0(Ue)}function _0(a){var s=Zv(a.alternate,a,ea);a.memoizedProps=a.pendingProps,s===null?Yu(a):Ue=s}function w0(a){var s=a,l=s.alternate;switch(s.tag){case 15:case 0:s=Bv(l,s,s.pendingProps,s.type,void 0,He);break;case 11:s=Bv(l,s,s.pendingProps,s.type.render,s.ref,He);break;case 5:Zf(s);default:Kv(l,s),s=Ue=Sb(s,ea),s=Zv(l,s,ea)}a.memoizedProps=a.pendingProps,s===null?Yu(a):Ue=s}function bs(a,s,l,c){Vr=pi=null,Zf(s),us=null,$o=0;var p=s.return;try{if(lR(a,p,s,l,He)){xt=1,Uu(a,Vn(l,a.current)),Ue=null;return}}catch(g){if(p!==null)throw Ue=p,g;xt=1,Uu(a,Vn(l,a.current)),Ue=null;return}s.flags&32768?(Ze||c===1?a=!0:hs||(He&536870912)!==0?a=!1:(Aa=a=!0,(c===2||c===9||c===3||c===6)&&(c=Xn.current,c!==null&&c.tag===13&&(c.flags|=16384))),S0(s,a)):Yu(s)}function Yu(a){var s=a;do{if((s.flags&32768)!==0){S0(s,Aa);return}a=s.return;var l=cR(s.alternate,s,ea);if(l!==null){Ue=l;return}if(s=s.sibling,s!==null){Ue=s;return}Ue=s=a}while(s!==null);xt===0&&(xt=5)}function S0(a,s){do{var l=dR(a.alternate,a);if(l!==null){l.flags&=32767,Ue=l;return}if(l=a.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(a=a.sibling,a!==null)){Ue=a;return}Ue=a=l}while(a!==null);xt=6,Ue=null}function E0(a,s,l,c,p,g,S,O,j){a.cancelPendingCommit=null;do Ku();while(nn!==0);if((et&6)!==0)throw Error(r(327));if(s!==null){if(s===a.current)throw Error(r(177));if(g=s.lanes|s.childLanes,g|=Sf,QT(a,l,g,S,O,j),a===ht&&(Ue=ht=null,He=0),ms=s,Ia=a,gs=l,Oh=g,Ch=p,h0=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,ER(bt,function(){return C0(),null})):(a.callbackNode=null,a.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=I.T,I.T=null,p=D.p,D.p=2,S=et,et|=4;try{fR(a,s,l)}finally{et=S,D.p=p,I.T=c}}nn=1,T0(),x0(),R0()}}function T0(){if(nn===1){nn=0;var a=Ia,s=ms,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=I.T,I.T=null;var c=D.p;D.p=2;var p=et;et|=4;try{s0(s,a);var g=Gh,S=fb(a.containerInfo),O=g.focusedElem,j=g.selectionRange;if(S!==O&&O&&O.ownerDocument&&db(O.ownerDocument.documentElement,O)){if(j!==null&&yf(O)){var F=j.start,ne=j.end;if(ne===void 0&&(ne=F),"selectionStart"in O)O.selectionStart=F,O.selectionEnd=Math.min(ne,O.value.length);else{var ae=O.ownerDocument||document,Z=ae&&ae.defaultView||window;if(Z.getSelection){var K=Z.getSelection(),Re=O.textContent.length,Se=Math.min(j.start,Re),it=j.end===void 0?Se:Math.min(j.end,Re);!K.extend&&Se>it&&(S=it,it=Se,Se=S);var z=cb(O,Se),P=cb(O,it);if(z&&P&&(K.rangeCount!==1||K.anchorNode!==z.node||K.anchorOffset!==z.offset||K.focusNode!==P.node||K.focusOffset!==P.offset)){var G=ae.createRange();G.setStart(z.node,z.offset),K.removeAllRanges(),Se>it?(K.addRange(G),K.extend(P.node,P.offset)):(G.setEnd(P.node,P.offset),K.addRange(G))}}}}for(ae=[],K=O;K=K.parentNode;)K.nodeType===1&&ae.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<ae.length;O++){var re=ae[O];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}oc=!!qh,Gh=qh=null}finally{et=p,D.p=c,I.T=l}}a.current=s,nn=2}}function x0(){if(nn===2){nn=0;var a=Ia,s=ms,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=I.T,I.T=null;var c=D.p;D.p=2;var p=et;et|=4;try{n0(a,s.alternate,s)}finally{et=p,D.p=c,I.T=l}}nn=3}}function R0(){if(nn===4||nn===3){nn=0,pn();var a=Ia,s=ms,l=gs,c=h0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?nn=5:(nn=0,ms=Ia=null,O0(a,a.pendingLanes));var p=a.pendingLanes;if(p===0&&(ka=null),Kd(l),s=s.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(or,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=I.T,p=D.p,D.p=2,I.T=null;try{for(var g=a.onRecoverableError,S=0;S<c.length;S++){var O=c[S];g(O.value,{componentStack:O.stack})}}finally{I.T=s,D.p=p}}(gs&3)!==0&&Ku(),Rr(a),p=a.pendingLanes,(l&4194090)!==0&&(p&42)!==0?a===Ah?qo++:(qo=0,Ah=a):qo=0,Go(0)}}function O0(a,s){(a.pooledCacheLanes&=s)===0&&(s=a.pooledCache,s!=null&&(a.pooledCache=null,Eo(s)))}function Ku(a){return T0(),x0(),R0(),C0()}function C0(){if(nn!==5)return!1;var a=Ia,s=Oh;Oh=0;var l=Kd(gs),c=I.T,p=D.p;try{D.p=32>l?32:l,I.T=null,l=Ch,Ch=null;var g=Ia,S=gs;if(nn=0,ms=Ia=null,gs=0,(et&6)!==0)throw Error(r(331));var O=et;if(et|=4,d0(g.current),l0(g,g.current,S,l),et=O,Go(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(or,g)}catch{}return!0}finally{D.p=p,I.T=c,O0(a,s)}}function A0(a,s,l){s=Vn(l,s),s=oh(a.stateNode,s,2),a=Sa(a,s,2),a!==null&&(so(a,2),Rr(a))}function ot(a,s,l){if(a.tag===3)A0(a,a,l);else for(;s!==null;){if(s.tag===3){A0(s,a,l);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ka===null||!ka.has(c))){a=Vn(l,a),l=jv(2),c=Sa(s,l,2),c!==null&&($v(l,c,s,a),so(c,2),Rr(c));break}}s=s.return}}function jh(a,s,l){var c=a.pingCache;if(c===null){c=a.pingCache=new mR;var p=new Set;c.set(s,p)}else p=c.get(s),p===void 0&&(p=new Set,c.set(s,p));p.has(l)||(Eh=!0,p.add(l),a=_R.bind(null,a,s,l),s.then(a,a))}function _R(a,s,l){var c=a.pingCache;c!==null&&c.delete(s),a.pingedLanes|=a.suspendedLanes&l,a.warmLanes&=~l,ht===a&&(He&l)===l&&(xt===4||xt===3&&(He&62914560)===He&&300>dt()-Rh?(et&2)===0&&ys(a,0):Th|=l,ps===He&&(ps=0)),Rr(a)}function N0(a,s){s===0&&(s=Ry()),a=Ji(a,s),a!==null&&(so(a,s),Rr(a))}function wR(a){var s=a.memoizedState,l=0;s!==null&&(l=s.retryLane),N0(a,l)}function SR(a,s){var l=0;switch(a.tag){case 13:var c=a.stateNode,p=a.memoizedState;p!==null&&(l=p.retryLane);break;case 19:c=a.stateNode;break;case 22:c=a.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(s),N0(a,l)}function ER(a,s){return Et(a,s)}var Xu=null,vs=null,$h=!1,Qu=!1,Mh=!1,wi=0;function Rr(a){a!==vs&&a.next===null&&(vs===null?Xu=vs=a:vs=vs.next=a),Qu=!0,$h||($h=!0,xR())}function Go(a,s){if(!Mh&&Qu){Mh=!0;do for(var l=!1,c=Xu;c!==null;){if(a!==0){var p=c.pendingLanes;if(p===0)var g=0;else{var S=c.suspendedLanes,O=c.pingedLanes;g=(1<<31-jt(42|a)+1)-1,g&=p&~(S&~O),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(l=!0,$0(c,g))}else g=He,g=Xe(c,c===ht?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||wt(c,g)||(l=!0,$0(c,g));c=c.next}while(l);Mh=!1}}function TR(){k0()}function k0(){Qu=$h=!1;var a=0;wi!==0&&(jR()&&(a=wi),wi=0);for(var s=dt(),l=null,c=Xu;c!==null;){var p=c.next,g=I0(c,s);g===0?(c.next=null,l===null?Xu=p:l.next=p,p===null&&(vs=l)):(l=c,(a!==0||(g&3)!==0)&&(Qu=!0)),c=p}Go(a)}function I0(a,s){for(var l=a.suspendedLanes,c=a.pingedLanes,p=a.expirationTimes,g=a.pendingLanes&-62914561;0<g;){var S=31-jt(g),O=1<<S,j=p[S];j===-1?((O&l)===0||(O&c)!==0)&&(p[S]=ga(O,s)):j<=s&&(a.expiredLanes|=O),g&=~O}if(s=ht,l=He,l=Xe(a,a===s?l:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),c=a.callbackNode,l===0||a===s&&(tt===2||tt===9)||a.cancelPendingCommit!==null)return c!==null&&c!==null&&Me(c),a.callbackNode=null,a.callbackPriority=0;if((l&3)===0||wt(a,l)){if(s=l&-l,s===a.callbackPriority)return s;switch(c!==null&&Me(c),Kd(l)){case 2:case 8:l=Vt;break;case 32:l=bt;break;case 268435456:l=sr;break;default:l=bt}return c=j0.bind(null,a),l=Et(l,c),a.callbackPriority=s,a.callbackNode=l,s}return c!==null&&c!==null&&Me(c),a.callbackPriority=2,a.callbackNode=null,2}function j0(a,s){if(nn!==0&&nn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var l=a.callbackNode;if(Ku()&&a.callbackNode!==l)return null;var c=He;return c=Xe(a,a===ht?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),c===0?null:(m0(a,c,s),I0(a,dt()),a.callbackNode!=null&&a.callbackNode===l?j0.bind(null,a):null)}function $0(a,s){if(Ku())return null;m0(a,s,!0)}function xR(){MR(function(){(et&6)!==0?Et(kn,TR):k0()})}function Ph(){return wi===0&&(wi=io()),wi}function M0(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:lu(""+a)}function P0(a,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,a.id&&l.setAttribute("form",a.id),s.parentNode.insertBefore(l,s),a=new FormData(a),l.parentNode.removeChild(l),a}function RR(a,s,l,c,p){if(s==="submit"&&l&&l.stateNode===p){var g=M0((p[wn]||null).action),S=c.submitter;S&&(s=(s=S[wn]||null)?M0(s.formAction):S.getAttribute("formAction"),s!==null&&(g=s,S=null));var O=new fu("action","action",null,c,p);a.push({event:O,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(wi!==0){var j=S?P0(p,S):new FormData(p);nh(l,{pending:!0,data:j,method:p.method,action:g},null,j)}}else typeof g=="function"&&(O.preventDefault(),j=S?P0(p,S):new FormData(p),nh(l,{pending:!0,data:j,method:p.method,action:g},g,j))},currentTarget:p}]})}}for(var Lh=0;Lh<wf.length;Lh++){var Dh=wf[Lh],OR=Dh.toLowerCase(),CR=Dh[0].toUpperCase()+Dh.slice(1);lr(OR,"on"+CR)}lr(mb,"onAnimationEnd"),lr(gb,"onAnimationIteration"),lr(yb,"onAnimationStart"),lr("dblclick","onDoubleClick"),lr("focusin","onFocus"),lr("focusout","onBlur"),lr(Fx,"onTransitionRun"),lr(Vx,"onTransitionStart"),lr(Zx,"onTransitionCancel"),lr(bb,"onTransitionEnd"),qi("onMouseEnter",["mouseout","mouseover"]),qi("onMouseLeave",["mouseout","mouseover"]),qi("onPointerEnter",["pointerout","pointerover"]),qi("onPointerLeave",["pointerout","pointerover"]),ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fo));function L0(a,s){s=(s&4)!==0;for(var l=0;l<a.length;l++){var c=a[l],p=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var S=c.length-1;0<=S;S--){var O=c[S],j=O.instance,F=O.currentTarget;if(O=O.listener,j!==g&&p.isPropagationStopped())break e;g=O,p.currentTarget=F;try{g(p)}catch(ne){Du(ne)}p.currentTarget=null,g=j}else for(S=0;S<c.length;S++){if(O=c[S],j=O.instance,F=O.currentTarget,O=O.listener,j!==g&&p.isPropagationStopped())break e;g=O,p.currentTarget=F;try{g(p)}catch(ne){Du(ne)}p.currentTarget=null,g=j}}}}function ze(a,s){var l=s[Xd];l===void 0&&(l=s[Xd]=new Set);var c=a+"__bubble";l.has(c)||(D0(s,a,2,!1),l.add(c))}function Uh(a,s,l){var c=0;s&&(c|=4),D0(l,a,c,s)}var Wu="_reactListening"+Math.random().toString(36).slice(2);function zh(a){if(!a[Wu]){a[Wu]=!0,ky.forEach(function(l){l!=="selectionchange"&&(AR.has(l)||Uh(l,!1,a),Uh(l,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[Wu]||(s[Wu]=!0,Uh("selectionchange",!1,s))}}function D0(a,s,l,c){switch(l_(s)){case 2:var p=nO;break;case 8:p=rO;break;default:p=ep}l=p.bind(null,s,l,a),p=void 0,!lf||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),c?p!==void 0?a.addEventListener(s,l,{capture:!0,passive:p}):a.addEventListener(s,l,!0):p!==void 0?a.addEventListener(s,l,{passive:p}):a.addEventListener(s,l,!1)}function Bh(a,s,l,c,p){var g=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var S=c.tag;if(S===3||S===4){var O=c.stateNode.containerInfo;if(O===p)break;if(S===4)for(S=c.return;S!==null;){var j=S.tag;if((j===3||j===4)&&S.stateNode.containerInfo===p)return;S=S.return}for(;O!==null;){if(S=zi(O),S===null)return;if(j=S.tag,j===5||j===6||j===26||j===27){c=g=S;continue e}O=O.parentNode}}c=c.return}Fy(function(){var F=g,ne=sf(l),ae=[];e:{var Z=vb.get(a);if(Z!==void 0){var K=fu,Re=a;switch(a){case"keypress":if(cu(l)===0)break e;case"keydown":case"keyup":K=Ex;break;case"focusin":Re="focus",K=ff;break;case"focusout":Re="blur",K=ff;break;case"beforeblur":case"afterblur":K=ff;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Yy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=dx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Rx;break;case mb:case gb:case yb:K=px;break;case bb:K=Cx;break;case"scroll":case"scrollend":K=ux;break;case"wheel":K=Nx;break;case"copy":case"cut":case"paste":K=gx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Xy;break;case"toggle":case"beforetoggle":K=Ix}var Se=(s&4)!==0,it=!Se&&(a==="scroll"||a==="scrollend"),z=Se?Z!==null?Z+"Capture":null:Z;Se=[];for(var P=F,G;P!==null;){var re=P;if(G=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||G===null||z===null||(re=uo(P,z),re!=null&&Se.push(Vo(P,re,G))),it)break;P=P.return}0<Se.length&&(Z=new K(Z,Re,null,l,ne),ae.push({event:Z,listeners:Se}))}}if((s&7)===0){e:{if(Z=a==="mouseover"||a==="pointerover",K=a==="mouseout"||a==="pointerout",Z&&l!==af&&(Re=l.relatedTarget||l.fromElement)&&(zi(Re)||Re[Ui]))break e;if((K||Z)&&(Z=ne.window===ne?ne:(Z=ne.ownerDocument)?Z.defaultView||Z.parentWindow:window,K?(Re=l.relatedTarget||l.toElement,K=F,Re=Re?zi(Re):null,Re!==null&&(it=o(Re),Se=Re.tag,Re!==it||Se!==5&&Se!==27&&Se!==6)&&(Re=null)):(K=null,Re=F),K!==Re)){if(Se=Yy,re="onMouseLeave",z="onMouseEnter",P="mouse",(a==="pointerout"||a==="pointerover")&&(Se=Xy,re="onPointerLeave",z="onPointerEnter",P="pointer"),it=K==null?Z:lo(K),G=Re==null?Z:lo(Re),Z=new Se(re,P+"leave",K,l,ne),Z.target=it,Z.relatedTarget=G,re=null,zi(ne)===F&&(Se=new Se(z,P+"enter",Re,l,ne),Se.target=G,Se.relatedTarget=it,re=Se),it=re,K&&Re)t:{for(Se=K,z=Re,P=0,G=Se;G;G=_s(G))P++;for(G=0,re=z;re;re=_s(re))G++;for(;0<P-G;)Se=_s(Se),P--;for(;0<G-P;)z=_s(z),G--;for(;P--;){if(Se===z||z!==null&&Se===z.alternate)break t;Se=_s(Se),z=_s(z)}Se=null}else Se=null;K!==null&&U0(ae,Z,K,Se,!1),Re!==null&&it!==null&&U0(ae,it,Re,Se,!0)}}e:{if(Z=F?lo(F):window,K=Z.nodeName&&Z.nodeName.toLowerCase(),K==="select"||K==="input"&&Z.type==="file")var he=ab;else if(nb(Z))if(ib)he=Hx;else{he=zx;var Pe=Ux}else K=Z.nodeName,!K||K.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?F&&rf(F.elementType)&&(he=ab):he=Bx;if(he&&(he=he(a,F))){rb(ae,he,l,ne);break e}Pe&&Pe(a,Z,F),a==="focusout"&&F&&Z.type==="number"&&F.memoizedProps.value!=null&&nf(Z,"number",Z.value)}switch(Pe=F?lo(F):window,a){case"focusin":(nb(Pe)||Pe.contentEditable==="true")&&(Xi=Pe,bf=F,bo=null);break;case"focusout":bo=bf=Xi=null;break;case"mousedown":vf=!0;break;case"contextmenu":case"mouseup":case"dragend":vf=!1,hb(ae,l,ne);break;case"selectionchange":if(Gx)break;case"keydown":case"keyup":hb(ae,l,ne)}var be;if(pf)e:{switch(a){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else Ki?eb(a,l)&&(xe="onCompositionEnd"):a==="keydown"&&l.keyCode===229&&(xe="onCompositionStart");xe&&(Qy&&l.locale!=="ko"&&(Ki||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&Ki&&(be=Vy()):(ba=ne,uf="value"in ba?ba.value:ba.textContent,Ki=!0)),Pe=Ju(F,xe),0<Pe.length&&(xe=new Ky(xe,a,null,l,ne),ae.push({event:xe,listeners:Pe}),be?xe.data=be:(be=tb(l),be!==null&&(xe.data=be)))),(be=$x?Mx(a,l):Px(a,l))&&(xe=Ju(F,"onBeforeInput"),0<xe.length&&(Pe=new Ky("onBeforeInput","beforeinput",null,l,ne),ae.push({event:Pe,listeners:xe}),Pe.data=be)),RR(ae,a,F,l,ne)}L0(ae,s)})}function Vo(a,s,l){return{instance:a,listener:s,currentTarget:l}}function Ju(a,s){for(var l=s+"Capture",c=[];a!==null;){var p=a,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=uo(a,l),p!=null&&c.unshift(Vo(a,p,g)),p=uo(a,s),p!=null&&c.push(Vo(a,p,g))),a.tag===3)return c;a=a.return}return[]}function _s(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function U0(a,s,l,c,p){for(var g=s._reactName,S=[];l!==null&&l!==c;){var O=l,j=O.alternate,F=O.stateNode;if(O=O.tag,j!==null&&j===c)break;O!==5&&O!==26&&O!==27||F===null||(j=F,p?(F=uo(l,g),F!=null&&S.unshift(Vo(l,F,j))):p||(F=uo(l,g),F!=null&&S.push(Vo(l,F,j)))),l=l.return}S.length!==0&&a.push({event:s,listeners:S})}var NR=/\r\n?/g,kR=/\u0000|\uFFFD/g;function z0(a){return(typeof a=="string"?a:""+a).replace(NR,`
`).replace(kR,"")}function B0(a,s){return s=z0(s),z0(a)===s}function ec(){}function at(a,s,l,c,p,g){switch(l){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Vi(a,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Vi(a,""+c);break;case"className":iu(a,"class",c);break;case"tabIndex":iu(a,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":iu(a,l,c);break;case"style":qy(a,c,g);break;case"data":if(s!=="object"){iu(a,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||l!=="href")){a.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){a.removeAttribute(l);break}c=lu(""+c),a.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){a.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(l==="formAction"?(s!=="input"&&at(a,s,"name",p.name,p,null),at(a,s,"formEncType",p.formEncType,p,null),at(a,s,"formMethod",p.formMethod,p,null),at(a,s,"formTarget",p.formTarget,p,null)):(at(a,s,"encType",p.encType,p,null),at(a,s,"method",p.method,p,null),at(a,s,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){a.removeAttribute(l);break}c=lu(""+c),a.setAttribute(l,c);break;case"onClick":c!=null&&(a.onclick=ec);break;case"onScroll":c!=null&&ze("scroll",a);break;case"onScrollEnd":c!=null&&ze("scrollend",a);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(r(60));a.innerHTML=l}}break;case"multiple":a.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":a.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){a.removeAttribute("xlink:href");break}l=lu(""+c),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?a.setAttribute(l,""+c):a.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?a.setAttribute(l,""):a.removeAttribute(l);break;case"capture":case"download":c===!0?a.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?a.setAttribute(l,c):a.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?a.setAttribute(l,c):a.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?a.removeAttribute(l):a.setAttribute(l,c);break;case"popover":ze("beforetoggle",a),ze("toggle",a),au(a,"popover",c);break;case"xlinkActuate":Br(a,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Br(a,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Br(a,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Br(a,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Br(a,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Br(a,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Br(a,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Br(a,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Br(a,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":au(a,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=ox.get(l)||l,au(a,l,c))}}function Hh(a,s,l,c,p,g){switch(l){case"style":qy(a,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(r(60));a.innerHTML=l}}break;case"children":typeof c=="string"?Vi(a,c):(typeof c=="number"||typeof c=="bigint")&&Vi(a,""+c);break;case"onScroll":c!=null&&ze("scroll",a);break;case"onScrollEnd":c!=null&&ze("scrollend",a);break;case"onClick":c!=null&&(a.onclick=ec);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Iy.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),s=l.slice(2,p?l.length-7:void 0),g=a[wn]||null,g=g!=null?g[l]:null,typeof g=="function"&&a.removeEventListener(s,g,p),typeof c=="function")){typeof g!="function"&&g!==null&&(l in a?a[l]=null:a.hasAttribute(l)&&a.removeAttribute(l)),a.addEventListener(s,c,p);break e}l in a?a[l]=c:c===!0?a.setAttribute(l,""):au(a,l,c)}}}function rn(a,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",a),ze("load",a);var c=!1,p=!1,g;for(g in l)if(l.hasOwnProperty(g)){var S=l[g];if(S!=null)switch(g){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:at(a,s,g,S,l,null)}}p&&at(a,s,"srcSet",l.srcSet,l,null),c&&at(a,s,"src",l.src,l,null);return;case"input":ze("invalid",a);var O=g=S=p=null,j=null,F=null;for(c in l)if(l.hasOwnProperty(c)){var ne=l[c];if(ne!=null)switch(c){case"name":p=ne;break;case"type":S=ne;break;case"checked":j=ne;break;case"defaultChecked":F=ne;break;case"value":g=ne;break;case"defaultValue":O=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,s));break;default:at(a,s,c,ne,l,null)}}Uy(a,g,O,j,F,S,p,!1),su(a);return;case"select":ze("invalid",a),c=S=g=null;for(p in l)if(l.hasOwnProperty(p)&&(O=l[p],O!=null))switch(p){case"value":g=O;break;case"defaultValue":S=O;break;case"multiple":c=O;default:at(a,s,p,O,l,null)}s=g,l=S,a.multiple=!!c,s!=null?Fi(a,!!c,s,!1):l!=null&&Fi(a,!!c,l,!0);return;case"textarea":ze("invalid",a),g=p=c=null;for(S in l)if(l.hasOwnProperty(S)&&(O=l[S],O!=null))switch(S){case"value":c=O;break;case"defaultValue":p=O;break;case"children":g=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(91));break;default:at(a,s,S,O,l,null)}By(a,c,p,g),su(a);return;case"option":for(j in l)if(l.hasOwnProperty(j)&&(c=l[j],c!=null))switch(j){case"selected":a.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:at(a,s,j,c,l,null)}return;case"dialog":ze("beforetoggle",a),ze("toggle",a),ze("cancel",a),ze("close",a);break;case"iframe":case"object":ze("load",a);break;case"video":case"audio":for(c=0;c<Fo.length;c++)ze(Fo[c],a);break;case"image":ze("error",a),ze("load",a);break;case"details":ze("toggle",a);break;case"embed":case"source":case"link":ze("error",a),ze("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in l)if(l.hasOwnProperty(F)&&(c=l[F],c!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:at(a,s,F,c,l,null)}return;default:if(rf(s)){for(ne in l)l.hasOwnProperty(ne)&&(c=l[ne],c!==void 0&&Hh(a,s,ne,c,l,void 0));return}}for(O in l)l.hasOwnProperty(O)&&(c=l[O],c!=null&&at(a,s,O,c,l,null))}function IR(a,s,l,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,S=null,O=null,j=null,F=null,ne=null;for(K in l){var ae=l[K];if(l.hasOwnProperty(K)&&ae!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":j=ae;default:c.hasOwnProperty(K)||at(a,s,K,null,c,ae)}}for(var Z in c){var K=c[Z];if(ae=l[Z],c.hasOwnProperty(Z)&&(K!=null||ae!=null))switch(Z){case"type":g=K;break;case"name":p=K;break;case"checked":F=K;break;case"defaultChecked":ne=K;break;case"value":S=K;break;case"defaultValue":O=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,s));break;default:K!==ae&&at(a,s,Z,K,c,ae)}}tf(a,S,O,j,F,ne,g,p);return;case"select":K=S=O=Z=null;for(g in l)if(j=l[g],l.hasOwnProperty(g)&&j!=null)switch(g){case"value":break;case"multiple":K=j;default:c.hasOwnProperty(g)||at(a,s,g,null,c,j)}for(p in c)if(g=c[p],j=l[p],c.hasOwnProperty(p)&&(g!=null||j!=null))switch(p){case"value":Z=g;break;case"defaultValue":O=g;break;case"multiple":S=g;default:g!==j&&at(a,s,p,g,c,j)}s=O,l=S,c=K,Z!=null?Fi(a,!!l,Z,!1):!!c!=!!l&&(s!=null?Fi(a,!!l,s,!0):Fi(a,!!l,l?[]:"",!1));return;case"textarea":K=Z=null;for(O in l)if(p=l[O],l.hasOwnProperty(O)&&p!=null&&!c.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:at(a,s,O,null,c,p)}for(S in c)if(p=c[S],g=l[S],c.hasOwnProperty(S)&&(p!=null||g!=null))switch(S){case"value":Z=p;break;case"defaultValue":K=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==g&&at(a,s,S,p,c,g)}zy(a,Z,K);return;case"option":for(var Re in l)if(Z=l[Re],l.hasOwnProperty(Re)&&Z!=null&&!c.hasOwnProperty(Re))switch(Re){case"selected":a.selected=!1;break;default:at(a,s,Re,null,c,Z)}for(j in c)if(Z=c[j],K=l[j],c.hasOwnProperty(j)&&Z!==K&&(Z!=null||K!=null))switch(j){case"selected":a.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:at(a,s,j,Z,c,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in l)Z=l[Se],l.hasOwnProperty(Se)&&Z!=null&&!c.hasOwnProperty(Se)&&at(a,s,Se,null,c,Z);for(F in c)if(Z=c[F],K=l[F],c.hasOwnProperty(F)&&Z!==K&&(Z!=null||K!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,s));break;default:at(a,s,F,Z,c,K)}return;default:if(rf(s)){for(var it in l)Z=l[it],l.hasOwnProperty(it)&&Z!==void 0&&!c.hasOwnProperty(it)&&Hh(a,s,it,void 0,c,Z);for(ne in c)Z=c[ne],K=l[ne],!c.hasOwnProperty(ne)||Z===K||Z===void 0&&K===void 0||Hh(a,s,ne,Z,c,K);return}}for(var z in l)Z=l[z],l.hasOwnProperty(z)&&Z!=null&&!c.hasOwnProperty(z)&&at(a,s,z,null,c,Z);for(ae in c)Z=c[ae],K=l[ae],!c.hasOwnProperty(ae)||Z===K||Z==null&&K==null||at(a,s,ae,Z,c,K)}var qh=null,Gh=null;function tc(a){return a.nodeType===9?a:a.ownerDocument}function H0(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function q0(a,s){if(a===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&s==="foreignObject"?0:a}function Fh(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Vh=null;function jR(){var a=window.event;return a&&a.type==="popstate"?a===Vh?!1:(Vh=a,!0):(Vh=null,!1)}var G0=typeof setTimeout=="function"?setTimeout:void 0,$R=typeof clearTimeout=="function"?clearTimeout:void 0,F0=typeof Promise=="function"?Promise:void 0,MR=typeof queueMicrotask=="function"?queueMicrotask:typeof F0<"u"?function(a){return F0.resolve(null).then(a).catch(PR)}:G0;function PR(a){setTimeout(function(){throw a})}function $a(a){return a==="head"}function V0(a,s){var l=s,c=0,p=0;do{var g=l.nextSibling;if(a.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"){if(0<c&&8>c){l=c;var S=a.ownerDocument;if(l&1&&Zo(S.documentElement),l&2&&Zo(S.body),l&4)for(l=S.head,Zo(l),S=l.firstChild;S;){var O=S.nextSibling,j=S.nodeName;S[oo]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&S.rel.toLowerCase()==="stylesheet"||l.removeChild(S),S=O}}if(p===0){a.removeChild(g),tl(s);return}p--}else l==="$"||l==="$?"||l==="$!"?p++:c=l.charCodeAt(0)-48;else c=0;l=g}while(l);tl(s)}function Zh(a){var s=a.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Zh(l),Qd(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}a.removeChild(l)}}function LR(a,s,l,c){for(;a.nodeType===1;){var p=l;if(a.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(c){if(!a[oo])switch(s){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(g=a.getAttribute("rel"),g==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(g!==p.rel||a.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||a.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||a.getAttribute("title")!==(p.title==null?null:p.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(g=a.getAttribute("src"),(g!==(p.src==null?null:p.src)||a.getAttribute("type")!==(p.type==null?null:p.type)||a.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(s==="input"&&a.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&a.getAttribute("name")===g)return a}else return a;if(a=cr(a.nextSibling),a===null)break}return null}function DR(a,s,l){if(s==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!l||(a=cr(a.nextSibling),a===null))return null;return a}function Yh(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function UR(a,s){var l=a.ownerDocument;if(a.data!=="$?"||l.readyState==="complete")s();else{var c=function(){s(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),a._reactRetry=c}}function cr(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return a}var Kh=null;function Z0(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var l=a.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return a;s--}else l==="/$"&&s++}a=a.previousSibling}return null}function Y0(a,s,l){switch(s=tc(l),a){case"html":if(a=s.documentElement,!a)throw Error(r(452));return a;case"head":if(a=s.head,!a)throw Error(r(453));return a;case"body":if(a=s.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function Zo(a){for(var s=a.attributes;s.length;)a.removeAttributeNode(s[0]);Qd(a)}var Wn=new Map,K0=new Set;function nc(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var ta=D.d;D.d={f:zR,r:BR,D:HR,C:qR,L:GR,m:FR,X:ZR,S:VR,M:YR};function zR(){var a=ta.f(),s=Zu();return a||s}function BR(a){var s=Bi(a);s!==null&&s.tag===5&&s.type==="form"?mv(s):ta.r(a)}var ws=typeof document>"u"?null:document;function X0(a,s,l){var c=ws;if(c&&typeof s=="string"&&s){var p=Fn(s);p='link[rel="'+a+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),K0.has(p)||(K0.add(p),a={rel:a,crossOrigin:l,href:s},c.querySelector(p)===null&&(s=c.createElement("link"),rn(s,"link",a),Zt(s),c.head.appendChild(s)))}}function HR(a){ta.D(a),X0("dns-prefetch",a,null)}function qR(a,s){ta.C(a,s),X0("preconnect",a,s)}function GR(a,s,l){ta.L(a,s,l);var c=ws;if(c&&a&&s){var p='link[rel="preload"][as="'+Fn(s)+'"]';s==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+Fn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+Fn(l.imageSizes)+'"]')):p+='[href="'+Fn(a)+'"]';var g=p;switch(s){case"style":g=Ss(a);break;case"script":g=Es(a)}Wn.has(g)||(a=m({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:a,as:s},l),Wn.set(g,a),c.querySelector(p)!==null||s==="style"&&c.querySelector(Yo(g))||s==="script"&&c.querySelector(Ko(g))||(s=c.createElement("link"),rn(s,"link",a),Zt(s),c.head.appendChild(s)))}}function FR(a,s){ta.m(a,s);var l=ws;if(l&&a){var c=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+Fn(c)+'"][href="'+Fn(a)+'"]',g=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Es(a)}if(!Wn.has(g)&&(a=m({rel:"modulepreload",href:a},s),Wn.set(g,a),l.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Ko(g)))return}c=l.createElement("link"),rn(c,"link",a),Zt(c),l.head.appendChild(c)}}}function VR(a,s,l){ta.S(a,s,l);var c=ws;if(c&&a){var p=Hi(c).hoistableStyles,g=Ss(a);s=s||"default";var S=p.get(g);if(!S){var O={loading:0,preload:null};if(S=c.querySelector(Yo(g)))O.loading=5;else{a=m({rel:"stylesheet",href:a,"data-precedence":s},l),(l=Wn.get(g))&&Xh(a,l);var j=S=c.createElement("link");Zt(j),rn(j,"link",a),j._p=new Promise(function(F,ne){j.onload=F,j.onerror=ne}),j.addEventListener("load",function(){O.loading|=1}),j.addEventListener("error",function(){O.loading|=2}),O.loading|=4,rc(S,s,c)}S={type:"stylesheet",instance:S,count:1,state:O},p.set(g,S)}}}function ZR(a,s){ta.X(a,s);var l=ws;if(l&&a){var c=Hi(l).hoistableScripts,p=Es(a),g=c.get(p);g||(g=l.querySelector(Ko(p)),g||(a=m({src:a,async:!0},s),(s=Wn.get(p))&&Qh(a,s),g=l.createElement("script"),Zt(g),rn(g,"link",a),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function YR(a,s){ta.M(a,s);var l=ws;if(l&&a){var c=Hi(l).hoistableScripts,p=Es(a),g=c.get(p);g||(g=l.querySelector(Ko(p)),g||(a=m({src:a,async:!0,type:"module"},s),(s=Wn.get(p))&&Qh(a,s),g=l.createElement("script"),Zt(g),rn(g,"link",a),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function Q0(a,s,l,c){var p=(p=de.current)?nc(p):null;if(!p)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=Ss(l.href),l=Hi(p).hoistableStyles,c=l.get(s),c||(c={type:"style",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){a=Ss(l.href);var g=Hi(p).hoistableStyles,S=g.get(a);if(S||(p=p.ownerDocument||p,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(a,S),(g=p.querySelector(Yo(a)))&&!g._p&&(S.instance=g,S.state.loading=5),Wn.has(a)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Wn.set(a,l),g||KR(p,a,l,S.state))),s&&c===null)throw Error(r(528,""));return S}if(s&&c!==null)throw Error(r(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Es(l),l=Hi(p).hoistableScripts,c=l.get(s),c||(c={type:"script",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Ss(a){return'href="'+Fn(a)+'"'}function Yo(a){return'link[rel="stylesheet"]['+a+"]"}function W0(a){return m({},a,{"data-precedence":a.precedence,precedence:null})}function KR(a,s,l,c){a.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=a.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),rn(s,"link",l),Zt(s),a.head.appendChild(s))}function Es(a){return'[src="'+Fn(a)+'"]'}function Ko(a){return"script[async]"+a}function J0(a,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var c=a.querySelector('style[data-href~="'+Fn(l.href)+'"]');if(c)return s.instance=c,Zt(c),c;var p=m({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(a.ownerDocument||a).createElement("style"),Zt(c),rn(c,"style",p),rc(c,l.precedence,a),s.instance=c;case"stylesheet":p=Ss(l.href);var g=a.querySelector(Yo(p));if(g)return s.state.loading|=4,s.instance=g,Zt(g),g;c=W0(l),(p=Wn.get(p))&&Xh(c,p),g=(a.ownerDocument||a).createElement("link"),Zt(g);var S=g;return S._p=new Promise(function(O,j){S.onload=O,S.onerror=j}),rn(g,"link",c),s.state.loading|=4,rc(g,l.precedence,a),s.instance=g;case"script":return g=Es(l.src),(p=a.querySelector(Ko(g)))?(s.instance=p,Zt(p),p):(c=l,(p=Wn.get(g))&&(c=m({},l),Qh(c,p)),a=a.ownerDocument||a,p=a.createElement("script"),Zt(p),rn(p,"link",c),a.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,rc(c,l.precedence,a));return s.instance}function rc(a,s,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,g=p,S=0;S<c.length;S++){var O=c[S];if(O.dataset.precedence===s)g=O;else if(g!==p)break}g?g.parentNode.insertBefore(a,g.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(a,s.firstChild))}function Xh(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.title==null&&(a.title=s.title)}function Qh(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.integrity==null&&(a.integrity=s.integrity)}var ac=null;function e_(a,s,l){if(ac===null){var c=new Map,p=ac=new Map;p.set(l,c)}else p=ac,c=p.get(l),c||(c=new Map,p.set(l,c));if(c.has(a))return c;for(c.set(a,null),l=l.getElementsByTagName(a),p=0;p<l.length;p++){var g=l[p];if(!(g[oo]||g[ln]||a==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var S=g.getAttribute(s)||"";S=a+S;var O=c.get(S);O?O.push(g):c.set(S,[g])}}return c}function t_(a,s,l){a=a.ownerDocument||a,a.head.insertBefore(l,s==="title"?a.querySelector("head > title"):null)}function XR(a,s,l){if(l===1||s.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return a=s.disabled,typeof s.precedence=="string"&&a==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function n_(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var Xo=null;function QR(){}function WR(a,s,l){if(Xo===null)throw Error(r(475));var c=Xo;if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var p=Ss(l.href),g=a.querySelector(Yo(p));if(g){a=g._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(c.count++,c=ic.bind(c),a.then(c,c)),s.state.loading|=4,s.instance=g,Zt(g);return}g=a.ownerDocument||a,l=W0(l),(p=Wn.get(p))&&Xh(l,p),g=g.createElement("link"),Zt(g);var S=g;S._p=new Promise(function(O,j){S.onload=O,S.onerror=j}),rn(g,"link",l),s.instance=g}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(s,a),(a=s.state.preload)&&(s.state.loading&3)===0&&(c.count++,s=ic.bind(c),a.addEventListener("load",s),a.addEventListener("error",s))}}function JR(){if(Xo===null)throw Error(r(475));var a=Xo;return a.stylesheets&&a.count===0&&Wh(a,a.stylesheets),0<a.count?function(s){var l=setTimeout(function(){if(a.stylesheets&&Wh(a,a.stylesheets),a.unsuspend){var c=a.unsuspend;a.unsuspend=null,c()}},6e4);return a.unsuspend=s,function(){a.unsuspend=null,clearTimeout(l)}}:null}function ic(){if(this.count--,this.count===0){if(this.stylesheets)Wh(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var sc=null;function Wh(a,s){a.stylesheets=null,a.unsuspend!==null&&(a.count++,sc=new Map,s.forEach(eO,a),sc=null,ic.call(a))}function eO(a,s){if(!(s.state.loading&4)){var l=sc.get(a);if(l)var c=l.get(null);else{l=new Map,sc.set(a,l);for(var p=a.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var S=p[g];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(l.set(S.dataset.precedence,S),c=S)}c&&l.set(null,c)}p=s.instance,S=p.getAttribute("data-precedence"),g=l.get(S)||c,g===c&&l.set(null,p),l.set(S,p),this.count++,c=ic.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),g?g.parentNode.insertBefore(p,g.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(p,a.firstChild)),s.state.loading|=4}}var Qo={$$typeof:T,Provider:null,Consumer:null,_currentValue:Y,_currentValue2:Y,_threadCount:0};function tO(a,s,l,c,p,g,S,O){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zd(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zd(0),this.hiddenUpdates=Zd(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function r_(a,s,l,c,p,g,S,O,j,F,ne,ae){return a=new tO(a,s,l,S,O,j,F,ae),s=1,g===!0&&(s|=24),g=jn(3,null,null,s),a.current=g,g.stateNode=a,s=jf(),s.refCount++,a.pooledCache=s,s.refCount++,g.memoizedState={element:c,isDehydrated:l,cache:s},Lf(g),a}function a_(a){return a?(a=es,a):es}function i_(a,s,l,c,p,g){p=a_(p),c.context===null?c.context=p:c.pendingContext=p,c=wa(s),c.payload={element:l},g=g===void 0?null:g,g!==null&&(c.callback=g),l=Sa(a,c,s),l!==null&&(Dn(l,a,s),Oo(l,a,s))}function s_(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var l=a.retryLane;a.retryLane=l!==0&&l<s?l:s}}function Jh(a,s){s_(a,s),(a=a.alternate)&&s_(a,s)}function o_(a){if(a.tag===13){var s=Ji(a,67108864);s!==null&&Dn(s,a,67108864),Jh(a,67108864)}}var oc=!0;function nO(a,s,l,c){var p=I.T;I.T=null;var g=D.p;try{D.p=2,ep(a,s,l,c)}finally{D.p=g,I.T=p}}function rO(a,s,l,c){var p=I.T;I.T=null;var g=D.p;try{D.p=8,ep(a,s,l,c)}finally{D.p=g,I.T=p}}function ep(a,s,l,c){if(oc){var p=tp(c);if(p===null)Bh(a,s,c,lc,l),u_(a,c);else if(iO(p,a,s,l,c))c.stopPropagation();else if(u_(a,c),s&4&&-1<aO.indexOf(a)){for(;p!==null;){var g=Bi(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var S=_e(g.pendingLanes);if(S!==0){var O=g;for(O.pendingLanes|=2,O.entangledLanes|=2;S;){var j=1<<31-jt(S);O.entanglements[1]|=j,S&=~j}Rr(g),(et&6)===0&&(Fu=dt()+500,Go(0))}}break;case 13:O=Ji(g,2),O!==null&&Dn(O,g,2),Zu(),Jh(g,2)}if(g=tp(c),g===null&&Bh(a,s,c,lc,l),g===p)break;p=g}p!==null&&c.stopPropagation()}else Bh(a,s,c,null,l)}}function tp(a){return a=sf(a),np(a)}var lc=null;function np(a){if(lc=null,a=zi(a),a!==null){var s=o(a);if(s===null)a=null;else{var l=s.tag;if(l===13){if(a=u(s),a!==null)return a;a=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null)}}return lc=a,null}function l_(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(It()){case kn:return 2;case Vt:return 8;case bt:case we:return 32;case sr:return 268435456;default:return 32}default:return 32}}var rp=!1,Ma=null,Pa=null,La=null,Wo=new Map,Jo=new Map,Da=[],aO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function u_(a,s){switch(a){case"focusin":case"focusout":Ma=null;break;case"dragenter":case"dragleave":Pa=null;break;case"mouseover":case"mouseout":La=null;break;case"pointerover":case"pointerout":Wo.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jo.delete(s.pointerId)}}function el(a,s,l,c,p,g){return a===null||a.nativeEvent!==g?(a={blockedOn:s,domEventName:l,eventSystemFlags:c,nativeEvent:g,targetContainers:[p]},s!==null&&(s=Bi(s),s!==null&&o_(s)),a):(a.eventSystemFlags|=c,s=a.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),a)}function iO(a,s,l,c,p){switch(s){case"focusin":return Ma=el(Ma,a,s,l,c,p),!0;case"dragenter":return Pa=el(Pa,a,s,l,c,p),!0;case"mouseover":return La=el(La,a,s,l,c,p),!0;case"pointerover":var g=p.pointerId;return Wo.set(g,el(Wo.get(g)||null,a,s,l,c,p)),!0;case"gotpointercapture":return g=p.pointerId,Jo.set(g,el(Jo.get(g)||null,a,s,l,c,p)),!0}return!1}function c_(a){var s=zi(a.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=u(l),s!==null){a.blockedOn=s,WT(a.priority,function(){if(l.tag===13){var c=Ln();c=Yd(c);var p=Ji(l,c);p!==null&&Dn(p,l,c),Jh(l,c)}});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){a.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}a.blockedOn=null}function uc(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var l=tp(a.nativeEvent);if(l===null){l=a.nativeEvent;var c=new l.constructor(l.type,l);af=c,l.target.dispatchEvent(c),af=null}else return s=Bi(l),s!==null&&o_(s),a.blockedOn=l,!1;s.shift()}return!0}function d_(a,s,l){uc(a)&&l.delete(s)}function sO(){rp=!1,Ma!==null&&uc(Ma)&&(Ma=null),Pa!==null&&uc(Pa)&&(Pa=null),La!==null&&uc(La)&&(La=null),Wo.forEach(d_),Jo.forEach(d_)}function cc(a,s){a.blockedOn===s&&(a.blockedOn=null,rp||(rp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,sO)))}var dc=null;function f_(a){dc!==a&&(dc=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){dc===a&&(dc=null);for(var s=0;s<a.length;s+=3){var l=a[s],c=a[s+1],p=a[s+2];if(typeof c!="function"){if(np(c||l)===null)continue;break}var g=Bi(l);g!==null&&(a.splice(s,3),s-=3,nh(g,{pending:!0,data:p,method:l.method,action:c},c,p))}}))}function tl(a){function s(j){return cc(j,a)}Ma!==null&&cc(Ma,a),Pa!==null&&cc(Pa,a),La!==null&&cc(La,a),Wo.forEach(s),Jo.forEach(s);for(var l=0;l<Da.length;l++){var c=Da[l];c.blockedOn===a&&(c.blockedOn=null)}for(;0<Da.length&&(l=Da[0],l.blockedOn===null);)c_(l),l.blockedOn===null&&Da.shift();if(l=(a.ownerDocument||a).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var p=l[c],g=l[c+1],S=p[wn]||null;if(typeof g=="function")S||f_(l);else if(S){var O=null;if(g&&g.hasAttribute("formAction")){if(p=g,S=g[wn]||null)O=S.formAction;else if(np(p)!==null)continue}else O=S.action;typeof O=="function"?l[c+1]=O:(l.splice(c,3),c-=3),f_(l)}}}function ap(a){this._internalRoot=a}fc.prototype.render=ap.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(r(409));var l=s.current,c=Ln();i_(l,c,a,s,null,null)},fc.prototype.unmount=ap.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;i_(a.current,2,null,a,null,null),Zu(),s[Ui]=null}};function fc(a){this._internalRoot=a}fc.prototype.unstable_scheduleHydration=function(a){if(a){var s=Ay();a={blockedOn:null,target:a,priority:s};for(var l=0;l<Da.length&&s!==0&&s<Da[l].priority;l++);Da.splice(l,0,a),l===0&&c_(a)}};var h_=e.version;if(h_!=="19.1.0")throw Error(r(527,h_,"19.1.0"));D.findDOMNode=function(a){var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=f(s),a=a!==null?h(a):null,a=a===null?null:a.stateNode,a};var oO={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hc.isDisabled&&hc.supportsFiber)try{or=hc.inject(oO),zt=hc}catch{}}return rl.createRoot=function(a,s){if(!i(a))throw Error(r(299));var l=!1,c="",p=Av,g=Nv,S=kv,O=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(O=s.unstable_transitionCallbacks)),s=r_(a,1,!1,null,null,l,c,p,g,S,O,null),a[Ui]=s.current,zh(a),new ap(s)},rl.hydrateRoot=function(a,s,l){if(!i(a))throw Error(r(299));var c=!1,p="",g=Av,S=Nv,O=kv,j=null,F=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(O=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(j=l.unstable_transitionCallbacks),l.formState!==void 0&&(F=l.formState)),s=r_(a,1,!0,s,l??null,c,p,g,S,O,j,F),s.context=a_(null),l=s.current,c=Ln(),c=Yd(c),p=wa(c),p.callback=null,Sa(l,p,c),l=c,s.current.lanes=l,so(s,l),Rr(s),a[Ui]=s.current,zh(a),new fc(s)},rl.version="19.1.0",rl}var E_;function vO(){if(E_)return op.exports;E_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),op.exports=bO(),op.exports}var _O=vO(),T_;(function(t){t.STRING="string",t.NUMBER="number",t.INTEGER="integer",t.BOOLEAN="boolean",t.ARRAY="array",t.OBJECT="object"})(T_||(T_={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var x_;(function(t){t.LANGUAGE_UNSPECIFIED="language_unspecified",t.PYTHON="python"})(x_||(x_={}));var R_;(function(t){t.OUTCOME_UNSPECIFIED="outcome_unspecified",t.OUTCOME_OK="outcome_ok",t.OUTCOME_FAILED="outcome_failed",t.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(R_||(R_={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_=["user","model","function","system"];var C_;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(C_||(C_={}));var A_;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(A_||(A_={}));var N_;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(N_||(N_={}));var k_;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(k_||(k_={}));var _l;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.OTHER="OTHER"})(_l||(_l={}));var I_;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(I_||(I_={}));var $s;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})($s||($s={}));var j_;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(j_||(j_={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class Ts extends fn{constructor(e,n){super(e),this.response=n}}class eE extends fn{constructor(e,n,r,i){super(e),this.status=n,this.statusText=r,this.errorDetails=i}}class Ka extends fn{}class tE extends fn{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO="https://generativelanguage.googleapis.com",SO="v1beta",EO="0.24.1",TO="genai-js";var Ii;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Ii||(Ii={}));class xO{constructor(e,n,r,i,o){this.model=e,this.task=n,this.apiKey=r,this.stream=i,this.requestOptions=o}toString(){var e,n;const r=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||SO;let o=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||wO}/${r}/${this.model}:${this.task}`;return this.stream&&(o+="?alt=sse"),o}}function RO(t){const e=[];return t!=null&&t.apiClient&&e.push(t.apiClient),e.push(`${TO}/${EO}`),e.join(" ")}async function OO(t){var e;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",RO(t.requestOptions)),n.append("x-goog-api-key",t.apiKey);let r=(e=t.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(i){throw new Ka(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${i.message}`)}for(const[i,o]of r.entries()){if(i==="x-goog-api-key")throw new Ka(`Cannot set reserved header name ${i}`);if(i==="x-goog-api-client")throw new Ka(`Header name ${i} can only be set using the apiClient field`);n.append(i,o)}}return n}async function CO(t,e,n,r,i,o){const u=new xO(t,e,n,r,o);return{url:u.toString(),fetchOptions:Object.assign(Object.assign({},IO(o)),{method:"POST",headers:await OO(u),body:i})}}async function ql(t,e,n,r,i,o={},u=fetch){const{url:d,fetchOptions:f}=await CO(t,e,n,r,i,o);return AO(d,f,u)}async function AO(t,e,n=fetch){let r;try{r=await n(t,e)}catch(i){NO(i,t)}return r.ok||await kO(r,t),r}function NO(t,e){let n=t;throw n.name==="AbortError"?(n=new tE(`Request aborted when fetching ${e.toString()}: ${t.message}`),n.stack=t.stack):t instanceof eE||t instanceof Ka||(n=new fn(`Error fetching from ${e.toString()}: ${t.message}`),n.stack=t.stack),n}async function kO(t,e){let n="",r;try{const i=await t.json();n=i.error.message,i.error.details&&(n+=` ${JSON.stringify(i.error.details)}`,r=i.error.details)}catch{}throw new eE(`Error fetching from ${e.toString()}: [${t.status} ${t.statusText}] ${n}`,t.status,t.statusText,r)}function IO(t){const e={};if((t==null?void 0:t.signal)!==void 0||(t==null?void 0:t.timeout)>=0){const n=new AbortController;(t==null?void 0:t.timeout)>=0&&setTimeout(()=>n.abort(),t.timeout),t!=null&&t.signal&&t.signal.addEventListener("abort",()=>{n.abort()}),e.signal=n.signal}return e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ag(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Ic(t.candidates[0]))throw new Ts(`${qa(t)}`,t);return jO(t)}else if(t.promptFeedback)throw new Ts(`Text not available. ${qa(t)}`,t);return""},t.functionCall=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Ic(t.candidates[0]))throw new Ts(`${qa(t)}`,t);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),$_(t)[0]}else if(t.promptFeedback)throw new Ts(`Function call not available. ${qa(t)}`,t)},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Ic(t.candidates[0]))throw new Ts(`${qa(t)}`,t);return $_(t)}else if(t.promptFeedback)throw new Ts(`Function call not available. ${qa(t)}`,t)},t}function jO(t){var e,n,r,i;const o=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const u of(i=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)u.text&&o.push(u.text),u.executableCode&&o.push("\n```"+u.executableCode.language+`
`+u.executableCode.code+"\n```\n"),u.codeExecutionResult&&o.push("\n```\n"+u.codeExecutionResult.output+"\n```\n");return o.length>0?o.join(""):""}function $_(t){var e,n,r,i;const o=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const u of(i=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)u.functionCall&&o.push(u.functionCall);if(o.length>0)return o}const $O=[_l.RECITATION,_l.SAFETY,_l.LANGUAGE];function Ic(t){return!!t.finishReason&&$O.includes(t.finishReason)}function qa(t){var e,n,r;let i="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)i+="Response was blocked",!((e=t.promptFeedback)===null||e===void 0)&&e.blockReason&&(i+=` due to ${t.promptFeedback.blockReason}`),!((n=t.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(i+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((r=t.candidates)===null||r===void 0)&&r[0]){const o=t.candidates[0];Ic(o)&&(i+=`Candidate was blocked due to ${o.finishReason}`,o.finishMessage&&(i+=`: ${o.finishMessage}`))}return i}function Al(t){return this instanceof Al?(this.v=t,this):new Al(t)}function MO(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},u("next"),u("throw"),u("return"),i[Symbol.asyncIterator]=function(){return this},i;function u(y){r[y]&&(i[y]=function(_){return new Promise(function(v,w){o.push([y,_,v,w])>1||d(y,_)})})}function d(y,_){try{f(r[y](_))}catch(v){b(o[0][3],v)}}function f(y){y.value instanceof Al?Promise.resolve(y.value.v).then(h,m):b(o[0][2],y)}function h(y){d("next",y)}function m(y){d("throw",y)}function b(y,_){y(_),o.shift(),o.length&&d(o[0][0],o[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function PO(t){const e=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=UO(e),[r,i]=n.tee();return{stream:DO(r),response:LO(i)}}async function LO(t){const e=[],n=t.getReader();for(;;){const{done:r,value:i}=await n.read();if(r)return Ag(zO(e));e.push(i)}}function DO(t){return MO(this,arguments,function*(){const n=t.getReader();for(;;){const{value:r,done:i}=yield Al(n.read());if(i)break;yield yield Al(Ag(r))}})}function UO(t){const e=t.getReader();return new ReadableStream({start(r){let i="";return o();function o(){return e.read().then(({value:u,done:d})=>{if(d){if(i.trim()){r.error(new fn("Failed to parse stream"));return}r.close();return}i+=u;let f=i.match(M_),h;for(;f;){try{h=JSON.parse(f[1])}catch{r.error(new fn(`Error parsing JSON response: "${f[1]}"`));return}r.enqueue(h),i=i.substring(f[0].length),f=i.match(M_)}return o()}).catch(u=>{let d=u;throw d.stack=u.stack,d.name==="AbortError"?d=new tE("Request aborted when reading from the stream"):d=new fn("Error reading from the stream"),d})}}})}function zO(t){const e=t[t.length-1],n={promptFeedback:e==null?void 0:e.promptFeedback};for(const r of t){if(r.candidates){let i=0;for(const o of r.candidates)if(n.candidates||(n.candidates=[]),n.candidates[i]||(n.candidates[i]={index:i}),n.candidates[i].citationMetadata=o.citationMetadata,n.candidates[i].groundingMetadata=o.groundingMetadata,n.candidates[i].finishReason=o.finishReason,n.candidates[i].finishMessage=o.finishMessage,n.candidates[i].safetyRatings=o.safetyRatings,o.content&&o.content.parts){n.candidates[i].content||(n.candidates[i].content={role:o.content.role||"user",parts:[]});const u={};for(const d of o.content.parts)d.text&&(u.text=d.text),d.functionCall&&(u.functionCall=d.functionCall),d.executableCode&&(u.executableCode=d.executableCode),d.codeExecutionResult&&(u.codeExecutionResult=d.codeExecutionResult),Object.keys(u).length===0&&(u.text=""),n.candidates[i].content.parts.push(u)}i++}r.usageMetadata&&(n.usageMetadata=r.usageMetadata)}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nE(t,e,n,r){const i=await ql(e,Ii.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(n),r);return PO(i)}async function rE(t,e,n,r){const o=await(await ql(e,Ii.GENERATE_CONTENT,t,!1,JSON.stringify(n),r)).json();return{response:Ag(o)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function Nl(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(const n of t)typeof n=="string"?e.push({text:n}):e.push(n);return BO(e)}function BO(t){const e={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,i=!1;for(const o of t)"functionResponse"in o?(n.parts.push(o),i=!0):(e.parts.push(o),r=!0);if(r&&i)throw new fn("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!i)throw new fn("No content is provided for sending chat message.");return r?e:n}function HO(t,e){var n;let r={model:e==null?void 0:e.model,generationConfig:e==null?void 0:e.generationConfig,safetySettings:e==null?void 0:e.safetySettings,tools:e==null?void 0:e.tools,toolConfig:e==null?void 0:e.toolConfig,systemInstruction:e==null?void 0:e.systemInstruction,cachedContent:(n=e==null?void 0:e.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const i=t.generateContentRequest!=null;if(t.contents){if(i)throw new Ka("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=t.contents}else if(i)r=Object.assign(Object.assign({},r),t.generateContentRequest);else{const o=Nl(t);r.contents=[o]}return{generateContentRequest:r}}function P_(t){let e;return t.contents?e=t:e={contents:[Nl(t)]},t.systemInstruction&&(e.systemInstruction=aE(t.systemInstruction)),e}function qO(t){return typeof t=="string"||Array.isArray(t)?{content:Nl(t)}:t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],GO={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function FO(t){let e=!1;for(const n of t){const{role:r,parts:i}=n;if(!e&&r!=="user")throw new fn(`First content should be with role 'user', got ${r}`);if(!O_.includes(r))throw new fn(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(O_)}`);if(!Array.isArray(i))throw new fn("Content should have 'parts' property with an array of Parts");if(i.length===0)throw new fn("Each Content should have at least one part");const o={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const d of i)for(const f of L_)f in d&&(o[f]+=1);const u=GO[r];for(const d of L_)if(!u.includes(d)&&o[d]>0)throw new fn(`Content with role '${r}' can't contain '${d}' part`);e=!0}}function D_(t){var e;if(t.candidates===void 0||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const r of n.parts)if(r===void 0||Object.keys(r).length===0||r.text!==void 0&&r.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_="SILENT_ERROR";class VO{constructor(e,n,r,i={}){this.model=n,this.params=r,this._requestOptions=i,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,r!=null&&r.history&&(FO(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,n={}){var r,i,o,u,d,f;await this._sendPromise;const h=Nl(e),m={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(o=this.params)===null||o===void 0?void 0:o.tools,toolConfig:(u=this.params)===null||u===void 0?void 0:u.toolConfig,systemInstruction:(d=this.params)===null||d===void 0?void 0:d.systemInstruction,cachedContent:(f=this.params)===null||f===void 0?void 0:f.cachedContent,contents:[...this._history,h]},b=Object.assign(Object.assign({},this._requestOptions),n);let y;return this._sendPromise=this._sendPromise.then(()=>rE(this._apiKey,this.model,m,b)).then(_=>{var v;if(D_(_.response)){this._history.push(h);const w=Object.assign({parts:[],role:"model"},(v=_.response.candidates)===null||v===void 0?void 0:v[0].content);this._history.push(w)}else{const w=qa(_.response);w&&console.warn(`sendMessage() was unsuccessful. ${w}. Inspect response object for details.`)}y=_}).catch(_=>{throw this._sendPromise=Promise.resolve(),_}),await this._sendPromise,y}async sendMessageStream(e,n={}){var r,i,o,u,d,f;await this._sendPromise;const h=Nl(e),m={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(o=this.params)===null||o===void 0?void 0:o.tools,toolConfig:(u=this.params)===null||u===void 0?void 0:u.toolConfig,systemInstruction:(d=this.params)===null||d===void 0?void 0:d.systemInstruction,cachedContent:(f=this.params)===null||f===void 0?void 0:f.cachedContent,contents:[...this._history,h]},b=Object.assign(Object.assign({},this._requestOptions),n),y=nE(this._apiKey,this.model,m,b);return this._sendPromise=this._sendPromise.then(()=>y).catch(_=>{throw new Error(U_)}).then(_=>_.response).then(_=>{if(D_(_)){this._history.push(h);const v=Object.assign({},_.candidates[0].content);v.role||(v.role="model"),this._history.push(v)}else{const v=qa(_);v&&console.warn(`sendMessageStream() was unsuccessful. ${v}. Inspect response object for details.`)}}).catch(_=>{_.message!==U_&&console.error(_)}),y}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZO(t,e,n,r){return(await ql(e,Ii.COUNT_TOKENS,t,!1,JSON.stringify(n),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YO(t,e,n,r){return(await ql(e,Ii.EMBED_CONTENT,t,!1,JSON.stringify(n),r)).json()}async function KO(t,e,n,r){const i=n.requests.map(u=>Object.assign(Object.assign({},u),{model:e}));return(await ql(e,Ii.BATCH_EMBED_CONTENTS,t,!1,JSON.stringify({requests:i}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e,n,r={}){this.apiKey=e,this._requestOptions=r,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=aE(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(e,n={}){var r;const i=P_(e),o=Object.assign(Object.assign({},this._requestOptions),n);return rE(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),o)}async generateContentStream(e,n={}){var r;const i=P_(e),o=Object.assign(Object.assign({},this._requestOptions),n);return nE(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),o)}startChat(e){var n;return new VO(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},e),this._requestOptions)}async countTokens(e,n={}){const r=HO(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),i=Object.assign(Object.assign({},this._requestOptions),n);return ZO(this.apiKey,this.model,r,i)}async embedContent(e,n={}){const r=qO(e),i=Object.assign(Object.assign({},this._requestOptions),n);return YO(this.apiKey,this.model,r,i)}async batchEmbedContents(e,n={}){const r=Object.assign(Object.assign({},this._requestOptions),n);return KO(this.apiKey,this.model,e,r)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(e){this.apiKey=e}getGenerativeModel(e,n){if(!e.model)throw new fn("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new z_(this.apiKey,e,n)}getGenerativeModelFromCachedContent(e,n,r){if(!e.name)throw new Ka("Cached content must contain a `name` field.");if(!e.model)throw new Ka("Cached content must contain a `model` field.");const i=["model","systemInstruction"];for(const u of i)if(n!=null&&n[u]&&e[u]&&(n==null?void 0:n[u])!==e[u]){if(u==="model"){const d=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,f=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(d===f)continue}throw new Ka(`Different value for "${u}" specified in modelParams (${n[u]}) and cachedContent (${e[u]})`)}const o=Object.assign(Object.assign({},n),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new z_(this.apiKey,o,r)}}var dp={};const XO=()=>typeof window<"u"&&typeof window.document<"u",QO=()=>typeof globalThis=="object"&&globalThis.constructor&&globalThis.constructor.name==="DedicatedWorkerGlobalScope",WO=()=>typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&navigator.userAgent.includes("jsdom"),Ng=()=>typeof Deno<"u",JO=()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"&&!Ng(),eC=()=>{let t;return XO()?t="browser":JO()?t="node":QO()?t="webworker":WO()?t="jsdom":Ng()?t="deno":t="other",t};let fp;function tC(){return fp===void 0&&(fp={library:"langchain-js",runtime:eC()}),fp}function Ai(t){try{return typeof process<"u"?dp==null?void 0:dp[t]:Ng()?Deno==null?void 0:Deno.env.get(t):void 0}catch{return}}function H_(t,e=iE){t=t.trim();const n=t.indexOf("```");if(n===-1)return e(t);let r=t.substring(n+3);r.startsWith(`json
`)?r=r.substring(5):r.startsWith("json")?r=r.substring(4):r.startsWith(`
`)&&(r=r.substring(1));const i=r.indexOf("```");let o=r;return i!==-1&&(o=r.substring(0,i)),e(o.trim())}function iE(t){if(typeof t>"u")return null;try{return JSON.parse(t)}catch{}let e="";const n=[];let r=!1,i=!1;for(let o of t){if(r)o==='"'&&!i?r=!1:o===`
`&&!i?o="\\n":o==="\\"?i=!i:i=!1;else if(o==='"')r=!0,i=!1;else if(o==="{")n.push("}");else if(o==="[")n.push("]");else if(o==="}"||o==="]")if(n&&n[n.length-1]===o)n.pop();else return null;e+=o}r&&(e+='"');for(let o=n.length-1;o>=0;o-=1)e+=n[o];try{return JSON.parse(e)}catch{return null}}var hp,q_;function nC(){return q_||(q_=1,hp=function(t,e){if(typeof t!="string")throw new TypeError("Expected a string");return e=typeof e>"u"?"_":e,t.replace(/([a-z\d])([A-Z])/g,"$1"+e+"$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1"+e+"$2").toLowerCase()}),hp}var rC=nC();const aC=ri(rC);var mc={exports:{}},G_;function iC(){if(G_)return mc.exports;G_=1;const t=/[\p{Lu}]/u,e=/[\p{Ll}]/u,n=/^[\p{Lu}](?![\p{Lu}])/gu,r=/([\p{Alpha}\p{N}_]|$)/u,i=/[_.\- ]+/,o=new RegExp("^"+i.source),u=new RegExp(i.source+r.source,"gu"),d=new RegExp("\\d+"+r.source,"gu"),f=(y,_,v)=>{let w=!1,E=!1,x=!1;for(let N=0;N<y.length;N++){const T=y[N];w&&t.test(T)?(y=y.slice(0,N)+"-"+y.slice(N),w=!1,x=E,E=!0,N++):E&&x&&e.test(T)?(y=y.slice(0,N-1)+"-"+y.slice(N-1),x=E,E=!1,w=!0):(w=_(T)===T&&v(T)!==T,x=E,E=v(T)===T&&_(T)!==T)}return y},h=(y,_)=>(n.lastIndex=0,y.replace(n,v=>_(v))),m=(y,_)=>(u.lastIndex=0,d.lastIndex=0,y.replace(u,(v,w)=>_(w)).replace(d,v=>_(v))),b=(y,_)=>{if(!(typeof y=="string"||Array.isArray(y)))throw new TypeError("Expected the input to be `string | string[]`");if(_={pascalCase:!1,preserveConsecutiveUppercase:!1,..._},Array.isArray(y)?y=y.map(x=>x.trim()).filter(x=>x.length).join("-"):y=y.trim(),y.length===0)return"";const v=_.locale===!1?x=>x.toLowerCase():x=>x.toLocaleLowerCase(_.locale),w=_.locale===!1?x=>x.toUpperCase():x=>x.toLocaleUpperCase(_.locale);return y.length===1?_.pascalCase?w(y):v(y):(y!==v(y)&&(y=f(y,v,w)),y=y.replace(o,""),_.preserveConsecutiveUppercase?y=h(y,v):y=v(y),_.pascalCase&&(y=w(y.charAt(0))+y.slice(1)),m(y,w))};return mc.exports=b,mc.exports.default=b,mc.exports}iC();function sC(t,e){return(e==null?void 0:e[t])||aC(t)}function oC(t,e,n){const r={};for(const i in t)Object.hasOwn(t,i)&&(r[e(i,n)]=t[i]);return r}function F_(t){return Array.isArray(t)?[...t]:{...t}}function lC(t,e){const n=F_(t);for(const[r,i]of Object.entries(e)){const[o,...u]=r.split(".").reverse();let d=n;for(const f of u.reverse()){if(d[f]===void 0)break;d[f]=F_(d[f]),d=d[f]}d[o]!==void 0&&(d[o]={lc:1,type:"secret",id:[i]})}return n}function sE(t){const e=Object.getPrototypeOf(t);return typeof t.lc_name=="function"&&(typeof e.lc_name!="function"||t.lc_name()!==e.lc_name())?t.lc_name():t.name}class ji{static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,sE(this.constructor)]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}get lc_serializable_keys(){}constructor(e,...n){Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.lc_serializable_keys!==void 0?this.lc_kwargs=Object.fromEntries(Object.entries(e||{}).filter(([r])=>{var i;return(i=this.lc_serializable_keys)==null?void 0:i.includes(r)})):this.lc_kwargs=e??{}}toJSON(){if(!this.lc_serializable)return this.toJSONNotImplemented();if(this.lc_kwargs instanceof ji||typeof this.lc_kwargs!="object"||Array.isArray(this.lc_kwargs))return this.toJSONNotImplemented();const e={},n={},r=Object.keys(this.lc_kwargs).reduce((i,o)=>(i[o]=o in this?this[o]:this.lc_kwargs[o],i),{});for(let i=Object.getPrototypeOf(this);i;i=Object.getPrototypeOf(i))Object.assign(e,Reflect.get(i,"lc_aliases",this)),Object.assign(n,Reflect.get(i,"lc_secrets",this)),Object.assign(r,Reflect.get(i,"lc_attributes",this));return Object.keys(n).forEach(i=>{let o=this,u=r;const[d,...f]=i.split(".").reverse();for(const h of f.reverse()){if(!(h in o)||o[h]===void 0)return;(!(h in u)||u[h]===void 0)&&(typeof o[h]=="object"&&o[h]!=null?u[h]={}:Array.isArray(o[h])&&(u[h]=[])),o=o[h],u=u[h]}d in o&&o[d]!==void 0&&(u[d]=u[d]||o[d])}),{lc:1,type:"constructor",id:this.lc_id,kwargs:oC(Object.keys(n).length?lC(r,n):r,sC,e)}}toJSONNotImplemented(){return{lc:1,type:"not_implemented",id:this.lc_id}}}function Hs(t){return typeof t=="object"&&t!==null&&"type"in t&&typeof t.type=="string"&&"source_type"in t&&(t.source_type==="url"||t.source_type==="base64"||t.source_type==="text"||t.source_type==="id")}function uC(t){return Hs(t)&&t.source_type==="url"&&"url"in t&&typeof t.url=="string"}function cC(t){return Hs(t)&&t.source_type==="base64"&&"data"in t&&typeof t.data=="string"}function dC(t){if(Hs(t)){if(t.source_type==="url")return{type:"image_url",image_url:{url:t.url}};if(t.source_type==="base64"){if(!t.mime_type)throw new Error("mime_type key is required for base64 data.");return{type:"image_url",image_url:{url:`data:${t.mime_type};base64,${t.data}`}}}}throw new Error("Unsupported source type. Only 'url' and 'base64' are supported.")}function pp({dataUrl:t,asTypedArray:e=!1}){const n=t.match(/^data:(\w+\/\w+);base64,([A-Za-z0-9+/]+=*)$/);let r;if(n){r=n[1].toLowerCase();const i=e?Uint8Array.from(atob(n[2]),o=>o.charCodeAt(0)):n[2];return{mime_type:r,data:i}}}function fC(t,e){if(t.type==="text"){if(!e.fromStandardTextBlock)throw new Error(`Converter for ${e.providerName} does not implement \`fromStandardTextBlock\` method.`);return e.fromStandardTextBlock(t)}if(t.type==="image"){if(!e.fromStandardImageBlock)throw new Error(`Converter for ${e.providerName} does not implement \`fromStandardImageBlock\` method.`);return e.fromStandardImageBlock(t)}if(t.type==="audio"){if(!e.fromStandardAudioBlock)throw new Error(`Converter for ${e.providerName} does not implement \`fromStandardAudioBlock\` method.`);return e.fromStandardAudioBlock(t)}if(t.type==="file"){if(!e.fromStandardFileBlock)throw new Error(`Converter for ${e.providerName} does not implement \`fromStandardFileBlock\` method.`);return e.fromStandardFileBlock(t)}throw new Error(`Unable to convert content block type '${t.type}' to provider-specific format: not recognized.`)}function Gl(t,e){return typeof t=="string"?t===""?e:typeof e=="string"?t+e:Array.isArray(e)&&e.some(n=>Hs(n))?[{type:"text",source_type:"text",text:t},...e]:[{type:"text",text:t},...e]:Array.isArray(e)?kg(t,e)??[...t,...e]:e===""?t:Array.isArray(t)&&t.some(n=>Hs(n))?[...t,{type:"file",source_type:"text",text:e}]:[...t,{type:"text",text:e}]}function hC(t,e){function n(r,i){if(typeof r!="object"||r===null||r===void 0)return r;if(i>=e)return Array.isArray(r)?"[Array]":"[Object]";if(Array.isArray(r))return r.map(u=>n(u,i+1));const o={};for(const u of Object.keys(r))o[u]=n(r[u],i+1);return o}return JSON.stringify(n(t,0),null,2)}class Qs extends ji{get lc_aliases(){return{additional_kwargs:"additional_kwargs",response_metadata:"response_metadata"}}get text(){return typeof this.content=="string"?this.content:Array.isArray(this.content)?this.content.map(e=>typeof e=="string"?e:e.type==="text"?e.text:"").join(""):""}getType(){return this._getType()}constructor(e,n){typeof e=="string"&&(e={content:e,additional_kwargs:n,response_metadata:{}}),e.additional_kwargs||(e.additional_kwargs={}),e.response_metadata||(e.response_metadata={}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","messages"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"content",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"additional_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"response_metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e.name,this.content=e.content,this.additional_kwargs=e.additional_kwargs,this.response_metadata=e.response_metadata,this.id=e.id}toDict(){return{type:this._getType(),data:this.toJSON().kwargs}}static lc_name(){return"BaseMessage"}get _printableFields(){return{id:this.id,content:this.content,name:this.name,additional_kwargs:this.additional_kwargs,response_metadata:this.response_metadata}}_updateId(e){this.id=e,this.lc_kwargs.id=e}get[Symbol.toStringTag](){return this.constructor.lc_name()}[Symbol.for("nodejs.util.inspect.custom")](e){if(e===null)return this;const n=hC(this._printableFields,Math.max(4,e));return`${this.constructor.lc_name()} ${n}`}}function rr(t,e){const n={...t};for(const[r,i]of Object.entries(e))if(n[r]==null)n[r]=i;else{if(i==null)continue;if(typeof n[r]!=typeof i||Array.isArray(n[r])!==Array.isArray(i))throw new Error(`field[${r}] already exists in the message chunk, but with a different type.`);if(typeof n[r]=="string"){if(r==="type")continue;n[r]+=i}else if(typeof n[r]=="object"&&!Array.isArray(n[r]))n[r]=rr(n[r],i);else if(Array.isArray(n[r]))n[r]=kg(n[r],i);else{if(n[r]===i)continue;console.warn(`field[${r}] already exists in this message chunk and value has unsupported type.`)}}return n}function kg(t,e){if(!(t===void 0&&e===void 0)){if(t===void 0||e===void 0)return t||e;{const n=[...t];for(const r of e)if(typeof r=="object"&&"index"in r&&typeof r.index=="number"){const i=n.findIndex(o=>o.index===r.index);i!==-1?n[i]=rr(n[i],r):n.push(r)}else{if(typeof r=="object"&&"text"in r&&r.text==="")continue;n.push(r)}return n}}}class Fl extends Qs{}function pC(t){return typeof t.role=="string"}function Vl(t){return typeof(t==null?void 0:t._getType)=="function"}function mC(t){return Vl(t)&&typeof t.concat=="function"}class gC extends Qs{static lc_name(){return"ToolMessage"}get lc_aliases(){return{tool_call_id:"tool_call_id"}}constructor(e,n,r){typeof e=="string"&&(e={content:e,name:r,tool_call_id:n}),super(e),Object.defineProperty(this,"lc_direct_tool_output",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tool_call_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"artifact",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.tool_call_id=e.tool_call_id,this.artifact=e.artifact,this.status=e.status}_getType(){return"tool"}static isInstance(e){return e._getType()==="tool"}get _printableFields(){return{...super._printableFields,tool_call_id:this.tool_call_id,artifact:this.artifact}}}function yC(t){const e=[],n=[];for(const r of t)if(r.function){const i=r.function.name;try{const o=JSON.parse(r.function.arguments),u={name:i||"",args:o||{},id:r.id};e.push(u)}catch{n.push({name:i,args:r.function.arguments,id:r.id,error:"Malformed args."})}}else continue;return[e,n]}function bC(t){return t._getType()==="tool"}class Gm extends Qs{get lc_aliases(){return{...super.lc_aliases,tool_calls:"tool_calls",invalid_tool_calls:"invalid_tool_calls"}}constructor(e,n){var i;let r;if(typeof e=="string")r={content:e,tool_calls:[],invalid_tool_calls:[],additional_kwargs:n??{}};else{r=e;const o=(i=r.additional_kwargs)==null?void 0:i.tool_calls,u=r.tool_calls;o!=null&&o.length>0&&(u===void 0||u.length===0)&&console.warn(["New LangChain packages are available that more efficiently handle",`tool calling.

Please upgrade your packages to versions that set`,"message tool calls. e.g., `yarn add @langchain/anthropic`,","yarn add @langchain/openai`, etc."].join(" "));try{if(o!=null&&u===void 0){const[d,f]=yC(o);r.tool_calls=d??[],r.invalid_tool_calls=f??[]}else r.tool_calls=r.tool_calls??[],r.invalid_tool_calls=r.invalid_tool_calls??[]}catch{r.tool_calls=[],r.invalid_tool_calls=[]}}super(r),Object.defineProperty(this,"tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"invalid_tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"usage_metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),typeof r!="string"&&(this.tool_calls=r.tool_calls??this.tool_calls,this.invalid_tool_calls=r.invalid_tool_calls??this.invalid_tool_calls),this.usage_metadata=r.usage_metadata}static lc_name(){return"AIMessage"}_getType(){return"ai"}get _printableFields(){return{...super._printableFields,tool_calls:this.tool_calls,invalid_tool_calls:this.invalid_tool_calls,usage_metadata:this.usage_metadata}}}function Ig(t){return t._getType()==="ai"}function V_(t){return t._getType()==="ai"}class Ws extends Fl{constructor(e){let n;if(typeof e=="string")n={content:e,tool_calls:[],invalid_tool_calls:[],tool_call_chunks:[]};else if(e.tool_call_chunks===void 0)n={...e,tool_calls:e.tool_calls??[],invalid_tool_calls:[],tool_call_chunks:[],usage_metadata:e.usage_metadata!==void 0?e.usage_metadata:void 0};else{const r=[],i=[];for(const o of e.tool_call_chunks){let u={};try{if(u=iE(o.args||"{}"),u===null||typeof u!="object"||Array.isArray(u))throw new Error("Malformed tool call chunk args.");r.push({name:o.name??"",args:u,id:o.id,type:"tool_call"})}catch{i.push({name:o.name,args:o.args,id:o.id,error:"Malformed args.",type:"invalid_tool_call"})}}n={...e,tool_calls:r,invalid_tool_calls:i,usage_metadata:e.usage_metadata!==void 0?e.usage_metadata:void 0}}super(n),Object.defineProperty(this,"tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"invalid_tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"tool_call_chunks",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"usage_metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.tool_call_chunks=n.tool_call_chunks??this.tool_call_chunks,this.tool_calls=n.tool_calls??this.tool_calls,this.invalid_tool_calls=n.invalid_tool_calls??this.invalid_tool_calls,this.usage_metadata=n.usage_metadata}get lc_aliases(){return{...super.lc_aliases,tool_calls:"tool_calls",invalid_tool_calls:"invalid_tool_calls",tool_call_chunks:"tool_call_chunks"}}static lc_name(){return"AIMessageChunk"}_getType(){return"ai"}get _printableFields(){return{...super._printableFields,tool_calls:this.tool_calls,tool_call_chunks:this.tool_call_chunks,invalid_tool_calls:this.invalid_tool_calls,usage_metadata:this.usage_metadata}}concat(e){var r,i,o,u,d,f,h,m,b,y,_,v,w,E,x,N,T,A,R,M,H,U,ie,C,X,ee,se,V,L,I,D,Y,B,k,q,Q,W,oe,ce,de;const n={content:Gl(this.content,e.content),additional_kwargs:rr(this.additional_kwargs,e.additional_kwargs),response_metadata:rr(this.response_metadata,e.response_metadata),tool_call_chunks:[],id:this.id??e.id};if(this.tool_call_chunks!==void 0||e.tool_call_chunks!==void 0){const ge=kg(this.tool_call_chunks,e.tool_call_chunks);ge!==void 0&&ge.length>0&&(n.tool_call_chunks=ge)}if(this.usage_metadata!==void 0||e.usage_metadata!==void 0){const ge={...(((i=(r=this.usage_metadata)==null?void 0:r.input_token_details)==null?void 0:i.audio)!==void 0||((u=(o=e.usage_metadata)==null?void 0:o.input_token_details)==null?void 0:u.audio)!==void 0)&&{audio:(((f=(d=this.usage_metadata)==null?void 0:d.input_token_details)==null?void 0:f.audio)??0)+(((m=(h=e.usage_metadata)==null?void 0:h.input_token_details)==null?void 0:m.audio)??0)},...(((y=(b=this.usage_metadata)==null?void 0:b.input_token_details)==null?void 0:y.cache_read)!==void 0||((v=(_=e.usage_metadata)==null?void 0:_.input_token_details)==null?void 0:v.cache_read)!==void 0)&&{cache_read:(((E=(w=this.usage_metadata)==null?void 0:w.input_token_details)==null?void 0:E.cache_read)??0)+(((N=(x=e.usage_metadata)==null?void 0:x.input_token_details)==null?void 0:N.cache_read)??0)},...(((A=(T=this.usage_metadata)==null?void 0:T.input_token_details)==null?void 0:A.cache_creation)!==void 0||((M=(R=e.usage_metadata)==null?void 0:R.input_token_details)==null?void 0:M.cache_creation)!==void 0)&&{cache_creation:(((U=(H=this.usage_metadata)==null?void 0:H.input_token_details)==null?void 0:U.cache_creation)??0)+(((C=(ie=e.usage_metadata)==null?void 0:ie.input_token_details)==null?void 0:C.cache_creation)??0)}},Te={...(((ee=(X=this.usage_metadata)==null?void 0:X.output_token_details)==null?void 0:ee.audio)!==void 0||((V=(se=e.usage_metadata)==null?void 0:se.output_token_details)==null?void 0:V.audio)!==void 0)&&{audio:(((I=(L=this.usage_metadata)==null?void 0:L.output_token_details)==null?void 0:I.audio)??0)+(((Y=(D=e.usage_metadata)==null?void 0:D.output_token_details)==null?void 0:Y.audio)??0)},...(((k=(B=this.usage_metadata)==null?void 0:B.output_token_details)==null?void 0:k.reasoning)!==void 0||((Q=(q=e.usage_metadata)==null?void 0:q.output_token_details)==null?void 0:Q.reasoning)!==void 0)&&{reasoning:(((oe=(W=this.usage_metadata)==null?void 0:W.output_token_details)==null?void 0:oe.reasoning)??0)+(((de=(ce=e.usage_metadata)==null?void 0:ce.output_token_details)==null?void 0:de.reasoning)??0)}},Ce=this.usage_metadata??{input_tokens:0,output_tokens:0,total_tokens:0},ye=e.usage_metadata??{input_tokens:0,output_tokens:0,total_tokens:0},$e={input_tokens:Ce.input_tokens+ye.input_tokens,output_tokens:Ce.output_tokens+ye.output_tokens,total_tokens:Ce.total_tokens+ye.total_tokens,...Object.keys(ge).length>0&&{input_token_details:ge},...Object.keys(Te).length>0&&{output_token_details:Te}};n.usage_metadata=$e}return new Ws(n)}}class hd extends Qs{static lc_name(){return"ChatMessage"}static _chatMessageClass(){return hd}constructor(e,n){typeof e=="string"&&(e={content:e,role:n}),super(e),Object.defineProperty(this,"role",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.role=e.role}_getType(){return"generic"}static isInstance(e){return e._getType()==="generic"}get _printableFields(){return{...super._printableFields,role:this.role}}}class jg extends Fl{static lc_name(){return"ChatMessageChunk"}constructor(e,n){typeof e=="string"&&(e={content:e,role:n}),super(e),Object.defineProperty(this,"role",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.role=e.role}_getType(){return"generic"}concat(e){return new jg({content:Gl(this.content,e.content),additional_kwargs:rr(this.additional_kwargs,e.additional_kwargs),response_metadata:rr(this.response_metadata,e.response_metadata),role:this.role,id:this.id??e.id})}get _printableFields(){return{...super._printableFields,role:this.role}}}class $g extends Fl{static lc_name(){return"FunctionMessageChunk"}_getType(){return"function"}concat(e){return new $g({content:Gl(this.content,e.content),additional_kwargs:rr(this.additional_kwargs,e.additional_kwargs),response_metadata:rr(this.response_metadata,e.response_metadata),name:this.name??"",id:this.id??e.id})}}class pd extends Qs{static lc_name(){return"HumanMessage"}_getType(){return"human"}constructor(e,n){super(e,n)}}class Mg extends Fl{static lc_name(){return"HumanMessageChunk"}_getType(){return"human"}constructor(e,n){super(e,n)}concat(e){return new Mg({content:Gl(this.content,e.content),additional_kwargs:rr(this.additional_kwargs,e.additional_kwargs),response_metadata:rr(this.response_metadata,e.response_metadata),id:this.id??e.id})}}class Z_ extends Qs{static lc_name(){return"SystemMessage"}_getType(){return"system"}constructor(e,n){super(e,n)}}class Pg extends Fl{static lc_name(){return"SystemMessageChunk"}_getType(){return"system"}constructor(e,n){super(e,n)}concat(e){return new Pg({content:Gl(this.content,e.content),additional_kwargs:rr(this.additional_kwargs,e.additional_kwargs),response_metadata:rr(this.response_metadata,e.response_metadata),id:this.id??e.id})}}function oE(t,e){return t.lc_error_code=e,t.message=`${t.message}

Troubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/${e}/
`,t}function lE(t){return!!(t&&typeof t=="object"&&"type"in t&&t.type==="tool_call")}class vC extends Error{constructor(e,n){super(e),Object.defineProperty(this,"output",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.output=n}}function _C(t){return lE(t)?t:typeof t.id=="string"&&t.type==="function"&&typeof t.function=="object"&&t.function!==null&&"arguments"in t.function&&typeof t.function.arguments=="string"&&"name"in t.function&&typeof t.function.name=="string"?{id:t.id,args:JSON.parse(t.function.arguments),name:t.function.name,type:"tool_call"}:t}function wC(t){return typeof t=="object"&&t!=null&&t.lc===1&&Array.isArray(t.id)&&t.kwargs!=null&&typeof t.kwargs=="object"}function mp(t){let e,n;if(wC(t)){const r=t.id.at(-1);r==="HumanMessage"||r==="HumanMessageChunk"?e="user":r==="AIMessage"||r==="AIMessageChunk"?e="assistant":r==="SystemMessage"||r==="SystemMessageChunk"?e="system":r==="FunctionMessage"||r==="FunctionMessageChunk"?e="function":r==="ToolMessage"||r==="ToolMessageChunk"?e="tool":e="unknown",n=t.kwargs}else{const{type:r,...i}=t;e=r,n=i}if(e==="human"||e==="user")return new pd(n);if(e==="ai"||e==="assistant"){const{tool_calls:r,...i}=n;if(!Array.isArray(r))return new Gm(n);const o=r.map(_C);return new Gm({...i,tool_calls:o})}else{if(e==="system")return new Z_(n);if(e==="developer")return new Z_({...n,additional_kwargs:{...n.additional_kwargs,__openai_role__:"developer"}});if(e==="tool"&&"tool_call_id"in n)return new gC({...n,content:n.content,tool_call_id:n.tool_call_id,name:n.name});throw oE(new Error(`Unable to coerce message from array: only human, AI, system, developer, or tool message coercion is currently supported.

Received: ${JSON.stringify(t,null,2)}`),"MESSAGE_COERCION_FAILURE")}}function pl(t){if(typeof t=="string")return new pd(t);if(Vl(t))return t;if(Array.isArray(t)){const[e,n]=t;return mp({type:e,content:n})}else if(pC(t)){const{role:e,...n}=t;return mp({...n,type:e})}else return mp(t)}function uE(t,e="Human",n="AI"){const r=[];for(const i of t){let o;if(i._getType()==="human")o=e;else if(i._getType()==="ai")o=n;else if(i._getType()==="system")o="System";else if(i._getType()==="function")o="Function";else if(i._getType()==="tool")o="Tool";else if(i._getType()==="generic")o=i.role;else throw new Error(`Got unsupported message type: ${i._getType()}`);const u=i.name?`${i.name}, `:"",d=typeof i.content=="string"?i.content:JSON.stringify(i.content,null,2);r.push(`${o}: ${u}${d}`)}return r.join(`
`)}function SC(t){var n;const e=t._getType();if(e==="human")return new Mg({...t});if(e==="ai"){let r={...t};return"tool_calls"in r&&(r={...r,tool_call_chunks:(n=r.tool_calls)==null?void 0:n.map(i=>({...i,type:"tool_call_chunk",index:void 0,args:JSON.stringify(i.args)}))}),new Ws({...r})}else{if(e==="system")return new Pg({...t});if(e==="function")return new $g({...t});if(hd.isInstance(t))return new jg({...t});throw new Error("Unknown message type.")}}var Ve;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const o={};for(const u of i)o[u]=u;return o},t.getValidEnumValues=i=>{const o=t.objectKeys(i).filter(d=>typeof i[i[d]]!="number"),u={};for(const d of o)u[d]=i[d];return t.objectValues(u)},t.objectValues=i=>t.objectKeys(i).map(function(o){return i[o]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const o=[];for(const u in i)Object.prototype.hasOwnProperty.call(i,u)&&o.push(u);return o},t.find=(i,o)=>{for(const u of i)if(o(u))return u},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,o=" | "){return i.map(u=>typeof u=="string"?`'${u}'`:u).join(o)}t.joinValues=r,t.jsonStringifyReplacer=(i,o)=>typeof o=="bigint"?o.toString():o})(Ve||(Ve={}));var Y_;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Y_||(Y_={}));const pe=Ve.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ga=t=>{switch(typeof t){case"undefined":return pe.undefined;case"string":return pe.string;case"number":return Number.isNaN(t)?pe.nan:pe.number;case"boolean":return pe.boolean;case"function":return pe.function;case"bigint":return pe.bigint;case"symbol":return pe.symbol;case"object":return Array.isArray(t)?pe.array:t===null?pe.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?pe.promise:typeof Map<"u"&&t instanceof Map?pe.map:typeof Set<"u"&&t instanceof Set?pe.set:typeof Date<"u"&&t instanceof Date?pe.date:pe.object;default:return pe.unknown}},le=Ve.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ca extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(o){return o.message},r={_errors:[]},i=o=>{for(const u of o.issues)if(u.code==="invalid_union")u.unionErrors.map(i);else if(u.code==="invalid_return_type")i(u.returnTypeError);else if(u.code==="invalid_arguments")i(u.argumentsError);else if(u.path.length===0)r._errors.push(n(u));else{let d=r,f=0;for(;f<u.path.length;){const h=u.path[f];f===u.path.length-1?(d[h]=d[h]||{_errors:[]},d[h]._errors.push(n(u))):d[h]=d[h]||{_errors:[]},d=d[h],f++}}};return i(this),r}static assert(e){if(!(e instanceof ca))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ve.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}ca.create=t=>new ca(t);const Fm=(t,e)=>{let n;switch(t.code){case le.invalid_type:t.received===pe.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case le.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Ve.jsonStringifyReplacer)}`;break;case le.unrecognized_keys:n=`Unrecognized key(s) in object: ${Ve.joinValues(t.keys,", ")}`;break;case le.invalid_union:n="Invalid input";break;case le.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Ve.joinValues(t.options)}`;break;case le.invalid_enum_value:n=`Invalid enum value. Expected ${Ve.joinValues(t.options)}, received '${t.received}'`;break;case le.invalid_arguments:n="Invalid function arguments";break;case le.invalid_return_type:n="Invalid function return type";break;case le.invalid_date:n="Invalid date";break;case le.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Ve.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case le.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case le.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case le.custom:n="Invalid input";break;case le.invalid_intersection_types:n="Intersection results could not be merged";break;case le.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case le.not_finite:n="Number must be finite";break;default:n=e.defaultError,Ve.assertNever(t)}return{message:n}};let EC=Fm;function TC(){return EC}const xC=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,o=[...n,...i.path||[]],u={...i,path:o};if(i.message!==void 0)return{...i,path:o,message:i.message};let d="";const f=r.filter(h=>!!h).slice().reverse();for(const h of f)d=h(u,{data:e,defaultError:d}).message;return{...i,path:o,message:d}};function fe(t,e){const n=TC(),r=xC({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Fm?void 0:Fm].filter(i=>!!i)});t.common.issues.push(r)}class Hn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return Oe;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const o=await i.key,u=await i.value;r.push({key:o,value:u})}return Hn.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:o,value:u}=i;if(o.status==="aborted"||u.status==="aborted")return Oe;o.status==="dirty"&&e.dirty(),u.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof u.value<"u"||i.alwaysSet)&&(r[o.value]=u.value)}return{status:e.value,value:r}}}const Oe=Object.freeze({status:"aborted"}),ml=t=>({status:"dirty",value:t}),ar=t=>({status:"valid",value:t}),K_=t=>t.status==="aborted",X_=t=>t.status==="dirty",qs=t=>t.status==="valid",Bc=t=>typeof Promise<"u"&&t instanceof Promise;var me;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(me||(me={}));class Xa{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Q_=(t,e)=>{if(qs(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new ca(t.common.issues);return this._error=n,this._error}}};function De(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(u,d)=>{const{message:f}=t;return u.code==="invalid_enum_value"?{message:f??d.defaultError}:typeof d.data>"u"?{message:f??r??d.defaultError}:u.code!=="invalid_type"?{message:d.defaultError}:{message:f??n??d.defaultError}},description:i}}class Ge{get description(){return this._def.description}_getType(e){return Ga(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Ga(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Hn,ctx:{common:e.parent.common,data:e.data,parsedType:Ga(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Bc(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ga(e)},i=this._parseSync({data:e,path:r.path,parent:r});return Q_(r,i)}"~validate"(e){var r,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ga(e)};if(!this["~standard"].async)try{const o=this._parseSync({data:e,path:[],parent:n});return qs(o)?{value:o.value}:{issues:n.common.issues}}catch(o){(i=(r=o==null?void 0:o.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(o=>qs(o)?{value:o.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ga(e)},i=this._parse({data:e,path:r.path,parent:r}),o=await(Bc(i)?i:Promise.resolve(i));return Q_(r,o)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,o)=>{const u=e(i),d=()=>o.addIssue({code:le.custom,...r(i)});return typeof Promise<"u"&&u instanceof Promise?u.then(f=>f?!0:(d(),!1)):u?!0:(d(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new Fs({schema:this,typeName:ue.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return la.create(this,this._def)}nullable(){return Vs.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Mr.create(this)}promise(){return Fc.create(this,this._def)}or(e){return qc.create([this,e],this._def)}and(e){return Gc.create(this,e,this._def)}transform(e){return new Fs({...De(this._def),schema:this,typeName:ue.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Ym({...De(this._def),innerType:this,defaultValue:n,typeName:ue.ZodDefault})}brand(){return new YC({typeName:ue.ZodBranded,type:this,...De(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Km({...De(this._def),innerType:this,catchValue:n,typeName:ue.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Lg.create(this,e)}readonly(){return Xm.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const RC=/^c[^\s-]{8,}$/i,OC=/^[0-9a-z]+$/,CC=/^[0-9A-HJKMNP-TV-Z]{26}$/i,AC=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,NC=/^[a-z0-9_-]{21}$/i,kC=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,IC=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,jC=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,$C="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let gp;const MC=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,PC=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,LC=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,DC=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,UC=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,zC=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,cE="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",BC=new RegExp(`^${cE}$`);function dE(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function HC(t){return new RegExp(`^${dE(t)}$`)}function qC(t){let e=`${cE}T${dE(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function GC(t,e){return!!((e==="v4"||!e)&&MC.test(t)||(e==="v6"||!e)&&LC.test(t))}function FC(t,e){if(!kC.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function VC(t,e){return!!((e==="v4"||!e)&&PC.test(t)||(e==="v6"||!e)&&DC.test(t))}class Za extends Ge{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==pe.string){const o=this._getOrReturnCtx(e);return fe(o,{code:le.invalid_type,expected:pe.string,received:o.parsedType}),Oe}const r=new Hn;let i;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(i=this._getOrReturnCtx(e,i),fe(i,{code:le.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="max")e.data.length>o.value&&(i=this._getOrReturnCtx(e,i),fe(i,{code:le.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="length"){const u=e.data.length>o.value,d=e.data.length<o.value;(u||d)&&(i=this._getOrReturnCtx(e,i),u?fe(i,{code:le.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):d&&fe(i,{code:le.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),r.dirty())}else if(o.kind==="email")jC.test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"email",code:le.invalid_string,message:o.message}),r.dirty());else if(o.kind==="emoji")gp||(gp=new RegExp($C,"u")),gp.test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"emoji",code:le.invalid_string,message:o.message}),r.dirty());else if(o.kind==="uuid")AC.test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"uuid",code:le.invalid_string,message:o.message}),r.dirty());else if(o.kind==="nanoid")NC.test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"nanoid",code:le.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid")RC.test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"cuid",code:le.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid2")OC.test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"cuid2",code:le.invalid_string,message:o.message}),r.dirty());else if(o.kind==="ulid")CC.test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"ulid",code:le.invalid_string,message:o.message}),r.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),fe(i,{validation:"url",code:le.invalid_string,message:o.message}),r.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"regex",code:le.invalid_string,message:o.message}),r.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(i=this._getOrReturnCtx(e,i),fe(i,{code:le.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),r.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(i=this._getOrReturnCtx(e,i),fe(i,{code:le.invalid_string,validation:{startsWith:o.value},message:o.message}),r.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(i=this._getOrReturnCtx(e,i),fe(i,{code:le.invalid_string,validation:{endsWith:o.value},message:o.message}),r.dirty()):o.kind==="datetime"?qC(o).test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{code:le.invalid_string,validation:"datetime",message:o.message}),r.dirty()):o.kind==="date"?BC.test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{code:le.invalid_string,validation:"date",message:o.message}),r.dirty()):o.kind==="time"?HC(o).test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{code:le.invalid_string,validation:"time",message:o.message}),r.dirty()):o.kind==="duration"?IC.test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"duration",code:le.invalid_string,message:o.message}),r.dirty()):o.kind==="ip"?GC(e.data,o.version)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"ip",code:le.invalid_string,message:o.message}),r.dirty()):o.kind==="jwt"?FC(e.data,o.alg)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"jwt",code:le.invalid_string,message:o.message}),r.dirty()):o.kind==="cidr"?VC(e.data,o.version)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"cidr",code:le.invalid_string,message:o.message}),r.dirty()):o.kind==="base64"?UC.test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"base64",code:le.invalid_string,message:o.message}),r.dirty()):o.kind==="base64url"?zC.test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"base64url",code:le.invalid_string,message:o.message}),r.dirty()):Ve.assertNever(o);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:le.invalid_string,...me.errToObj(r)})}_addCheck(e){return new Za({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...me.errToObj(e)})}url(e){return this._addCheck({kind:"url",...me.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...me.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...me.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...me.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...me.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...me.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...me.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...me.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...me.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...me.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...me.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...me.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...me.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...me.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...me.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...me.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...me.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...me.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...me.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...me.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...me.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...me.errToObj(n)})}nonempty(e){return this.min(1,me.errToObj(e))}trim(){return new Za({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Za({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Za({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Za.create=t=>new Za({checks:[],typeName:ue.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...De(t)});function ZC(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,o=Number.parseInt(t.toFixed(i).replace(".","")),u=Number.parseInt(e.toFixed(i).replace(".",""));return o%u/10**i}class kl extends Ge{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==pe.number){const o=this._getOrReturnCtx(e);return fe(o,{code:le.invalid_type,expected:pe.number,received:o.parsedType}),Oe}let r;const i=new Hn;for(const o of this._def.checks)o.kind==="int"?Ve.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),fe(r,{code:le.invalid_type,expected:"integer",received:"float",message:o.message}),i.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),fe(r,{code:le.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),fe(r,{code:le.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="multipleOf"?ZC(e.data,o.value)!==0&&(r=this._getOrReturnCtx(e,r),fe(r,{code:le.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),fe(r,{code:le.not_finite,message:o.message}),i.dirty()):Ve.assertNever(o);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,me.toString(n))}gt(e,n){return this.setLimit("min",e,!1,me.toString(n))}lte(e,n){return this.setLimit("max",e,!0,me.toString(n))}lt(e,n){return this.setLimit("max",e,!1,me.toString(n))}setLimit(e,n,r,i){return new kl({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:me.toString(i)}]})}_addCheck(e){return new kl({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:me.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:me.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:me.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:me.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:me.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:me.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:me.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:me.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:me.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ve.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}kl.create=t=>new kl({checks:[],typeName:ue.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...De(t)});class Il extends Ge{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==pe.bigint)return this._getInvalidInput(e);let r;const i=new Hn;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),fe(r,{code:le.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),fe(r,{code:le.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),fe(r,{code:le.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):Ve.assertNever(o);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return fe(n,{code:le.invalid_type,expected:pe.bigint,received:n.parsedType}),Oe}gte(e,n){return this.setLimit("min",e,!0,me.toString(n))}gt(e,n){return this.setLimit("min",e,!1,me.toString(n))}lte(e,n){return this.setLimit("max",e,!0,me.toString(n))}lt(e,n){return this.setLimit("max",e,!1,me.toString(n))}setLimit(e,n,r,i){return new Il({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:me.toString(i)}]})}_addCheck(e){return new Il({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:me.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:me.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:me.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:me.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:me.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Il.create=t=>new Il({checks:[],typeName:ue.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...De(t)});class W_ extends Ge{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==pe.boolean){const r=this._getOrReturnCtx(e);return fe(r,{code:le.invalid_type,expected:pe.boolean,received:r.parsedType}),Oe}return ar(e.data)}}W_.create=t=>new W_({typeName:ue.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...De(t)});class Hc extends Ge{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==pe.date){const o=this._getOrReturnCtx(e);return fe(o,{code:le.invalid_type,expected:pe.date,received:o.parsedType}),Oe}if(Number.isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return fe(o,{code:le.invalid_date}),Oe}const r=new Hn;let i;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(i=this._getOrReturnCtx(e,i),fe(i,{code:le.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),r.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(i=this._getOrReturnCtx(e,i),fe(i,{code:le.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),r.dirty()):Ve.assertNever(o);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Hc({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:me.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:me.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Hc.create=t=>new Hc({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:ue.ZodDate,...De(t)});class J_ extends Ge{_parse(e){if(this._getType(e)!==pe.symbol){const r=this._getOrReturnCtx(e);return fe(r,{code:le.invalid_type,expected:pe.symbol,received:r.parsedType}),Oe}return ar(e.data)}}J_.create=t=>new J_({typeName:ue.ZodSymbol,...De(t)});class ew extends Ge{_parse(e){if(this._getType(e)!==pe.undefined){const r=this._getOrReturnCtx(e);return fe(r,{code:le.invalid_type,expected:pe.undefined,received:r.parsedType}),Oe}return ar(e.data)}}ew.create=t=>new ew({typeName:ue.ZodUndefined,...De(t)});class tw extends Ge{_parse(e){if(this._getType(e)!==pe.null){const r=this._getOrReturnCtx(e);return fe(r,{code:le.invalid_type,expected:pe.null,received:r.parsedType}),Oe}return ar(e.data)}}tw.create=t=>new tw({typeName:ue.ZodNull,...De(t)});class Vm extends Ge{constructor(){super(...arguments),this._any=!0}_parse(e){return ar(e.data)}}Vm.create=t=>new Vm({typeName:ue.ZodAny,...De(t)});class nw extends Ge{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ar(e.data)}}nw.create=t=>new nw({typeName:ue.ZodUnknown,...De(t)});class Qa extends Ge{_parse(e){const n=this._getOrReturnCtx(e);return fe(n,{code:le.invalid_type,expected:pe.never,received:n.parsedType}),Oe}}Qa.create=t=>new Qa({typeName:ue.ZodNever,...De(t)});class rw extends Ge{_parse(e){if(this._getType(e)!==pe.undefined){const r=this._getOrReturnCtx(e);return fe(r,{code:le.invalid_type,expected:pe.void,received:r.parsedType}),Oe}return ar(e.data)}}rw.create=t=>new rw({typeName:ue.ZodVoid,...De(t)});class Mr extends Ge{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==pe.array)return fe(n,{code:le.invalid_type,expected:pe.array,received:n.parsedType}),Oe;if(i.exactLength!==null){const u=n.data.length>i.exactLength.value,d=n.data.length<i.exactLength.value;(u||d)&&(fe(n,{code:u?le.too_big:le.too_small,minimum:d?i.exactLength.value:void 0,maximum:u?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(fe(n,{code:le.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(fe(n,{code:le.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((u,d)=>i.type._parseAsync(new Xa(n,u,n.path,d)))).then(u=>Hn.mergeArray(r,u));const o=[...n.data].map((u,d)=>i.type._parseSync(new Xa(n,u,n.path,d)));return Hn.mergeArray(r,o)}get element(){return this._def.type}min(e,n){return new Mr({...this._def,minLength:{value:e,message:me.toString(n)}})}max(e,n){return new Mr({...this._def,maxLength:{value:e,message:me.toString(n)}})}length(e,n){return new Mr({...this._def,exactLength:{value:e,message:me.toString(n)}})}nonempty(e){return this.min(1,e)}}Mr.create=(t,e)=>new Mr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ue.ZodArray,...De(e)});function Is(t){if(t instanceof Pt){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=la.create(Is(r))}return new Pt({...t._def,shape:()=>e})}else return t instanceof Mr?new Mr({...t._def,type:Is(t.element)}):t instanceof la?la.create(Is(t.unwrap())):t instanceof Vs?Vs.create(Is(t.unwrap())):t instanceof $i?$i.create(t.items.map(e=>Is(e))):t}class Pt extends Ge{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Ve.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==pe.object){const h=this._getOrReturnCtx(e);return fe(h,{code:le.invalid_type,expected:pe.object,received:h.parsedType}),Oe}const{status:r,ctx:i}=this._processInputParams(e),{shape:o,keys:u}=this._getCached(),d=[];if(!(this._def.catchall instanceof Qa&&this._def.unknownKeys==="strip"))for(const h in i.data)u.includes(h)||d.push(h);const f=[];for(const h of u){const m=o[h],b=i.data[h];f.push({key:{status:"valid",value:h},value:m._parse(new Xa(i,b,i.path,h)),alwaysSet:h in i.data})}if(this._def.catchall instanceof Qa){const h=this._def.unknownKeys;if(h==="passthrough")for(const m of d)f.push({key:{status:"valid",value:m},value:{status:"valid",value:i.data[m]}});else if(h==="strict")d.length>0&&(fe(i,{code:le.unrecognized_keys,keys:d}),r.dirty());else if(h!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const h=this._def.catchall;for(const m of d){const b=i.data[m];f.push({key:{status:"valid",value:m},value:h._parse(new Xa(i,b,i.path,m)),alwaysSet:m in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const h=[];for(const m of f){const b=await m.key,y=await m.value;h.push({key:b,value:y,alwaysSet:m.alwaysSet})}return h}).then(h=>Hn.mergeObjectSync(r,h)):Hn.mergeObjectSync(r,f)}get shape(){return this._def.shape()}strict(e){return me.errToObj,new Pt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var o,u;const i=((u=(o=this._def).errorMap)==null?void 0:u.call(o,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:me.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new Pt({...this._def,unknownKeys:"strip"})}passthrough(){return new Pt({...this._def,unknownKeys:"passthrough"})}extend(e){return new Pt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Pt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ue.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Pt({...this._def,catchall:e})}pick(e){const n={};for(const r of Ve.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new Pt({...this._def,shape:()=>n})}omit(e){const n={};for(const r of Ve.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new Pt({...this._def,shape:()=>n})}deepPartial(){return Is(this)}partial(e){const n={};for(const r of Ve.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}return new Pt({...this._def,shape:()=>n})}required(e){const n={};for(const r of Ve.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let o=this.shape[r];for(;o instanceof la;)o=o._def.innerType;n[r]=o}return new Pt({...this._def,shape:()=>n})}keyof(){return fE(Ve.objectKeys(this.shape))}}Pt.create=(t,e)=>new Pt({shape:()=>t,unknownKeys:"strip",catchall:Qa.create(),typeName:ue.ZodObject,...De(e)});Pt.strictCreate=(t,e)=>new Pt({shape:()=>t,unknownKeys:"strict",catchall:Qa.create(),typeName:ue.ZodObject,...De(e)});Pt.lazycreate=(t,e)=>new Pt({shape:t,unknownKeys:"strip",catchall:Qa.create(),typeName:ue.ZodObject,...De(e)});class qc extends Ge{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(o){for(const d of o)if(d.result.status==="valid")return d.result;for(const d of o)if(d.result.status==="dirty")return n.common.issues.push(...d.ctx.common.issues),d.result;const u=o.map(d=>new ca(d.ctx.common.issues));return fe(n,{code:le.invalid_union,unionErrors:u}),Oe}if(n.common.async)return Promise.all(r.map(async o=>{const u={...n,common:{...n.common,issues:[]},parent:null};return{result:await o._parseAsync({data:n.data,path:n.path,parent:u}),ctx:u}})).then(i);{let o;const u=[];for(const f of r){const h={...n,common:{...n.common,issues:[]},parent:null},m=f._parseSync({data:n.data,path:n.path,parent:h});if(m.status==="valid")return m;m.status==="dirty"&&!o&&(o={result:m,ctx:h}),h.common.issues.length&&u.push(h.common.issues)}if(o)return n.common.issues.push(...o.ctx.common.issues),o.result;const d=u.map(f=>new ca(f));return fe(n,{code:le.invalid_union,unionErrors:d}),Oe}}get options(){return this._def.options}}qc.create=(t,e)=>new qc({options:t,typeName:ue.ZodUnion,...De(e)});function Zm(t,e){const n=Ga(t),r=Ga(e);if(t===e)return{valid:!0,data:t};if(n===pe.object&&r===pe.object){const i=Ve.objectKeys(e),o=Ve.objectKeys(t).filter(d=>i.indexOf(d)!==-1),u={...t,...e};for(const d of o){const f=Zm(t[d],e[d]);if(!f.valid)return{valid:!1};u[d]=f.data}return{valid:!0,data:u}}else if(n===pe.array&&r===pe.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let o=0;o<t.length;o++){const u=t[o],d=e[o],f=Zm(u,d);if(!f.valid)return{valid:!1};i.push(f.data)}return{valid:!0,data:i}}else return n===pe.date&&r===pe.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Gc extends Ge{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(o,u)=>{if(K_(o)||K_(u))return Oe;const d=Zm(o.value,u.value);return d.valid?((X_(o)||X_(u))&&n.dirty(),{status:n.value,value:d.data}):(fe(r,{code:le.invalid_intersection_types}),Oe)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([o,u])=>i(o,u)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Gc.create=(t,e,n)=>new Gc({left:t,right:e,typeName:ue.ZodIntersection,...De(n)});class $i extends Ge{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==pe.array)return fe(r,{code:le.invalid_type,expected:pe.array,received:r.parsedType}),Oe;if(r.data.length<this._def.items.length)return fe(r,{code:le.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Oe;!this._def.rest&&r.data.length>this._def.items.length&&(fe(r,{code:le.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const o=[...r.data].map((u,d)=>{const f=this._def.items[d]||this._def.rest;return f?f._parse(new Xa(r,u,r.path,d)):null}).filter(u=>!!u);return r.common.async?Promise.all(o).then(u=>Hn.mergeArray(n,u)):Hn.mergeArray(n,o)}get items(){return this._def.items}rest(e){return new $i({...this._def,rest:e})}}$i.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new $i({items:t,typeName:ue.ZodTuple,rest:null,...De(e)})};class aw extends Ge{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==pe.map)return fe(r,{code:le.invalid_type,expected:pe.map,received:r.parsedType}),Oe;const i=this._def.keyType,o=this._def.valueType,u=[...r.data.entries()].map(([d,f],h)=>({key:i._parse(new Xa(r,d,r.path,[h,"key"])),value:o._parse(new Xa(r,f,r.path,[h,"value"]))}));if(r.common.async){const d=new Map;return Promise.resolve().then(async()=>{for(const f of u){const h=await f.key,m=await f.value;if(h.status==="aborted"||m.status==="aborted")return Oe;(h.status==="dirty"||m.status==="dirty")&&n.dirty(),d.set(h.value,m.value)}return{status:n.value,value:d}})}else{const d=new Map;for(const f of u){const h=f.key,m=f.value;if(h.status==="aborted"||m.status==="aborted")return Oe;(h.status==="dirty"||m.status==="dirty")&&n.dirty(),d.set(h.value,m.value)}return{status:n.value,value:d}}}}aw.create=(t,e,n)=>new aw({valueType:e,keyType:t,typeName:ue.ZodMap,...De(n)});class jl extends Ge{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==pe.set)return fe(r,{code:le.invalid_type,expected:pe.set,received:r.parsedType}),Oe;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(fe(r,{code:le.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(fe(r,{code:le.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const o=this._def.valueType;function u(f){const h=new Set;for(const m of f){if(m.status==="aborted")return Oe;m.status==="dirty"&&n.dirty(),h.add(m.value)}return{status:n.value,value:h}}const d=[...r.data.values()].map((f,h)=>o._parse(new Xa(r,f,r.path,h)));return r.common.async?Promise.all(d).then(f=>u(f)):u(d)}min(e,n){return new jl({...this._def,minSize:{value:e,message:me.toString(n)}})}max(e,n){return new jl({...this._def,maxSize:{value:e,message:me.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}jl.create=(t,e)=>new jl({valueType:t,minSize:null,maxSize:null,typeName:ue.ZodSet,...De(e)});class iw extends Ge{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}iw.create=(t,e)=>new iw({getter:t,typeName:ue.ZodLazy,...De(e)});class sw extends Ge{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return fe(n,{received:n.data,code:le.invalid_literal,expected:this._def.value}),Oe}return{status:"valid",value:e.data}}get value(){return this._def.value}}sw.create=(t,e)=>new sw({value:t,typeName:ue.ZodLiteral,...De(e)});function fE(t,e){return new Gs({values:t,typeName:ue.ZodEnum,...De(e)})}class Gs extends Ge{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return fe(n,{expected:Ve.joinValues(r),received:n.parsedType,code:le.invalid_type}),Oe}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return fe(n,{received:n.data,code:le.invalid_enum_value,options:r}),Oe}return ar(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Gs.create(e,{...this._def,...n})}exclude(e,n=this._def){return Gs.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Gs.create=fE;class ow extends Ge{_parse(e){const n=Ve.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==pe.string&&r.parsedType!==pe.number){const i=Ve.objectValues(n);return fe(r,{expected:Ve.joinValues(i),received:r.parsedType,code:le.invalid_type}),Oe}if(this._cache||(this._cache=new Set(Ve.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=Ve.objectValues(n);return fe(r,{received:r.data,code:le.invalid_enum_value,options:i}),Oe}return ar(e.data)}get enum(){return this._def.values}}ow.create=(t,e)=>new ow({values:t,typeName:ue.ZodNativeEnum,...De(e)});class Fc extends Ge{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==pe.promise&&n.common.async===!1)return fe(n,{code:le.invalid_type,expected:pe.promise,received:n.parsedType}),Oe;const r=n.parsedType===pe.promise?n.data:Promise.resolve(n.data);return ar(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Fc.create=(t,e)=>new Fc({type:t,typeName:ue.ZodPromise,...De(e)});class Fs extends Ge{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ue.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,o={addIssue:u=>{fe(r,u),u.fatal?n.abort():n.dirty()},get path(){return r.path}};if(o.addIssue=o.addIssue.bind(o),i.type==="preprocess"){const u=i.transform(r.data,o);if(r.common.async)return Promise.resolve(u).then(async d=>{if(n.value==="aborted")return Oe;const f=await this._def.schema._parseAsync({data:d,path:r.path,parent:r});return f.status==="aborted"?Oe:f.status==="dirty"||n.value==="dirty"?ml(f.value):f});{if(n.value==="aborted")return Oe;const d=this._def.schema._parseSync({data:u,path:r.path,parent:r});return d.status==="aborted"?Oe:d.status==="dirty"||n.value==="dirty"?ml(d.value):d}}if(i.type==="refinement"){const u=d=>{const f=i.refinement(d,o);if(r.common.async)return Promise.resolve(f);if(f instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return d};if(r.common.async===!1){const d=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return d.status==="aborted"?Oe:(d.status==="dirty"&&n.dirty(),u(d.value),{status:n.value,value:d.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(d=>d.status==="aborted"?Oe:(d.status==="dirty"&&n.dirty(),u(d.value).then(()=>({status:n.value,value:d.value}))))}if(i.type==="transform")if(r.common.async===!1){const u=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!qs(u))return Oe;const d=i.transform(u.value,o);if(d instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:d}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(u=>qs(u)?Promise.resolve(i.transform(u.value,o)).then(d=>({status:n.value,value:d})):Oe);Ve.assertNever(i)}}Fs.create=(t,e,n)=>new Fs({schema:t,typeName:ue.ZodEffects,effect:e,...De(n)});Fs.createWithPreprocess=(t,e,n)=>new Fs({schema:e,effect:{type:"preprocess",transform:t},typeName:ue.ZodEffects,...De(n)});class la extends Ge{_parse(e){return this._getType(e)===pe.undefined?ar(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}la.create=(t,e)=>new la({innerType:t,typeName:ue.ZodOptional,...De(e)});class Vs extends Ge{_parse(e){return this._getType(e)===pe.null?ar(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Vs.create=(t,e)=>new Vs({innerType:t,typeName:ue.ZodNullable,...De(e)});class Ym extends Ge{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===pe.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Ym.create=(t,e)=>new Ym({innerType:t,typeName:ue.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...De(e)});class Km extends Ge{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Bc(i)?i.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new ca(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ca(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Km.create=(t,e)=>new Km({innerType:t,typeName:ue.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...De(e)});class lw extends Ge{_parse(e){if(this._getType(e)!==pe.nan){const r=this._getOrReturnCtx(e);return fe(r,{code:le.invalid_type,expected:pe.nan,received:r.parsedType}),Oe}return{status:"valid",value:e.data}}}lw.create=t=>new lw({typeName:ue.ZodNaN,...De(t)});class YC extends Ge{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Lg extends Ge{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?Oe:o.status==="dirty"?(n.dirty(),ml(o.value)):this._def.out._parseAsync({data:o.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Oe:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new Lg({in:e,out:n,typeName:ue.ZodPipeline})}}class Xm extends Ge{_parse(e){const n=this._def.innerType._parse(e),r=i=>(qs(i)&&(i.value=Object.freeze(i.value)),i);return Bc(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}Xm.create=(t,e)=>new Xm({innerType:t,typeName:ue.ZodReadonly,...De(e)});var ue;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ue||(ue={}));const KC=Za.create,uw=Vm.create;Qa.create;Mr.create;const XC=Pt.create;qc.create;Gc.create;$i.create;Gs.create;Fc.create;la.create;Vs.create;var al={exports:{}},yp={},bp,cw;function QC(){if(cw)return bp;cw=1;function t(e,n){typeof n=="boolean"&&(n={forever:n}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=n||{},this._maxRetryTime=n&&n.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}return bp=t,t.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},t.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},t.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var n=new Date().getTime();if(e&&n-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var r=this._timeouts.shift();if(r===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),r=this._cachedTimeouts.slice(-1);else return!1;var i=this;return this._timer=setTimeout(function(){i._attempts++,i._operationTimeoutCb&&(i._timeout=setTimeout(function(){i._operationTimeoutCb(i._attempts)},i._operationTimeout),i._options.unref&&i._timeout.unref()),i._fn(i._attempts)},r),this._options.unref&&this._timer.unref(),!0},t.prototype.attempt=function(e,n){this._fn=e,n&&(n.timeout&&(this._operationTimeout=n.timeout),n.cb&&(this._operationTimeoutCb=n.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){r._operationTimeoutCb()},r._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)},t.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},t.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},t.prototype.start=t.prototype.try,t.prototype.errors=function(){return this._errors},t.prototype.attempts=function(){return this._attempts},t.prototype.mainError=function(){if(this._errors.length===0)return null;for(var e={},n=null,r=0,i=0;i<this._errors.length;i++){var o=this._errors[i],u=o.message,d=(e[u]||0)+1;e[u]=d,d>=r&&(n=o,r=d)}return n},bp}var dw;function WC(){return dw||(dw=1,function(t){var e=QC();t.operation=function(n){var r=t.timeouts(n);return new e(r,{forever:n&&(n.forever||n.retries===1/0),unref:n&&n.unref,maxRetryTime:n&&n.maxRetryTime})},t.timeouts=function(n){if(n instanceof Array)return[].concat(n);var r={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var i in n)r[i]=n[i];if(r.minTimeout>r.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var o=[],u=0;u<r.retries;u++)o.push(this.createTimeout(u,r));return n&&n.forever&&!o.length&&o.push(this.createTimeout(u,r)),o.sort(function(d,f){return d-f}),o},t.createTimeout=function(n,r){var i=r.randomize?Math.random()+1:1,o=Math.round(i*Math.max(r.minTimeout,1)*Math.pow(r.factor,n));return o=Math.min(o,r.maxTimeout),o},t.wrap=function(n,r,i){if(r instanceof Array&&(i=r,r=null),!i){i=[];for(var o in n)typeof n[o]=="function"&&i.push(o)}for(var u=0;u<i.length;u++){var d=i[u],f=n[d];n[d]=(function(m){var b=t.operation(r),y=Array.prototype.slice.call(arguments,1),_=y.pop();y.push(function(v){b.retry(v)||(v&&(arguments[0]=b.mainError()),_.apply(this,arguments))}),b.attempt(function(){m.apply(n,y)})}).bind(n,f),n[d].options=r}}}(yp)),yp}var vp,fw;function JC(){return fw||(fw=1,vp=WC()),vp}var hw;function eA(){if(hw)return al.exports;hw=1;const t=JC(),e=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"];class n extends Error{constructor(d){super(),d instanceof Error?(this.originalError=d,{message:d}=d):(this.originalError=new Error(d),this.originalError.stack=this.stack),this.name="AbortError",this.message=d}}const r=(u,d,f)=>{const h=f.retries-(d-1);return u.attemptNumber=d,u.retriesLeft=h,u},i=u=>e.includes(u),o=(u,d)=>new Promise((f,h)=>{d={onFailedAttempt:()=>{},retries:10,...d};const m=t.operation(d);m.attempt(async b=>{try{f(await u(b))}catch(y){if(!(y instanceof Error)){h(new TypeError(`Non-error was thrown: "${y}". You should only throw errors.`));return}if(y instanceof n)m.stop(),h(y.originalError);else if(y instanceof TypeError&&!i(y.message))m.stop(),h(y);else{r(y,b,d);try{await d.onFailedAttempt(y)}catch(_){h(_);return}m.retry(y)||h(m.mainError())}}})});return al.exports=o,al.exports.default=o,al.exports.AbortError=n,al.exports}var tA=eA();const Vc=ri(tA),nA=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;function Us(t){return typeof t=="string"&&nA.test(t)}function rA(t){if(!Us(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}var an=[];for(var _p=0;_p<256;++_p)an.push((_p+256).toString(16).slice(1));function hE(t,e=0){return(an[t[e+0]]+an[t[e+1]]+an[t[e+2]]+an[t[e+3]]+"-"+an[t[e+4]]+an[t[e+5]]+"-"+an[t[e+6]]+an[t[e+7]]+"-"+an[t[e+8]]+an[t[e+9]]+"-"+an[t[e+10]]+an[t[e+11]]+an[t[e+12]]+an[t[e+13]]+an[t[e+14]]+an[t[e+15]]).toLowerCase()}var gc,aA=new Uint8Array(16);function iA(){if(!gc&&(gc=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!gc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return gc(aA)}function sA(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}var oA="6ba7b810-9dad-11d1-80b4-00c04fd430c8",lA="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function uA(t,e,n){function r(i,o,u,d){var f;if(typeof i=="string"&&(i=sA(i)),typeof o=="string"&&(o=rA(o)),((f=o)===null||f===void 0?void 0:f.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var h=new Uint8Array(16+i.length);if(h.set(o),h.set(i,o.length),h=n(h),h[6]=h[6]&15|e,h[8]=h[8]&63|128,u){d=d||0;for(var m=0;m<16;++m)u[d+m]=h[m];return u}return hE(h)}try{r.name=t}catch{}return r.DNS=oA,r.URL=lA,r}var cA=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const pw={randomUUID:cA};function vn(t,e,n){if(pw.randomUUID&&!t)return pw.randomUUID();t=t||{};var r=t.random||(t.rng||iA)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,hE(r)}function dA(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:return e^n^r;case 2:return e&n^e&r^n&r;case 3:return e^n^r}}function wp(t,e){return t<<e|t>>>32-e}function fA(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var r=unescape(encodeURIComponent(t));t=[];for(var i=0;i<r.length;++i)t.push(r.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var o=t.length/4+2,u=Math.ceil(o/16),d=new Array(u),f=0;f<u;++f){for(var h=new Uint32Array(16),m=0;m<16;++m)h[m]=t[f*64+m*4]<<24|t[f*64+m*4+1]<<16|t[f*64+m*4+2]<<8|t[f*64+m*4+3];d[f]=h}d[u-1][14]=(t.length-1)*8/Math.pow(2,32),d[u-1][14]=Math.floor(d[u-1][14]),d[u-1][15]=(t.length-1)*8&4294967295;for(var b=0;b<u;++b){for(var y=new Uint32Array(80),_=0;_<16;++_)y[_]=d[b][_];for(var v=16;v<80;++v)y[v]=wp(y[v-3]^y[v-8]^y[v-14]^y[v-16],1);for(var w=n[0],E=n[1],x=n[2],N=n[3],T=n[4],A=0;A<80;++A){var R=Math.floor(A/20),M=wp(w,5)+dA(R,E,x,N)+T+e[R]+y[A]>>>0;T=N,N=x,x=wp(E,30)>>>0,E=w,w=M}n[0]=n[0]+w>>>0,n[1]=n[1]+E>>>0,n[2]=n[2]+x>>>0,n[3]=n[3]+N>>>0,n[4]=n[4]+T>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var mw=uA("v5",80,fA),yc={},Sp={exports:{}},gw;function hA(){return gw||(gw=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,h,m){this.fn=f,this.context=h,this.once=m||!1}function o(f,h,m,b,y){if(typeof m!="function")throw new TypeError("The listener must be a function");var _=new i(m,b||f,y),v=n?n+h:h;return f._events[v]?f._events[v].fn?f._events[v]=[f._events[v],_]:f._events[v].push(_):(f._events[v]=_,f._eventsCount++),f}function u(f,h){--f._eventsCount===0?f._events=new r:delete f._events[h]}function d(){this._events=new r,this._eventsCount=0}d.prototype.eventNames=function(){var h=[],m,b;if(this._eventsCount===0)return h;for(b in m=this._events)e.call(m,b)&&h.push(n?b.slice(1):b);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(m)):h},d.prototype.listeners=function(h){var m=n?n+h:h,b=this._events[m];if(!b)return[];if(b.fn)return[b.fn];for(var y=0,_=b.length,v=new Array(_);y<_;y++)v[y]=b[y].fn;return v},d.prototype.listenerCount=function(h){var m=n?n+h:h,b=this._events[m];return b?b.fn?1:b.length:0},d.prototype.emit=function(h,m,b,y,_,v){var w=n?n+h:h;if(!this._events[w])return!1;var E=this._events[w],x=arguments.length,N,T;if(E.fn){switch(E.once&&this.removeListener(h,E.fn,void 0,!0),x){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,m),!0;case 3:return E.fn.call(E.context,m,b),!0;case 4:return E.fn.call(E.context,m,b,y),!0;case 5:return E.fn.call(E.context,m,b,y,_),!0;case 6:return E.fn.call(E.context,m,b,y,_,v),!0}for(T=1,N=new Array(x-1);T<x;T++)N[T-1]=arguments[T];E.fn.apply(E.context,N)}else{var A=E.length,R;for(T=0;T<A;T++)switch(E[T].once&&this.removeListener(h,E[T].fn,void 0,!0),x){case 1:E[T].fn.call(E[T].context);break;case 2:E[T].fn.call(E[T].context,m);break;case 3:E[T].fn.call(E[T].context,m,b);break;case 4:E[T].fn.call(E[T].context,m,b,y);break;default:if(!N)for(R=1,N=new Array(x-1);R<x;R++)N[R-1]=arguments[R];E[T].fn.apply(E[T].context,N)}}return!0},d.prototype.on=function(h,m,b){return o(this,h,m,b,!1)},d.prototype.once=function(h,m,b){return o(this,h,m,b,!0)},d.prototype.removeListener=function(h,m,b,y){var _=n?n+h:h;if(!this._events[_])return this;if(!m)return u(this,_),this;var v=this._events[_];if(v.fn)v.fn===m&&(!y||v.once)&&(!b||v.context===b)&&u(this,_);else{for(var w=0,E=[],x=v.length;w<x;w++)(v[w].fn!==m||y&&!v[w].once||b&&v[w].context!==b)&&E.push(v[w]);E.length?this._events[_]=E.length===1?E[0]:E:u(this,_)}return this},d.prototype.removeAllListeners=function(h){var m;return h?(m=n?n+h:h,this._events[m]&&u(this,m)):(this._events=new r,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=n,d.EventEmitter=d,t.exports=d}(Sp)),Sp.exports}var il={exports:{}},Ep,yw;function pA(){return yw||(yw=1,Ep=(t,e)=>(e=e||(()=>{}),t.then(n=>new Promise(r=>{r(e())}).then(()=>n),n=>new Promise(r=>{r(e())}).then(()=>{throw n})))),Ep}var bw;function mA(){if(bw)return il.exports;bw=1;const t=pA();class e extends Error{constructor(i){super(i),this.name="TimeoutError"}}const n=(r,i,o)=>new Promise((u,d)=>{if(typeof i!="number"||i<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(i===1/0){u(r);return}const f=setTimeout(()=>{if(typeof o=="function"){try{u(o())}catch(b){d(b)}return}const h=typeof o=="string"?o:`Promise timed out after ${i} milliseconds`,m=o instanceof Error?o:new e(h);typeof r.cancel=="function"&&r.cancel(),d(m)},i);t(r.then(u,d),()=>{clearTimeout(f)})});return il.exports=n,il.exports.default=n,il.exports.TimeoutError=e,il.exports}var bc={},vc={},vw;function gA(){if(vw)return vc;vw=1,Object.defineProperty(vc,"__esModule",{value:!0});function t(e,n,r){let i=0,o=e.length;for(;o>0;){const u=o/2|0;let d=i+u;r(e[d],n)<=0?(i=++d,o-=u+1):o=u}return i}return vc.default=t,vc}var _w;function yA(){if(_w)return bc;_w=1,Object.defineProperty(bc,"__esModule",{value:!0});const t=gA();class e{constructor(){this._queue=[]}enqueue(r,i){i=Object.assign({priority:0},i);const o={priority:i.priority,run:r};if(this.size&&this._queue[this.size-1].priority>=i.priority){this._queue.push(o);return}const u=t.default(this._queue,o,(d,f)=>f.priority-d.priority);this._queue.splice(u,0,o)}dequeue(){const r=this._queue.shift();return r==null?void 0:r.run}filter(r){return this._queue.filter(i=>i.priority===r.priority).map(i=>i.run)}get size(){return this._queue.length}}return bc.default=e,bc}var ww;function bA(){if(ww)return yc;ww=1,Object.defineProperty(yc,"__esModule",{value:!0});const t=hA(),e=mA(),n=yA(),r=()=>{},i=new e.TimeoutError;class o extends t{constructor(d){var f,h,m,b;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=r,this._resolveIdle=r,d=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:n.default},d),!(typeof d.intervalCap=="number"&&d.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(h=(f=d.intervalCap)===null||f===void 0?void 0:f.toString())!==null&&h!==void 0?h:""}\` (${typeof d.intervalCap})`);if(d.interval===void 0||!(Number.isFinite(d.interval)&&d.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(b=(m=d.interval)===null||m===void 0?void 0:m.toString())!==null&&b!==void 0?b:""}\` (${typeof d.interval})`);this._carryoverConcurrencyCount=d.carryoverConcurrencyCount,this._isIntervalIgnored=d.intervalCap===1/0||d.interval===0,this._intervalCap=d.intervalCap,this._interval=d.interval,this._queue=new d.queueClass,this._queueClass=d.queueClass,this.concurrency=d.concurrency,this._timeout=d.timeout,this._throwOnTimeout=d.throwOnTimeout===!0,this._isPaused=d.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=r,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=r,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){const d=Date.now();if(this._intervalId===void 0){const f=this._intervalEnd-d;if(f<0)this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;else return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},f)),!0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){const d=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){const f=this._queue.dequeue();return f?(this.emit("active"),f(),d&&this._initializeIntervalIfNeeded(),!0):!1}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(d){if(!(typeof d=="number"&&d>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${d}\` (${typeof d})`);this._concurrency=d,this._processQueue()}async add(d,f={}){return new Promise((h,m)=>{const b=async()=>{this._pendingCount++,this._intervalCount++;try{const y=this._timeout===void 0&&f.timeout===void 0?d():e.default(Promise.resolve(d()),f.timeout===void 0?this._timeout:f.timeout,()=>{(f.throwOnTimeout===void 0?this._throwOnTimeout:f.throwOnTimeout)&&m(i)});h(await y)}catch(y){m(y)}this._next()};this._queue.enqueue(b,f),this._tryToStartAnother(),this.emit("add")})}async addAll(d,f){return Promise.all(d.map(async h=>this.add(h,f)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(d=>{const f=this._resolveEmpty;this._resolveEmpty=()=>{f(),d()}})}async onIdle(){if(!(this._pendingCount===0&&this._queue.size===0))return new Promise(d=>{const f=this._resolveIdle;this._resolveIdle=()=>{f(),d()}})}get size(){return this._queue.size}sizeBy(d){return this._queue.filter(d).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(d){this._timeout=d}}return yc.default=o,yc}var vA=bA();const ua=ri(vA),pE=()=>kr("PROJECT")??Wa("LANGCHAIN_SESSION")??"default",mE="0.3.33";var wl={};let na;const _A=()=>typeof window<"u"&&typeof window.document<"u",wA=()=>typeof globalThis=="object"&&globalThis.constructor&&globalThis.constructor.name==="DedicatedWorkerGlobalScope",SA=()=>typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&navigator.userAgent.includes("jsdom"),gE=()=>typeof Deno<"u",EA=()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"&&!gE(),TA=()=>na||(_A()?na="browser":EA()?na="node":wA()?na="webworker":SA()?na="jsdom":gE()?na="deno":na="other",na);let Tp;function yE(){if(Tp===void 0){const t=TA(),e=OA();Tp={library:"langsmith",runtime:t,sdk:"langsmith-js",sdk_version:mE,...e}}return Tp}function xA(){const t=RA()||{},e={},n=["LANGCHAIN_API_KEY","LANGCHAIN_ENDPOINT","LANGCHAIN_TRACING_V2","LANGCHAIN_PROJECT","LANGCHAIN_SESSION","LANGSMITH_API_KEY","LANGSMITH_ENDPOINT","LANGSMITH_TRACING_V2","LANGSMITH_PROJECT","LANGSMITH_SESSION"];for(const[r,i]of Object.entries(t))(r.startsWith("LANGCHAIN_")||r.startsWith("LANGSMITH_"))&&typeof i=="string"&&!n.includes(r)&&!r.toLowerCase().includes("key")&&!r.toLowerCase().includes("secret")&&!r.toLowerCase().includes("token")&&(r==="LANGCHAIN_REVISION_ID"?e.revision_id=i:e[r]=i);return e}function RA(){try{return typeof process<"u"&&wl?Object.entries(wl).reduce((t,[e,n])=>(t[e]=String(n),t),{}):void 0}catch{return}}function Wa(t){try{return typeof process<"u"?wl==null?void 0:wl[t]:void 0}catch{return}}function kr(t){return Wa(`LANGSMITH_${t}`)||Wa(`LANGCHAIN_${t}`)}let xp;function OA(){if(xp!==void 0)return xp;const t=["VERCEL_GIT_COMMIT_SHA","NEXT_PUBLIC_VERCEL_GIT_COMMIT_SHA","COMMIT_REF","RENDER_GIT_COMMIT","CI_COMMIT_SHA","CIRCLE_SHA1","CF_PAGES_COMMIT_SHA","REACT_APP_GIT_SHA","SOURCE_VERSION","GITHUB_SHA","TRAVIS_COMMIT","GIT_COMMIT","BUILD_VCS_NUMBER","bamboo_planRepository_revision","Build.SourceVersion","BITBUCKET_COMMIT","DRONE_COMMIT_SHA","SEMAPHORE_GIT_SHA","BUILDKITE_COMMIT"],e={};for(const n of t){const r=Wa(n);r!==void 0&&(e[n]=r)}return xp=e,e}const CA=(...t)=>fetch(...t),bE=Symbol.for("ls:fetch_implementation"),AA=()=>{const t=globalThis[bE];return t?typeof t=="function"&&"Headers"in t&&"Request"in t&&"Response"in t:!1},ve=t=>async(...e)=>{if(t||kr("DEBUG")==="true"){const[r,i]=e;console.log(`→ ${(i==null?void 0:i.method)||"GET"} ${r}`)}const n=await(globalThis[bE]??CA)(...e);return(t||kr("DEBUG")==="true")&&console.log(`← ${n.status} ${n.statusText} ${n.url}`),n},NA=[400,401,403,404,405,406,407,408],kA=[409];let Sw=class{constructor(e){Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onFailedResponseHook",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"debug",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxConcurrency=e.maxConcurrency??1/0,this.maxRetries=e.maxRetries??6,this.debug=e.debug,"default"in ua?this.queue=new ua.default({concurrency:this.maxConcurrency}):this.queue=new ua({concurrency:this.maxConcurrency}),this.onFailedResponseHook=e==null?void 0:e.onFailedResponseHook}call(e,...n){const r=this.onFailedResponseHook;return this.queue.add(()=>Vc(()=>e(...n).catch(i=>{throw i instanceof Error?i:new Error(i)}),{async onFailedAttempt(i){if(i.message.startsWith("Cancel")||i.message.startsWith("TimeoutError")||i.message.startsWith("AbortError")||(i==null?void 0:i.code)==="ECONNABORTED")throw i;const o=i==null?void 0:i.response,u=o==null?void 0:o.status;if(u){if(NA.includes(+u))throw i;if(kA.includes(+u))return;r&&await r(o)}},retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0})}callWithOptions(e,n,...r){return e.signal?Promise.race([this.call(n,...r),new Promise((i,o)=>{var u;(u=e.signal)==null||u.addEventListener("abort",()=>{o(new Error("AbortError"))})})]):this.call(n,...r)}fetch(...e){return this.call(()=>ve(this.debug)(...e).then(n=>n.ok?n:Promise.reject(n)))}};function Ew(t){return typeof(t==null?void 0:t._getType)=="function"}function Tw(t){const e={type:t._getType(),data:{content:t.content}};return t!=null&&t.additional_kwargs&&Object.keys(t.additional_kwargs).length>0&&(e.data.additional_kwargs={...t.additional_kwargs}),e}function Ae(t,e){if(!Us(t)){const n=e!==void 0?`Invalid UUID for ${e}: ${t}`:`Invalid UUID: ${t}`;throw new Error(n)}return t}const xw={};function vE(t){xw[t]||(console.warn(t),xw[t]=!0)}var _c={exports:{}},Rp,Rw;function md(){if(Rw)return Rp;Rw=1;const t="2.0.0",e=256,n=Number.MAX_SAFE_INTEGER||9007199254740991,r=16,i=e-6;return Rp={MAX_LENGTH:e,MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:i,MAX_SAFE_INTEGER:n,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:t,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},Rp}var Op,Ow;function gd(){if(Ow)return Op;Ow=1;var t={};return Op=typeof process=="object"&&t&&t.NODE_DEBUG&&/\bsemver\b/i.test(t.NODE_DEBUG)?(...n)=>console.error("SEMVER",...n):()=>{},Op}var Cw;function Zl(){return Cw||(Cw=1,function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:i}=md(),o=gd();e=t.exports={};const u=e.re=[],d=e.safeRe=[],f=e.src=[],h=e.safeSrc=[],m=e.t={};let b=0;const y="[a-zA-Z0-9-]",_=[["\\s",1],["\\d",i],[y,r]],v=E=>{for(const[x,N]of _)E=E.split(`${x}*`).join(`${x}{0,${N}}`).split(`${x}+`).join(`${x}{1,${N}}`);return E},w=(E,x,N)=>{const T=v(x),A=b++;o(E,A,x),m[E]=A,f[A]=x,h[A]=T,u[A]=new RegExp(x,N?"g":void 0),d[A]=new RegExp(T,N?"g":void 0)};w("NUMERICIDENTIFIER","0|[1-9]\\d*"),w("NUMERICIDENTIFIERLOOSE","\\d+"),w("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${y}*`),w("MAINVERSION",`(${f[m.NUMERICIDENTIFIER]})\\.(${f[m.NUMERICIDENTIFIER]})\\.(${f[m.NUMERICIDENTIFIER]})`),w("MAINVERSIONLOOSE",`(${f[m.NUMERICIDENTIFIERLOOSE]})\\.(${f[m.NUMERICIDENTIFIERLOOSE]})\\.(${f[m.NUMERICIDENTIFIERLOOSE]})`),w("PRERELEASEIDENTIFIER",`(?:${f[m.NONNUMERICIDENTIFIER]}|${f[m.NUMERICIDENTIFIER]})`),w("PRERELEASEIDENTIFIERLOOSE",`(?:${f[m.NONNUMERICIDENTIFIER]}|${f[m.NUMERICIDENTIFIERLOOSE]})`),w("PRERELEASE",`(?:-(${f[m.PRERELEASEIDENTIFIER]}(?:\\.${f[m.PRERELEASEIDENTIFIER]})*))`),w("PRERELEASELOOSE",`(?:-?(${f[m.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${f[m.PRERELEASEIDENTIFIERLOOSE]})*))`),w("BUILDIDENTIFIER",`${y}+`),w("BUILD",`(?:\\+(${f[m.BUILDIDENTIFIER]}(?:\\.${f[m.BUILDIDENTIFIER]})*))`),w("FULLPLAIN",`v?${f[m.MAINVERSION]}${f[m.PRERELEASE]}?${f[m.BUILD]}?`),w("FULL",`^${f[m.FULLPLAIN]}$`),w("LOOSEPLAIN",`[v=\\s]*${f[m.MAINVERSIONLOOSE]}${f[m.PRERELEASELOOSE]}?${f[m.BUILD]}?`),w("LOOSE",`^${f[m.LOOSEPLAIN]}$`),w("GTLT","((?:<|>)?=?)"),w("XRANGEIDENTIFIERLOOSE",`${f[m.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),w("XRANGEIDENTIFIER",`${f[m.NUMERICIDENTIFIER]}|x|X|\\*`),w("XRANGEPLAIN",`[v=\\s]*(${f[m.XRANGEIDENTIFIER]})(?:\\.(${f[m.XRANGEIDENTIFIER]})(?:\\.(${f[m.XRANGEIDENTIFIER]})(?:${f[m.PRERELEASE]})?${f[m.BUILD]}?)?)?`),w("XRANGEPLAINLOOSE",`[v=\\s]*(${f[m.XRANGEIDENTIFIERLOOSE]})(?:\\.(${f[m.XRANGEIDENTIFIERLOOSE]})(?:\\.(${f[m.XRANGEIDENTIFIERLOOSE]})(?:${f[m.PRERELEASELOOSE]})?${f[m.BUILD]}?)?)?`),w("XRANGE",`^${f[m.GTLT]}\\s*${f[m.XRANGEPLAIN]}$`),w("XRANGELOOSE",`^${f[m.GTLT]}\\s*${f[m.XRANGEPLAINLOOSE]}$`),w("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),w("COERCE",`${f[m.COERCEPLAIN]}(?:$|[^\\d])`),w("COERCEFULL",f[m.COERCEPLAIN]+`(?:${f[m.PRERELEASE]})?(?:${f[m.BUILD]})?(?:$|[^\\d])`),w("COERCERTL",f[m.COERCE],!0),w("COERCERTLFULL",f[m.COERCEFULL],!0),w("LONETILDE","(?:~>?)"),w("TILDETRIM",`(\\s*)${f[m.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",w("TILDE",`^${f[m.LONETILDE]}${f[m.XRANGEPLAIN]}$`),w("TILDELOOSE",`^${f[m.LONETILDE]}${f[m.XRANGEPLAINLOOSE]}$`),w("LONECARET","(?:\\^)"),w("CARETTRIM",`(\\s*)${f[m.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",w("CARET",`^${f[m.LONECARET]}${f[m.XRANGEPLAIN]}$`),w("CARETLOOSE",`^${f[m.LONECARET]}${f[m.XRANGEPLAINLOOSE]}$`),w("COMPARATORLOOSE",`^${f[m.GTLT]}\\s*(${f[m.LOOSEPLAIN]})$|^$`),w("COMPARATOR",`^${f[m.GTLT]}\\s*(${f[m.FULLPLAIN]})$|^$`),w("COMPARATORTRIM",`(\\s*)${f[m.GTLT]}\\s*(${f[m.LOOSEPLAIN]}|${f[m.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",w("HYPHENRANGE",`^\\s*(${f[m.XRANGEPLAIN]})\\s+-\\s+(${f[m.XRANGEPLAIN]})\\s*$`),w("HYPHENRANGELOOSE",`^\\s*(${f[m.XRANGEPLAINLOOSE]})\\s+-\\s+(${f[m.XRANGEPLAINLOOSE]})\\s*$`),w("STAR","(<|>)?=?\\s*\\*"),w("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),w("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(_c,_c.exports)),_c.exports}var Cp,Aw;function Dg(){if(Aw)return Cp;Aw=1;const t=Object.freeze({loose:!0}),e=Object.freeze({});return Cp=r=>r?typeof r!="object"?t:r:e,Cp}var Ap,Nw;function _E(){if(Nw)return Ap;Nw=1;const t=/^[0-9]+$/,e=(r,i)=>{const o=t.test(r),u=t.test(i);return o&&u&&(r=+r,i=+i),r===i?0:o&&!u?-1:u&&!o?1:r<i?-1:1};return Ap={compareIdentifiers:e,rcompareIdentifiers:(r,i)=>e(i,r)},Ap}var Np,kw;function _n(){if(kw)return Np;kw=1;const t=gd(),{MAX_LENGTH:e,MAX_SAFE_INTEGER:n}=md(),{safeRe:r,t:i}=Zl(),o=Dg(),{compareIdentifiers:u}=_E();class d{constructor(h,m){if(m=o(m),h instanceof d){if(h.loose===!!m.loose&&h.includePrerelease===!!m.includePrerelease)return h;h=h.version}else if(typeof h!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof h}".`);if(h.length>e)throw new TypeError(`version is longer than ${e} characters`);t("SemVer",h,m),this.options=m,this.loose=!!m.loose,this.includePrerelease=!!m.includePrerelease;const b=h.trim().match(m.loose?r[i.LOOSE]:r[i.FULL]);if(!b)throw new TypeError(`Invalid Version: ${h}`);if(this.raw=h,this.major=+b[1],this.minor=+b[2],this.patch=+b[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");b[4]?this.prerelease=b[4].split(".").map(y=>{if(/^[0-9]+$/.test(y)){const _=+y;if(_>=0&&_<n)return _}return y}):this.prerelease=[],this.build=b[5]?b[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(h){if(t("SemVer.compare",this.version,this.options,h),!(h instanceof d)){if(typeof h=="string"&&h===this.version)return 0;h=new d(h,this.options)}return h.version===this.version?0:this.compareMain(h)||this.comparePre(h)}compareMain(h){return h instanceof d||(h=new d(h,this.options)),u(this.major,h.major)||u(this.minor,h.minor)||u(this.patch,h.patch)}comparePre(h){if(h instanceof d||(h=new d(h,this.options)),this.prerelease.length&&!h.prerelease.length)return-1;if(!this.prerelease.length&&h.prerelease.length)return 1;if(!this.prerelease.length&&!h.prerelease.length)return 0;let m=0;do{const b=this.prerelease[m],y=h.prerelease[m];if(t("prerelease compare",m,b,y),b===void 0&&y===void 0)return 0;if(y===void 0)return 1;if(b===void 0)return-1;if(b===y)continue;return u(b,y)}while(++m)}compareBuild(h){h instanceof d||(h=new d(h,this.options));let m=0;do{const b=this.build[m],y=h.build[m];if(t("build compare",m,b,y),b===void 0&&y===void 0)return 0;if(y===void 0)return 1;if(b===void 0)return-1;if(b===y)continue;return u(b,y)}while(++m)}inc(h,m,b){if(h.startsWith("pre")){if(!m&&b===!1)throw new Error("invalid increment argument: identifier is empty");if(m){const y=`-${m}`.match(this.options.loose?r[i.PRERELEASELOOSE]:r[i.PRERELEASE]);if(!y||y[1]!==m)throw new Error(`invalid identifier: ${m}`)}}switch(h){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",m,b);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",m,b);break;case"prepatch":this.prerelease.length=0,this.inc("patch",m,b),this.inc("pre",m,b);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",m,b),this.inc("pre",m,b);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const y=Number(b)?1:0;if(this.prerelease.length===0)this.prerelease=[y];else{let _=this.prerelease.length;for(;--_>=0;)typeof this.prerelease[_]=="number"&&(this.prerelease[_]++,_=-2);if(_===-1){if(m===this.prerelease.join(".")&&b===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(y)}}if(m){let _=[m,y];b===!1&&(_=[m]),u(this.prerelease[0],m)===0?isNaN(this.prerelease[1])&&(this.prerelease=_):this.prerelease=_}break}default:throw new Error(`invalid increment argument: ${h}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return Np=d,Np}var kp,Iw;function Js(){if(Iw)return kp;Iw=1;const t=_n();return kp=(n,r,i=!1)=>{if(n instanceof t)return n;try{return new t(n,r)}catch(o){if(!i)return null;throw o}},kp}var Ip,jw;function IA(){if(jw)return Ip;jw=1;const t=Js();return Ip=(n,r)=>{const i=t(n,r);return i?i.version:null},Ip}var jp,$w;function jA(){if($w)return jp;$w=1;const t=Js();return jp=(n,r)=>{const i=t(n.trim().replace(/^[=v]+/,""),r);return i?i.version:null},jp}var $p,Mw;function $A(){if(Mw)return $p;Mw=1;const t=_n();return $p=(n,r,i,o,u)=>{typeof i=="string"&&(u=o,o=i,i=void 0);try{return new t(n instanceof t?n.version:n,i).inc(r,o,u).version}catch{return null}},$p}var Mp,Pw;function MA(){if(Pw)return Mp;Pw=1;const t=Js();return Mp=(n,r)=>{const i=t(n,null,!0),o=t(r,null,!0),u=i.compare(o);if(u===0)return null;const d=u>0,f=d?i:o,h=d?o:i,m=!!f.prerelease.length;if(!!h.prerelease.length&&!m){if(!h.patch&&!h.minor)return"major";if(h.compareMain(f)===0)return h.minor&&!h.patch?"minor":"patch"}const y=m?"pre":"";return i.major!==o.major?y+"major":i.minor!==o.minor?y+"minor":i.patch!==o.patch?y+"patch":"prerelease"},Mp}var Pp,Lw;function PA(){if(Lw)return Pp;Lw=1;const t=_n();return Pp=(n,r)=>new t(n,r).major,Pp}var Lp,Dw;function LA(){if(Dw)return Lp;Dw=1;const t=_n();return Lp=(n,r)=>new t(n,r).minor,Lp}var Dp,Uw;function DA(){if(Uw)return Dp;Uw=1;const t=_n();return Dp=(n,r)=>new t(n,r).patch,Dp}var Up,zw;function UA(){if(zw)return Up;zw=1;const t=Js();return Up=(n,r)=>{const i=t(n,r);return i&&i.prerelease.length?i.prerelease:null},Up}var zp,Bw;function vr(){if(Bw)return zp;Bw=1;const t=_n();return zp=(n,r,i)=>new t(n,i).compare(new t(r,i)),zp}var Bp,Hw;function zA(){if(Hw)return Bp;Hw=1;const t=vr();return Bp=(n,r,i)=>t(r,n,i),Bp}var Hp,qw;function BA(){if(qw)return Hp;qw=1;const t=vr();return Hp=(n,r)=>t(n,r,!0),Hp}var qp,Gw;function Ug(){if(Gw)return qp;Gw=1;const t=_n();return qp=(n,r,i)=>{const o=new t(n,i),u=new t(r,i);return o.compare(u)||o.compareBuild(u)},qp}var Gp,Fw;function HA(){if(Fw)return Gp;Fw=1;const t=Ug();return Gp=(n,r)=>n.sort((i,o)=>t(i,o,r)),Gp}var Fp,Vw;function qA(){if(Vw)return Fp;Vw=1;const t=Ug();return Fp=(n,r)=>n.sort((i,o)=>t(o,i,r)),Fp}var Vp,Zw;function yd(){if(Zw)return Vp;Zw=1;const t=vr();return Vp=(n,r,i)=>t(n,r,i)>0,Vp}var Zp,Yw;function zg(){if(Yw)return Zp;Yw=1;const t=vr();return Zp=(n,r,i)=>t(n,r,i)<0,Zp}var Yp,Kw;function wE(){if(Kw)return Yp;Kw=1;const t=vr();return Yp=(n,r,i)=>t(n,r,i)===0,Yp}var Kp,Xw;function SE(){if(Xw)return Kp;Xw=1;const t=vr();return Kp=(n,r,i)=>t(n,r,i)!==0,Kp}var Xp,Qw;function Bg(){if(Qw)return Xp;Qw=1;const t=vr();return Xp=(n,r,i)=>t(n,r,i)>=0,Xp}var Qp,Ww;function Hg(){if(Ww)return Qp;Ww=1;const t=vr();return Qp=(n,r,i)=>t(n,r,i)<=0,Qp}var Wp,Jw;function EE(){if(Jw)return Wp;Jw=1;const t=wE(),e=SE(),n=yd(),r=Bg(),i=zg(),o=Hg();return Wp=(d,f,h,m)=>{switch(f){case"===":return typeof d=="object"&&(d=d.version),typeof h=="object"&&(h=h.version),d===h;case"!==":return typeof d=="object"&&(d=d.version),typeof h=="object"&&(h=h.version),d!==h;case"":case"=":case"==":return t(d,h,m);case"!=":return e(d,h,m);case">":return n(d,h,m);case">=":return r(d,h,m);case"<":return i(d,h,m);case"<=":return o(d,h,m);default:throw new TypeError(`Invalid operator: ${f}`)}},Wp}var Jp,eS;function GA(){if(eS)return Jp;eS=1;const t=_n(),e=Js(),{safeRe:n,t:r}=Zl();return Jp=(o,u)=>{if(o instanceof t)return o;if(typeof o=="number"&&(o=String(o)),typeof o!="string")return null;u=u||{};let d=null;if(!u.rtl)d=o.match(u.includePrerelease?n[r.COERCEFULL]:n[r.COERCE]);else{const _=u.includePrerelease?n[r.COERCERTLFULL]:n[r.COERCERTL];let v;for(;(v=_.exec(o))&&(!d||d.index+d[0].length!==o.length);)(!d||v.index+v[0].length!==d.index+d[0].length)&&(d=v),_.lastIndex=v.index+v[1].length+v[2].length;_.lastIndex=-1}if(d===null)return null;const f=d[2],h=d[3]||"0",m=d[4]||"0",b=u.includePrerelease&&d[5]?`-${d[5]}`:"",y=u.includePrerelease&&d[6]?`+${d[6]}`:"";return e(`${f}.${h}.${m}${b}${y}`,u)},Jp}var em,tS;function FA(){if(tS)return em;tS=1;class t{constructor(){this.max=1e3,this.map=new Map}get(n){const r=this.map.get(n);if(r!==void 0)return this.map.delete(n),this.map.set(n,r),r}delete(n){return this.map.delete(n)}set(n,r){if(!this.delete(n)&&r!==void 0){if(this.map.size>=this.max){const o=this.map.keys().next().value;this.delete(o)}this.map.set(n,r)}return this}}return em=t,em}var tm,nS;function _r(){if(nS)return tm;nS=1;const t=/\s+/g;class e{constructor(L,I){if(I=i(I),L instanceof e)return L.loose===!!I.loose&&L.includePrerelease===!!I.includePrerelease?L:new e(L.raw,I);if(L instanceof o)return this.raw=L.value,this.set=[[L]],this.formatted=void 0,this;if(this.options=I,this.loose=!!I.loose,this.includePrerelease=!!I.includePrerelease,this.raw=L.trim().replace(t," "),this.set=this.raw.split("||").map(D=>this.parseRange(D.trim())).filter(D=>D.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const D=this.set[0];if(this.set=this.set.filter(Y=>!w(Y[0])),this.set.length===0)this.set=[D];else if(this.set.length>1){for(const Y of this.set)if(Y.length===1&&E(Y[0])){this.set=[Y];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let L=0;L<this.set.length;L++){L>0&&(this.formatted+="||");const I=this.set[L];for(let D=0;D<I.length;D++)D>0&&(this.formatted+=" "),this.formatted+=I[D].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(L){const D=((this.options.includePrerelease&&_)|(this.options.loose&&v))+":"+L,Y=r.get(D);if(Y)return Y;const B=this.options.loose,k=B?f[h.HYPHENRANGELOOSE]:f[h.HYPHENRANGE];L=L.replace(k,ee(this.options.includePrerelease)),u("hyphen replace",L),L=L.replace(f[h.COMPARATORTRIM],m),u("comparator trim",L),L=L.replace(f[h.TILDETRIM],b),u("tilde trim",L),L=L.replace(f[h.CARETTRIM],y),u("caret trim",L);let q=L.split(" ").map(ce=>N(ce,this.options)).join(" ").split(/\s+/).map(ce=>X(ce,this.options));B&&(q=q.filter(ce=>(u("loose invalid filter",ce,this.options),!!ce.match(f[h.COMPARATORLOOSE])))),u("range list",q);const Q=new Map,W=q.map(ce=>new o(ce,this.options));for(const ce of W){if(w(ce))return[ce];Q.set(ce.value,ce)}Q.size>1&&Q.has("")&&Q.delete("");const oe=[...Q.values()];return r.set(D,oe),oe}intersects(L,I){if(!(L instanceof e))throw new TypeError("a Range is required");return this.set.some(D=>x(D,I)&&L.set.some(Y=>x(Y,I)&&D.every(B=>Y.every(k=>B.intersects(k,I)))))}test(L){if(!L)return!1;if(typeof L=="string")try{L=new d(L,this.options)}catch{return!1}for(let I=0;I<this.set.length;I++)if(se(this.set[I],L,this.options))return!0;return!1}}tm=e;const n=FA(),r=new n,i=Dg(),o=bd(),u=gd(),d=_n(),{safeRe:f,t:h,comparatorTrimReplace:m,tildeTrimReplace:b,caretTrimReplace:y}=Zl(),{FLAG_INCLUDE_PRERELEASE:_,FLAG_LOOSE:v}=md(),w=V=>V.value==="<0.0.0-0",E=V=>V.value==="",x=(V,L)=>{let I=!0;const D=V.slice();let Y=D.pop();for(;I&&D.length;)I=D.every(B=>Y.intersects(B,L)),Y=D.pop();return I},N=(V,L)=>(u("comp",V,L),V=M(V,L),u("caret",V),V=A(V,L),u("tildes",V),V=U(V,L),u("xrange",V),V=C(V,L),u("stars",V),V),T=V=>!V||V.toLowerCase()==="x"||V==="*",A=(V,L)=>V.trim().split(/\s+/).map(I=>R(I,L)).join(" "),R=(V,L)=>{const I=L.loose?f[h.TILDELOOSE]:f[h.TILDE];return V.replace(I,(D,Y,B,k,q)=>{u("tilde",V,D,Y,B,k,q);let Q;return T(Y)?Q="":T(B)?Q=`>=${Y}.0.0 <${+Y+1}.0.0-0`:T(k)?Q=`>=${Y}.${B}.0 <${Y}.${+B+1}.0-0`:q?(u("replaceTilde pr",q),Q=`>=${Y}.${B}.${k}-${q} <${Y}.${+B+1}.0-0`):Q=`>=${Y}.${B}.${k} <${Y}.${+B+1}.0-0`,u("tilde return",Q),Q})},M=(V,L)=>V.trim().split(/\s+/).map(I=>H(I,L)).join(" "),H=(V,L)=>{u("caret",V,L);const I=L.loose?f[h.CARETLOOSE]:f[h.CARET],D=L.includePrerelease?"-0":"";return V.replace(I,(Y,B,k,q,Q)=>{u("caret",V,Y,B,k,q,Q);let W;return T(B)?W="":T(k)?W=`>=${B}.0.0${D} <${+B+1}.0.0-0`:T(q)?B==="0"?W=`>=${B}.${k}.0${D} <${B}.${+k+1}.0-0`:W=`>=${B}.${k}.0${D} <${+B+1}.0.0-0`:Q?(u("replaceCaret pr",Q),B==="0"?k==="0"?W=`>=${B}.${k}.${q}-${Q} <${B}.${k}.${+q+1}-0`:W=`>=${B}.${k}.${q}-${Q} <${B}.${+k+1}.0-0`:W=`>=${B}.${k}.${q}-${Q} <${+B+1}.0.0-0`):(u("no pr"),B==="0"?k==="0"?W=`>=${B}.${k}.${q}${D} <${B}.${k}.${+q+1}-0`:W=`>=${B}.${k}.${q}${D} <${B}.${+k+1}.0-0`:W=`>=${B}.${k}.${q} <${+B+1}.0.0-0`),u("caret return",W),W})},U=(V,L)=>(u("replaceXRanges",V,L),V.split(/\s+/).map(I=>ie(I,L)).join(" ")),ie=(V,L)=>{V=V.trim();const I=L.loose?f[h.XRANGELOOSE]:f[h.XRANGE];return V.replace(I,(D,Y,B,k,q,Q)=>{u("xRange",V,D,Y,B,k,q,Q);const W=T(B),oe=W||T(k),ce=oe||T(q),de=ce;return Y==="="&&de&&(Y=""),Q=L.includePrerelease?"-0":"",W?Y===">"||Y==="<"?D="<0.0.0-0":D="*":Y&&de?(oe&&(k=0),q=0,Y===">"?(Y=">=",oe?(B=+B+1,k=0,q=0):(k=+k+1,q=0)):Y==="<="&&(Y="<",oe?B=+B+1:k=+k+1),Y==="<"&&(Q="-0"),D=`${Y+B}.${k}.${q}${Q}`):oe?D=`>=${B}.0.0${Q} <${+B+1}.0.0-0`:ce&&(D=`>=${B}.${k}.0${Q} <${B}.${+k+1}.0-0`),u("xRange return",D),D})},C=(V,L)=>(u("replaceStars",V,L),V.trim().replace(f[h.STAR],"")),X=(V,L)=>(u("replaceGTE0",V,L),V.trim().replace(f[L.includePrerelease?h.GTE0PRE:h.GTE0],"")),ee=V=>(L,I,D,Y,B,k,q,Q,W,oe,ce,de)=>(T(D)?I="":T(Y)?I=`>=${D}.0.0${V?"-0":""}`:T(B)?I=`>=${D}.${Y}.0${V?"-0":""}`:k?I=`>=${I}`:I=`>=${I}${V?"-0":""}`,T(W)?Q="":T(oe)?Q=`<${+W+1}.0.0-0`:T(ce)?Q=`<${W}.${+oe+1}.0-0`:de?Q=`<=${W}.${oe}.${ce}-${de}`:V?Q=`<${W}.${oe}.${+ce+1}-0`:Q=`<=${Q}`,`${I} ${Q}`.trim()),se=(V,L,I)=>{for(let D=0;D<V.length;D++)if(!V[D].test(L))return!1;if(L.prerelease.length&&!I.includePrerelease){for(let D=0;D<V.length;D++)if(u(V[D].semver),V[D].semver!==o.ANY&&V[D].semver.prerelease.length>0){const Y=V[D].semver;if(Y.major===L.major&&Y.minor===L.minor&&Y.patch===L.patch)return!0}return!1}return!0};return tm}var nm,rS;function bd(){if(rS)return nm;rS=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(m,b){if(b=n(b),m instanceof e){if(m.loose===!!b.loose)return m;m=m.value}m=m.trim().split(/\s+/).join(" "),u("comparator",m,b),this.options=b,this.loose=!!b.loose,this.parse(m),this.semver===t?this.value="":this.value=this.operator+this.semver.version,u("comp",this)}parse(m){const b=this.options.loose?r[i.COMPARATORLOOSE]:r[i.COMPARATOR],y=m.match(b);if(!y)throw new TypeError(`Invalid comparator: ${m}`);this.operator=y[1]!==void 0?y[1]:"",this.operator==="="&&(this.operator=""),y[2]?this.semver=new d(y[2],this.options.loose):this.semver=t}toString(){return this.value}test(m){if(u("Comparator.test",m,this.options.loose),this.semver===t||m===t)return!0;if(typeof m=="string")try{m=new d(m,this.options)}catch{return!1}return o(m,this.operator,this.semver,this.options)}intersects(m,b){if(!(m instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new f(m.value,b).test(this.value):m.operator===""?m.value===""?!0:new f(this.value,b).test(m.semver):(b=n(b),b.includePrerelease&&(this.value==="<0.0.0-0"||m.value==="<0.0.0-0")||!b.includePrerelease&&(this.value.startsWith("<0.0.0")||m.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&m.operator.startsWith(">")||this.operator.startsWith("<")&&m.operator.startsWith("<")||this.semver.version===m.semver.version&&this.operator.includes("=")&&m.operator.includes("=")||o(this.semver,"<",m.semver,b)&&this.operator.startsWith(">")&&m.operator.startsWith("<")||o(this.semver,">",m.semver,b)&&this.operator.startsWith("<")&&m.operator.startsWith(">")))}}nm=e;const n=Dg(),{safeRe:r,t:i}=Zl(),o=EE(),u=gd(),d=_n(),f=_r();return nm}var rm,aS;function vd(){if(aS)return rm;aS=1;const t=_r();return rm=(n,r,i)=>{try{r=new t(r,i)}catch{return!1}return r.test(n)},rm}var am,iS;function VA(){if(iS)return am;iS=1;const t=_r();return am=(n,r)=>new t(n,r).set.map(i=>i.map(o=>o.value).join(" ").trim().split(" ")),am}var im,sS;function ZA(){if(sS)return im;sS=1;const t=_n(),e=_r();return im=(r,i,o)=>{let u=null,d=null,f=null;try{f=new e(i,o)}catch{return null}return r.forEach(h=>{f.test(h)&&(!u||d.compare(h)===-1)&&(u=h,d=new t(u,o))}),u},im}var sm,oS;function YA(){if(oS)return sm;oS=1;const t=_n(),e=_r();return sm=(r,i,o)=>{let u=null,d=null,f=null;try{f=new e(i,o)}catch{return null}return r.forEach(h=>{f.test(h)&&(!u||d.compare(h)===1)&&(u=h,d=new t(u,o))}),u},sm}var om,lS;function KA(){if(lS)return om;lS=1;const t=_n(),e=_r(),n=yd();return om=(i,o)=>{i=new e(i,o);let u=new t("0.0.0");if(i.test(u)||(u=new t("0.0.0-0"),i.test(u)))return u;u=null;for(let d=0;d<i.set.length;++d){const f=i.set[d];let h=null;f.forEach(m=>{const b=new t(m.semver.version);switch(m.operator){case">":b.prerelease.length===0?b.patch++:b.prerelease.push(0),b.raw=b.format();case"":case">=":(!h||n(b,h))&&(h=b);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${m.operator}`)}}),h&&(!u||n(u,h))&&(u=h)}return u&&i.test(u)?u:null},om}var lm,uS;function XA(){if(uS)return lm;uS=1;const t=_r();return lm=(n,r)=>{try{return new t(n,r).range||"*"}catch{return null}},lm}var um,cS;function qg(){if(cS)return um;cS=1;const t=_n(),e=bd(),{ANY:n}=e,r=_r(),i=vd(),o=yd(),u=zg(),d=Hg(),f=Bg();return um=(m,b,y,_)=>{m=new t(m,_),b=new r(b,_);let v,w,E,x,N;switch(y){case">":v=o,w=d,E=u,x=">",N=">=";break;case"<":v=u,w=f,E=o,x="<",N="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(i(m,b,_))return!1;for(let T=0;T<b.set.length;++T){const A=b.set[T];let R=null,M=null;if(A.forEach(H=>{H.semver===n&&(H=new e(">=0.0.0")),R=R||H,M=M||H,v(H.semver,R.semver,_)?R=H:E(H.semver,M.semver,_)&&(M=H)}),R.operator===x||R.operator===N||(!M.operator||M.operator===x)&&w(m,M.semver))return!1;if(M.operator===N&&E(m,M.semver))return!1}return!0},um}var cm,dS;function QA(){if(dS)return cm;dS=1;const t=qg();return cm=(n,r,i)=>t(n,r,">",i),cm}var dm,fS;function WA(){if(fS)return dm;fS=1;const t=qg();return dm=(n,r,i)=>t(n,r,"<",i),dm}var fm,hS;function JA(){if(hS)return fm;hS=1;const t=_r();return fm=(n,r,i)=>(n=new t(n,i),r=new t(r,i),n.intersects(r,i)),fm}var hm,pS;function e2(){if(pS)return hm;pS=1;const t=vd(),e=vr();return hm=(n,r,i)=>{const o=[];let u=null,d=null;const f=n.sort((y,_)=>e(y,_,i));for(const y of f)t(y,r,i)?(d=y,u||(u=y)):(d&&o.push([u,d]),d=null,u=null);u&&o.push([u,null]);const h=[];for(const[y,_]of o)y===_?h.push(y):!_&&y===f[0]?h.push("*"):_?y===f[0]?h.push(`<=${_}`):h.push(`${y} - ${_}`):h.push(`>=${y}`);const m=h.join(" || "),b=typeof r.raw=="string"?r.raw:String(r);return m.length<b.length?m:r},hm}var pm,mS;function t2(){if(mS)return pm;mS=1;const t=_r(),e=bd(),{ANY:n}=e,r=vd(),i=vr(),o=(b,y,_={})=>{if(b===y)return!0;b=new t(b,_),y=new t(y,_);let v=!1;e:for(const w of b.set){for(const E of y.set){const x=f(w,E,_);if(v=v||x!==null,x)continue e}if(v)return!1}return!0},u=[new e(">=0.0.0-0")],d=[new e(">=0.0.0")],f=(b,y,_)=>{if(b===y)return!0;if(b.length===1&&b[0].semver===n){if(y.length===1&&y[0].semver===n)return!0;_.includePrerelease?b=u:b=d}if(y.length===1&&y[0].semver===n){if(_.includePrerelease)return!0;y=d}const v=new Set;let w,E;for(const U of b)U.operator===">"||U.operator===">="?w=h(w,U,_):U.operator==="<"||U.operator==="<="?E=m(E,U,_):v.add(U.semver);if(v.size>1)return null;let x;if(w&&E){if(x=i(w.semver,E.semver,_),x>0)return null;if(x===0&&(w.operator!==">="||E.operator!=="<="))return null}for(const U of v){if(w&&!r(U,String(w),_)||E&&!r(U,String(E),_))return null;for(const ie of y)if(!r(U,String(ie),_))return!1;return!0}let N,T,A,R,M=E&&!_.includePrerelease&&E.semver.prerelease.length?E.semver:!1,H=w&&!_.includePrerelease&&w.semver.prerelease.length?w.semver:!1;M&&M.prerelease.length===1&&E.operator==="<"&&M.prerelease[0]===0&&(M=!1);for(const U of y){if(R=R||U.operator===">"||U.operator===">=",A=A||U.operator==="<"||U.operator==="<=",w){if(H&&U.semver.prerelease&&U.semver.prerelease.length&&U.semver.major===H.major&&U.semver.minor===H.minor&&U.semver.patch===H.patch&&(H=!1),U.operator===">"||U.operator===">="){if(N=h(w,U,_),N===U&&N!==w)return!1}else if(w.operator===">="&&!r(w.semver,String(U),_))return!1}if(E){if(M&&U.semver.prerelease&&U.semver.prerelease.length&&U.semver.major===M.major&&U.semver.minor===M.minor&&U.semver.patch===M.patch&&(M=!1),U.operator==="<"||U.operator==="<="){if(T=m(E,U,_),T===U&&T!==E)return!1}else if(E.operator==="<="&&!r(E.semver,String(U),_))return!1}if(!U.operator&&(E||w)&&x!==0)return!1}return!(w&&A&&!E&&x!==0||E&&R&&!w&&x!==0||H||M)},h=(b,y,_)=>{if(!b)return y;const v=i(b.semver,y.semver,_);return v>0?b:v<0||y.operator===">"&&b.operator===">="?y:b},m=(b,y,_)=>{if(!b)return y;const v=i(b.semver,y.semver,_);return v<0?b:v>0||y.operator==="<"&&b.operator==="<="?y:b};return pm=o,pm}var mm,gS;function n2(){if(gS)return mm;gS=1;const t=Zl(),e=md(),n=_n(),r=_E(),i=Js(),o=IA(),u=jA(),d=$A(),f=MA(),h=PA(),m=LA(),b=DA(),y=UA(),_=vr(),v=zA(),w=BA(),E=Ug(),x=HA(),N=qA(),T=yd(),A=zg(),R=wE(),M=SE(),H=Bg(),U=Hg(),ie=EE(),C=GA(),X=bd(),ee=_r(),se=vd(),V=VA(),L=ZA(),I=YA(),D=KA(),Y=XA(),B=qg(),k=QA(),q=WA(),Q=JA(),W=e2(),oe=t2();return mm={parse:i,valid:o,clean:u,inc:d,diff:f,major:h,minor:m,patch:b,prerelease:y,compare:_,rcompare:v,compareLoose:w,compareBuild:E,sort:x,rsort:N,gt:T,lt:A,eq:R,neq:M,gte:H,lte:U,cmp:ie,coerce:C,Comparator:X,Range:ee,satisfies:se,toComparators:V,maxSatisfying:L,minSatisfying:I,minVersion:D,validRange:Y,outside:B,gtr:k,ltr:q,intersects:Q,simplifyRange:W,subset:oe,SemVer:n,re:t.re,src:t.src,tokens:t.t,SEMVER_SPEC_VERSION:e.SEMVER_SPEC_VERSION,RELEASE_TYPES:e.RELEASE_TYPES,compareIdentifiers:r.compareIdentifiers,rcompareIdentifiers:r.rcompareIdentifiers},mm}n2();function za(t){if(!t||t.split("/").length>2||t.startsWith("/")||t.endsWith("/")||t.split(":").length>2)throw new Error(`Invalid identifier format: ${t}`);const[e,n]=t.split(":"),r=n||"latest";if(e.includes("/")){const[i,o]=e.split("/",2);if(!i||!o)throw new Error(`Invalid identifier format: ${t}`);return[i,o,r]}else{if(!e)throw new Error(`Invalid identifier format: ${t}`);return["-",e,r]}}class r2 extends Error{constructor(e){super(e),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="LangSmithConflictError",this.status=409}}async function ke(t,e,n){let r;if(t.ok){n&&(r=await t.text());return}r=await t.text();const i=`Failed to ${e}. Received status [${t.status}]: ${t.statusText}. Server response: ${r}`;if(t.status===409)throw new r2(i);const o=new Error(i);throw o.status=t.status,o}var yS="[...]",a2={result:"[Circular]"},Zc=[],Ms=[];const i2=new TextEncoder;function s2(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function wc(t){return i2.encode(t)}function Un(t,e,n,r,i){var o;try{const u=JSON.stringify(t,n,r);return wc(u)}catch(u){if(!((o=u.message)!=null&&o.includes("Converting circular structure to JSON")))return console.warn(`[WARNING]: LangSmith received unserializable value.${e?`
Context: ${e}`:""}`),wc("[Unserializable]");console.warn(`[WARNING]: LangSmith received circular JSON. This will decrease tracer performance. ${e?`
Context: ${e}`:""}`),typeof i>"u"&&(i=s2()),Qm(t,"",0,[],void 0,0,i);let d;try{Ms.length===0?d=JSON.stringify(t,n,r):d=JSON.stringify(t,o2(n),r)}catch{return wc("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Zc.length!==0;){const f=Zc.pop();f.length===4?Object.defineProperty(f[0],f[1],f[3]):f[0][f[1]]=f[2]}}return wc(d)}}function gm(t,e,n,r){var i=Object.getOwnPropertyDescriptor(r,n);i.get!==void 0?i.configurable?(Object.defineProperty(r,n,{value:t}),Zc.push([r,n,e,i])):Ms.push([e,n,t]):(r[n]=t,Zc.push([r,n,e]))}function Qm(t,e,n,r,i,o,u){o+=1;var d;if(typeof t=="object"&&t!==null){for(d=0;d<r.length;d++)if(r[d]===t){gm(a2,t,e,i);return}if(typeof u.depthLimit<"u"&&o>u.depthLimit){gm(yS,t,e,i);return}if(typeof u.edgesLimit<"u"&&n+1>u.edgesLimit){gm(yS,t,e,i);return}if(r.push(t),Array.isArray(t))for(d=0;d<t.length;d++)Qm(t[d],d,d,r,t,o,u);else{var f=Object.keys(t);for(d=0;d<f.length;d++){var h=f[d];Qm(t[h],h,d,r,t,o,u)}}r.pop()}}function o2(t){return t=typeof t<"u"?t:function(e,n){return n},function(e,n){if(Ms.length>0)for(var r=0;r<Ms.length;r++){var i=Ms[r];if(i[1]===e&&i[0]===n){n=i[2],Ms.splice(r,1);break}}return t.call(this,e,n)}}function bS(t){const e=yE(),n=xA(),r=t.extra??{},i=r.metadata;return t.extra={...r,runtime:{...e,...r==null?void 0:r.runtime},metadata:{...n,...n.revision_id||t.revision_id?{revision_id:t.revision_id??n.revision_id}:{},...i}},t}const l2=t=>{const e=(t==null?void 0:t.toString())??kr("TRACING_SAMPLING_RATE");if(e===void 0)return;const n=parseFloat(e);if(n<0||n>1)throw new Error(`LANGSMITH_TRACING_SAMPLING_RATE must be between 0 and 1 if set. Got: ${n}`);return n},u2=t=>{const n=t.replace("http://","").replace("https://","").split("/")[0].split(":")[0];return n==="localhost"||n==="127.0.0.1"||n==="::1"};async function c2(t){const e=[];for await(const n of t)e.push(n);return e}function ym(t){if(t!==void 0)return t.trim().replace(/^"(.*)"$/,"$1").replace(/^'(.*)'$/,"$1")}const d2=async t=>{if((t==null?void 0:t.status)===429){const e=parseInt(t.headers.get("retry-after")??"30",10)*1e3;if(e>0)return await new Promise(n=>setTimeout(n,e)),!0}return!1};function vS(t){return typeof t=="number"?Number(t.toFixed(4)):t}class f2{constructor(){Object.defineProperty(this,"items",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"sizeBytes",{enumerable:!0,configurable:!0,writable:!0,value:0})}peek(){return this.items[0]}push(e){let n;const r=new Promise(o=>{n=o}),i=Un(e.item,`Serializing run with id: ${e.item.id}`).length;return this.items.push({action:e.action,payload:e.item,itemPromiseResolve:n,itemPromise:r,size:i}),this.sizeBytes+=i,r}pop(e){var i;if(e<1)throw new Error("Number of bytes to pop off may not be less than 1.");const n=[];let r=0;for(;r+(((i=this.peek())==null?void 0:i.size)??0)<e&&this.items.length>0;){const o=this.items.shift();o&&(n.push(o),r+=o.size,this.sizeBytes-=o.size)}if(n.length===0&&this.items.length>0){const o=this.items.shift();n.push(o),r+=o.size,this.sizeBytes-=o.size}return[n.map(o=>({action:o.action,item:o.payload})),()=>n.forEach(o=>o.itemPromiseResolve())]}}const h2=20971520,p2=2500;class $l{constructor(e={}){var r;Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"webUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"batchIngestCaller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout_ms",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tenantId",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"hideInputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"hideOutputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tracingSampleRate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"filteredPostUuids",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(this,"autoBatchTracing",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"autoBatchQueue",{enumerable:!0,configurable:!0,writable:!0,value:new f2}),Object.defineProperty(this,"autoBatchTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"autoBatchAggregationDelayMs",{enumerable:!0,configurable:!0,writable:!0,value:250}),Object.defineProperty(this,"batchSizeBytesLimit",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fetchOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"blockOnRootRunFinalization",{enumerable:!0,configurable:!0,writable:!0,value:Wa("LANGSMITH_TRACING_BACKGROUND")==="false"}),Object.defineProperty(this,"traceBatchConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:5}),Object.defineProperty(this,"_serverInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_getServerInfoPromise",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"manualFlushMode",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"debug",{enumerable:!0,configurable:!0,writable:!0,value:Wa("LANGSMITH_DEBUG")==="true"});const n=$l.getDefaultClientConfig();if(this.tracingSampleRate=l2(e.tracingSamplingRate),this.apiUrl=ym(e.apiUrl??n.apiUrl)??"",this.apiUrl.endsWith("/")&&(this.apiUrl=this.apiUrl.slice(0,-1)),this.apiKey=ym(e.apiKey??n.apiKey),this.webUrl=ym(e.webUrl??n.webUrl),(r=this.webUrl)!=null&&r.endsWith("/")&&(this.webUrl=this.webUrl.slice(0,-1)),this.timeout_ms=e.timeout_ms??9e4,this.caller=new Sw({...e.callerOptions??{},debug:e.debug??this.debug}),this.traceBatchConcurrency=e.traceBatchConcurrency??this.traceBatchConcurrency,this.traceBatchConcurrency<1)throw new Error("Trace batch concurrency must be positive.");this.debug=e.debug??this.debug,this.batchIngestCaller=new Sw({maxRetries:2,maxConcurrency:this.traceBatchConcurrency,...e.callerOptions??{},onFailedResponseHook:d2,debug:e.debug??this.debug}),this.hideInputs=e.hideInputs??e.anonymizer??n.hideInputs,this.hideOutputs=e.hideOutputs??e.anonymizer??n.hideOutputs,this.autoBatchTracing=e.autoBatchTracing??this.autoBatchTracing,this.blockOnRootRunFinalization=e.blockOnRootRunFinalization??this.blockOnRootRunFinalization,this.batchSizeBytesLimit=e.batchSizeBytesLimit,this.fetchOptions=e.fetchOptions||{},this.manualFlushMode=e.manualFlushMode??this.manualFlushMode}static getDefaultClientConfig(){const e=kr("API_KEY"),n=kr("ENDPOINT")??"https://api.smith.langchain.com",r=kr("HIDE_INPUTS")==="true",i=kr("HIDE_OUTPUTS")==="true";return{apiUrl:n,apiKey:e,webUrl:void 0,hideInputs:r,hideOutputs:i}}getHostUrl(){return this.webUrl?this.webUrl:u2(this.apiUrl)?(this.webUrl="http://localhost:3000",this.webUrl):this.apiUrl.endsWith("/api/v1")?(this.webUrl=this.apiUrl.replace("/api/v1",""),this.webUrl):this.apiUrl.includes("/api")&&!this.apiUrl.split(".",1)[0].endsWith("api")?(this.webUrl=this.apiUrl.replace("/api",""),this.webUrl):this.apiUrl.split(".",1)[0].includes("dev")?(this.webUrl="https://dev.smith.langchain.com",this.webUrl):this.apiUrl.split(".",1)[0].includes("eu")?(this.webUrl="https://eu.smith.langchain.com",this.webUrl):this.apiUrl.split(".",1)[0].includes("beta")?(this.webUrl="https://beta.smith.langchain.com",this.webUrl):(this.webUrl="https://smith.langchain.com",this.webUrl)}get headers(){const e={"User-Agent":`langsmith-js/${mE}`};return this.apiKey&&(e["x-api-key"]=`${this.apiKey}`),e}async processInputs(e){return this.hideInputs===!1?e:this.hideInputs===!0?{}:typeof this.hideInputs=="function"?this.hideInputs(e):e}async processOutputs(e){return this.hideOutputs===!1?e:this.hideOutputs===!0?{}:typeof this.hideOutputs=="function"?this.hideOutputs(e):e}async prepareRunCreateOrUpdateInputs(e){const n={...e};return n.inputs!==void 0&&(n.inputs=await this.processInputs(n.inputs)),n.outputs!==void 0&&(n.outputs=await this.processOutputs(n.outputs)),n}async _getResponse(e,n){const r=(n==null?void 0:n.toString())??"",i=`${this.apiUrl}${e}?${r}`,o=await this.caller.call(ve(this.debug),i,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await ke(o,`Failed to fetch ${e}`),o}async _get(e,n){return(await this._getResponse(e,n)).json()}async*_getPaginated(e,n=new URLSearchParams,r){let i=Number(n.get("offset"))||0;const o=Number(n.get("limit"))||100;for(;;){n.set("offset",String(i)),n.set("limit",String(o));const u=`${this.apiUrl}${e}?${n}`,d=await this.caller.call(ve(this.debug),u,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ke(d,`Failed to fetch ${e}`);const f=r?r(await d.json()):await d.json();if(f.length===0||(yield f,f.length<o))break;i+=f.length}}async*_getCursorPaginatedList(e,n=null,r="POST",i="runs"){const o=n?{...n}:{};for(;;){const d=await(await this.caller.call(ve(this.debug),`${this.apiUrl}${e}`,{method:r,headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:JSON.stringify(o)})).json();if(!d||!d[i])break;yield d[i];const f=d.cursors;if(!f||!f.next)break;o.cursor=f.next}}_shouldSample(){return this.tracingSampleRate===void 0?!0:Math.random()<this.tracingSampleRate}_filterForSampling(e,n=!1){if(this.tracingSampleRate===void 0)return e;if(n){const r=[];for(const i of e)this.filteredPostUuids.has(i.id)?this.filteredPostUuids.delete(i.id):r.push(i);return r}else{const r=[];for(const i of e){const o=i.trace_id??i.id;this.filteredPostUuids.has(o)||(i.id===o?this._shouldSample()?r.push(i):this.filteredPostUuids.add(o):r.push(i))}return r}}async _getBatchSizeLimitBytes(){var n;const e=await this._ensureServerInfo();return this.batchSizeBytesLimit??((n=e.batch_ingest_config)==null?void 0:n.size_limit_bytes)??h2}async _getMultiPartSupport(){var n;return((n=(await this._ensureServerInfo()).instance_flags)==null?void 0:n.dataset_examples_multipart_enabled)??!1}drainAutoBatchQueue(e){const n=[];for(;this.autoBatchQueue.items.length>0;){const[r,i]=this.autoBatchQueue.pop(e);if(!r.length){i();break}const o=this._processBatch(r,i).catch(console.error);n.push(o)}return Promise.all(n)}async _processBatch(e,n){var r;if(!e.length){n();return}try{const i={runCreates:e.filter(u=>u.action==="create").map(u=>u.item),runUpdates:e.filter(u=>u.action==="update").map(u=>u.item)},o=await this._ensureServerInfo();(r=o==null?void 0:o.batch_ingest_config)!=null&&r.use_multipart_endpoint?await this.multipartIngestRuns(i):await this.batchIngestRuns(i)}finally{n()}}async processRunOperation(e){clearTimeout(this.autoBatchTimeout),this.autoBatchTimeout=void 0,e.action==="create"&&(e.item=bS(e.item));const n=this.autoBatchQueue.push(e);if(this.manualFlushMode)return n;const r=await this._getBatchSizeLimitBytes();return this.autoBatchQueue.sizeBytes>r&&this.drainAutoBatchQueue(r),this.autoBatchQueue.items.length>0&&(this.autoBatchTimeout=setTimeout(()=>{this.autoBatchTimeout=void 0,this.drainAutoBatchQueue(r)},this.autoBatchAggregationDelayMs)),n}async _getServerInfo(){const e=await this.caller.call(ve(this.debug),`${this.apiUrl}/info`,{method:"GET",headers:{Accept:"application/json"},signal:AbortSignal.timeout(p2),...this.fetchOptions});await ke(e,"get server info");const n=await e.json();return this.debug&&console.log(`
=== LangSmith Server Configuration ===
`+JSON.stringify(n,null,2)+`
`),n}async _ensureServerInfo(){return this._getServerInfoPromise===void 0&&(this._getServerInfoPromise=(async()=>{if(this._serverInfo===void 0)try{this._serverInfo=await this._getServerInfo()}catch(e){console.warn(`[WARNING]: LangSmith failed to fetch info on supported operations with status code ${e.status}. Falling back to batch operations and default limits.`)}return this._serverInfo??{}})()),this._getServerInfoPromise.then(e=>(this._serverInfo===void 0&&(this._getServerInfoPromise=void 0),e))}async _getSettings(){return this.settings||(this.settings=this._get("/settings")),await this.settings}async flush(){const e=await this._getBatchSizeLimitBytes();await this.drainAutoBatchQueue(e)}async createRun(e){if(!this._filterForSampling([e]).length)return;const n={...this.headers,"Content-Type":"application/json"},r=e.project_name;delete e.project_name;const i=await this.prepareRunCreateOrUpdateInputs({session_name:r,...e,start_time:e.start_time??Date.now()});if(this.autoBatchTracing&&i.trace_id!==void 0&&i.dotted_order!==void 0){this.processRunOperation({action:"create",item:i}).catch(console.error);return}const o=bS(i),u=await this.caller.call(ve(this.debug),`${this.apiUrl}/runs`,{method:"POST",headers:n,body:Un(o,`Creating run with id: ${o.id}`),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ke(u,"create run",!0)}async batchIngestRuns({runCreates:e,runUpdates:n}){if(e===void 0&&n===void 0)return;let r=await Promise.all((e==null?void 0:e.map(d=>this.prepareRunCreateOrUpdateInputs(d)))??[]),i=await Promise.all((n==null?void 0:n.map(d=>this.prepareRunCreateOrUpdateInputs(d)))??[]);if(r.length>0&&i.length>0){const d=r.reduce((h,m)=>(m.id&&(h[m.id]=m),h),{}),f=[];for(const h of i)h.id!==void 0&&d[h.id]?d[h.id]={...d[h.id],...h}:f.push(h);r=Object.values(d),i=f}const o={post:r,patch:i};if(!o.post.length&&!o.patch.length)return;const u={post:[],patch:[]};for(const d of["post","patch"]){const f=d,h=o[f].reverse();let m=h.pop();for(;m!==void 0;)u[f].push(m),m=h.pop()}if(u.post.length>0||u.patch.length>0){const d=u.post.map(f=>f.id).concat(u.patch.map(f=>f.id)).join(",");await this._postBatchIngestRuns(Un(u,`Ingesting runs with ids: ${d}`))}}async _postBatchIngestRuns(e){const n={...this.headers,"Content-Type":"application/json",Accept:"application/json"},r=await this.batchIngestCaller.call(ve(this.debug),`${this.apiUrl}/runs/batch`,{method:"POST",headers:n,body:e,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ke(r,"batch create run",!0)}async multipartIngestRuns({runCreates:e,runUpdates:n}){if(e===void 0&&n===void 0)return;const r={};let i=[];for(const m of e??[]){const b=await this.prepareRunCreateOrUpdateInputs(m);b.id!==void 0&&b.attachments!==void 0&&(r[b.id]=b.attachments),delete b.attachments,i.push(b)}let o=[];for(const m of n??[])o.push(await this.prepareRunCreateOrUpdateInputs(m));if(i.find(m=>m.trace_id===void 0||m.dotted_order===void 0)!==void 0)throw new Error('Multipart ingest requires "trace_id" and "dotted_order" to be set when creating a run');if(o.find(m=>m.trace_id===void 0||m.dotted_order===void 0)!==void 0)throw new Error('Multipart ingest requires "trace_id" and "dotted_order" to be set when updating a run');if(i.length>0&&o.length>0){const m=i.reduce((y,_)=>(_.id&&(y[_.id]=_),y),{}),b=[];for(const y of o)y.id!==void 0&&m[y.id]?m[y.id]={...m[y.id],...y}:b.push(y);i=Object.values(m),o=b}if(i.length===0&&o.length===0)return;const f=[],h=[];for(const[m,b]of[["post",i],["patch",o]])for(const y of b){const{inputs:_,outputs:v,events:w,attachments:E,...x}=y,N={inputs:_,outputs:v,events:w},T=Un(x,`Serializing for multipart ingestion of run with id: ${x.id}`);h.push({name:`${m}.${x.id}`,payload:new Blob([T],{type:`application/json; length=${T.length}`})});for(const[A,R]of Object.entries(N)){if(R===void 0)continue;const M=Un(R,`Serializing ${A} for multipart ingestion of run with id: ${x.id}`);h.push({name:`${m}.${x.id}.${A}`,payload:new Blob([M],{type:`application/json; length=${M.length}`})})}if(x.id!==void 0){const A=r[x.id];if(A){delete r[x.id];for(const[R,M]of Object.entries(A)){let H,U;if(Array.isArray(M)?[H,U]=M:(H=M.mimeType,U=M.data),R.includes(".")){console.warn(`Skipping attachment '${R}' for run ${x.id}: Invalid attachment name. Attachment names must not contain periods ('.'). Please rename the attachment and try again.`);continue}h.push({name:`attachment.${x.id}.${R}`,payload:new Blob([U],{type:`${H}; length=${U.byteLength}`})})}}}f.push(`trace=${x.trace_id},id=${x.id}`)}await this._sendMultipartRequest(h,f.join("; "))}async _createNodeFetchBody(e,n){const r=[];for(const u of e)r.push(new Blob([`--${n}\r
`])),r.push(new Blob([`Content-Disposition: form-data; name="${u.name}"\r
`,`Content-Type: ${u.payload.type}\r
\r
`])),r.push(u.payload),r.push(new Blob([`\r
`]));return r.push(new Blob([`--${n}--\r
`])),await new Blob(r).arrayBuffer()}async _createMultipartStream(e,n){const r=new TextEncoder;return new ReadableStream({async start(o){const u=async d=>{typeof d=="string"?o.enqueue(r.encode(d)):o.enqueue(d)};for(const d of e){await u(`--${n}\r
`),await u(`Content-Disposition: form-data; name="${d.name}"\r
`),await u(`Content-Type: ${d.payload.type}\r
\r
`);const h=d.payload.stream().getReader();try{let m;for(;!(m=await h.read()).done;)o.enqueue(m.value)}finally{h.releaseLock()}await u(`\r
`)}await u(`--${n}--\r
`),o.close()}})}async _sendMultipartRequest(e,n){try{const r="----LangSmithFormBoundary"+Math.random().toString(36).slice(2),i=await(AA()?this._createNodeFetchBody(e,r):this._createMultipartStream(e,r)),o=await this.batchIngestCaller.call(ve(this.debug),`${this.apiUrl}/runs/multipart`,{method:"POST",headers:{...this.headers,"Content-Type":`multipart/form-data; boundary=${r}`},body:i,duplex:"half",signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ke(o,"ingest multipart runs",!0)}catch(r){console.warn(`${r.message.trim()}

Context: ${n}`)}}async updateRun(e,n){Ae(e),n.inputs&&(n.inputs=await this.processInputs(n.inputs)),n.outputs&&(n.outputs=await this.processOutputs(n.outputs));const r={...n,id:e};if(!this._filterForSampling([r],!0).length)return;if(this.autoBatchTracing&&r.trace_id!==void 0&&r.dotted_order!==void 0){if(n.end_time!==void 0&&r.parent_run_id===void 0&&this.blockOnRootRunFinalization&&!this.manualFlushMode){await this.processRunOperation({action:"update",item:r}).catch(console.error);return}else this.processRunOperation({action:"update",item:r}).catch(console.error);return}const i={...this.headers,"Content-Type":"application/json"},o=await this.caller.call(ve(this.debug),`${this.apiUrl}/runs/${e}`,{method:"PATCH",headers:i,body:Un(n,`Serializing payload to update run with id: ${e}`),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ke(o,"update run",!0)}async readRun(e,{loadChildRuns:n}={loadChildRuns:!1}){Ae(e);let r=await this._get(`/runs/${e}`);return n&&(r=await this._loadChildRuns(r)),r}async getRunUrl({runId:e,run:n,projectOpts:r}){if(n!==void 0){let i;n.session_id?i=n.session_id:r!=null&&r.projectName?i=(await this.readProject({projectName:r==null?void 0:r.projectName})).id:r!=null&&r.projectId?i=r==null?void 0:r.projectId:i=(await this.readProject({projectName:kr("PROJECT")||"default"})).id;const o=await this._getTenantId();return`${this.getHostUrl()}/o/${o}/projects/p/${i}/r/${n.id}?poll=true`}else if(e!==void 0){const i=await this.readRun(e);if(!i.app_path)throw new Error(`Run ${e} has no app_path`);return`${this.getHostUrl()}${i.app_path}`}else throw new Error("Must provide either runId or run")}async _loadChildRuns(e){var o;const n=await c2(this.listRuns({isRoot:!1,projectId:e.session_id,traceId:e.trace_id})),r={},i={};n.sort((u,d)=>((u==null?void 0:u.dotted_order)??"").localeCompare((d==null?void 0:d.dotted_order)??""));for(const u of n){if(u.parent_run_id===null||u.parent_run_id===void 0)throw new Error(`Child run ${u.id} has no parent`);(o=u.dotted_order)!=null&&o.startsWith(e.dotted_order??"")&&u.id!==e.id&&(u.parent_run_id in r||(r[u.parent_run_id]=[]),r[u.parent_run_id].push(u),i[u.id]=u)}e.child_runs=r[e.id]||[];for(const u in r)u!==e.id&&(i[u].child_runs=r[u]);return e}async*listRuns(e){const{projectId:n,projectName:r,parentRunId:i,traceId:o,referenceExampleId:u,startTime:d,executionOrder:f,isRoot:h,runType:m,error:b,id:y,query:_,filter:v,traceFilter:w,treeFilter:E,limit:x,select:N,order:T}=e;let A=[];if(n&&(A=Array.isArray(n)?n:[n]),r){const U=Array.isArray(r)?r:[r],ie=await Promise.all(U.map(C=>this.readProject({projectName:C}).then(X=>X.id)));A.push(...ie)}const R=["app_path","completion_cost","completion_tokens","dotted_order","end_time","error","events","extra","feedback_stats","first_token_time","id","inputs","name","outputs","parent_run_id","parent_run_ids","prompt_cost","prompt_tokens","reference_example_id","run_type","session_id","start_time","status","tags","total_cost","total_tokens","trace_id"],M={session:A.length?A:null,run_type:m,reference_example:u,query:_,filter:v,trace_filter:w,tree_filter:E,execution_order:f,parent_run:i,start_time:d?d.toISOString():null,error:b,id:y,limit:x,trace:o,select:N||R,is_root:h,order:T};let H=0;for await(const U of this._getCursorPaginatedList("/runs/query",M))if(x){if(H>=x)break;if(U.length+H>x){yield*U.slice(0,x-H);break}H+=U.length,yield*U}else yield*U}async*listGroupRuns(e){const{projectId:n,projectName:r,groupBy:i,filter:o,startTime:u,endTime:d,limit:f,offset:h}=e,b={session_id:n||(await this.readProject({projectName:r})).id,group_by:i,filter:o,start_time:u?u.toISOString():null,end_time:d?d.toISOString():null,limit:Number(f)||100};let y=Number(h)||0;const _="/runs/group",v=`${this.apiUrl}${_}`;for(;;){const w={...b,offset:y},E=Object.fromEntries(Object.entries(w).filter(([R,M])=>M!==void 0)),x=await this.caller.call(ve(),v,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(E),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ke(x,`Failed to fetch ${_}`);const N=await x.json(),{groups:T,total:A}=N;if(T.length===0)break;for(const R of T)yield R;if(y+=T.length,y>=A)break}}async getRunStats({id:e,trace:n,parentRun:r,runType:i,projectNames:o,projectIds:u,referenceExampleIds:d,startTime:f,endTime:h,error:m,query:b,filter:y,traceFilter:_,treeFilter:v,isRoot:w,dataSourceType:E}){let x=u||[];o&&(x=[...u||[],...await Promise.all(o.map(M=>this.readProject({projectName:M}).then(H=>H.id)))]);const T=Object.fromEntries(Object.entries({id:e,trace:n,parent_run:r,run_type:i,session:x,reference_example:d,start_time:f,end_time:h,error:m,query:b,filter:y,trace_filter:_,tree_filter:v,is_root:w,data_source_type:E}).filter(([M,H])=>H!==void 0));return await(await this.caller.call(ve(this.debug),`${this.apiUrl}/runs/stats`,{method:"POST",headers:this.headers,body:JSON.stringify(T),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async shareRun(e,{shareId:n}={}){const r={run_id:e,share_token:n||vn()};Ae(e);const o=await(await this.caller.call(ve(this.debug),`${this.apiUrl}/runs/${e}/share`,{method:"PUT",headers:this.headers,body:JSON.stringify(r),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json();if(o===null||!("share_token"in o))throw new Error("Invalid response from server");return`${this.getHostUrl()}/public/${o.share_token}/r`}async unshareRun(e){Ae(e);const n=await this.caller.call(ve(this.debug),`${this.apiUrl}/runs/${e}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ke(n,"unshare run",!0)}async readRunSharedLink(e){Ae(e);const r=await(await this.caller.call(ve(this.debug),`${this.apiUrl}/runs/${e}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json();if(!(r===null||!("share_token"in r)))return`${this.getHostUrl()}/public/${r.share_token}/r`}async listSharedRuns(e,{runIds:n}={}){const r=new URLSearchParams({share_token:e});if(n!==void 0)for(const u of n)r.append("id",u);return Ae(e),await(await this.caller.call(ve(this.debug),`${this.apiUrl}/public/${e}/runs${r}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async readDatasetSharedSchema(e,n){if(!e&&!n)throw new Error("Either datasetId or datasetName must be given");e||(e=(await this.readDataset({datasetName:n})).id),Ae(e);const i=await(await this.caller.call(ve(this.debug),`${this.apiUrl}/datasets/${e}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json();return i.url=`${this.getHostUrl()}/public/${i.share_token}/d`,i}async shareDataset(e,n){if(!e&&!n)throw new Error("Either datasetId or datasetName must be given");e||(e=(await this.readDataset({datasetName:n})).id);const r={dataset_id:e};Ae(e);const o=await(await this.caller.call(ve(this.debug),`${this.apiUrl}/datasets/${e}/share`,{method:"PUT",headers:this.headers,body:JSON.stringify(r),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json();return o.url=`${this.getHostUrl()}/public/${o.share_token}/d`,o}async unshareDataset(e){Ae(e);const n=await this.caller.call(ve(this.debug),`${this.apiUrl}/datasets/${e}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ke(n,"unshare dataset",!0)}async readSharedDataset(e){return Ae(e),await(await this.caller.call(ve(this.debug),`${this.apiUrl}/public/${e}/datasets`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async listSharedExamples(e,n){const r={};n!=null&&n.exampleIds&&(r.id=n.exampleIds);const i=new URLSearchParams;Object.entries(r).forEach(([d,f])=>{Array.isArray(f)?f.forEach(h=>i.append(d,h)):i.append(d,f)});const o=await this.caller.call(ve(this.debug),`${this.apiUrl}/public/${e}/examples?${i.toString()}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions}),u=await o.json();if(!o.ok)throw"detail"in u?new Error(`Failed to list shared examples.
Status: ${o.status}
Message: ${Array.isArray(u.detail)?u.detail.join(`
`):"Unspecified error"}`):new Error(`Failed to list shared examples: ${o.status} ${o.statusText}`);return u.map(d=>({...d,_hostUrl:this.getHostUrl()}))}async createProject({projectName:e,description:n=null,metadata:r=null,upsert:i=!1,projectExtra:o=null,referenceDatasetId:u=null}){const d=i?"?upsert=true":"",f=`${this.apiUrl}/sessions${d}`,h=o||{};r&&(h.metadata=r);const m={name:e,extra:h,description:n};u!==null&&(m.reference_dataset_id=u);const b=await this.caller.call(ve(this.debug),f,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(m),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await ke(b,"create project"),await b.json()}async updateProject(e,{name:n=null,description:r=null,metadata:i=null,projectExtra:o=null,endTime:u=null}){const d=`${this.apiUrl}/sessions/${e}`;let f=o;i&&(f={...f||{},metadata:i});const h={name:n,extra:f,description:r,end_time:u?new Date(u).toISOString():null},m=await this.caller.call(ve(this.debug),d,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(h),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await ke(m,"update project"),await m.json()}async hasProject({projectId:e,projectName:n}){let r="/sessions";const i=new URLSearchParams;if(e!==void 0&&n!==void 0)throw new Error("Must provide either projectName or projectId, not both");if(e!==void 0)Ae(e),r+=`/${e}`;else if(n!==void 0)i.append("name",n);else throw new Error("Must provide projectName or projectId");const o=await this.caller.call(ve(this.debug),`${this.apiUrl}${r}?${i}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});try{const u=await o.json();return o.ok?Array.isArray(u)?u.length>0:!0:!1}catch{return!1}}async readProject({projectId:e,projectName:n,includeStats:r}){let i="/sessions";const o=new URLSearchParams;if(e!==void 0&&n!==void 0)throw new Error("Must provide either projectName or projectId, not both");if(e!==void 0)Ae(e),i+=`/${e}`;else if(n!==void 0)o.append("name",n);else throw new Error("Must provide projectName or projectId");r!==void 0&&o.append("include_stats",r.toString());const u=await this._get(i,o);let d;if(Array.isArray(u)){if(u.length===0)throw new Error(`Project[id=${e}, name=${n}] not found`);d=u[0]}else d=u;return d}async getProjectUrl({projectId:e,projectName:n}){if(e===void 0&&n===void 0)throw new Error("Must provide either projectName or projectId");const r=await this.readProject({projectId:e,projectName:n}),i=await this._getTenantId();return`${this.getHostUrl()}/o/${i}/projects/p/${r.id}`}async getDatasetUrl({datasetId:e,datasetName:n}){if(e===void 0&&n===void 0)throw new Error("Must provide either datasetName or datasetId");const r=await this.readDataset({datasetId:e,datasetName:n}),i=await this._getTenantId();return`${this.getHostUrl()}/o/${i}/datasets/${r.id}`}async _getTenantId(){if(this._tenantId!==null)return this._tenantId;const e=new URLSearchParams({limit:"1"});for await(const n of this._getPaginated("/sessions",e))return this._tenantId=n[0].tenant_id,n[0].tenant_id;throw new Error("No projects found to resolve tenant.")}async*listProjects({projectIds:e,name:n,nameContains:r,referenceDatasetId:i,referenceDatasetName:o,referenceFree:u,metadata:d}={}){const f=new URLSearchParams;if(e!==void 0)for(const h of e)f.append("id",h);if(n!==void 0&&f.append("name",n),r!==void 0&&f.append("name_contains",r),i!==void 0)f.append("reference_dataset",i);else if(o!==void 0){const h=await this.readDataset({datasetName:o});f.append("reference_dataset",h.id)}u!==void 0&&f.append("reference_free",u.toString()),d!==void 0&&f.append("metadata",JSON.stringify(d));for await(const h of this._getPaginated("/sessions",f))yield*h}async deleteProject({projectId:e,projectName:n}){let r;if(e===void 0&&n===void 0)throw new Error("Must provide projectName or projectId");if(e!==void 0&&n!==void 0)throw new Error("Must provide either projectName or projectId, not both");e===void 0?r=(await this.readProject({projectName:n})).id:r=e,Ae(r);const i=await this.caller.call(ve(this.debug),`${this.apiUrl}/sessions/${r}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ke(i,`delete session ${r} (${n})`,!0)}async uploadCsv({csvFile:e,fileName:n,inputKeys:r,outputKeys:i,description:o,dataType:u,name:d}){const f=`${this.apiUrl}/datasets/upload`,h=new FormData;h.append("file",e,n),r.forEach(y=>{h.append("input_keys",y)}),i.forEach(y=>{h.append("output_keys",y)}),o&&h.append("description",o),u&&h.append("data_type",u),d&&h.append("name",d);const m=await this.caller.call(ve(this.debug),f,{method:"POST",headers:this.headers,body:h,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await ke(m,"upload CSV"),await m.json()}async createDataset(e,{description:n,dataType:r,inputsSchema:i,outputsSchema:o,metadata:u}={}){const d={name:e,description:n,extra:u?{metadata:u}:void 0};r&&(d.data_type=r),i&&(d.inputs_schema_definition=i),o&&(d.outputs_schema_definition=o);const f=await this.caller.call(ve(this.debug),`${this.apiUrl}/datasets`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(d),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await ke(f,"create dataset"),await f.json()}async readDataset({datasetId:e,datasetName:n}){let r="/datasets";const i=new URLSearchParams({limit:"1"});if(e!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(e!==void 0)Ae(e),r+=`/${e}`;else if(n!==void 0)i.append("name",n);else throw new Error("Must provide datasetName or datasetId");const o=await this._get(r,i);let u;if(Array.isArray(o)){if(o.length===0)throw new Error(`Dataset[id=${e}, name=${n}] not found`);u=o[0]}else u=o;return u}async hasDataset({datasetId:e,datasetName:n}){try{return await this.readDataset({datasetId:e,datasetName:n}),!0}catch(r){if(r instanceof Error&&r.message.toLocaleLowerCase().includes("not found"))return!1;throw r}}async diffDatasetVersions({datasetId:e,datasetName:n,fromVersion:r,toVersion:i}){let o=e;if(o===void 0&&n===void 0)throw new Error("Must provide either datasetName or datasetId");if(o!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");o===void 0&&(o=(await this.readDataset({datasetName:n})).id);const u=new URLSearchParams({from_version:typeof r=="string"?r:r.toISOString(),to_version:typeof i=="string"?i:i.toISOString()});return await this._get(`/datasets/${o}/versions/diff`,u)}async readDatasetOpenaiFinetuning({datasetId:e,datasetName:n}){const r="/datasets";if(e===void 0)if(n!==void 0)e=(await this.readDataset({datasetName:n})).id;else throw new Error("Must provide either datasetName or datasetId");return(await(await this._getResponse(`${r}/${e}/openai_ft`)).text()).trim().split(`
`).map(d=>JSON.parse(d))}async*listDatasets({limit:e=100,offset:n=0,datasetIds:r,datasetName:i,datasetNameContains:o,metadata:u}={}){const d="/datasets",f=new URLSearchParams({limit:e.toString(),offset:n.toString()});if(r!==void 0)for(const h of r)f.append("id",h);i!==void 0&&f.append("name",i),o!==void 0&&f.append("name_contains",o),u!==void 0&&f.append("metadata",JSON.stringify(u));for await(const h of this._getPaginated(d,f))yield*h}async updateDataset(e){const{datasetId:n,datasetName:r,...i}=e;if(!n&&!r)throw new Error("Must provide either datasetName or datasetId");const o=n??(await this.readDataset({datasetName:r})).id;Ae(o);const u=await this.caller.call(ve(this.debug),`${this.apiUrl}/datasets/${o}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(i),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await ke(u,"update dataset"),await u.json()}async updateDatasetTag(e){const{datasetId:n,datasetName:r,asOf:i,tag:o}=e;if(!n&&!r)throw new Error("Must provide either datasetName or datasetId");const u=n??(await this.readDataset({datasetName:r})).id;Ae(u);const d=await this.caller.call(ve(this.debug),`${this.apiUrl}/datasets/${u}/tags`,{method:"PUT",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify({as_of:typeof i=="string"?i:i.toISOString(),tag:o}),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ke(d,"update dataset tags")}async deleteDataset({datasetId:e,datasetName:n}){let r="/datasets",i=e;if(e!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(n!==void 0&&(i=(await this.readDataset({datasetName:n})).id),i!==void 0)Ae(i),r+=`/${i}`;else throw new Error("Must provide datasetName or datasetId");const o=await this.caller.call(ve(this.debug),this.apiUrl+r,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ke(o,`delete ${r}`),await o.json()}async indexDataset({datasetId:e,datasetName:n,tag:r}){let i=e;if(!i&&!n)throw new Error("Must provide either datasetName or datasetId");if(i&&n)throw new Error("Must provide either datasetName or datasetId, not both");i||(i=(await this.readDataset({datasetName:n})).id),Ae(i);const o={tag:r},u=await this.caller.call(ve(this.debug),`${this.apiUrl}/datasets/${i}/index`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(o),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ke(u,"index dataset"),await u.json()}async similarExamples(e,n,r,{filter:i}={}){const o={limit:r,inputs:e};i!==void 0&&(o.filter=i),Ae(n);const u=await this.caller.call(ve(this.debug),`${this.apiUrl}/datasets/${n}/search`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(o),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await ke(u,"fetch similar examples"),(await u.json()).examples}async createExample(e,n,r){var m;if(_S(e)&&(n!==void 0||r!==void 0))throw new Error("Cannot provide outputs or options when using ExampleCreate object");let i=n?r==null?void 0:r.datasetId:e.dataset_id;const o=n?r==null?void 0:r.datasetName:e.dataset_name;if(i===void 0&&o===void 0)throw new Error("Must provide either datasetName or datasetId");if(i!==void 0&&o!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");i===void 0&&(i=(await this.readDataset({datasetName:o})).id);const u=(n?r==null?void 0:r.createdAt:e.created_at)||new Date;let d;_S(e)?d=e:d={inputs:e,outputs:n,created_at:u==null?void 0:u.toISOString(),id:r==null?void 0:r.exampleId,metadata:r==null?void 0:r.metadata,split:r==null?void 0:r.split,source_run_id:r==null?void 0:r.sourceRunId,use_source_run_io:r==null?void 0:r.useSourceRunIO,use_source_run_attachments:r==null?void 0:r.useSourceRunAttachments,attachments:r==null?void 0:r.attachments};const f=await this._uploadExamplesMultipart(i,[d]);return await this.readExample(((m=f.example_ids)==null?void 0:m[0])??vn())}async createExamples(e){if(Array.isArray(e)){if(e.length===0)return[];const N=e;let T=N[0].dataset_id;const A=N[0].dataset_name;if(T===void 0&&A===void 0)throw new Error("Must provide either datasetName or datasetId");if(T!==void 0&&A!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");T===void 0&&(T=(await this.readDataset({datasetName:A})).id);const R=await this._uploadExamplesMultipart(T,N);return await Promise.all(R.example_ids.map(H=>this.readExample(H)))}const{inputs:n,outputs:r,metadata:i,splits:o,sourceRunIds:u,useSourceRunIOs:d,useSourceRunAttachments:f,attachments:h,exampleIds:m,datasetId:b,datasetName:y}=e;if(n===void 0)throw new Error("Must provide inputs when using legacy parameters");let _=b;const v=y;if(_===void 0&&v===void 0)throw new Error("Must provide either datasetName or datasetId");if(_!==void 0&&v!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");_===void 0&&(_=(await this.readDataset({datasetName:v})).id);const w=n.map((N,T)=>({dataset_id:_,inputs:N,outputs:r==null?void 0:r[T],metadata:i==null?void 0:i[T],split:o==null?void 0:o[T],id:m==null?void 0:m[T],attachments:h==null?void 0:h[T],source_run_id:u==null?void 0:u[T],use_source_run_io:d==null?void 0:d[T],use_source_run_attachments:f==null?void 0:f[T]})),E=await this._uploadExamplesMultipart(_,w);return await Promise.all(E.example_ids.map(N=>this.readExample(N)))}async createLLMExample(e,n,r){return this.createExample({input:e},{output:n},r)}async createChatExample(e,n,r){const i=e.map(u=>Ew(u)?Tw(u):u),o=Ew(n)?Tw(n):n;return this.createExample({input:i},{output:o},r)}async readExample(e){Ae(e);const n=`/examples/${e}`,r=await this._get(n),{attachment_urls:i,...o}=r,u=o;return i&&(u.attachments=Object.entries(i).reduce((d,[f,h])=>(d[f.slice(11)]={presigned_url:h.presigned_url,mime_type:h.mime_type},d),{})),u}async*listExamples({datasetId:e,datasetName:n,exampleIds:r,asOf:i,splits:o,inlineS3Urls:u,metadata:d,limit:f,offset:h,filter:m,includeAttachments:b}={}){let y;if(e!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(e!==void 0)y=e;else if(n!==void 0)y=(await this.readDataset({datasetName:n})).id;else throw new Error("Must provide a datasetName or datasetId");const _=new URLSearchParams({dataset:y}),v=i?typeof i=="string"?i:i==null?void 0:i.toISOString():void 0;v&&_.append("as_of",v);const w=u??!0;if(_.append("inline_s3_urls",w.toString()),r!==void 0)for(const x of r)_.append("id",x);if(o!==void 0)for(const x of o)_.append("splits",x);if(d!==void 0){const x=JSON.stringify(d);_.append("metadata",x)}f!==void 0&&_.append("limit",f.toString()),h!==void 0&&_.append("offset",h.toString()),m!==void 0&&_.append("filter",m),b===!0&&["attachment_urls","outputs","metadata"].forEach(x=>_.append("select",x));let E=0;for await(const x of this._getPaginated("/examples",_)){for(const N of x){const{attachment_urls:T,...A}=N,R=A;T&&(R.attachments=Object.entries(T).reduce((M,[H,U])=>(M[H.slice(11)]={presigned_url:U.presigned_url,mime_type:U.mime_type||void 0},M),{})),yield R,E++}if(f!==void 0&&E>=f)break}}async deleteExample(e){Ae(e);const n=`/examples/${e}`,r=await this.caller.call(ve(this.debug),this.apiUrl+n,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ke(r,`delete ${n}`),await r.json()}async updateExample(e,n){let r;n?r=e:r=e.id,Ae(r);let i;n?i={id:r,...n}:i=e;let o;return i.dataset_id!==void 0?o=i.dataset_id:o=(await this.readExample(r)).dataset_id,this._updateExamplesMultipart(o,[i])}async updateExamples(e){let n;return e[0].dataset_id===void 0?n=(await this.readExample(e[0].id)).dataset_id:n=e[0].dataset_id,this._updateExamplesMultipart(n,e)}async readDatasetVersion({datasetId:e,datasetName:n,asOf:r,tag:i}){let o;if(e?o=e:o=(await this.readDataset({datasetName:n})).id,Ae(o),r&&i||!r&&!i)throw new Error("Exactly one of asOf and tag must be specified.");const u=new URLSearchParams;r!==void 0&&u.append("as_of",typeof r=="string"?r:r.toISOString()),i!==void 0&&u.append("tag",i);const d=await this.caller.call(ve(this.debug),`${this.apiUrl}/datasets/${o}/version?${u.toString()}`,{method:"GET",headers:{...this.headers},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await ke(d,"read dataset version"),await d.json()}async listDatasetSplits({datasetId:e,datasetName:n,asOf:r}){let i;if(e===void 0&&n===void 0)throw new Error("Must provide dataset name or ID");if(e!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");e===void 0?i=(await this.readDataset({datasetName:n})).id:i=e,Ae(i);const o=new URLSearchParams,u=r?typeof r=="string"?r:r==null?void 0:r.toISOString():void 0;return u&&o.append("as_of",u),await this._get(`/datasets/${i}/splits`,o)}async updateDatasetSplits({datasetId:e,datasetName:n,splitName:r,exampleIds:i,remove:o=!1}){let u;if(e===void 0&&n===void 0)throw new Error("Must provide dataset name or ID");if(e!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");e===void 0?u=(await this.readDataset({datasetName:n})).id:u=e,Ae(u);const d={split_name:r,examples:i.map(h=>(Ae(h),h)),remove:o},f=await this.caller.call(ve(this.debug),`${this.apiUrl}/datasets/${u}/splits`,{method:"PUT",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(d),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ke(f,"update dataset splits",!0)}async evaluateRun(e,n,{sourceInfo:r,loadChildRuns:i,referenceExample:o}={loadChildRuns:!1}){vE("This method is deprecated and will be removed in future LangSmith versions, use `evaluate` from `langsmith/evaluation` instead.");let u;if(typeof e=="string")u=await this.readRun(e,{loadChildRuns:i});else if(typeof e=="object"&&"id"in e)u=e;else throw new Error(`Invalid run type: ${typeof e}`);u.reference_example_id!==null&&u.reference_example_id!==void 0&&(o=await this.readExample(u.reference_example_id));const d=await n.evaluateRun(u,o),[f,h]=await this._logEvaluationFeedback(d,u,r);return h[0]}async createFeedback(e,n,{score:r,value:i,correction:o,comment:u,sourceInfo:d,feedbackSourceType:f="api",sourceRunId:h,feedbackId:m,feedbackConfig:b,projectId:y,comparativeExperimentId:_}){var N;if(!e&&!y)throw new Error("One of runId or projectId must be provided");if(e&&y)throw new Error("Only one of runId or projectId can be provided");const v={type:f??"api",metadata:d??{}};h!==void 0&&(v==null?void 0:v.metadata)!==void 0&&!v.metadata.__run&&(v.metadata.__run={run_id:h}),(v==null?void 0:v.metadata)!==void 0&&((N=v.metadata.__run)==null?void 0:N.run_id)!==void 0&&Ae(v.metadata.__run.run_id);const w={id:m??vn(),run_id:e,key:n,score:vS(r),value:i,correction:o,comment:u,feedback_source:v,comparative_experiment_id:_,feedbackConfig:b,session_id:y},E=`${this.apiUrl}/feedback`,x=await this.caller.call(ve(this.debug),E,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(w),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await ke(x,"create feedback",!0),w}async updateFeedback(e,{score:n,value:r,correction:i,comment:o}){const u={};n!=null&&(u.score=vS(n)),r!=null&&(u.value=r),i!=null&&(u.correction=i),o!=null&&(u.comment=o),Ae(e);const d=await this.caller.call(ve(this.debug),`${this.apiUrl}/feedback/${e}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(u),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ke(d,"update feedback",!0)}async readFeedback(e){Ae(e);const n=`/feedback/${e}`;return await this._get(n)}async deleteFeedback(e){Ae(e);const n=`/feedback/${e}`,r=await this.caller.call(ve(this.debug),this.apiUrl+n,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ke(r,`delete ${n}`),await r.json()}async*listFeedback({runIds:e,feedbackKeys:n,feedbackSourceTypes:r}={}){const i=new URLSearchParams;if(e&&i.append("run",e.join(",")),n)for(const o of n)i.append("key",o);if(r)for(const o of r)i.append("source",o);for await(const o of this._getPaginated("/feedback",i))yield*o}async createPresignedFeedbackToken(e,n,{expiration:r,feedbackConfig:i}={}){const o={run_id:e,feedback_key:n,feedback_config:i};return r?typeof r=="string"?o.expires_at=r:(r!=null&&r.hours||r!=null&&r.minutes||r!=null&&r.days)&&(o.expires_in=r):o.expires_in={hours:3},await(await this.caller.call(ve(this.debug),`${this.apiUrl}/feedback/tokens`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(o),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async createComparativeExperiment({name:e,experimentIds:n,referenceDatasetId:r,createdAt:i,description:o,metadata:u,id:d}){var m;if(n.length===0)throw new Error("At least one experiment is required");if(r||(r=(await this.readProject({projectId:n[0]})).reference_dataset_id),!r==null)throw new Error("A reference dataset is required");const f={id:d,name:e,experiment_ids:n,reference_dataset_id:r,description:o,created_at:(m=i??new Date)==null?void 0:m.toISOString(),extra:{}};return u&&(f.extra.metadata=u),await(await this.caller.call(ve(this.debug),`${this.apiUrl}/datasets/comparative`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(f),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async*listPresignedFeedbackTokens(e){Ae(e);const n=new URLSearchParams({run_id:e});for await(const r of this._getPaginated("/feedback/tokens",n))yield*r}_selectEvalResults(e){let n;return"results"in e?n=e.results:Array.isArray(e)?n=e:n=[e],n}async _logEvaluationFeedback(e,n,r){const i=this._selectEvalResults(e),o=[];for(const u of i){let d=r||{};u.evaluatorInfo&&(d={...u.evaluatorInfo,...d});let f=null;u.targetRunId?f=u.targetRunId:n&&(f=n.id),o.push(await this.createFeedback(f,u.key,{score:u.score,value:u.value,comment:u.comment,correction:u.correction,sourceInfo:d,sourceRunId:u.sourceRunId,feedbackConfig:u.feedbackConfig,feedbackSourceType:"model"}))}return[i,o]}async logEvaluationFeedback(e,n,r){const[i]=await this._logEvaluationFeedback(e,n,r);return i}async*listAnnotationQueues(e={}){const{queueIds:n,name:r,nameContains:i,limit:o}=e,u=new URLSearchParams;n&&n.forEach((f,h)=>{Ae(f,`queueIds[${h}]`),u.append("ids",f)}),r&&u.append("name",r),i&&u.append("name_contains",i),u.append("limit",(o!==void 0?Math.min(o,100):100).toString());let d=0;for await(const f of this._getPaginated("/annotation-queues",u))if(yield*f,d++,o!==void 0&&d>=o)break}async createAnnotationQueue(e){const{name:n,description:r,queueId:i,rubricInstructions:o}=e,u={name:n,description:r,id:i||vn(),rubric_instructions:o},d=await this.caller.call(ve(this.debug),`${this.apiUrl}/annotation-queues`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(Object.fromEntries(Object.entries(u).filter(([h,m])=>m!==void 0))),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await ke(d,"create annotation queue"),await d.json()}async readAnnotationQueue(e){const n=await this.caller.call(ve(this.debug),`${this.apiUrl}/annotation-queues/${Ae(e,"queueId")}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await ke(n,"read annotation queue"),await n.json()}async updateAnnotationQueue(e,n){const{name:r,description:i,rubricInstructions:o}=n,u=await this.caller.call(ve(this.debug),`${this.apiUrl}/annotation-queues/${Ae(e,"queueId")}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify({name:r,description:i,rubric_instructions:o}),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ke(u,"update annotation queue")}async deleteAnnotationQueue(e){const n=await this.caller.call(ve(this.debug),`${this.apiUrl}/annotation-queues/${Ae(e,"queueId")}`,{method:"DELETE",headers:{...this.headers,Accept:"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ke(n,"delete annotation queue")}async addRunsToAnnotationQueue(e,n){const r=await this.caller.call(ve(this.debug),`${this.apiUrl}/annotation-queues/${Ae(e,"queueId")}/runs`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(n.map((i,o)=>Ae(i,`runIds[${o}]`).toString())),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ke(r,"add runs to annotation queue")}async getRunFromAnnotationQueue(e,n){const r=`/annotation-queues/${Ae(e,"queueId")}/run`,i=await this.caller.call(ve(this.debug),`${this.apiUrl}${r}/${n}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await ke(i,"get run from annotation queue"),await i.json()}async deleteRunFromAnnotationQueue(e,n){const r=await this.caller.call(ve(this.debug),`${this.apiUrl}/annotation-queues/${Ae(e,"queueId")}/runs/${Ae(n,"queueRunId")}`,{method:"DELETE",headers:{...this.headers,Accept:"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ke(r,"delete run from annotation queue")}async getSizeFromAnnotationQueue(e){const n=await this.caller.call(ve(this.debug),`${this.apiUrl}/annotation-queues/${Ae(e,"queueId")}/size`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await ke(n,"get size from annotation queue"),await n.json()}async _currentTenantIsOwner(e){const n=await this._getSettings();return e=="-"||n.tenant_handle===e}async _ownerConflictError(e,n){const r=await this._getSettings();return new Error(`Cannot ${e} for another tenant.

      Current tenant: ${r.tenant_handle}

      Requested tenant: ${n}`)}async _getLatestCommitHash(e){const n=await this.caller.call(ve(this.debug),`${this.apiUrl}/commits/${e}/?limit=1&offset=0`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions}),r=await n.json();if(!n.ok){const i=typeof r.detail=="string"?r.detail:JSON.stringify(r.detail),o=new Error(`Error ${n.status}: ${n.statusText}
${i}`);throw o.statusCode=n.status,o}if(r.commits.length!==0)return r.commits[0].commit_hash}async _likeOrUnlikePrompt(e,n){const[r,i,o]=za(e),u=await this.caller.call(ve(this.debug),`${this.apiUrl}/likes/${r}/${i}`,{method:"POST",body:JSON.stringify({like:n}),headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await ke(u,`${n?"like":"unlike"} prompt`),await u.json()}async _getPromptUrl(e){const[n,r,i]=za(e);if(await this._currentTenantIsOwner(n)){const o=await this._getSettings();return i!=="latest"?`${this.getHostUrl()}/prompts/${r}/${i.substring(0,8)}?organizationId=${o.id}`:`${this.getHostUrl()}/prompts/${r}?organizationId=${o.id}`}else return i!=="latest"?`${this.getHostUrl()}/hub/${n}/${r}/${i.substring(0,8)}`:`${this.getHostUrl()}/hub/${n}/${r}`}async promptExists(e){return!!await this.getPrompt(e)}async likePrompt(e){return this._likeOrUnlikePrompt(e,!0)}async unlikePrompt(e){return this._likeOrUnlikePrompt(e,!1)}async*listCommits(e){for await(const n of this._getPaginated(`/commits/${e}/`,new URLSearchParams,r=>r.commits))yield*n}async*listPrompts(e){const n=new URLSearchParams;n.append("sort_field",(e==null?void 0:e.sortField)??"updated_at"),n.append("sort_direction","desc"),n.append("is_archived",(!!(e!=null&&e.isArchived)).toString()),(e==null?void 0:e.isPublic)!==void 0&&n.append("is_public",e.isPublic.toString()),e!=null&&e.query&&n.append("query",e.query);for await(const r of this._getPaginated("/repos",n,i=>i.repos))yield*r}async getPrompt(e){const[n,r,i]=za(e),o=await this.caller.call(ve(this.debug),`${this.apiUrl}/repos/${n}/${r}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(o.status===404)return null;await ke(o,"get prompt");const u=await o.json();return u.repo?u.repo:null}async createPrompt(e,n){const r=await this._getSettings();if(n!=null&&n.isPublic&&!r.tenant_handle)throw new Error(`Cannot create a public prompt without first

        creating a LangChain Hub handle. 
        You can add a handle by creating a public prompt at:

        https://smith.langchain.com/prompts`);const[i,o,u]=za(e);if(!await this._currentTenantIsOwner(i))throw await this._ownerConflictError("create a prompt",i);const d={repo_handle:o,...(n==null?void 0:n.description)&&{description:n.description},...(n==null?void 0:n.readme)&&{readme:n.readme},...(n==null?void 0:n.tags)&&{tags:n.tags},is_public:!!(n!=null&&n.isPublic)},f=await this.caller.call(ve(this.debug),`${this.apiUrl}/repos/`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(d),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ke(f,"create prompt");const{repo:h}=await f.json();return h}async createCommit(e,n,r){if(!await this.promptExists(e))throw new Error("Prompt does not exist, you must create it first.");const[i,o,u]=za(e),d=(r==null?void 0:r.parentCommitHash)==="latest"||!(r!=null&&r.parentCommitHash)?await this._getLatestCommitHash(`${i}/${o}`):r==null?void 0:r.parentCommitHash,f={manifest:JSON.parse(JSON.stringify(n)),parent_commit:d},h=await this.caller.call(ve(this.debug),`${this.apiUrl}/commits/${i}/${o}`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(f),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ke(h,"create commit");const m=await h.json();return this._getPromptUrl(`${i}/${o}${m.commit_hash?`:${m.commit_hash}`:""}`)}async updateExamplesMultipart(e,n=[]){return this._updateExamplesMultipart(e,n)}async _updateExamplesMultipart(e,n=[]){var d;if(!await this._getMultiPartSupport())throw new Error("Your LangSmith deployment does not allow using the multipart examples endpoint, please upgrade your deployment to the latest version.");const r=new FormData;for(const f of n){const h=f.id,m={...f.metadata&&{metadata:f.metadata},...f.split&&{split:f.split}},b=Un(m,`Serializing body for example with id: ${h}`),y=new Blob([b],{type:"application/json"});if(r.append(h,y),f.inputs){const _=Un(f.inputs,`Serializing inputs for example with id: ${h}`),v=new Blob([_],{type:"application/json"});r.append(`${h}.inputs`,v)}if(f.outputs){const _=Un(f.outputs,`Serializing outputs whle updating example with id: ${h}`),v=new Blob([_],{type:"application/json"});r.append(`${h}.outputs`,v)}if(f.attachments)for(const[_,v]of Object.entries(f.attachments)){let w,E;Array.isArray(v)?[w,E]=v:(w=v.mimeType,E=v.data);const x=new Blob([E],{type:`${w}; length=${E.byteLength}`});r.append(`${h}.attachment.${_}`,x)}if(f.attachments_operations){const _=Un(f.attachments_operations,`Serializing attachments while updating example with id: ${h}`),v=new Blob([_],{type:"application/json"});r.append(`${h}.attachments_operations`,v)}}const i=e??((d=n[0])==null?void 0:d.dataset_id);return await(await this.caller.call(ve(this.debug),`${this.apiUrl}/v1/platform/datasets/${i}/examples`,{method:"PATCH",headers:this.headers,body:r})).json()}async uploadExamplesMultipart(e,n=[]){return this._uploadExamplesMultipart(e,n)}async _uploadExamplesMultipart(e,n=[]){if(!await this._getMultiPartSupport())throw new Error("Your LangSmith deployment does not allow using the multipart examples endpoint, please upgrade your deployment to the latest version.");const r=new FormData;for(const u of n){const d=(u.id??vn()).toString(),f={created_at:u.created_at,...u.metadata&&{metadata:u.metadata},...u.split&&{split:u.split},...u.source_run_id&&{source_run_id:u.source_run_id},...u.use_source_run_io&&{use_source_run_io:u.use_source_run_io},...u.use_source_run_attachments&&{use_source_run_attachments:u.use_source_run_attachments}},h=Un(f,`Serializing body for uploaded example with id: ${d}`),m=new Blob([h],{type:"application/json"});if(r.append(d,m),u.inputs){const b=Un(u.inputs,`Serializing inputs for uploaded example with id: ${d}`),y=new Blob([b],{type:"application/json"});r.append(`${d}.inputs`,y)}if(u.outputs){const b=Un(u.outputs,`Serializing outputs for uploaded example with id: ${d}`),y=new Blob([b],{type:"application/json"});r.append(`${d}.outputs`,y)}if(u.attachments)for(const[b,y]of Object.entries(u.attachments)){let _,v;Array.isArray(y)?[_,v]=y:(_=y.mimeType,v=y.data);const w=new Blob([v],{type:`${_}; length=${v.byteLength}`});r.append(`${d}.attachment.${b}`,w)}}const i=await this.caller.call(ve(this.debug),`${this.apiUrl}/v1/platform/datasets/${e}/examples`,{method:"POST",headers:this.headers,body:r});return await ke(i,"upload examples"),await i.json()}async updatePrompt(e,n){if(!await this.promptExists(e))throw new Error("Prompt does not exist, you must create it first.");const[r,i]=za(e);if(!await this._currentTenantIsOwner(r))throw await this._ownerConflictError("update a prompt",r);const o={};if((n==null?void 0:n.description)!==void 0&&(o.description=n.description),(n==null?void 0:n.readme)!==void 0&&(o.readme=n.readme),(n==null?void 0:n.tags)!==void 0&&(o.tags=n.tags),(n==null?void 0:n.isPublic)!==void 0&&(o.is_public=n.isPublic),(n==null?void 0:n.isArchived)!==void 0&&(o.is_archived=n.isArchived),Object.keys(o).length===0)throw new Error("No valid update options provided");const u=await this.caller.call(ve(this.debug),`${this.apiUrl}/repos/${r}/${i}`,{method:"PATCH",body:JSON.stringify(o),headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await ke(u,"update prompt"),u.json()}async deletePrompt(e){if(!await this.promptExists(e))throw new Error("Prompt does not exist, you must create it first.");const[n,r,i]=za(e);if(!await this._currentTenantIsOwner(n))throw await this._ownerConflictError("delete a prompt",n);return await(await this.caller.call(ve(this.debug),`${this.apiUrl}/repos/${n}/${r}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async pullPromptCommit(e,n){const[r,i,o]=za(e),u=await this.caller.call(ve(this.debug),`${this.apiUrl}/commits/${r}/${i}/${o}${n!=null&&n.includeModel?"?include_model=true":""}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ke(u,"pull prompt commit");const d=await u.json();return{owner:r,repo:i,commit_hash:d.commit_hash,manifest:d.manifest,examples:d.examples}}async _pullPrompt(e,n){const r=await this.pullPromptCommit(e,{includeModel:n==null?void 0:n.includeModel});return JSON.stringify(r.manifest)}async pushPrompt(e,n){return await this.promptExists(e)?n&&Object.keys(n).some(i=>i!=="object")&&await this.updatePrompt(e,{description:n==null?void 0:n.description,readme:n==null?void 0:n.readme,tags:n==null?void 0:n.tags,isPublic:n==null?void 0:n.isPublic}):await this.createPrompt(e,{description:n==null?void 0:n.description,readme:n==null?void 0:n.readme,tags:n==null?void 0:n.tags,isPublic:n==null?void 0:n.isPublic}),n!=null&&n.object?await this.createCommit(e,n==null?void 0:n.object,{parentCommitHash:n==null?void 0:n.parentCommitHash}):await this._getPromptUrl(e)}async clonePublicDataset(e,n={}){const{sourceApiUrl:r=this.apiUrl,datasetName:i}=n,[o,u]=this.parseTokenOrUrl(e,r),d=new $l({apiUrl:o,apiKey:"placeholder"}),f=await d.readSharedDataset(u),h=i||f.name;try{if(await this.hasDataset({datasetId:h})){console.log(`Dataset ${h} already exists in your tenant. Skipping.`);return}}catch{}const m=await d.listSharedExamples(u),b=await this.createDataset(h,{description:f.description,dataType:f.data_type||"kv",inputsSchema:f.inputs_schema_definition??void 0,outputsSchema:f.outputs_schema_definition??void 0});try{await this.createExamples({inputs:m.map(y=>y.inputs),outputs:m.flatMap(y=>y.outputs?[y.outputs]:[]),datasetId:b.id})}catch(y){throw console.error(`An error occurred while creating dataset ${h}. You should delete it manually.`),y}}parseTokenOrUrl(e,n,r=2,i="dataset"){try{return Ae(e),[n,e]}catch{}try{const u=new URL(e).pathname.split("/").filter(d=>d!=="");if(u.length>=r){const d=u[u.length-r];return[n,d]}else throw new Error(`Invalid public ${i} URL: ${e}`)}catch{throw new Error(`Invalid public ${i} URL or token: ${e}`)}}awaitPendingTraceBatches(){return this.manualFlushMode?(console.warn("[WARNING]: When tracing in manual flush mode, you must call `await client.flush()` manually to submit trace batches."),Promise.resolve()):Promise.all([...this.autoBatchQueue.items.map(({itemPromise:e})=>e),this.batchIngestCaller.queue.onIdle()])}}function _S(t){return"dataset_id"in t||"dataset_name"in t}const m2=t=>!!["TRACING_V2","TRACING"].find(n=>kr(n)==="true"),bm=Symbol.for("lc:context_variables");function g2(t){return t.replace(/[-:.]/g,"")}function y2(t,e,n=1){const r=n.toFixed(0).slice(0,3).padStart(3,"0");return g2(`${new Date(t).toISOString().slice(0,-1)}${r}Z`)+e}class Yc{constructor(e,n,r,i){Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"project_name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"replicas",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.metadata=e,this.tags=n,this.project_name=r,this.replicas=i}static fromHeader(e){const n=e.split(",");let r={},i=[],o,u;for(const d of n){const[f,h]=d.split("="),m=decodeURIComponent(h);f==="langsmith-metadata"?r=JSON.parse(m):f==="langsmith-tags"?i=m.split(","):f==="langsmith-project"?o=m:f==="langsmith-replicas"&&(u=JSON.parse(m))}return new Yc(r,i,o,u)}toHeader(){const e=[];return this.metadata&&Object.keys(this.metadata).length>0&&e.push(`langsmith-metadata=${encodeURIComponent(JSON.stringify(this.metadata))}`),this.tags&&this.tags.length>0&&e.push(`langsmith-tags=${encodeURIComponent(this.tags.join(","))}`),this.project_name&&e.push(`langsmith-project=${encodeURIComponent(this.project_name)}`),e.join(",")}}class On{constructor(e){var d;if(Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"run_type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"project_name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"parent_run",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"child_runs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"start_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"end_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"extra",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"error",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"serialized",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"outputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reference_example_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"trace_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dotted_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tracingEnabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"execution_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"child_execution_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"attachments",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"replicas",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),TE(e)){Object.assign(this,{...e});return}const n=On.getDefaultConfig(),{metadata:r,...i}=e,o=i.client??On.getSharedClient(),u={...r,...(d=i==null?void 0:i.extra)==null?void 0:d.metadata};if(i.extra={...i.extra,metadata:u},Object.assign(this,{...n,...i,client:o}),this.trace_id||(this.parent_run?this.trace_id=this.parent_run.trace_id??this.id:this.trace_id=this.id),this.execution_order??(this.execution_order=1),this.child_execution_order??(this.child_execution_order=1),!this.dotted_order){const f=y2(this.start_time,this.id,this.execution_order);this.parent_run?this.dotted_order=this.parent_run.dotted_order+"."+f:this.dotted_order=f}}set metadata(e){var n;this.extra={...this.extra,metadata:{...(n=this.extra)==null?void 0:n.metadata,...e}}}get metadata(){var e;return(e=this.extra)==null?void 0:e.metadata}static getDefaultConfig(){return{id:vn(),run_type:"chain",project_name:pE(),child_runs:[],api_url:Wa("LANGCHAIN_ENDPOINT")??"http://localhost:1984",api_key:Wa("LANGCHAIN_API_KEY"),caller_options:{},start_time:Date.now(),serialized:{},inputs:{},extra:{}}}static getSharedClient(){return On.sharedClient||(On.sharedClient=new $l),On.sharedClient}createChild(e){var f,h,m,b,y,_;const n=this.child_execution_order+1,r=new On({...e,parent_run:this,project_name:this.project_name,replicas:this.replicas,client:this.client,tracingEnabled:this.tracingEnabled,execution_order:n,child_execution_order:n});bm in this&&(r[bm]=this[bm]);const i=Symbol.for("lc:child_config"),o=((f=e.extra)==null?void 0:f[i])??this.extra[i];if(v2(o)){const v={...o},w=b2(v.callbacks)?(m=(h=v.callbacks).copy)==null?void 0:m.call(h):void 0;w&&(Object.assign(w,{_parentRunId:r.id}),(_=(y=(b=w.handlers)==null?void 0:b.find(xE))==null?void 0:y.updateFromRunTree)==null||_.call(y,r),v.callbacks=w),r.extra[i]=v}const u=new Set;let d=this;for(;d!=null&&!u.has(d.id);)u.add(d.id),d.child_execution_order=Math.max(d.child_execution_order,n),d=d.parent_run;return this.child_runs.push(r),r}async end(e,n,r=Date.now(),i){this.outputs=this.outputs??e,this.error=this.error??n,this.end_time=this.end_time??r,i&&Object.keys(i).length>0&&(this.extra=this.extra?{...this.extra,metadata:{...this.extra.metadata,...i}}:{metadata:i})}_convertToCreate(e,n,r=!0){var d,f;const i=e.extra??{};if(((d=i==null?void 0:i.runtime)==null?void 0:d.library)===void 0&&(i.runtime||(i.runtime={}),n))for(const[h,m]of Object.entries(n))i.runtime[h]||(i.runtime[h]=m);let o,u;return r?(u=(f=e.parent_run)==null?void 0:f.id,o=[]):(o=e.child_runs.map(h=>this._convertToCreate(h,n,r)),u=void 0),{id:e.id,name:e.name,start_time:e.start_time,end_time:e.end_time,run_type:e.run_type,reference_example_id:e.reference_example_id,extra:i,serialized:e.serialized,error:e.error,inputs:e.inputs,outputs:e.outputs,session_name:e.project_name,child_runs:o,parent_run_id:u,trace_id:e.trace_id,dotted_order:e.dotted_order,tags:e.tags,attachments:e.attachments,events:e.events}}_remapForProject(e,n,r=!0){const i=this._convertToCreate(this,n,r);if(e===this.project_name)return i;const o=b=>mw(`${b}:${e}`,mw.DNS),u=o(i.id),d=i.trace_id?o(i.trace_id):void 0,f=i.parent_run_id?o(i.parent_run_id):void 0;let h;if(i.dotted_order){const b=_2(i.dotted_order),y=[];for(let v=0;v<b.length-1;v++){const[w,E]=b[v],x=o(E);y.push(w.toISOString().replace(/[-:]/g,"").replace(".","")+x)}const[_]=b[b.length-1];y.push(_.toISOString().replace(/[-:]/g,"").replace(".","")+u),h=y.join(".")}else h=void 0;return{...i,id:u,trace_id:d,parent_run_id:f,dotted_order:h,session_name:e}}async postRun(e=!0){try{const n=yE();if(this.replicas&&this.replicas.length>0)for(const[r]of this.replicas){const i=this._remapForProject(r,n,!0);await this.client.createRun(i)}else{const r=this._convertToCreate(this,n,e);await this.client.createRun(r)}if(!e){vE("Posting with excludeChildRuns=false is deprecated and will be removed in a future version.");for(const r of this.child_runs)await r.postRun(!1)}}catch(n){console.error(`Error in postRun for run ${this.id}:`,n)}}async patchRun(){var e;if(this.replicas&&this.replicas.length>0)for(const[n,r]of this.replicas){const i=this._remapForProject(n);await this.client.updateRun(i.id,{inputs:i.inputs,outputs:i.outputs,error:i.error,parent_run_id:i.parent_run_id,session_name:i.session_name,reference_example_id:i.reference_example_id,end_time:i.end_time,dotted_order:i.dotted_order,trace_id:i.trace_id,events:i.events,tags:i.tags,extra:i.extra,attachments:this.attachments,...r})}else try{const n={end_time:this.end_time,error:this.error,inputs:this.inputs,outputs:this.outputs,parent_run_id:(e=this.parent_run)==null?void 0:e.id,reference_example_id:this.reference_example_id,extra:this.extra,events:this.events,dotted_order:this.dotted_order,trace_id:this.trace_id,tags:this.tags,attachments:this.attachments,session_name:this.project_name};await this.client.updateRun(this.id,n)}catch(n){console.error(`Error in patchRun for run ${this.id}`,n)}}toJSON(){return this._convertToCreate(this,void 0,!1)}addEvent(e){this.events||(this.events=[]),typeof e=="string"?this.events.push({name:"event",time:new Date().toISOString(),message:e}):this.events.push({...e,time:e.time??new Date().toISOString()})}static fromRunnableConfig(e,n){var h,m,b,y;const r=e==null?void 0:e.callbacks;let i,o,u,d=m2();if(r){const _=((h=r==null?void 0:r.getParentRunId)==null?void 0:h.call(r))??"",v=(m=r==null?void 0:r.handlers)==null?void 0:m.find(w=>(w==null?void 0:w.name)=="langchain_tracer");i=(b=v==null?void 0:v.getRun)==null?void 0:b.call(v,_),o=v==null?void 0:v.projectName,u=v==null?void 0:v.client,d=d||!!v}return i?new On({name:i.name,id:i.id,trace_id:i.trace_id,dotted_order:i.dotted_order,client:u,tracingEnabled:d,project_name:o,tags:[...new Set(((i==null?void 0:i.tags)??[]).concat((e==null?void 0:e.tags)??[]))],extra:{metadata:{...(y=i==null?void 0:i.extra)==null?void 0:y.metadata,...e==null?void 0:e.metadata}}}).createChild(n):new On({...n,client:u,tracingEnabled:d,project_name:o})}static fromDottedOrder(e){return this.fromHeaders({"langsmith-trace":e})}static fromHeaders(e,n){var h;const r="get"in e&&typeof e.get=="function"?{"langsmith-trace":e.get("langsmith-trace"),baggage:e.get("baggage")}:e,i=r["langsmith-trace"];if(!i||typeof i!="string")return;const o=i.trim(),u=o.split(".").map(m=>{const[b,y]=m.split("Z");return{strTime:b,time:Date.parse(b+"Z"),uuid:y}}),d=u[0].uuid,f={...n,name:(n==null?void 0:n.name)??"parent",run_type:(n==null?void 0:n.run_type)??"chain",start_time:(n==null?void 0:n.start_time)??Date.now(),id:(h=u.at(-1))==null?void 0:h.uuid,trace_id:d,dotted_order:o};if(r.baggage&&typeof r.baggage=="string"){const m=Yc.fromHeader(r.baggage);f.metadata=m.metadata,f.tags=m.tags,f.project_name=m.project_name,f.replicas=m.replicas}return new On(f)}toHeaders(e){var r;const n={"langsmith-trace":this.dotted_order,baggage:new Yc((r=this.extra)==null?void 0:r.metadata,this.tags,this.project_name,this.replicas).toHeader()};if(e)for(const[i,o]of Object.entries(n))e.set(i,o);return n}}Object.defineProperty(On,"sharedClient",{enumerable:!0,configurable:!0,writable:!0,value:null});function TE(t){return t!==void 0&&typeof t.createChild=="function"&&typeof t.postRun=="function"}function xE(t){return typeof t=="object"&&t!=null&&typeof t.name=="string"&&t.name==="langchain_tracer"}function wS(t){return Array.isArray(t)&&t.some(e=>xE(e))}function b2(t){return typeof t=="object"&&t!=null&&Array.isArray(t.handlers)}function v2(t){var e;return t!==void 0&&typeof t.callbacks=="object"&&(wS((e=t.callbacks)==null?void 0:e.handlers)||wS(t.callbacks))}function _2(t){return t.split(".").map(n=>{const r=n.slice(0,-36),i=n.slice(-36),o=parseInt(r.slice(0,4)),u=parseInt(r.slice(4,6))-1,d=parseInt(r.slice(6,8)),f=parseInt(r.slice(9,11)),h=parseInt(r.slice(11,13)),m=parseInt(r.slice(13,15)),b=parseInt(r.slice(15,21));return[new Date(o,u,d,f,h,m,b/1e3),i]})}let w2=class{getStore(){}run(e,n){return n()}};const vm=Symbol.for("ls:tracing_async_local_storage"),S2=new w2;let E2=class{getInstance(){return globalThis[vm]??S2}initializeGlobalInstance(e){globalThis[vm]===void 0&&(globalThis[vm]=e)}};const T2=new E2;function x2(t=!1){const e=T2.getInstance().getStore();if(!t&&!TE(e))throw new Error(`Could not get the current run tree.

Please make sure you are calling this method within a traceable function and that tracing is enabled.`);return e}function Gg(t){return typeof t=="function"&&"langsmith:traceable"in t}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */const R2=Object.prototype.hasOwnProperty;function Wm(t,e){return R2.call(t,e)}function Jm(t){if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<n.length;r++)n[r]=""+r;return n}if(Object.keys)return Object.keys(t);let e=[];for(let n in t)Wm(t,n)&&e.push(n);return e}function $r(t){switch(typeof t){case"object":return JSON.parse(JSON.stringify(t));case"undefined":return null;default:return t}}function eg(t){let e=0;const n=t.length;let r;for(;e<n;){if(r=t.charCodeAt(e),r>=48&&r<=57){e++;continue}return!1}return!0}function xs(t){return t.indexOf("/")===-1&&t.indexOf("~")===-1?t:t.replace(/~/g,"~0").replace(/\//g,"~1")}function O2(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}function tg(t){if(t===void 0)return!0;if(t){if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(tg(t[n]))return!0}else if(typeof t=="object"){const n=Jm(t),r=n.length;for(var e=0;e<r;e++)if(tg(t[n[e]]))return!0}}return!1}function SS(t,e){const n=[t];for(const r in e){const i=typeof e[r]=="object"?JSON.stringify(e[r],null,2):e[r];typeof i<"u"&&n.push(`${r}: ${i}`)}return n.join(`
`)}class C2 extends Error{constructor(e,n,r,i,o){super(SS(e,{name:n,index:r,operation:i,tree:o})),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"index",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"operation",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"tree",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.setPrototypeOf(this,new.target.prototype),this.message=SS(e,{name:n,index:r,operation:i,tree:o})}}const Lt=C2,Ps={add:function(t,e,n){return t[e]=this.value,{newDocument:n}},remove:function(t,e,n){var r=t[e];return delete t[e],{newDocument:n,removed:r}},replace:function(t,e,n){var r=t[e];return t[e]=this.value,{newDocument:n,removed:r}},move:function(t,e,n){let r=ng(n,this.path);r&&(r=$r(r));const i=Sl(n,{op:"remove",path:this.from}).removed;return Sl(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(t,e,n){const r=ng(n,this.from);return Sl(n,{op:"add",path:this.path,value:$r(r)}),{newDocument:n}},test:function(t,e,n){return{newDocument:n,test:Xc(t[e],this.value)}},_get:function(t,e,n){return this.value=t[e],{newDocument:n}}};var A2={add:function(t,e,n){return eg(e)?t.splice(e,0,this.value):t[e]=this.value,{newDocument:n,index:e}},remove:function(t,e,n){var r=t.splice(e,1);return{newDocument:n,removed:r[0]}},replace:function(t,e,n){var r=t[e];return t[e]=this.value,{newDocument:n,removed:r}},move:Ps.move,copy:Ps.copy,test:Ps.test,_get:Ps._get};function ng(t,e){if(e=="")return t;var n={op:"_get",path:e};return Sl(t,n),n.value}function Sl(t,e,n=!1,r=!0,i=!0,o=0){if(n&&(typeof n=="function"?n(e,0,t,e.path):rg(e,0)),e.path===""){let u={newDocument:t};if(e.op==="add")return u.newDocument=e.value,u;if(e.op==="replace")return u.newDocument=e.value,u.removed=t,u;if(e.op==="move"||e.op==="copy")return u.newDocument=ng(t,e.from),e.op==="move"&&(u.removed=t),u;if(e.op==="test"){if(u.test=Xc(t,e.value),u.test===!1)throw new Lt("Test operation failed","TEST_OPERATION_FAILED",o,e,t);return u.newDocument=t,u}else{if(e.op==="remove")return u.removed=t,u.newDocument=null,u;if(e.op==="_get")return e.value=t,u;if(n)throw new Lt("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",o,e,t);return u}}else{r||(t=$r(t));const d=(e.path||"").split("/");let f=t,h=1,m=d.length,b,y,_;for(typeof n=="function"?_=n:_=rg;;){if(y=d[h],y&&y.indexOf("~")!=-1&&(y=O2(y)),i&&(y=="__proto__"||y=="prototype"&&h>0&&d[h-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&b===void 0&&(f[y]===void 0?b=d.slice(0,h).join("/"):h==m-1&&(b=e.path),b!==void 0&&_(e,0,t,b)),h++,Array.isArray(f)){if(y==="-")y=f.length;else{if(n&&!eg(y))throw new Lt("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",o,e,t);eg(y)&&(y=~~y)}if(h>=m){if(n&&e.op==="add"&&y>f.length)throw new Lt("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",o,e,t);const v=A2[e.op].call(e,f,y,t);if(v.test===!1)throw new Lt("Test operation failed","TEST_OPERATION_FAILED",o,e,t);return v}}else if(h>=m){const v=Ps[e.op].call(e,f,y,t);if(v.test===!1)throw new Lt("Test operation failed","TEST_OPERATION_FAILED",o,e,t);return v}if(f=f[y],n&&h<m&&(!f||typeof f!="object"))throw new Lt("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",o,e,t)}}}function Kc(t,e,n,r=!0,i=!0){if(n&&!Array.isArray(e))throw new Lt("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(t=$r(t));const o=new Array(e.length);for(let u=0,d=e.length;u<d;u++)o[u]=Sl(t,e[u],n,!0,i,u),t=o[u].newDocument;return o.newDocument=t,o}function rg(t,e,n,r){if(typeof t!="object"||t===null||Array.isArray(t))throw new Lt("Operation is not an object","OPERATION_NOT_AN_OBJECT",e,t,n);if(Ps[t.op]){if(typeof t.path!="string")throw new Lt("Operation `path` property is not a string","OPERATION_PATH_INVALID",e,t,n);if(t.path.indexOf("/")!==0&&t.path.length>0)throw new Lt('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",e,t,n);if((t.op==="move"||t.op==="copy")&&typeof t.from!="string")throw new Lt("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",e,t,n);if((t.op==="add"||t.op==="replace"||t.op==="test")&&t.value===void 0)throw new Lt("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",e,t,n);if((t.op==="add"||t.op==="replace"||t.op==="test")&&tg(t.value))throw new Lt("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",e,t,n);if(n){if(t.op=="add"){var i=t.path.split("/").length,o=r.split("/").length;if(i!==o+1&&i!==o)throw new Lt("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",e,t,n)}else if(t.op==="replace"||t.op==="remove"||t.op==="_get"){if(t.path!==r)throw new Lt("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",e,t,n)}else if(t.op==="move"||t.op==="copy"){var u={op:"_get",path:t.from,value:void 0},d=N2([u],n);if(d&&d.name==="OPERATION_PATH_UNRESOLVABLE")throw new Lt("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",e,t,n)}}}else throw new Lt("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",e,t,n)}function N2(t,e,n){try{if(!Array.isArray(t))throw new Lt("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(e)Kc($r(e),$r(t),n||!0);else{n=n||rg;for(var r=0;r<t.length;r++)n(t[r],r,e,void 0)}}catch(i){if(i instanceof Lt)return i;throw i}}function Xc(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var n=Array.isArray(t),r=Array.isArray(e),i,o,u;if(n&&r){if(o=t.length,o!=e.length)return!1;for(i=o;i--!==0;)if(!Xc(t[i],e[i]))return!1;return!0}if(n!=r)return!1;var d=Object.keys(t);if(o=d.length,o!==Object.keys(e).length)return!1;for(i=o;i--!==0;)if(!e.hasOwnProperty(d[i]))return!1;for(i=o;i--!==0;)if(u=d[i],!Xc(t[u],e[u]))return!1;return!0}return t!==t&&e!==e}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2013-2021 Joachim Wester
 * MIT license
 */function RE(t,e,n,r,i){if(e!==t){typeof e.toJSON=="function"&&(e=e.toJSON());for(var o=Jm(e),u=Jm(t),d=!1,f=u.length-1;f>=0;f--){var h=u[f],m=t[h];if(Wm(e,h)&&!(e[h]===void 0&&m!==void 0&&Array.isArray(e)===!1)){var b=e[h];typeof m=="object"&&m!=null&&typeof b=="object"&&b!=null&&Array.isArray(m)===Array.isArray(b)?RE(m,b,n,r+"/"+xs(h),i):m!==b&&(i&&n.push({op:"test",path:r+"/"+xs(h),value:$r(m)}),n.push({op:"replace",path:r+"/"+xs(h),value:$r(b)}))}else Array.isArray(t)===Array.isArray(e)?(i&&n.push({op:"test",path:r+"/"+xs(h),value:$r(m)}),n.push({op:"remove",path:r+"/"+xs(h)}),d=!0):(i&&n.push({op:"test",path:r,value:t}),n.push({op:"replace",path:r,value:e}))}if(!(!d&&o.length==u.length))for(var f=0;f<o.length;f++){var h=o[f];!Wm(t,h)&&e[h]!==void 0&&n.push({op:"add",path:r+"/"+xs(h),value:$r(e[h])})}}}function k2(t,e,n=!1){var r=[];return RE(t,e,r,"",n),r}class I2{}function j2(t){return"lc_prefer_streaming"in t&&t.lc_prefer_streaming}class Yl extends I2{get lc_namespace(){return["langchain_core","callbacks",this.name]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}get lc_serializable_keys(){}static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,sE(this.constructor)]}constructor(e){super(),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ignoreLLM",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreChain",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreAgent",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreRetriever",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreCustomEvent",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"raiseError",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"awaitHandlers",{enumerable:!0,configurable:!0,writable:!0,value:Ai("LANGCHAIN_CALLBACKS_BACKGROUND")==="false"}),this.lc_kwargs=e||{},e&&(this.ignoreLLM=e.ignoreLLM??this.ignoreLLM,this.ignoreChain=e.ignoreChain??this.ignoreChain,this.ignoreAgent=e.ignoreAgent??this.ignoreAgent,this.ignoreRetriever=e.ignoreRetriever??this.ignoreRetriever,this.ignoreCustomEvent=e.ignoreCustomEvent??this.ignoreCustomEvent,this.raiseError=e.raiseError??this.raiseError,this.awaitHandlers=this.raiseError||(e._awaitHandler??this.awaitHandlers))}copy(){return new this.constructor(this)}toJSON(){return ji.prototype.toJSON.call(this)}toJSONNotImplemented(){return ji.prototype.toJSONNotImplemented.call(this)}static fromMethods(e){class n extends Yl{constructor(){super(),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:vn()}),Object.assign(this,e)}}return new n}}const $2=t=>{const e=t;return e!==void 0&&typeof e.copy=="function"&&typeof e.name=="string"&&typeof e.awaitHandlers=="boolean"},M2=t=>{if(t)return t.events=t.events??[],t.child_runs=t.child_runs??[],t};function ag(t,e){if(t)return new On({...t,parent_run:ag(e),child_runs:t.child_runs.map(n=>ag(n)).filter(n=>n!==void 0),extra:{...t.extra,runtime:tC()},tracingEnabled:!1})}function _m(t,e){return t&&!Array.isArray(t)&&typeof t=="object"?t:{[e]:t}}function P2(t){return t.replace(/[-:.]/g,"")}function L2(t,e,n){const r=n.toFixed(0).slice(0,3).padStart(3,"0");return P2(`${new Date(t).toISOString().slice(0,-1)}${r}Z`)+e}function sl(t){return typeof t._addRunToRunMap=="function"}class Kl extends Yl{constructor(e){super(...arguments),Object.defineProperty(this,"runMap",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"runTreeMap",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"usesRunTreeMap",{enumerable:!0,configurable:!0,writable:!0,value:!1})}copy(){return this}getRunById(e){if(e!==void 0)return this.usesRunTreeMap?M2(this.runTreeMap.get(e)):this.runMap.get(e)}stringifyError(e){return e instanceof Error?e.message+(e!=null&&e.stack?`

${e.stack}`:""):typeof e=="string"?e:`${e}`}_addChildRun(e,n){e.child_runs.push(n)}_addRunToRunMap(e){const n=L2(e.start_time,e.id,e.execution_order),r={...e},i=this.getRunById(r.parent_run_id);if(r.parent_run_id!==void 0?i&&(this._addChildRun(i,r),i.child_execution_order=Math.max(i.child_execution_order,r.child_execution_order),r.trace_id=i.trace_id,i.dotted_order!==void 0&&(r.dotted_order=[i.dotted_order,n].join("."))):(r.trace_id=r.id,r.dotted_order=n),this.usesRunTreeMap){const o=ag(r,i);o!==void 0&&this.runTreeMap.set(r.id,o)}else this.runMap.set(r.id,r);return r}async _endTrace(e){var r;const n=e.parent_run_id!==void 0&&this.getRunById(e.parent_run_id);n?n.child_execution_order=Math.max(n.child_execution_order,e.child_execution_order):await this.persistRun(e),await((r=this.onRunUpdate)==null?void 0:r.call(this,e)),this.usesRunTreeMap?this.runTreeMap.delete(e.id):this.runMap.delete(e.id)}_getExecutionOrder(e){const n=e!==void 0&&this.getRunById(e);return n?n.child_execution_order+1:1}_createRunForLLMStart(e,n,r,i,o,u,d,f){const h=this._getExecutionOrder(i),m=Date.now(),b=d?{...o,metadata:d}:o,y={id:r,name:f??e.id[e.id.length-1],parent_run_id:i,start_time:m,serialized:e,events:[{name:"start",time:new Date(m).toISOString()}],inputs:{prompts:n},execution_order:h,child_runs:[],child_execution_order:h,run_type:"llm",extra:b??{},tags:u||[]};return this._addRunToRunMap(y)}async handleLLMStart(e,n,r,i,o,u,d,f){var m,b;const h=this.getRunById(r)??this._createRunForLLMStart(e,n,r,i,o,u,d,f);return await((m=this.onRunCreate)==null?void 0:m.call(this,h)),await((b=this.onLLMStart)==null?void 0:b.call(this,h)),h}_createRunForChatModelStart(e,n,r,i,o,u,d,f){const h=this._getExecutionOrder(i),m=Date.now(),b=d?{...o,metadata:d}:o,y={id:r,name:f??e.id[e.id.length-1],parent_run_id:i,start_time:m,serialized:e,events:[{name:"start",time:new Date(m).toISOString()}],inputs:{messages:n},execution_order:h,child_runs:[],child_execution_order:h,run_type:"llm",extra:b??{},tags:u||[]};return this._addRunToRunMap(y)}async handleChatModelStart(e,n,r,i,o,u,d,f){var m,b;const h=this.getRunById(r)??this._createRunForChatModelStart(e,n,r,i,o,u,d,f);return await((m=this.onRunCreate)==null?void 0:m.call(this,h)),await((b=this.onLLMStart)==null?void 0:b.call(this,h)),h}async handleLLMEnd(e,n,r,i,o){var d;const u=this.getRunById(n);if(!u||(u==null?void 0:u.run_type)!=="llm")throw new Error("No LLM run to end.");return u.end_time=Date.now(),u.outputs=e,u.events.push({name:"end",time:new Date(u.end_time).toISOString()}),u.extra={...u.extra,...o},await((d=this.onLLMEnd)==null?void 0:d.call(this,u)),await this._endTrace(u),u}async handleLLMError(e,n,r,i,o){var d;const u=this.getRunById(n);if(!u||(u==null?void 0:u.run_type)!=="llm")throw new Error("No LLM run to end.");return u.end_time=Date.now(),u.error=this.stringifyError(e),u.events.push({name:"error",time:new Date(u.end_time).toISOString()}),u.extra={...u.extra,...o},await((d=this.onLLMError)==null?void 0:d.call(this,u)),await this._endTrace(u),u}_createRunForChainStart(e,n,r,i,o,u,d,f){const h=this._getExecutionOrder(i),m=Date.now(),b={id:r,name:f??e.id[e.id.length-1],parent_run_id:i,start_time:m,serialized:e,events:[{name:"start",time:new Date(m).toISOString()}],inputs:n,execution_order:h,child_execution_order:h,run_type:d??"chain",child_runs:[],extra:u?{metadata:u}:{},tags:o||[]};return this._addRunToRunMap(b)}async handleChainStart(e,n,r,i,o,u,d,f){var m,b;const h=this.getRunById(r)??this._createRunForChainStart(e,n,r,i,o,u,d,f);return await((m=this.onRunCreate)==null?void 0:m.call(this,h)),await((b=this.onChainStart)==null?void 0:b.call(this,h)),h}async handleChainEnd(e,n,r,i,o){var d;const u=this.getRunById(n);if(!u)throw new Error("No chain run to end.");return u.end_time=Date.now(),u.outputs=_m(e,"output"),u.events.push({name:"end",time:new Date(u.end_time).toISOString()}),(o==null?void 0:o.inputs)!==void 0&&(u.inputs=_m(o.inputs,"input")),await((d=this.onChainEnd)==null?void 0:d.call(this,u)),await this._endTrace(u),u}async handleChainError(e,n,r,i,o){var d;const u=this.getRunById(n);if(!u)throw new Error("No chain run to end.");return u.end_time=Date.now(),u.error=this.stringifyError(e),u.events.push({name:"error",time:new Date(u.end_time).toISOString()}),(o==null?void 0:o.inputs)!==void 0&&(u.inputs=_m(o.inputs,"input")),await((d=this.onChainError)==null?void 0:d.call(this,u)),await this._endTrace(u),u}_createRunForToolStart(e,n,r,i,o,u,d){const f=this._getExecutionOrder(i),h=Date.now(),m={id:r,name:d??e.id[e.id.length-1],parent_run_id:i,start_time:h,serialized:e,events:[{name:"start",time:new Date(h).toISOString()}],inputs:{input:n},execution_order:f,child_execution_order:f,run_type:"tool",child_runs:[],extra:u?{metadata:u}:{},tags:o||[]};return this._addRunToRunMap(m)}async handleToolStart(e,n,r,i,o,u,d){var h,m;const f=this.getRunById(r)??this._createRunForToolStart(e,n,r,i,o,u,d);return await((h=this.onRunCreate)==null?void 0:h.call(this,f)),await((m=this.onToolStart)==null?void 0:m.call(this,f)),f}async handleToolEnd(e,n){var i;const r=this.getRunById(n);if(!r||(r==null?void 0:r.run_type)!=="tool")throw new Error("No tool run to end");return r.end_time=Date.now(),r.outputs={output:e},r.events.push({name:"end",time:new Date(r.end_time).toISOString()}),await((i=this.onToolEnd)==null?void 0:i.call(this,r)),await this._endTrace(r),r}async handleToolError(e,n){var i;const r=this.getRunById(n);if(!r||(r==null?void 0:r.run_type)!=="tool")throw new Error("No tool run to end");return r.end_time=Date.now(),r.error=this.stringifyError(e),r.events.push({name:"error",time:new Date(r.end_time).toISOString()}),await((i=this.onToolError)==null?void 0:i.call(this,r)),await this._endTrace(r),r}async handleAgentAction(e,n){var o;const r=this.getRunById(n);if(!r||(r==null?void 0:r.run_type)!=="chain")return;const i=r;i.actions=i.actions||[],i.actions.push(e),i.events.push({name:"agent_action",time:new Date().toISOString(),kwargs:{action:e}}),await((o=this.onAgentAction)==null?void 0:o.call(this,r))}async handleAgentEnd(e,n){var i;const r=this.getRunById(n);!r||(r==null?void 0:r.run_type)!=="chain"||(r.events.push({name:"agent_end",time:new Date().toISOString(),kwargs:{action:e}}),await((i=this.onAgentEnd)==null?void 0:i.call(this,r)))}_createRunForRetrieverStart(e,n,r,i,o,u,d){const f=this._getExecutionOrder(i),h=Date.now(),m={id:r,name:d??e.id[e.id.length-1],parent_run_id:i,start_time:h,serialized:e,events:[{name:"start",time:new Date(h).toISOString()}],inputs:{query:n},execution_order:f,child_execution_order:f,run_type:"retriever",child_runs:[],extra:u?{metadata:u}:{},tags:o||[]};return this._addRunToRunMap(m)}async handleRetrieverStart(e,n,r,i,o,u,d){var h,m;const f=this.getRunById(r)??this._createRunForRetrieverStart(e,n,r,i,o,u,d);return await((h=this.onRunCreate)==null?void 0:h.call(this,f)),await((m=this.onRetrieverStart)==null?void 0:m.call(this,f)),f}async handleRetrieverEnd(e,n){var i;const r=this.getRunById(n);if(!r||(r==null?void 0:r.run_type)!=="retriever")throw new Error("No retriever run to end");return r.end_time=Date.now(),r.outputs={documents:e},r.events.push({name:"end",time:new Date(r.end_time).toISOString()}),await((i=this.onRetrieverEnd)==null?void 0:i.call(this,r)),await this._endTrace(r),r}async handleRetrieverError(e,n){var i;const r=this.getRunById(n);if(!r||(r==null?void 0:r.run_type)!=="retriever")throw new Error("No retriever run to end");return r.end_time=Date.now(),r.error=this.stringifyError(e),r.events.push({name:"error",time:new Date(r.end_time).toISOString()}),await((i=this.onRetrieverError)==null?void 0:i.call(this,r)),await this._endTrace(r),r}async handleText(e,n){var i;const r=this.getRunById(n);!r||(r==null?void 0:r.run_type)!=="chain"||(r.events.push({name:"text",time:new Date().toISOString(),kwargs:{text:e}}),await((i=this.onText)==null?void 0:i.call(this,r)))}async handleLLMNewToken(e,n,r,i,o,u){var f;const d=this.getRunById(r);if(!d||(d==null?void 0:d.run_type)!=="llm")throw new Error('Invalid "runId" provided to "handleLLMNewToken" callback.');return d.events.push({name:"new_token",time:new Date().toISOString(),kwargs:{token:e,idx:n,chunk:u==null?void 0:u.chunk}}),await((f=this.onLLMNewToken)==null?void 0:f.call(this,d,e,{chunk:u==null?void 0:u.chunk})),d}}var jc={exports:{}};jc.exports;var ES;function D2(){return ES||(ES=1,function(t){const n=(o=0)=>u=>`\x1B[${38+o};5;${u}m`,r=(o=0)=>(u,d,f)=>`\x1B[${38+o};2;${u};${d};${f}m`;function i(){const o=new Map,u={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};u.color.gray=u.color.blackBright,u.bgColor.bgGray=u.bgColor.bgBlackBright,u.color.grey=u.color.blackBright,u.bgColor.bgGrey=u.bgColor.bgBlackBright;for(const[d,f]of Object.entries(u)){for(const[h,m]of Object.entries(f))u[h]={open:`\x1B[${m[0]}m`,close:`\x1B[${m[1]}m`},f[h]=u[h],o.set(m[0],m[1]);Object.defineProperty(u,d,{value:f,enumerable:!1})}return Object.defineProperty(u,"codes",{value:o,enumerable:!1}),u.color.close="\x1B[39m",u.bgColor.close="\x1B[49m",u.color.ansi256=n(),u.color.ansi16m=r(),u.bgColor.ansi256=n(10),u.bgColor.ansi16m=r(10),Object.defineProperties(u,{rgbToAnsi256:{value:(d,f,h)=>d===f&&f===h?d<8?16:d>248?231:Math.round((d-8)/247*24)+232:16+36*Math.round(d/255*5)+6*Math.round(f/255*5)+Math.round(h/255*5),enumerable:!1},hexToRgb:{value:d=>{const f=/(?<colorString>[a-f\d]{6}|[a-f\d]{3})/i.exec(d.toString(16));if(!f)return[0,0,0];let{colorString:h}=f.groups;h.length===3&&(h=h.split("").map(b=>b+b).join(""));const m=Number.parseInt(h,16);return[m>>16&255,m>>8&255,m&255]},enumerable:!1},hexToAnsi256:{value:d=>u.rgbToAnsi256(...u.hexToRgb(d)),enumerable:!1}}),u}Object.defineProperty(t,"exports",{enumerable:!0,get:i})}(jc)),jc.exports}var U2=D2();const OE=ri(U2);function yn(t,e){return`${t.open}${e}${t.close}`}function er(t,e){try{return JSON.stringify(t,null,2)}catch{return e}}function TS(t){return typeof t=="string"?t.trim():t==null?t:er(t,t.toString())}function Ba(t){if(!t.end_time)return"";const e=t.end_time-t.start_time;return e<1e3?`${e}ms`:`${(e/1e3).toFixed(2)}s`}const{color:Rn}=OE;class xS extends Kl{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"console_callback_handler"})}persistRun(e){return Promise.resolve()}getParents(e){const n=[];let r=e;for(;r.parent_run_id;){const i=this.runMap.get(r.parent_run_id);if(i)n.push(i),r=i;else break}return n}getBreadcrumbs(e){const r=[...this.getParents(e).reverse(),e].map((i,o,u)=>{const d=`${i.execution_order}:${i.run_type}:${i.name}`;return o===u.length-1?yn(OE.bold,d):d}).join(" > ");return yn(Rn.grey,r)}onChainStart(e){const n=this.getBreadcrumbs(e);console.log(`${yn(Rn.green,"[chain/start]")} [${n}] Entering Chain run with input: ${er(e.inputs,"[inputs]")}`)}onChainEnd(e){const n=this.getBreadcrumbs(e);console.log(`${yn(Rn.cyan,"[chain/end]")} [${n}] [${Ba(e)}] Exiting Chain run with output: ${er(e.outputs,"[outputs]")}`)}onChainError(e){const n=this.getBreadcrumbs(e);console.log(`${yn(Rn.red,"[chain/error]")} [${n}] [${Ba(e)}] Chain run errored with error: ${er(e.error,"[error]")}`)}onLLMStart(e){const n=this.getBreadcrumbs(e),r="prompts"in e.inputs?{prompts:e.inputs.prompts.map(i=>i.trim())}:e.inputs;console.log(`${yn(Rn.green,"[llm/start]")} [${n}] Entering LLM run with input: ${er(r,"[inputs]")}`)}onLLMEnd(e){const n=this.getBreadcrumbs(e);console.log(`${yn(Rn.cyan,"[llm/end]")} [${n}] [${Ba(e)}] Exiting LLM run with output: ${er(e.outputs,"[response]")}`)}onLLMError(e){const n=this.getBreadcrumbs(e);console.log(`${yn(Rn.red,"[llm/error]")} [${n}] [${Ba(e)}] LLM run errored with error: ${er(e.error,"[error]")}`)}onToolStart(e){const n=this.getBreadcrumbs(e);console.log(`${yn(Rn.green,"[tool/start]")} [${n}] Entering Tool run with input: "${TS(e.inputs.input)}"`)}onToolEnd(e){var r;const n=this.getBreadcrumbs(e);console.log(`${yn(Rn.cyan,"[tool/end]")} [${n}] [${Ba(e)}] Exiting Tool run with output: "${TS((r=e.outputs)==null?void 0:r.output)}"`)}onToolError(e){const n=this.getBreadcrumbs(e);console.log(`${yn(Rn.red,"[tool/error]")} [${n}] [${Ba(e)}] Tool run errored with error: ${er(e.error,"[error]")}`)}onRetrieverStart(e){const n=this.getBreadcrumbs(e);console.log(`${yn(Rn.green,"[retriever/start]")} [${n}] Entering Retriever run with input: ${er(e.inputs,"[inputs]")}`)}onRetrieverEnd(e){const n=this.getBreadcrumbs(e);console.log(`${yn(Rn.cyan,"[retriever/end]")} [${n}] [${Ba(e)}] Exiting Retriever run with output: ${er(e.outputs,"[outputs]")}`)}onRetrieverError(e){const n=this.getBreadcrumbs(e);console.log(`${yn(Rn.red,"[retriever/error]")} [${n}] [${Ba(e)}] Retriever run errored with error: ${er(e.error,"[error]")}`)}onAgentAction(e){const n=e,r=this.getBreadcrumbs(e);console.log(`${yn(Rn.blue,"[agent/action]")} [${r}] Agent selected action: ${er(n.actions[n.actions.length-1],"[action]")}`)}}let wm;const z2=()=>{if(wm===void 0){const t=Ai("LANGCHAIN_CALLBACKS_BACKGROUND")==="false"?{blockOnRootRunFinalization:!0}:{};wm=new $l(t)}return wm};class El extends Kl{constructor(e={}){super(e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"langchain_tracer"}),Object.defineProperty(this,"projectName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"exampleId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"replicas",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"usesRunTreeMap",{enumerable:!0,configurable:!0,writable:!0,value:!0});const{exampleId:n,projectName:r,client:i,replicas:o}=e;this.projectName=r??pE(),this.replicas=o,this.exampleId=n,this.client=i??z2();const u=El.getTraceableRunTree();u&&this.updateFromRunTree(u)}async persistRun(e){}async onRunCreate(e){const n=this.getRunTreeWithTracingConfig(e.id);await(n==null?void 0:n.postRun())}async onRunUpdate(e){const n=this.getRunTreeWithTracingConfig(e.id);await(n==null?void 0:n.patchRun())}getRun(e){return this.runTreeMap.get(e)}updateFromRunTree(e){let n=e;const r=new Set;for(;n.parent_run&&!(r.has(n.id)||(r.add(n.id),!n.parent_run));)n=n.parent_run;r.clear();const i=[n];for(;i.length>0;){const o=i.shift();!o||r.has(o.id)||(r.add(o.id),this.runTreeMap.set(o.id,o),o.child_runs&&i.push(...o.child_runs))}this.client=e.client??this.client,this.replicas=e.replicas??this.replicas,this.projectName=e.project_name??this.projectName,this.exampleId=e.reference_example_id??this.exampleId}getRunTreeWithTracingConfig(e){const n=this.runTreeMap.get(e);if(n)return new On({...n,client:this.client,project_name:this.projectName,replicas:this.replicas,reference_example_id:this.exampleId,tracingEnabled:!0})}static getTraceableRunTree(){try{return x2(!0)}catch{return}}}const CE=Symbol.for("ls:tracing_async_local_storage"),$c=Symbol.for("lc:context_variables"),B2=t=>{globalThis[CE]=t},Ml=()=>globalThis[CE];let Tl;function H2(){const t="default"in ua?ua.default:ua;return new t({autoStart:!0,concurrency:1})}function q2(){return typeof Tl>"u"&&(Tl=H2()),Tl}async function Gt(t,e){if(e===!0){const n=Ml();n!==void 0?await n.run(void 0,async()=>t()):await t()}else Tl=q2(),Tl.add(async()=>{const n=Ml();n!==void 0?await n.run(void 0,async()=>t()):await t()})}const G2=t=>!!["LANGSMITH_TRACING_V2","LANGCHAIN_TRACING_V2","LANGSMITH_TRACING","LANGCHAIN_TRACING"].find(n=>Ai(n)==="true");function AE(t){var r;const e=Ml();if(e===void 0)return;const n=e.getStore();return(r=n==null?void 0:n[$c])==null?void 0:r[t]}const F2=Symbol("lc:configure_hooks"),V2=()=>AE(F2)||[];class Z2{setHandler(e){return this.setHandlers([e])}}class _d{constructor(e,n,r,i,o,u,d,f){Object.defineProperty(this,"runId",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"handlers",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"inheritableHandlers",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"inheritableTags",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:u}),Object.defineProperty(this,"inheritableMetadata",{enumerable:!0,configurable:!0,writable:!0,value:d}),Object.defineProperty(this,"_parentRunId",{enumerable:!0,configurable:!0,writable:!0,value:f})}get parentRunId(){return this._parentRunId}async handleText(e){await Promise.all(this.handlers.map(n=>Gt(async()=>{var r;try{await((r=n.handleText)==null?void 0:r.call(n,e,this.runId,this._parentRunId,this.tags))}catch(i){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleText: ${i}`),n.raiseError)throw i}},n.awaitHandlers)))}async handleCustomEvent(e,n,r,i,o){await Promise.all(this.handlers.map(u=>Gt(async()=>{var d;try{await((d=u.handleCustomEvent)==null?void 0:d.call(u,e,n,this.runId,this.tags,this.metadata))}catch(f){if((u.raiseError?console.error:console.warn)(`Error in handler ${u.constructor.name}, handleCustomEvent: ${f}`),u.raiseError)throw f}},u.awaitHandlers)))}}class Y2 extends _d{getChild(e){const n=new Cn(this.runId);return n.setHandlers(this.inheritableHandlers),n.addTags(this.inheritableTags),n.addMetadata(this.inheritableMetadata),e&&n.addTags([e],!1),n}async handleRetrieverEnd(e){await Promise.all(this.handlers.map(n=>Gt(async()=>{var r;if(!n.ignoreRetriever)try{await((r=n.handleRetrieverEnd)==null?void 0:r.call(n,e,this.runId,this._parentRunId,this.tags))}catch(i){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleRetriever`),n.raiseError)throw i}},n.awaitHandlers)))}async handleRetrieverError(e){await Promise.all(this.handlers.map(n=>Gt(async()=>{var r;if(!n.ignoreRetriever)try{await((r=n.handleRetrieverError)==null?void 0:r.call(n,e,this.runId,this._parentRunId,this.tags))}catch(i){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleRetrieverError: ${i}`),n.raiseError)throw e}},n.awaitHandlers)))}}class RS extends _d{async handleLLMNewToken(e,n,r,i,o,u){await Promise.all(this.handlers.map(d=>Gt(async()=>{var f;if(!d.ignoreLLM)try{await((f=d.handleLLMNewToken)==null?void 0:f.call(d,e,n??{prompt:0,completion:0},this.runId,this._parentRunId,this.tags,u))}catch(h){if((d.raiseError?console.error:console.warn)(`Error in handler ${d.constructor.name}, handleLLMNewToken: ${h}`),d.raiseError)throw h}},d.awaitHandlers)))}async handleLLMError(e,n,r,i,o){await Promise.all(this.handlers.map(u=>Gt(async()=>{var d;if(!u.ignoreLLM)try{await((d=u.handleLLMError)==null?void 0:d.call(u,e,this.runId,this._parentRunId,this.tags,o))}catch(f){if((u.raiseError?console.error:console.warn)(`Error in handler ${u.constructor.name}, handleLLMError: ${f}`),u.raiseError)throw f}},u.awaitHandlers)))}async handleLLMEnd(e,n,r,i,o){await Promise.all(this.handlers.map(u=>Gt(async()=>{var d;if(!u.ignoreLLM)try{await((d=u.handleLLMEnd)==null?void 0:d.call(u,e,this.runId,this._parentRunId,this.tags,o))}catch(f){if((u.raiseError?console.error:console.warn)(`Error in handler ${u.constructor.name}, handleLLMEnd: ${f}`),u.raiseError)throw f}},u.awaitHandlers)))}}class K2 extends _d{getChild(e){const n=new Cn(this.runId);return n.setHandlers(this.inheritableHandlers),n.addTags(this.inheritableTags),n.addMetadata(this.inheritableMetadata),e&&n.addTags([e],!1),n}async handleChainError(e,n,r,i,o){await Promise.all(this.handlers.map(u=>Gt(async()=>{var d;if(!u.ignoreChain)try{await((d=u.handleChainError)==null?void 0:d.call(u,e,this.runId,this._parentRunId,this.tags,o))}catch(f){if((u.raiseError?console.error:console.warn)(`Error in handler ${u.constructor.name}, handleChainError: ${f}`),u.raiseError)throw f}},u.awaitHandlers)))}async handleChainEnd(e,n,r,i,o){await Promise.all(this.handlers.map(u=>Gt(async()=>{var d;if(!u.ignoreChain)try{await((d=u.handleChainEnd)==null?void 0:d.call(u,e,this.runId,this._parentRunId,this.tags,o))}catch(f){if((u.raiseError?console.error:console.warn)(`Error in handler ${u.constructor.name}, handleChainEnd: ${f}`),u.raiseError)throw f}},u.awaitHandlers)))}async handleAgentAction(e){await Promise.all(this.handlers.map(n=>Gt(async()=>{var r;if(!n.ignoreAgent)try{await((r=n.handleAgentAction)==null?void 0:r.call(n,e,this.runId,this._parentRunId,this.tags))}catch(i){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleAgentAction: ${i}`),n.raiseError)throw i}},n.awaitHandlers)))}async handleAgentEnd(e){await Promise.all(this.handlers.map(n=>Gt(async()=>{var r;if(!n.ignoreAgent)try{await((r=n.handleAgentEnd)==null?void 0:r.call(n,e,this.runId,this._parentRunId,this.tags))}catch(i){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleAgentEnd: ${i}`),n.raiseError)throw i}},n.awaitHandlers)))}}class X2 extends _d{getChild(e){const n=new Cn(this.runId);return n.setHandlers(this.inheritableHandlers),n.addTags(this.inheritableTags),n.addMetadata(this.inheritableMetadata),e&&n.addTags([e],!1),n}async handleToolError(e){await Promise.all(this.handlers.map(n=>Gt(async()=>{var r;if(!n.ignoreAgent)try{await((r=n.handleToolError)==null?void 0:r.call(n,e,this.runId,this._parentRunId,this.tags))}catch(i){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleToolError: ${i}`),n.raiseError)throw i}},n.awaitHandlers)))}async handleToolEnd(e){await Promise.all(this.handlers.map(n=>Gt(async()=>{var r;if(!n.ignoreAgent)try{await((r=n.handleToolEnd)==null?void 0:r.call(n,e,this.runId,this._parentRunId,this.tags))}catch(i){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleToolEnd: ${i}`),n.raiseError)throw i}},n.awaitHandlers)))}}class Cn extends Z2{constructor(e,n){super(),Object.defineProperty(this,"handlers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"inheritableHandlers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"inheritableTags",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"inheritableMetadata",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"callback_manager"}),Object.defineProperty(this,"_parentRunId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.handlers=(n==null?void 0:n.handlers)??this.handlers,this.inheritableHandlers=(n==null?void 0:n.inheritableHandlers)??this.inheritableHandlers,this.tags=(n==null?void 0:n.tags)??this.tags,this.inheritableTags=(n==null?void 0:n.inheritableTags)??this.inheritableTags,this.metadata=(n==null?void 0:n.metadata)??this.metadata,this.inheritableMetadata=(n==null?void 0:n.inheritableMetadata)??this.inheritableMetadata,this._parentRunId=e}getParentRunId(){return this._parentRunId}async handleLLMStart(e,n,r=void 0,i=void 0,o=void 0,u=void 0,d=void 0,f=void 0){return Promise.all(n.map(async(h,m)=>{const b=m===0&&r?r:vn();return await Promise.all(this.handlers.map(y=>{if(!y.ignoreLLM)return sl(y)&&y._createRunForLLMStart(e,[h],b,this._parentRunId,o,this.tags,this.metadata,f),Gt(async()=>{var _;try{await((_=y.handleLLMStart)==null?void 0:_.call(y,e,[h],b,this._parentRunId,o,this.tags,this.metadata,f))}catch(v){if((y.raiseError?console.error:console.warn)(`Error in handler ${y.constructor.name}, handleLLMStart: ${v}`),y.raiseError)throw v}},y.awaitHandlers)})),new RS(b,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChatModelStart(e,n,r=void 0,i=void 0,o=void 0,u=void 0,d=void 0,f=void 0){return Promise.all(n.map(async(h,m)=>{const b=m===0&&r?r:vn();return await Promise.all(this.handlers.map(y=>{if(!y.ignoreLLM)return sl(y)&&y._createRunForChatModelStart(e,[h],b,this._parentRunId,o,this.tags,this.metadata,f),Gt(async()=>{var _,v;try{if(y.handleChatModelStart)await((_=y.handleChatModelStart)==null?void 0:_.call(y,e,[h],b,this._parentRunId,o,this.tags,this.metadata,f));else if(y.handleLLMStart){const w=uE(h);await((v=y.handleLLMStart)==null?void 0:v.call(y,e,[w],b,this._parentRunId,o,this.tags,this.metadata,f))}}catch(w){if((y.raiseError?console.error:console.warn)(`Error in handler ${y.constructor.name}, handleLLMStart: ${w}`),y.raiseError)throw w}},y.awaitHandlers)})),new RS(b,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChainStart(e,n,r=vn(),i=void 0,o=void 0,u=void 0,d=void 0){return await Promise.all(this.handlers.map(f=>{if(!f.ignoreChain)return sl(f)&&f._createRunForChainStart(e,n,r,this._parentRunId,this.tags,this.metadata,i,d),Gt(async()=>{var h;try{await((h=f.handleChainStart)==null?void 0:h.call(f,e,n,r,this._parentRunId,this.tags,this.metadata,i,d))}catch(m){if((f.raiseError?console.error:console.warn)(`Error in handler ${f.constructor.name}, handleChainStart: ${m}`),f.raiseError)throw m}},f.awaitHandlers)})),new K2(r,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleToolStart(e,n,r=vn(),i=void 0,o=void 0,u=void 0,d=void 0){return await Promise.all(this.handlers.map(f=>{if(!f.ignoreAgent)return sl(f)&&f._createRunForToolStart(e,n,r,this._parentRunId,this.tags,this.metadata,d),Gt(async()=>{var h;try{await((h=f.handleToolStart)==null?void 0:h.call(f,e,n,r,this._parentRunId,this.tags,this.metadata,d))}catch(m){if((f.raiseError?console.error:console.warn)(`Error in handler ${f.constructor.name}, handleToolStart: ${m}`),f.raiseError)throw m}},f.awaitHandlers)})),new X2(r,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleRetrieverStart(e,n,r=vn(),i=void 0,o=void 0,u=void 0,d=void 0){return await Promise.all(this.handlers.map(f=>{if(!f.ignoreRetriever)return sl(f)&&f._createRunForRetrieverStart(e,n,r,this._parentRunId,this.tags,this.metadata,d),Gt(async()=>{var h;try{await((h=f.handleRetrieverStart)==null?void 0:h.call(f,e,n,r,this._parentRunId,this.tags,this.metadata,d))}catch(m){if((f.raiseError?console.error:console.warn)(`Error in handler ${f.constructor.name}, handleRetrieverStart: ${m}`),f.raiseError)throw m}},f.awaitHandlers)})),new Y2(r,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleCustomEvent(e,n,r,i,o){await Promise.all(this.handlers.map(u=>Gt(async()=>{var d;if(!u.ignoreCustomEvent)try{await((d=u.handleCustomEvent)==null?void 0:d.call(u,e,n,r,this.tags,this.metadata))}catch(f){if((u.raiseError?console.error:console.warn)(`Error in handler ${u.constructor.name}, handleCustomEvent: ${f}`),u.raiseError)throw f}},u.awaitHandlers)))}addHandler(e,n=!0){this.handlers.push(e),n&&this.inheritableHandlers.push(e)}removeHandler(e){this.handlers=this.handlers.filter(n=>n!==e),this.inheritableHandlers=this.inheritableHandlers.filter(n=>n!==e)}setHandlers(e,n=!0){this.handlers=[],this.inheritableHandlers=[];for(const r of e)this.addHandler(r,n)}addTags(e,n=!0){this.removeTags(e),this.tags.push(...e),n&&this.inheritableTags.push(...e)}removeTags(e){this.tags=this.tags.filter(n=>!e.includes(n)),this.inheritableTags=this.inheritableTags.filter(n=>!e.includes(n))}addMetadata(e,n=!0){this.metadata={...this.metadata,...e},n&&(this.inheritableMetadata={...this.inheritableMetadata,...e})}removeMetadata(e){for(const n of Object.keys(e))delete this.metadata[n],delete this.inheritableMetadata[n]}copy(e=[],n=!0){const r=new Cn(this._parentRunId);for(const i of this.handlers){const o=this.inheritableHandlers.includes(i);r.addHandler(i,o)}for(const i of this.tags){const o=this.inheritableTags.includes(i);r.addTags([i],o)}for(const i of Object.keys(this.metadata)){const o=Object.keys(this.inheritableMetadata).includes(i);r.addMetadata({[i]:this.metadata[i]},o)}for(const i of e)r.handlers.filter(o=>o.name==="console_callback_handler").some(o=>o.name===i.name)||r.addHandler(i,n);return r}static fromHandlers(e){class n extends Yl{constructor(){super(),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:vn()}),Object.assign(this,e)}}const r=new this;return r.addHandler(new n),r}static configure(e,n,r,i,o,u,d){return this._configureSync(e,n,r,i,o,u,d)}static _configureSync(e,n,r,i,o,u,d){var y,_;let f;(e||n)&&(Array.isArray(e)||!e?(f=new Cn,f.setHandlers((e==null?void 0:e.map(Qc))??[],!0)):f=e,f=f.copy(Array.isArray(n)?n.map(Qc):n==null?void 0:n.handlers,!1));const h=Ai("LANGCHAIN_VERBOSE")==="true"||(d==null?void 0:d.verbose),m=((y=El.getTraceableRunTree())==null?void 0:y.tracingEnabled)||G2(),b=m||(Ai("LANGCHAIN_TRACING")??!1);if(h||b){if(f||(f=new Cn),h&&!f.handlers.some(v=>v.name===xS.prototype.name)){const v=new xS;f.addHandler(v,!0)}if(b&&!f.handlers.some(v=>v.name==="langchain_tracer")&&m){const v=new El;f.addHandler(v,!0),f._parentRunId=((_=El.getTraceableRunTree())==null?void 0:_.id)??f._parentRunId}}for(const{contextVar:v,inheritable:w=!0,handlerClass:E,envVar:x}of V2()){const N=x&&Ai(x)==="true"&&E;let T;const A=v!==void 0?AE(v):void 0;A&&$2(A)?T=A:N&&(T=new E({})),T!==void 0&&(f||(f=new Cn),f.handlers.some(R=>R.name===T.name)||f.addHandler(T,w))}return(r||i)&&f&&(f.addTags(r??[]),f.addTags(i??[],!1)),(o||u)&&f&&(f.addMetadata(o??{}),f.addMetadata(u??{},!1)),f}}function Qc(t){return"name"in t?t:Yl.fromMethods(t)}class Q2{getStore(){}run(e,n){return n()}enterWith(e){}}const W2=new Q2,OS=Symbol.for("lc:child_config");class J2{getInstance(){return Ml()??W2}getRunnableConfig(){var n,r;return(r=(n=this.getInstance().getStore())==null?void 0:n.extra)==null?void 0:r[OS]}runWithConfig(e,n,r){var m;const i=Cn._configureSync(e==null?void 0:e.callbacks,void 0,e==null?void 0:e.tags,void 0,e==null?void 0:e.metadata),o=this.getInstance(),u=o.getStore(),d=i==null?void 0:i.getParentRunId(),f=(m=i==null?void 0:i.handlers)==null?void 0:m.find(b=>(b==null?void 0:b.name)==="langchain_tracer");let h;return f&&d?h=f.getRunTreeWithTracingConfig(d):r||(h=new On({name:"<runnable_lambda>",tracingEnabled:!1})),h&&(h.extra={...h.extra,[OS]:e}),u!==void 0&&u[$c]!==void 0&&(h===void 0&&(h={}),h[$c]=u[$c]),o.run(h,n)}initializeGlobalInstance(e){Ml()===void 0&&B2(e)}}const Ja=new J2,Sm=25;async function pr(t){return Cn._configureSync(t==null?void 0:t.callbacks,void 0,t==null?void 0:t.tags,void 0,t==null?void 0:t.metadata)}function CS(...t){const e={};for(const n of t.filter(r=>!!r))for(const r of Object.keys(n))if(r==="metadata")e[r]={...e[r],...n[r]};else if(r==="tags"){const i=e[r]??[];e[r]=[...new Set(i.concat(n[r]??[]))]}else if(r==="configurable")e[r]={...e[r],...n[r]};else if(r==="timeout")e.timeout===void 0?e.timeout=n.timeout:n.timeout!==void 0&&(e.timeout=Math.min(e.timeout,n.timeout));else if(r==="signal")e.signal===void 0?e.signal=n.signal:n.signal!==void 0&&("any"in AbortSignal?e.signal=AbortSignal.any([e.signal,n.signal]):e.signal=n.signal);else if(r==="callbacks"){const i=e.callbacks,o=n.callbacks;if(Array.isArray(o))if(!i)e.callbacks=o;else if(Array.isArray(i))e.callbacks=i.concat(o);else{const u=i.copy();for(const d of o)u.addHandler(Qc(d),!0);e.callbacks=u}else if(o)if(!i)e.callbacks=o;else if(Array.isArray(i)){const u=o.copy();for(const d of i)u.addHandler(Qc(d),!0);e.callbacks=u}else e.callbacks=new Cn(o._parentRunId,{handlers:i.handlers.concat(o.handlers),inheritableHandlers:i.inheritableHandlers.concat(o.inheritableHandlers),tags:Array.from(new Set(i.tags.concat(o.tags))),inheritableTags:Array.from(new Set(i.inheritableTags.concat(o.inheritableTags))),metadata:{...i.metadata,...o.metadata}})}else{const i=r;e[i]=n[i]??e[i]}return e}const eN=new Set(["string","number","boolean"]);function We(t){var r;const e=Ja.getRunnableConfig();let n={tags:[],metadata:{},recursionLimit:25,runId:void 0};if(e){const{runId:i,runName:o,...u}=e;n=Object.entries(u).reduce((d,[f,h])=>(h!==void 0&&(d[f]=h),d),n)}if(t&&(n=Object.entries(t).reduce((i,[o,u])=>(u!==void 0&&(i[o]=u),i),n)),n!=null&&n.configurable)for(const i of Object.keys(n.configurable))eN.has(typeof n.configurable[i])&&!((r=n.metadata)!=null&&r[i])&&(n.metadata||(n.metadata={}),n.metadata[i]=n.configurable[i]);if(n.timeout!==void 0){if(n.timeout<=0)throw new Error("Timeout must be a positive number");const i=AbortSignal.timeout(n.timeout);n.signal!==void 0?"any"in AbortSignal&&(n.signal=AbortSignal.any([n.signal,i])):n.signal=i,delete n.timeout}return n}function hn(t={},{callbacks:e,maxConcurrency:n,recursionLimit:r,runName:i,configurable:o,runId:u}={}){const d=We(t);return e!==void 0&&(delete d.runName,d.callbacks=e),r!==void 0&&(d.recursionLimit=r),n!==void 0&&(d.maxConcurrency=n),i!==void 0&&(d.runName=i),o!==void 0&&(d.configurable={...d.configurable,...o}),u!==void 0&&delete d.runId,d}function Zs(t){return t?{configurable:t.configurable,recursionLimit:t.recursionLimit,callbacks:t.callbacks,tags:t.tags,metadata:t.metadata,maxConcurrency:t.maxConcurrency,timeout:t.timeout,signal:t.signal}:void 0}async function ei(t,e){if(e===void 0)return t;let n;return Promise.race([t.catch(r=>{if(!(e!=null&&e.aborted))throw r}),new Promise((r,i)=>{n=()=>{i(new Error("Aborted"))},e.addEventListener("abort",n),e.aborted&&i(new Error("Aborted"))})]).finally(()=>e.removeEventListener("abort",n))}class qn extends ReadableStream{constructor(){super(...arguments),Object.defineProperty(this,"reader",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}ensureReader(){this.reader||(this.reader=this.getReader())}async next(){this.ensureReader();try{const e=await this.reader.read();return e.done?(this.reader.releaseLock(),{done:!0,value:void 0}):{done:!1,value:e.value}}catch(e){throw this.reader.releaseLock(),e}}async return(){if(this.ensureReader(),this.locked){const e=this.reader.cancel();this.reader.releaseLock(),await e}return{done:!0,value:void 0}}async throw(e){if(this.ensureReader(),this.locked){const n=this.reader.cancel();this.reader.releaseLock(),await n}throw e}[Symbol.asyncIterator](){return this}async[Symbol.asyncDispose](){await this.return()}static fromReadableStream(e){const n=e.getReader();return new qn({start(r){return i();function i(){return n.read().then(({done:o,value:u})=>{if(o){r.close();return}return r.enqueue(u),i()})}},cancel(){n.releaseLock()}})}static fromAsyncGenerator(e){return new qn({async pull(n){const{value:r,done:i}=await e.next();i&&n.close(),n.enqueue(r)},async cancel(n){await e.return(n)}})}}function NE(t,e=2){const n=Array.from({length:e},()=>[]);return n.map(async function*(i){for(;;)if(i.length===0){const o=await t.next();for(const u of n)u.push(o)}else{if(i[0].done)return;yield i.shift().value}})}function mr(t,e){if(Array.isArray(t)&&Array.isArray(e))return t.concat(e);if(typeof t=="string"&&typeof e=="string")return t+e;if(typeof t=="number"&&typeof e=="number")return t+e;if("concat"in t&&typeof t.concat=="function")return t.concat(e);if(typeof t=="object"&&typeof e=="object"){const n={...t};for(const[r,i]of Object.entries(e))r in n&&!Array.isArray(n[r])?n[r]=mr(n[r],i):n[r]=i;return n}else throw new Error(`Cannot concat ${typeof t} and ${typeof e}`)}class eo{constructor(e){var n;Object.defineProperty(this,"generator",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"setup",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"firstResult",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"firstResultUsed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this.generator=e.generator,this.config=e.config,this.signal=e.signal??((n=this.config)==null?void 0:n.signal),this.setup=new Promise((r,i)=>{Ja.runWithConfig(Zs(e.config),async()=>{this.firstResult=e.generator.next(),e.startSetup?this.firstResult.then(e.startSetup).then(r,i):this.firstResult.then(o=>r(void 0),i)},!0)})}async next(...e){var n;return(n=this.signal)==null||n.throwIfAborted(),this.firstResultUsed?Ja.runWithConfig(Zs(this.config),this.signal?async()=>ei(this.generator.next(...e),this.signal):async()=>this.generator.next(...e),!0):(this.firstResultUsed=!0,this.firstResult)}async return(e){return this.generator.return(e)}async throw(e){return this.generator.throw(e)}[Symbol.asyncIterator](){return this}async[Symbol.asyncDispose](){await this.return()}}async function tN(t,e,n,r,...i){const o=new eo({generator:e,startSetup:n,signal:r}),u=await o.setup;return{output:t(o,u,...i),setup:u}}class Fa{constructor(e){Object.defineProperty(this,"ops",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.ops=e.ops??[]}concat(e){const n=this.ops.concat(e.ops),r=Kc({},n);return new Pl({ops:n,state:r[r.length-1].newDocument})}}class Pl extends Fa{constructor(e){super(e),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.state=e.state}concat(e){const n=this.ops.concat(e.ops),r=Kc(this.state,e.ops);return new Pl({ops:n,state:r[r.length-1].newDocument})}static fromRunLogPatch(e){const n=Kc({},e.ops);return new Pl({ops:e.ops,state:n[n.length-1].newDocument})}}const nN=t=>t.name==="log_stream_tracer";async function AS(t,e){if(e==="original")throw new Error("Do not assign inputs with original schema drop the key for now. When inputs are added to streamLog they should be added with standardized schema for streaming events.");const{inputs:n}=t;if(["retriever","llm","prompt"].includes(t.run_type))return n;if(!(Object.keys(n).length===1&&(n==null?void 0:n.input)===""))return n.input}async function NS(t,e){const{outputs:n}=t;return e==="original"||["retriever","llm","prompt"].includes(t.run_type)?n:n!==void 0&&Object.keys(n).length===1&&(n==null?void 0:n.output)!==void 0?n.output:n}function rN(t){return t!==void 0&&t.message!==void 0}class kS extends Kl{constructor(e){super({_awaitHandler:!0,...e}),Object.defineProperty(this,"autoClose",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"includeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_schemaFormat",{enumerable:!0,configurable:!0,writable:!0,value:"original"}),Object.defineProperty(this,"rootId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"keyMapByRunId",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"counterMapByRunName",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"transformStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"writer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"receiveStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"log_stream_tracer"}),Object.defineProperty(this,"lc_prefer_streaming",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this.autoClose=(e==null?void 0:e.autoClose)??!0,this.includeNames=e==null?void 0:e.includeNames,this.includeTypes=e==null?void 0:e.includeTypes,this.includeTags=e==null?void 0:e.includeTags,this.excludeNames=e==null?void 0:e.excludeNames,this.excludeTypes=e==null?void 0:e.excludeTypes,this.excludeTags=e==null?void 0:e.excludeTags,this._schemaFormat=(e==null?void 0:e._schemaFormat)??this._schemaFormat,this.transformStream=new TransformStream,this.writer=this.transformStream.writable.getWriter(),this.receiveStream=qn.fromReadableStream(this.transformStream.readable)}[Symbol.asyncIterator](){return this.receiveStream}async persistRun(e){}_includeRun(e){if(e.id===this.rootId)return!1;const n=e.tags??[];let r=this.includeNames===void 0&&this.includeTags===void 0&&this.includeTypes===void 0;return this.includeNames!==void 0&&(r=r||this.includeNames.includes(e.name)),this.includeTypes!==void 0&&(r=r||this.includeTypes.includes(e.run_type)),this.includeTags!==void 0&&(r=r||n.find(i=>{var o;return(o=this.includeTags)==null?void 0:o.includes(i)})!==void 0),this.excludeNames!==void 0&&(r=r&&!this.excludeNames.includes(e.name)),this.excludeTypes!==void 0&&(r=r&&!this.excludeTypes.includes(e.run_type)),this.excludeTags!==void 0&&(r=r&&n.every(i=>{var o;return!((o=this.excludeTags)!=null&&o.includes(i))})),r}async*tapOutputIterable(e,n){for await(const r of n){if(e!==this.rootId){const i=this.keyMapByRunId[e];i&&await this.writer.write(new Fa({ops:[{op:"add",path:`/logs/${i}/streamed_output/-`,value:r}]}))}yield r}}async onRunCreate(e){var i;if(this.rootId===void 0&&(this.rootId=e.id,await this.writer.write(new Fa({ops:[{op:"replace",path:"",value:{id:e.id,name:e.name,type:e.run_type,streamed_output:[],final_output:void 0,logs:{}}}]}))),!this._includeRun(e))return;this.counterMapByRunName[e.name]===void 0&&(this.counterMapByRunName[e.name]=0),this.counterMapByRunName[e.name]+=1;const n=this.counterMapByRunName[e.name];this.keyMapByRunId[e.id]=n===1?e.name:`${e.name}:${n}`;const r={id:e.id,name:e.name,type:e.run_type,tags:e.tags??[],metadata:((i=e.extra)==null?void 0:i.metadata)??{},start_time:new Date(e.start_time).toISOString(),streamed_output:[],streamed_output_str:[],final_output:void 0,end_time:void 0};this._schemaFormat==="streaming_events"&&(r.inputs=await AS(e,this._schemaFormat)),await this.writer.write(new Fa({ops:[{op:"add",path:`/logs/${this.keyMapByRunId[e.id]}`,value:r}]}))}async onRunUpdate(e){try{const n=this.keyMapByRunId[e.id];if(n===void 0)return;const r=[];this._schemaFormat==="streaming_events"&&r.push({op:"replace",path:`/logs/${n}/inputs`,value:await AS(e,this._schemaFormat)}),r.push({op:"add",path:`/logs/${n}/final_output`,value:await NS(e,this._schemaFormat)}),e.end_time!==void 0&&r.push({op:"add",path:`/logs/${n}/end_time`,value:new Date(e.end_time).toISOString()});const i=new Fa({ops:r});await this.writer.write(i)}finally{if(e.id===this.rootId){const n=new Fa({ops:[{op:"replace",path:"/final_output",value:await NS(e,this._schemaFormat)}]});await this.writer.write(n),this.autoClose&&await this.writer.close()}}}async onLLMNewToken(e,n,r){const i=this.keyMapByRunId[e.id];if(i===void 0)return;const o=e.inputs.messages!==void 0;let u;o?rN(r==null?void 0:r.chunk)?u=r==null?void 0:r.chunk:u=new Ws({id:`run-${e.id}`,content:n}):u=n;const d=new Fa({ops:[{op:"add",path:`/logs/${i}/streamed_output_str/-`,value:n},{op:"add",path:`/logs/${i}/streamed_output/-`,value:u}]});await this.writer.write(d)}}const IS="__run";class Ys{constructor(e){Object.defineProperty(this,"text",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"generationInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.text=e.text,this.generationInfo=e.generationInfo}concat(e){return new Ys({text:this.text+e.text,generationInfo:{...this.generationInfo,...e.generationInfo}})}}class Ll extends Ys{constructor(e){super(e),Object.defineProperty(this,"message",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.message=e.message}concat(e){return new Ll({text:this.text+e.text,generationInfo:{...this.generationInfo,...e.generationInfo},message:this.message.concat(e.message)})}}function Sc({name:t,serialized:e}){return t!==void 0?t:(e==null?void 0:e.name)!==void 0?e.name:(e==null?void 0:e.id)!==void 0&&Array.isArray(e==null?void 0:e.id)?e.id[e.id.length-1]:"Unnamed"}const aN=t=>t.name==="event_stream_tracer";class iN extends Kl{constructor(e){super({_awaitHandler:!0,...e}),Object.defineProperty(this,"autoClose",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"includeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"runInfoMap",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"tappedPromises",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"transformStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"writer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"receiveStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"event_stream_tracer"}),Object.defineProperty(this,"lc_prefer_streaming",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this.autoClose=(e==null?void 0:e.autoClose)??!0,this.includeNames=e==null?void 0:e.includeNames,this.includeTypes=e==null?void 0:e.includeTypes,this.includeTags=e==null?void 0:e.includeTags,this.excludeNames=e==null?void 0:e.excludeNames,this.excludeTypes=e==null?void 0:e.excludeTypes,this.excludeTags=e==null?void 0:e.excludeTags,this.transformStream=new TransformStream,this.writer=this.transformStream.writable.getWriter(),this.receiveStream=qn.fromReadableStream(this.transformStream.readable)}[Symbol.asyncIterator](){return this.receiveStream}async persistRun(e){}_includeRun(e){const n=e.tags??[];let r=this.includeNames===void 0&&this.includeTags===void 0&&this.includeTypes===void 0;return this.includeNames!==void 0&&(r=r||this.includeNames.includes(e.name)),this.includeTypes!==void 0&&(r=r||this.includeTypes.includes(e.runType)),this.includeTags!==void 0&&(r=r||n.find(i=>{var o;return(o=this.includeTags)==null?void 0:o.includes(i)})!==void 0),this.excludeNames!==void 0&&(r=r&&!this.excludeNames.includes(e.name)),this.excludeTypes!==void 0&&(r=r&&!this.excludeTypes.includes(e.runType)),this.excludeTags!==void 0&&(r=r&&n.every(i=>{var o;return!((o=this.excludeTags)!=null&&o.includes(i))})),r}async*tapOutputIterable(e,n){const r=await n.next();if(r.done)return;const i=this.runInfoMap.get(e);if(i===void 0){yield r.value;return}function o(d,f){return d==="llm"&&typeof f=="string"?new Ys({text:f}):f}let u=this.tappedPromises.get(e);if(u===void 0){let d;u=new Promise(f=>{d=f}),this.tappedPromises.set(e,u);try{const f={event:`on_${i.runType}_stream`,run_id:e,name:i.name,tags:i.tags,metadata:i.metadata,data:{}};await this.send({...f,data:{chunk:o(i.runType,r.value)}},i),yield r.value;for await(const h of n)i.runType!=="tool"&&i.runType!=="retriever"&&await this.send({...f,data:{chunk:o(i.runType,h)}},i),yield h}finally{d()}}else{yield r.value;for await(const d of n)yield d}}async send(e,n){this._includeRun(n)&&await this.writer.write(e)}async sendEndEvent(e,n){const r=this.tappedPromises.get(e.run_id);r!==void 0?r.then(()=>{this.send(e,n)}):await this.send(e,n)}async onLLMStart(e){var u,d;const n=Sc(e),r=e.inputs.messages!==void 0?"chat_model":"llm",i={tags:e.tags??[],metadata:((u=e.extra)==null?void 0:u.metadata)??{},name:n,runType:r,inputs:e.inputs};this.runInfoMap.set(e.id,i);const o=`on_${r}_start`;await this.send({event:o,data:{input:e.inputs},name:n,tags:e.tags??[],run_id:e.id,metadata:((d=e.extra)==null?void 0:d.metadata)??{}},i)}async onLLMNewToken(e,n,r){const i=this.runInfoMap.get(e.id);let o,u;if(i===void 0)throw new Error(`onLLMNewToken: Run ID ${e.id} not found in run map.`);if(this.runInfoMap.size!==1){if(i.runType==="chat_model")u="on_chat_model_stream",(r==null?void 0:r.chunk)===void 0?o=new Ws({content:n,id:`run-${e.id}`}):o=r.chunk.message;else if(i.runType==="llm")u="on_llm_stream",(r==null?void 0:r.chunk)===void 0?o=new Ys({text:n}):o=r.chunk;else throw new Error(`Unexpected run type ${i.runType}`);await this.send({event:u,data:{chunk:o},run_id:e.id,name:i.name,tags:i.tags,metadata:i.metadata},i)}}async onLLMEnd(e){var u,d,f;const n=this.runInfoMap.get(e.id);this.runInfoMap.delete(e.id);let r;if(n===void 0)throw new Error(`onLLMEnd: Run ID ${e.id} not found in run map.`);const i=(u=e.outputs)==null?void 0:u.generations;let o;if(n.runType==="chat_model"){for(const h of i??[]){if(o!==void 0)break;o=(d=h[0])==null?void 0:d.message}r="on_chat_model_end"}else if(n.runType==="llm")o={generations:i==null?void 0:i.map(h=>h.map(m=>({text:m.text,generationInfo:m.generationInfo}))),llmOutput:((f=e.outputs)==null?void 0:f.llmOutput)??{}},r="on_llm_end";else throw new Error(`onLLMEnd: Unexpected run type: ${n.runType}`);await this.sendEndEvent({event:r,data:{output:o,input:n.inputs},run_id:e.id,name:n.name,tags:n.tags,metadata:n.metadata},n)}async onChainStart(e){var u,d;const n=Sc(e),r=e.run_type??"chain",i={tags:e.tags??[],metadata:((u=e.extra)==null?void 0:u.metadata)??{},name:n,runType:e.run_type};let o={};e.inputs.input===""&&Object.keys(e.inputs).length===1?(o={},i.inputs={}):e.inputs.input!==void 0?(o.input=e.inputs.input,i.inputs=e.inputs.input):(o.input=e.inputs,i.inputs=e.inputs),this.runInfoMap.set(e.id,i),await this.send({event:`on_${r}_start`,data:o,name:n,tags:e.tags??[],run_id:e.id,metadata:((d=e.extra)==null?void 0:d.metadata)??{}},i)}async onChainEnd(e){var d;const n=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),n===void 0)throw new Error(`onChainEnd: Run ID ${e.id} not found in run map.`);const r=`on_${e.run_type}_end`,i=e.inputs??n.inputs??{},u={output:((d=e.outputs)==null?void 0:d.output)??e.outputs,input:i};i.input&&Object.keys(i).length===1&&(u.input=i.input,n.inputs=i.input),await this.sendEndEvent({event:r,data:u,run_id:e.id,name:n.name,tags:n.tags,metadata:n.metadata??{}},n)}async onToolStart(e){var i,o;const n=Sc(e),r={tags:e.tags??[],metadata:((i=e.extra)==null?void 0:i.metadata)??{},name:n,runType:"tool",inputs:e.inputs??{}};this.runInfoMap.set(e.id,r),await this.send({event:"on_tool_start",data:{input:e.inputs??{}},name:n,run_id:e.id,tags:e.tags??[],metadata:((o=e.extra)==null?void 0:o.metadata)??{}},r)}async onToolEnd(e){var i;const n=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),n===void 0)throw new Error(`onToolEnd: Run ID ${e.id} not found in run map.`);if(n.inputs===void 0)throw new Error(`onToolEnd: Run ID ${e.id} is a tool call, and is expected to have traced inputs.`);const r=((i=e.outputs)==null?void 0:i.output)===void 0?e.outputs:e.outputs.output;await this.sendEndEvent({event:"on_tool_end",data:{output:r,input:n.inputs},run_id:e.id,name:n.name,tags:n.tags,metadata:n.metadata},n)}async onRetrieverStart(e){var o,u;const n=Sc(e),i={tags:e.tags??[],metadata:((o=e.extra)==null?void 0:o.metadata)??{},name:n,runType:"retriever",inputs:{query:e.inputs.query}};this.runInfoMap.set(e.id,i),await this.send({event:"on_retriever_start",data:{input:{query:e.inputs.query}},name:n,tags:e.tags??[],run_id:e.id,metadata:((u=e.extra)==null?void 0:u.metadata)??{}},i)}async onRetrieverEnd(e){var r;const n=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),n===void 0)throw new Error(`onRetrieverEnd: Run ID ${e.id} not found in run map.`);await this.sendEndEvent({event:"on_retriever_end",data:{output:((r=e.outputs)==null?void 0:r.documents)??e.outputs,input:n.inputs},run_id:e.id,name:n.name,tags:n.tags,metadata:n.metadata},n)}async handleCustomEvent(e,n,r){const i=this.runInfoMap.get(r);if(i===void 0)throw new Error(`handleCustomEvent: Run ID ${r} not found in run map.`);await this.send({event:"on_custom_event",run_id:r,name:e,tags:i.tags,metadata:i.metadata,data:n},i)}async finish(){const e=[...this.tappedPromises.values()];Promise.all(e).finally(()=>{this.writer.close()})}}const sN=[400,401,402,403,404,405,406,407,409],oN=t=>{var n,r;if(t.message.startsWith("Cancel")||t.message.startsWith("AbortError")||t.name==="AbortError"||(t==null?void 0:t.code)==="ECONNABORTED")throw t;const e=((n=t==null?void 0:t.response)==null?void 0:n.status)??(t==null?void 0:t.status);if(e&&sN.includes(+e))throw t;if(((r=t==null?void 0:t.error)==null?void 0:r.code)==="insufficient_quota"){const i=new Error(t==null?void 0:t.message);throw i.name="InsufficientQuotaError",i}};class Fg{constructor(e){Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onFailedAttempt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxConcurrency=e.maxConcurrency??1/0,this.maxRetries=e.maxRetries??6,this.onFailedAttempt=e.onFailedAttempt??oN;const n="default"in ua?ua.default:ua;this.queue=new n({concurrency:this.maxConcurrency})}call(e,...n){return this.queue.add(()=>Vc(()=>e(...n).catch(r=>{throw r instanceof Error?r:new Error(r)}),{onFailedAttempt:this.onFailedAttempt,retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0})}callWithOptions(e,n,...r){return e.signal?Promise.race([this.call(n,...r),new Promise((i,o)=>{var u;(u=e.signal)==null||u.addEventListener("abort",()=>{o(new Error("AbortError"))})})]):this.call(n,...r)}fetch(...e){return this.call(()=>fetch(...e).then(n=>n.ok?n:Promise.reject(n)))}}class kE extends Kl{constructor({config:e,onStart:n,onEnd:r,onError:i}){super({_awaitHandler:!0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RootListenersTracer"}),Object.defineProperty(this,"rootId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"argOnStart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"argOnEnd",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"argOnError",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.config=e,this.argOnStart=n,this.argOnEnd=r,this.argOnError=i}persistRun(e){return Promise.resolve()}async onRunCreate(e){this.rootId||(this.rootId=e.id,this.argOnStart&&await this.argOnStart(e,this.config))}async onRunUpdate(e){e.id===this.rootId&&(e.error?this.argOnError&&await this.argOnError(e,this.config):this.argOnEnd&&await this.argOnEnd(e,this.config))}}function Vg(t){return t?t.lc_runnable:!1}class lN{constructor(e){Object.defineProperty(this,"includeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.includeNames=e.includeNames,this.includeTypes=e.includeTypes,this.includeTags=e.includeTags,this.excludeNames=e.excludeNames,this.excludeTypes=e.excludeTypes,this.excludeTags=e.excludeTags}includeEvent(e,n){let r=this.includeNames===void 0&&this.includeTypes===void 0&&this.includeTags===void 0;const i=e.tags??[];return this.includeNames!==void 0&&(r=r||this.includeNames.includes(e.name)),this.includeTypes!==void 0&&(r=r||this.includeTypes.includes(n)),this.includeTags!==void 0&&(r=r||i.some(o=>{var u;return(u=this.includeTags)==null?void 0:u.includes(o)})),this.excludeNames!==void 0&&(r=r&&!this.excludeNames.includes(e.name)),this.excludeTypes!==void 0&&(r=r&&!this.excludeTypes.includes(n)),this.excludeTags!==void 0&&(r=r&&i.every(o=>{var u;return!((u=this.excludeTags)!=null&&u.includes(o))})),r}}function Em(t){return t.replace(/[^a-zA-Z-_0-9]/g,"_")}const uN=["*","_","`"];function cN(t){let e="";for(const[n,r]of Object.entries(t))e+=`	classDef ${n} ${r};
`;return e}function dN(t,e,n){const{firstNode:r,lastNode:i,nodeColors:o,withStyles:u=!0,curveStyle:d="linear",wrapLabelNWords:f=9}=n??{};let h=u?`%%{init: {'flowchart': {'curve': '${d}'}}}%%
graph TD;
`:`graph TD;
`;if(u){const _="default",v={[_]:"{0}({1})"};r!==void 0&&(v[r]="{0}([{1}]):::first"),i!==void 0&&(v[i]="{0}([{1}]):::last");for(const[w,E]of Object.entries(t)){const x=E.name.split(":").pop()??"";let T=uN.some(R=>x.startsWith(R)&&x.endsWith(R))?`<p>${x}</p>`:x;Object.keys(E.metadata??{}).length&&(T+=`<hr/><small><em>${Object.entries(E.metadata??{}).map(([R,M])=>`${R} = ${M}`).join(`
`)}</em></small>`);const A=(v[w]??v[_]).replace("{0}",Em(w)).replace("{1}",T);h+=`	${A}
`}}const m={};for(const _ of e){const v=_.source.split(":"),w=_.target.split(":"),E=v.filter((x,N)=>x===w[N]).join(":");m[E]||(m[E]=[]),m[E].push(_)}const b=new Set;function y(_,v){const w=_.length===1&&_[0].source===_[0].target;if(v&&!w){const E=v.split(":").pop();if(b.has(E))throw new Error(`Found duplicate subgraph '${E}' -- this likely means that you're reusing a subgraph node with the same name. Please adjust your graph to have subgraph nodes with unique names.`);b.add(E),h+=`	subgraph ${E}
`}for(const E of _){const{source:x,target:N,data:T,conditional:A}=E;let R="";if(T!==void 0){let M=T;const H=M.split(" ");H.length>f&&(M=Array.from({length:Math.ceil(H.length/f)},(U,ie)=>H.slice(ie*f,(ie+1)*f).join(" ")).join("&nbsp;<br>&nbsp;")),R=A?` -. &nbsp;${M}&nbsp; .-> `:` -- &nbsp;${M}&nbsp; --> `}else R=A?" -.-> ":" --> ";h+=`	${Em(x)}${R}${Em(N)};
`}for(const E in m)E.startsWith(`${v}:`)&&E!==v&&y(m[E],E);v&&!w&&(h+=`	end
`)}y(m[""]??[],"");for(const _ in m)!_.includes(":")&&_!==""&&y(m[_],_);return u&&(h+=cN(o??{})),h}async function fN(t,e){let{backgroundColor:n="white"}=e??{};const r=btoa(t);n!==void 0&&(/^#(?:[0-9a-fA-F]{3}){1,2}$/.test(n)||(n=`!${n}`));const i=`https://mermaid.ink/img/${r}?bgColor=${n}`,o=await fetch(i);if(!o.ok)throw new Error(["Failed to render the graph using the Mermaid.INK API.",`Status code: ${o.status}`,`Status text: ${o.statusText}`].join(`
`));return await o.blob()}function wd(t,e,n){function r(d,f){var h;Object.defineProperty(d,"_zod",{value:d._zod??{},enumerable:!1}),(h=d._zod).traits??(h.traits=new Set),d._zod.traits.add(t),e(d,f);for(const m in u.prototype)Object.defineProperty(d,m,{value:u.prototype[m].bind(d)});d._zod.constr=u,d._zod.def=f}const i=(n==null?void 0:n.Parent)??Object;class o extends i{}Object.defineProperty(o,"name",{value:t});function u(d){var f;const h=n!=null&&n.Parent?new o:this;r(h,d),(f=h._zod).deferred??(f.deferred=[]);for(const m of h._zod.deferred)m();return h}return Object.defineProperty(u,"init",{value:r}),Object.defineProperty(u,Symbol.hasInstance,{value:d=>{var f,h;return n!=null&&n.Parent&&d instanceof n.Parent?!0:(h=(f=d==null?void 0:d._zod)==null?void 0:f.traits)==null?void 0:h.has(t)}}),Object.defineProperty(u,"name",{value:t}),u}class Wc extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const hN={};function Sd(t){return hN}function pN(t){const e=Object.values(t).filter(r=>typeof r=="number");return Object.entries(t).filter(([r,i])=>e.indexOf(+r)===-1).map(([r,i])=>i)}function mN(t,e){return typeof e=="bigint"?e.toString():e}function gN(t=10){const e="abcdefghijklmnopqrstuvwxyz";let n="";for(let r=0;r<t;r++)n+=e[Math.floor(Math.random()*e.length)];return n}function Jc(t,e,n){const r=new t._zod.constr(e??t._zod.def);return(!e||n!=null&&n.parent)&&(r._zod.parent=t),r}function yN(t){return{}}function Tm(t,e=0){for(let n=e;n<t.issues.length;n++)if(t.issues[n].continue!==!0)return!0;return!1}function Ec(t){return typeof t=="string"?t:t==null?void 0:t.message}function Ed(t,e,n){var i,o,u,d,f,h;const r={...t,path:t.path??[]};if(!t.message){const m=Ec((u=(o=(i=t.inst)==null?void 0:i._zod.def)==null?void 0:o.error)==null?void 0:u.call(o,t))??Ec((d=e==null?void 0:e.error)==null?void 0:d.call(e,t))??Ec((f=n.customError)==null?void 0:f.call(n,t))??Ec((h=n.localeError)==null?void 0:h.call(n,t))??"Invalid input";r.message=m}return delete r.inst,delete r.continue,e!=null&&e.reportInput||delete r.input,r}const IE=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),Object.defineProperty(t,"message",{get(){return JSON.stringify(e,mN,2)},enumerable:!0})},bN=wd("$ZodError",IE),Td=wd("$ZodError",IE,{Parent:Error}),vN=t=>(e,n,r,i)=>{const o=r?Object.assign(r,{async:!1}):{async:!1},u=e._zod.run({value:n,issues:[]},o);if(u instanceof Promise)throw new Wc;if(u.issues.length){const d=new((i==null?void 0:i.Err)??t)(u.issues.map(f=>Ed(f,o,Sd())));throw Error.captureStackTrace(d,i==null?void 0:i.callee),d}return u.value},_N=vN(Td),wN=t=>async(e,n,r,i)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let u=e._zod.run({value:n,issues:[]},o);if(u instanceof Promise&&(u=await u),u.issues.length){const d=new((i==null?void 0:i.Err)??t)(u.issues.map(f=>Ed(f,o,Sd())));throw Error.captureStackTrace(d,i==null?void 0:i.callee),d}return u.value},SN=wN(Td),EN=t=>(e,n,r)=>{const i=r?{...r,async:!1}:{async:!1},o=e._zod.run({value:n,issues:[]},i);if(o instanceof Promise)throw new Wc;return o.issues.length?{success:!1,error:new(t??bN)(o.issues.map(u=>Ed(u,i,Sd())))}:{success:!0,data:o.value}},TN=EN(Td),xN=t=>async(e,n,r)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let o=e._zod.run({value:n,issues:[]},i);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new t(o.issues.map(u=>Ed(u,i,Sd())))}:{success:!0,data:o.value}},RN=xN(Td),ON={major:4,minor:0,patch:0},CN=wd("$ZodType",(t,e)=>{var i;var n;t??(t={}),t._zod.id=e.type+"_"+gN(10),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=ON;const r=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&r.unshift(t);for(const o of r)for(const u of o._zod.onattach)u(t);if(r.length===0)(n=t._zod).deferred??(n.deferred=[]),(i=t._zod.deferred)==null||i.push(()=>{t._zod.run=t._zod.parse});else{const o=(u,d,f)=>{let h=Tm(u),m;for(const b of d){if(b._zod.when){if(!b._zod.when(u))continue}else if(h)continue;const y=u.issues.length,_=b._zod.check(u);if(_ instanceof Promise&&(f==null?void 0:f.async)===!1)throw new Wc;if(m||_ instanceof Promise)m=(m??Promise.resolve()).then(async()=>{await _,u.issues.length!==y&&(h||(h=Tm(u,y)))});else{if(u.issues.length===y)continue;h||(h=Tm(u,y))}}return m?m.then(()=>u):u};t._zod.run=(u,d)=>{const f=t._zod.parse(u,d);if(f instanceof Promise){if(d.async===!1)throw new Wc;return f.then(h=>o(h,r,d))}return o(f,r,d)}}t["~standard"]={validate:o=>{var u;try{const d=TN(t,o);return d.success?{value:d.data}:{issues:(u=d.error)==null?void 0:u.issues}}catch{return RN(t,o).then(f=>{var h;return f.success?{value:f.data}:{issues:(h=f.error)==null?void 0:h.issues}})}},vendor:"zod",version:1}}),AN=wd("$ZodNever",(t,e)=>{CN.init(t,e),t._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)});class jE{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const r=n[0];if(this._map.set(e,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,e)}return this}remove(e){return this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const r={...this.get(n)??{}};return delete r.id,{...r,...this._map.get(e)}}return this._map.get(e)}has(e){return this._map.has(e)}}function NN(){return new jE}const Ya=NN();function kN(t,e){return new t({type:"never",...yN()})}class jS{constructor(e){this.counter=0,this.metadataRegistry=(e==null?void 0:e.metadata)??Ya,this.target=(e==null?void 0:e.target)??"draft-2020-12",this.unrepresentable=(e==null?void 0:e.unrepresentable)??"throw",this.override=(e==null?void 0:e.override)??(()=>{}),this.io=(e==null?void 0:e.io)??"output",this.seen=new Map}process(e,n={path:[],schemaPath:[]}){var y;var r;const i=e._zod.def,o={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},u=this.seen.get(e);if(u)return u.count++,n.schemaPath.includes(e)&&(u.cycle=n.path),u.schema;const d={schema:{},count:1,cycle:void 0};this.seen.set(e,d),e._zod.toJSONSchema&&(d.schema=e._zod.toJSONSchema());const f={...n,schemaPath:[...n.schemaPath,e],path:n.path},h=e._zod.parent;if(h)d.ref=h,this.process(h,f),this.seen.get(h).isParent=!0;else{const _=d.schema;switch(i.type){case"string":{const v=_;v.type="string";const{minimum:w,maximum:E,format:x,patterns:N,contentEncoding:T}=e._zod.bag;if(typeof w=="number"&&(v.minLength=w),typeof E=="number"&&(v.maxLength=E),x&&(v.format=o[x]??x,v.format===""&&delete v.format),T&&(v.contentEncoding=T),N&&N.size>0){const A=[...N];A.length===1?v.pattern=A[0].source:A.length>1&&(d.schema.allOf=[...A.map(R=>({...this.target==="draft-7"?{type:"string"}:{},pattern:R.source}))])}break}case"number":{const v=_,{minimum:w,maximum:E,format:x,multipleOf:N,exclusiveMaximum:T,exclusiveMinimum:A}=e._zod.bag;typeof x=="string"&&x.includes("int")?v.type="integer":v.type="number",typeof A=="number"&&(v.exclusiveMinimum=A),typeof w=="number"&&(v.minimum=w,typeof A=="number"&&(A>=w?delete v.minimum:delete v.exclusiveMinimum)),typeof T=="number"&&(v.exclusiveMaximum=T),typeof E=="number"&&(v.maximum=E,typeof T=="number"&&(T<=E?delete v.maximum:delete v.exclusiveMaximum)),typeof N=="number"&&(v.multipleOf=N);break}case"boolean":{const v=_;v.type="boolean";break}case"bigint":{if(this.unrepresentable==="throw")throw new Error("BigInt cannot be represented in JSON Schema");break}case"symbol":{if(this.unrepresentable==="throw")throw new Error("Symbols cannot be represented in JSON Schema");break}case"undefined":{const v=_;v.type="null";break}case"null":{_.type="null";break}case"any":break;case"unknown":break;case"never":{_.not={};break}case"void":{if(this.unrepresentable==="throw")throw new Error("Void cannot be represented in JSON Schema");break}case"date":{if(this.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema");break}case"array":{const v=_,{minimum:w,maximum:E}=e._zod.bag;typeof w=="number"&&(v.minItems=w),typeof E=="number"&&(v.maxItems=E),v.type="array",v.items=this.process(i.element,{...f,path:[...f.path,"items"]});break}case"object":{const v=_;v.type="object",v.properties={};const w=i.shape;for(const N in w)v.properties[N]=this.process(w[N],{...f,path:[...f.path,"properties",N]});const E=new Set(Object.keys(w)),x=new Set([...E].filter(N=>{const T=i.shape[N]._zod;return this.io==="input"?T.optin===void 0:T.optout===void 0}));x.size>0&&(v.required=Array.from(x)),((y=i.catchall)==null?void 0:y._zod.def.type)==="never"?v.additionalProperties=!1:i.catchall?i.catchall&&(v.additionalProperties=this.process(i.catchall,{...f,path:[...f.path,"additionalProperties"]})):this.io==="output"&&(v.additionalProperties=!1);break}case"union":{const v=_;v.anyOf=i.options.map((w,E)=>this.process(w,{...f,path:[...f.path,"anyOf",E]}));break}case"intersection":{const v=_,w=this.process(i.left,{...f,path:[...f.path,"allOf",0]}),E=this.process(i.right,{...f,path:[...f.path,"allOf",1]}),x=T=>"allOf"in T&&Object.keys(T).length===1,N=[...x(w)?w.allOf:[w],...x(E)?E.allOf:[E]];v.allOf=N;break}case"tuple":{const v=_;v.type="array";const w=i.items.map((N,T)=>this.process(N,{...f,path:[...f.path,"prefixItems",T]}));if(this.target==="draft-2020-12"?v.prefixItems=w:v.items=w,i.rest){const N=this.process(i.rest,{...f,path:[...f.path,"items"]});this.target==="draft-2020-12"?v.items=N:v.additionalItems=N}i.rest&&(v.items=this.process(i.rest,{...f,path:[...f.path,"items"]}));const{minimum:E,maximum:x}=e._zod.bag;typeof E=="number"&&(v.minItems=E),typeof x=="number"&&(v.maxItems=x);break}case"record":{const v=_;v.type="object",v.propertyNames=this.process(i.keyType,{...f,path:[...f.path,"propertyNames"]}),v.additionalProperties=this.process(i.valueType,{...f,path:[...f.path,"additionalProperties"]});break}case"map":{if(this.unrepresentable==="throw")throw new Error("Map cannot be represented in JSON Schema");break}case"set":{if(this.unrepresentable==="throw")throw new Error("Set cannot be represented in JSON Schema");break}case"enum":{const v=_,w=pN(i.entries);w.every(E=>typeof E=="number")&&(v.type="number"),w.every(E=>typeof E=="string")&&(v.type="string"),v.enum=w;break}case"literal":{const v=_,w=[];for(const E of i.values)if(E===void 0){if(this.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof E=="bigint"){if(this.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");w.push(Number(E))}else w.push(E);if(w.length!==0)if(w.length===1){const E=w[0];v.const=E}else v.enum=w;break}case"file":{const v=_,w={type:"string",format:"binary",contentEncoding:"binary"},{minimum:E,maximum:x,mime:N}=e._zod.bag;E!==void 0&&(w.minLength=E),x!==void 0&&(w.maxLength=x),N?N.length===1?(w.contentMediaType=N[0],Object.assign(v,w)):v.anyOf=N.map(T=>({...w,contentMediaType:T})):Object.assign(v,w);break}case"transform":{if(this.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema");break}case"nullable":{const v=this.process(i.innerType,f);_.anyOf=[v,{type:"null"}];break}case"nonoptional":{this.process(i.innerType,f),d.ref=i.innerType;break}case"success":{const v=_;v.type="boolean";break}case"default":{this.process(i.innerType,f),d.ref=i.innerType,_.default=i.defaultValue;break}case"prefault":{this.process(i.innerType,f),d.ref=i.innerType,this.io==="input"&&(_._prefault=i.defaultValue);break}case"catch":{this.process(i.innerType,f),d.ref=i.innerType;let v;try{v=i.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}_.default=v;break}case"nan":{if(this.unrepresentable==="throw")throw new Error("NaN cannot be represented in JSON Schema");break}case"template_literal":{const v=_,w=e._zod.pattern;if(!w)throw new Error("Pattern not found in template literal");v.type="string",v.pattern=w.source;break}case"pipe":{const v=this.io==="input"?i.in._zod.def.type==="transform"?i.out:i.in:i.out;this.process(v,f),d.ref=v;break}case"readonly":{this.process(i.innerType,f),d.ref=i.innerType,_.readOnly=!0;break}case"promise":{this.process(i.innerType,f),d.ref=i.innerType;break}case"optional":{this.process(i.innerType,f),d.ref=i.innerType;break}case"lazy":{const v=e._zod.innerType;this.process(v,f),d.ref=v;break}case"custom":{if(this.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema");break}}}const m=this.metadataRegistry.get(e);return m&&Object.assign(d.schema,m),this.io==="input"&&qt(e)&&(delete d.schema.examples,delete d.schema.default),this.io==="input"&&d.schema._prefault&&((r=d.schema).default??(r.default=d.schema._prefault)),delete d.schema._prefault,this.seen.get(e).schema}emit(e,n){var m,b,y,_;const r={cycles:(n==null?void 0:n.cycles)??"ref",reused:(n==null?void 0:n.reused)??"inline",external:(n==null?void 0:n.external)??void 0},i=this.seen.get(e);if(!i)throw new Error("Unprocessed schema. This is a bug in Zod.");const o=v=>{var T;const w=this.target==="draft-2020-12"?"$defs":"definitions";if(r.external){const A=(T=r.external.registry.get(v[0]))==null?void 0:T.id;if(A)return{ref:r.external.uri(A)};const R=v[1].defId??v[1].schema.id??`schema${this.counter++}`;return v[1].defId=R,{defId:R,ref:`${r.external.uri("__shared")}#/${w}/${R}`}}if(v[1]===i)return{ref:"#"};const x=`#/${w}/`,N=v[1].schema.id??`__schema${this.counter++}`;return{defId:N,ref:x+N}},u=v=>{if(v[1].schema.$ref)return;const w=v[1],{ref:E,defId:x}=o(v);w.def={...w.schema},x&&(w.defId=x);const N=w.schema;for(const T in N)delete N[T];N.$ref=E};for(const v of this.seen.entries()){const w=v[1];if(e===v[0]){u(v);continue}if(r.external){const x=(m=r.external.registry.get(v[0]))==null?void 0:m.id;if(e!==v[0]&&x){u(v);continue}}if((b=this.metadataRegistry.get(v[0]))==null?void 0:b.id){u(v);continue}if(w.cycle){if(r.cycles==="throw")throw new Error(`Cycle detected: #/${(y=w.cycle)==null?void 0:y.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`);r.cycles==="ref"&&u(v);continue}if(w.count>1&&r.reused==="ref"){u(v);continue}}const d=(v,w)=>{const E=this.seen.get(v),x=E.def??E.schema,N={...x};if(E.ref===null)return;const T=E.ref;if(E.ref=null,T){d(T,w);const A=this.seen.get(T).schema;A.$ref&&w.target==="draft-7"?(x.allOf=x.allOf??[],x.allOf.push(A)):(Object.assign(x,A),Object.assign(x,N))}E.isParent||this.override({zodSchema:v,jsonSchema:x})};for(const v of[...this.seen.entries()].reverse())d(v[0],{target:this.target});const f={};this.target==="draft-2020-12"?f.$schema="https://json-schema.org/draft/2020-12/schema":this.target==="draft-7"?f.$schema="http://json-schema.org/draft-07/schema#":console.warn(`Invalid target: ${this.target}`),Object.assign(f,i.def);const h=((_=r.external)==null?void 0:_.defs)??{};for(const v of this.seen.entries()){const w=v[1];w.def&&w.defId&&(h[w.defId]=w.def)}!r.external&&Object.keys(h).length>0&&(this.target==="draft-2020-12"?f.$defs=h:f.definitions=h);try{return JSON.parse(JSON.stringify(f))}catch{throw new Error("Error converting schema to JSON.")}}}function $S(t,e){if(t instanceof jE){const r=new jS(e),i={};for(const d of t._idmap.entries()){const[f,h]=d;r.process(h)}const o={},u={registry:t,uri:d=>d,defs:i};for(const d of t._idmap.entries()){const[f,h]=d;o[f]=r.emit(h,{...e,external:u})}if(Object.keys(i).length>0){const d=r.target==="draft-2020-12"?"$defs":"definitions";o.__shared={[d]:i}}return{schemas:o}}const n=new jS(e);return n.process(t),n.emit(t,e)}function qt(t,e){const n=e??{seen:new Set};if(n.seen.has(t))return!1;n.seen.add(t);const i=t._zod.def;switch(i.type){case"string":case"number":case"bigint":case"boolean":case"date":case"symbol":case"undefined":case"null":case"any":case"unknown":case"never":case"void":case"literal":case"enum":case"nan":case"file":case"template_literal":return!1;case"array":return qt(i.element,n);case"object":{for(const o in i.shape)if(qt(i.shape[o],n))return!0;return!1}case"union":{for(const o of i.options)if(qt(o,n))return!0;return!1}case"intersection":return qt(i.left,n)||qt(i.right,n);case"tuple":{for(const o of i.items)if(qt(o,n))return!0;return!!(i.rest&&qt(i.rest,n))}case"record":return qt(i.keyType,n)||qt(i.valueType,n);case"map":return qt(i.keyType,n)||qt(i.valueType,n);case"set":return qt(i.valueType,n);case"promise":case"optional":case"nonoptional":case"nullable":case"readonly":return qt(i.innerType,n);case"lazy":return qt(i.getter(),n);case"default":return qt(i.innerType,n);case"prefault":return qt(i.innerType,n);case"custom":return!1;case"transform":return!0;case"pipe":return qt(i.in,n)||qt(i.out,n);case"success":return!1;case"catch":return!1}throw new Error(`Unknown schema type: ${i.type}`)}const IN=Symbol("Let zodToJsonSchema decide on which parser to use"),jN={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},$N=t=>({...jN,...t}),MN=t=>{const e=$N(t),n=e.name!==void 0?[...e.basePath,e.definitionPath,e.name]:e.basePath;return{...e,currentPath:n,propertyPath:void 0,seen:new Map(Object.entries(e.definitions).map(([r,i])=>[i._def,{def:i._def,path:[...e.basePath,e.definitionPath,r],jsonSchema:void 0}]))}};function $E(t,e,n,r){r!=null&&r.errorMessages&&n&&(t.errorMessage={...t.errorMessage,[e]:n})}function nt(t,e,n,r,i){t[e]=n,$E(t,e,r,i)}function PN(){return{}}function LN(t,e){var r,i,o;const n={type:"array"};return(r=t.type)!=null&&r._def&&((o=(i=t.type)==null?void 0:i._def)==null?void 0:o.typeName)!==ue.ZodAny&&(n.items=Je(t.type._def,{...e,currentPath:[...e.currentPath,"items"]})),t.minLength&&nt(n,"minItems",t.minLength.value,t.minLength.message,e),t.maxLength&&nt(n,"maxItems",t.maxLength.value,t.maxLength.message,e),t.exactLength&&(nt(n,"minItems",t.exactLength.value,t.exactLength.message,e),nt(n,"maxItems",t.exactLength.value,t.exactLength.message,e)),n}function DN(t,e){const n={type:"integer",format:"int64"};if(!t.checks)return n;for(const r of t.checks)switch(r.kind){case"min":e.target==="jsonSchema7"?r.inclusive?nt(n,"minimum",r.value,r.message,e):nt(n,"exclusiveMinimum",r.value,r.message,e):(r.inclusive||(n.exclusiveMinimum=!0),nt(n,"minimum",r.value,r.message,e));break;case"max":e.target==="jsonSchema7"?r.inclusive?nt(n,"maximum",r.value,r.message,e):nt(n,"exclusiveMaximum",r.value,r.message,e):(r.inclusive||(n.exclusiveMaximum=!0),nt(n,"maximum",r.value,r.message,e));break;case"multipleOf":nt(n,"multipleOf",r.value,r.message,e);break}return n}function UN(){return{type:"boolean"}}function ME(t,e){return Je(t.type._def,e)}const zN=(t,e)=>Je(t.innerType._def,e);function PE(t,e,n){const r=n??e.dateStrategy;if(Array.isArray(r))return{anyOf:r.map((i,o)=>PE(t,e,i))};switch(r){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return BN(t,e)}}const BN=(t,e)=>{const n={type:"integer",format:"unix-time"};if(e.target==="openApi3")return n;for(const r of t.checks)switch(r.kind){case"min":nt(n,"minimum",r.value,r.message,e);break;case"max":nt(n,"maximum",r.value,r.message,e);break}return n};function HN(t,e){return{...Je(t.innerType._def,e),default:t.defaultValue()}}function qN(t,e){return e.effectStrategy==="input"?Je(t.schema._def,e):{}}function GN(t){return{type:"string",enum:Array.from(t.values)}}const FN=t=>"type"in t&&t.type==="string"?!1:"allOf"in t;function VN(t,e){const n=[Je(t.left._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),Je(t.right._def,{...e,currentPath:[...e.currentPath,"allOf","1"]})].filter(o=>!!o);let r=e.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0;const i=[];return n.forEach(o=>{if(FN(o))i.push(...o.allOf),o.unevaluatedProperties===void 0&&(r=void 0);else{let u=o;if("additionalProperties"in o&&o.additionalProperties===!1){const{additionalProperties:d,...f}=o;u=f}else r=void 0;i.push(u)}}),i.length?{allOf:i,...r}:void 0}function ZN(t,e){const n=typeof t.value;return n!=="bigint"&&n!=="number"&&n!=="boolean"&&n!=="string"?{type:Array.isArray(t.value)?"array":"object"}:e.target==="openApi3"?{type:n==="bigint"?"integer":n,enum:[t.value]}:{type:n==="bigint"?"integer":n,const:t.value}}let xm;const dr={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(xm===void 0&&(xm=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),xm),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function LE(t,e){const n={type:"string"};if(t.checks)for(const r of t.checks)switch(r.kind){case"min":nt(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value,r.message,e);break;case"max":nt(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value,r.message,e);break;case"email":switch(e.emailStrategy){case"format:email":fr(n,"email",r.message,e);break;case"format:idn-email":fr(n,"idn-email",r.message,e);break;case"pattern:zod":bn(n,dr.email,r.message,e);break}break;case"url":fr(n,"uri",r.message,e);break;case"uuid":fr(n,"uuid",r.message,e);break;case"regex":bn(n,r.regex,r.message,e);break;case"cuid":bn(n,dr.cuid,r.message,e);break;case"cuid2":bn(n,dr.cuid2,r.message,e);break;case"startsWith":bn(n,RegExp(`^${Rm(r.value,e)}`),r.message,e);break;case"endsWith":bn(n,RegExp(`${Rm(r.value,e)}$`),r.message,e);break;case"datetime":fr(n,"date-time",r.message,e);break;case"date":fr(n,"date",r.message,e);break;case"time":fr(n,"time",r.message,e);break;case"duration":fr(n,"duration",r.message,e);break;case"length":nt(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value,r.message,e),nt(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value,r.message,e);break;case"includes":{bn(n,RegExp(Rm(r.value,e)),r.message,e);break}case"ip":{r.version!=="v6"&&fr(n,"ipv4",r.message,e),r.version!=="v4"&&fr(n,"ipv6",r.message,e);break}case"base64url":bn(n,dr.base64url,r.message,e);break;case"jwt":bn(n,dr.jwt,r.message,e);break;case"cidr":{r.version!=="v6"&&bn(n,dr.ipv4Cidr,r.message,e),r.version!=="v4"&&bn(n,dr.ipv6Cidr,r.message,e);break}case"emoji":bn(n,dr.emoji(),r.message,e);break;case"ulid":{bn(n,dr.ulid,r.message,e);break}case"base64":{switch(e.base64Strategy){case"format:binary":{fr(n,"binary",r.message,e);break}case"contentEncoding:base64":{nt(n,"contentEncoding","base64",r.message,e);break}case"pattern:zod":{bn(n,dr.base64,r.message,e);break}}break}case"nanoid":bn(n,dr.nanoid,r.message,e)}return n}function Rm(t,e){return e.patternStrategy==="escape"?KN(t):t}const YN=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function KN(t){let e="";for(let n=0;n<t.length;n++)YN.has(t[n])||(e+="\\"),e+=t[n];return e}function fr(t,e,n,r){var i;t.format||(i=t.anyOf)!=null&&i.some(o=>o.format)?(t.anyOf||(t.anyOf=[]),t.format&&(t.anyOf.push({format:t.format,...t.errorMessage&&r.errorMessages&&{errorMessage:{format:t.errorMessage.format}}}),delete t.format,t.errorMessage&&(delete t.errorMessage.format,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.anyOf.push({format:e,...n&&r.errorMessages&&{errorMessage:{format:n}}})):nt(t,"format",e,n,r)}function bn(t,e,n,r){var i;t.pattern||(i=t.allOf)!=null&&i.some(o=>o.pattern)?(t.allOf||(t.allOf=[]),t.pattern&&(t.allOf.push({pattern:t.pattern,...t.errorMessage&&r.errorMessages&&{errorMessage:{pattern:t.errorMessage.pattern}}}),delete t.pattern,t.errorMessage&&(delete t.errorMessage.pattern,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.allOf.push({pattern:MS(e,r),...n&&r.errorMessages&&{errorMessage:{pattern:n}}})):nt(t,"pattern",MS(e,r),n,r)}function MS(t,e){var f;if(!e.applyRegexFlags||!t.flags)return t.source;const n={i:t.flags.includes("i"),m:t.flags.includes("m"),s:t.flags.includes("s")},r=n.i?t.source.toLowerCase():t.source;let i="",o=!1,u=!1,d=!1;for(let h=0;h<r.length;h++){if(o){i+=r[h],o=!1;continue}if(n.i){if(u){if(r[h].match(/[a-z]/)){d?(i+=r[h],i+=`${r[h-2]}-${r[h]}`.toUpperCase(),d=!1):r[h+1]==="-"&&((f=r[h+2])!=null&&f.match(/[a-z]/))?(i+=r[h],d=!0):i+=`${r[h]}${r[h].toUpperCase()}`;continue}}else if(r[h].match(/[a-z]/)){i+=`[${r[h]}${r[h].toUpperCase()}]`;continue}}if(n.m){if(r[h]==="^"){i+=`(^|(?<=[\r
]))`;continue}else if(r[h]==="$"){i+=`($|(?=[\r
]))`;continue}}if(n.s&&r[h]==="."){i+=u?`${r[h]}\r
`:`[${r[h]}\r
]`;continue}i+=r[h],r[h]==="\\"?o=!0:u&&r[h]==="]"?u=!1:!u&&r[h]==="["&&(u=!0)}try{new RegExp(i)}catch{return console.warn(`Could not convert regex pattern at ${e.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),t.source}return i}function DE(t,e){var r,i,o,u,d,f;if(e.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),e.target==="openApi3"&&((r=t.keyType)==null?void 0:r._def.typeName)===ue.ZodEnum)return{type:"object",required:t.keyType._def.values,properties:t.keyType._def.values.reduce((h,m)=>({...h,[m]:Je(t.valueType._def,{...e,currentPath:[...e.currentPath,"properties",m]})??{}}),{}),additionalProperties:e.rejectedAdditionalProperties};const n={type:"object",additionalProperties:Je(t.valueType._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??e.allowedAdditionalProperties};if(e.target==="openApi3")return n;if(((i=t.keyType)==null?void 0:i._def.typeName)===ue.ZodString&&((o=t.keyType._def.checks)!=null&&o.length)){const{type:h,...m}=LE(t.keyType._def,e);return{...n,propertyNames:m}}else{if(((u=t.keyType)==null?void 0:u._def.typeName)===ue.ZodEnum)return{...n,propertyNames:{enum:t.keyType._def.values}};if(((d=t.keyType)==null?void 0:d._def.typeName)===ue.ZodBranded&&t.keyType._def.type._def.typeName===ue.ZodString&&((f=t.keyType._def.type._def.checks)!=null&&f.length)){const{type:h,...m}=ME(t.keyType._def,e);return{...n,propertyNames:m}}}return n}function XN(t,e){if(e.mapStrategy==="record")return DE(t,e);const n=Je(t.keyType._def,{...e,currentPath:[...e.currentPath,"items","items","0"]})||{},r=Je(t.valueType._def,{...e,currentPath:[...e.currentPath,"items","items","1"]})||{};return{type:"array",maxItems:125,items:{type:"array",items:[n,r],minItems:2,maxItems:2}}}function QN(t){const e=t.values,r=Object.keys(t.values).filter(o=>typeof e[e[o]]!="number").map(o=>e[o]),i=Array.from(new Set(r.map(o=>typeof o)));return{type:i.length===1?i[0]==="string"?"string":"number":["string","number"],enum:r}}function WN(){return{not:{}}}function JN(t){return t.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}const ed={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function ek(t,e){if(e.target==="openApi3")return PS(t,e);const n=t.options instanceof Map?Array.from(t.options.values()):t.options;if(n.every(r=>r._def.typeName in ed&&(!r._def.checks||!r._def.checks.length))){const r=n.reduce((i,o)=>{const u=ed[o._def.typeName];return u&&!i.includes(u)?[...i,u]:i},[]);return{type:r.length>1?r:r[0]}}else if(n.every(r=>r._def.typeName==="ZodLiteral"&&!r.description)){const r=n.reduce((i,o)=>{const u=typeof o._def.value;switch(u){case"string":case"number":case"boolean":return[...i,u];case"bigint":return[...i,"integer"];case"object":if(o._def.value===null)return[...i,"null"];case"symbol":case"undefined":case"function":default:return i}},[]);if(r.length===n.length){const i=r.filter((o,u,d)=>d.indexOf(o)===u);return{type:i.length>1?i:i[0],enum:n.reduce((o,u)=>o.includes(u._def.value)?o:[...o,u._def.value],[])}}}else if(n.every(r=>r._def.typeName==="ZodEnum"))return{type:"string",enum:n.reduce((r,i)=>[...r,...i._def.values.filter(o=>!r.includes(o))],[])};return PS(t,e)}const PS=(t,e)=>{const n=(t.options instanceof Map?Array.from(t.options.values()):t.options).map((r,i)=>Je(r._def,{...e,currentPath:[...e.currentPath,"anyOf",`${i}`]})).filter(r=>!!r&&(!e.strictUnions||typeof r=="object"&&Object.keys(r).length>0));return n.length?{anyOf:n}:void 0};function tk(t,e){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(t.innerType._def.typeName)&&(!t.innerType._def.checks||!t.innerType._def.checks.length))return e.target==="openApi3"?{type:ed[t.innerType._def.typeName],nullable:!0}:{type:[ed[t.innerType._def.typeName],"null"]};if(e.target==="openApi3"){const r=Je(t.innerType._def,{...e,currentPath:[...e.currentPath]});return r&&"$ref"in r?{allOf:[r],nullable:!0}:r&&{...r,nullable:!0}}const n=Je(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","0"]});return n&&{anyOf:[n,{type:"null"}]}}function nk(t,e){const n={type:"number"};if(!t.checks)return n;for(const r of t.checks)switch(r.kind){case"int":n.type="integer",$E(n,"type",r.message,e);break;case"min":e.target==="jsonSchema7"?r.inclusive?nt(n,"minimum",r.value,r.message,e):nt(n,"exclusiveMinimum",r.value,r.message,e):(r.inclusive||(n.exclusiveMinimum=!0),nt(n,"minimum",r.value,r.message,e));break;case"max":e.target==="jsonSchema7"?r.inclusive?nt(n,"maximum",r.value,r.message,e):nt(n,"exclusiveMaximum",r.value,r.message,e):(r.inclusive||(n.exclusiveMaximum=!0),nt(n,"maximum",r.value,r.message,e));break;case"multipleOf":nt(n,"multipleOf",r.value,r.message,e);break}return n}function rk(t,e){const n=e.target==="openAi",r={type:"object",properties:{}},i=[],o=t.shape();for(const d in o){let f=o[d];if(f===void 0||f._def===void 0)continue;let h=ik(f);h&&n&&(f instanceof la&&(f=f._def.innerType),f.isNullable()||(f=f.nullable()),h=!1);const m=Je(f._def,{...e,currentPath:[...e.currentPath,"properties",d],propertyPath:[...e.currentPath,"properties",d]});m!==void 0&&(r.properties[d]=m,h||i.push(d))}i.length&&(r.required=i);const u=ak(t,e);return u!==void 0&&(r.additionalProperties=u),r}function ak(t,e){if(t.catchall._def.typeName!=="ZodNever")return Je(t.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]});switch(t.unknownKeys){case"passthrough":return e.allowedAdditionalProperties;case"strict":return e.rejectedAdditionalProperties;case"strip":return e.removeAdditionalStrategy==="strict"?e.allowedAdditionalProperties:e.rejectedAdditionalProperties}}function ik(t){try{return t.isOptional()}catch{return!0}}const sk=(t,e)=>{var r;if(e.currentPath.toString()===((r=e.propertyPath)==null?void 0:r.toString()))return Je(t.innerType._def,e);const n=Je(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","1"]});return n?{anyOf:[{not:{}},n]}:{}},ok=(t,e)=>{if(e.pipeStrategy==="input")return Je(t.in._def,e);if(e.pipeStrategy==="output")return Je(t.out._def,e);const n=Je(t.in._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),r=Je(t.out._def,{...e,currentPath:[...e.currentPath,"allOf",n?"1":"0"]});return{allOf:[n,r].filter(i=>i!==void 0)}};function lk(t,e){return Je(t.type._def,e)}function uk(t,e){const r={type:"array",uniqueItems:!0,items:Je(t.valueType._def,{...e,currentPath:[...e.currentPath,"items"]})};return t.minSize&&nt(r,"minItems",t.minSize.value,t.minSize.message,e),t.maxSize&&nt(r,"maxItems",t.maxSize.value,t.maxSize.message,e),r}function ck(t,e){return t.rest?{type:"array",minItems:t.items.length,items:t.items.map((n,r)=>Je(n._def,{...e,currentPath:[...e.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[]),additionalItems:Je(t.rest._def,{...e,currentPath:[...e.currentPath,"additionalItems"]})}:{type:"array",minItems:t.items.length,maxItems:t.items.length,items:t.items.map((n,r)=>Je(n._def,{...e,currentPath:[...e.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[])}}function dk(){return{not:{}}}function fk(){return{}}const hk=(t,e)=>Je(t.innerType._def,e),pk=(t,e,n)=>{switch(e){case ue.ZodString:return LE(t,n);case ue.ZodNumber:return nk(t,n);case ue.ZodObject:return rk(t,n);case ue.ZodBigInt:return DN(t,n);case ue.ZodBoolean:return UN();case ue.ZodDate:return PE(t,n);case ue.ZodUndefined:return dk();case ue.ZodNull:return JN(n);case ue.ZodArray:return LN(t,n);case ue.ZodUnion:case ue.ZodDiscriminatedUnion:return ek(t,n);case ue.ZodIntersection:return VN(t,n);case ue.ZodTuple:return ck(t,n);case ue.ZodRecord:return DE(t,n);case ue.ZodLiteral:return ZN(t,n);case ue.ZodEnum:return GN(t);case ue.ZodNativeEnum:return QN(t);case ue.ZodNullable:return tk(t,n);case ue.ZodOptional:return sk(t,n);case ue.ZodMap:return XN(t,n);case ue.ZodSet:return uk(t,n);case ue.ZodLazy:return()=>t.getter()._def;case ue.ZodPromise:return lk(t,n);case ue.ZodNaN:case ue.ZodNever:return WN();case ue.ZodEffects:return qN(t,n);case ue.ZodAny:return PN();case ue.ZodUnknown:return fk();case ue.ZodDefault:return HN(t,n);case ue.ZodBranded:return ME(t,n);case ue.ZodReadonly:return hk(t,n);case ue.ZodCatch:return zN(t,n);case ue.ZodPipeline:return ok(t,n);case ue.ZodFunction:case ue.ZodVoid:case ue.ZodSymbol:return;default:return(r=>{})()}};function Je(t,e,n=!1){var d;const r=e.seen.get(t);if(e.override){const f=(d=e.override)==null?void 0:d.call(e,t,e,r,n);if(f!==IN)return f}if(r&&!n){const f=mk(r,e);if(f!==void 0)return f}const i={def:t,path:e.currentPath,jsonSchema:void 0};e.seen.set(t,i);const o=pk(t,t.typeName,e),u=typeof o=="function"?Je(o(),e):o;if(u&&yk(t,e,u),e.postProcess){const f=e.postProcess(u,t,e);return i.jsonSchema=u,f}return i.jsonSchema=u,u}const mk=(t,e)=>{switch(e.$refStrategy){case"root":return{$ref:t.path.join("/")};case"relative":return{$ref:gk(e.currentPath,t.path)};case"none":case"seen":return t.path.length<e.currentPath.length&&t.path.every((n,r)=>e.currentPath[r]===n)?(console.warn(`Recursive reference detected at ${e.currentPath.join("/")}! Defaulting to any`),{}):e.$refStrategy==="seen"?{}:void 0}},gk=(t,e)=>{let n=0;for(;n<t.length&&n<e.length&&t[n]===e[n];n++);return[(t.length-n).toString(),...e.slice(n)].join("/")},yk=(t,e,n)=>(t.description&&(n.description=t.description,e.markdownDescription&&(n.markdownDescription=t.description)),n),bk=(t,e)=>{const n=MN(e),r=void 0,i=e==null?void 0:e.name,o=Je(t._def,n,!1)??{},u=i===void 0?r?{...o,[n.definitionPath]:r}:o:{$ref:[...n.$refStrategy==="relative"?[]:n.basePath,n.definitionPath,i].join("/"),[n.definitionPath]:{...r,[i]:o}};return n.target==="jsonSchema7"?u.$schema="http://json-schema.org/draft-07/schema#":(n.target==="jsonSchema2019-09"||n.target==="openAi")&&(u.$schema="https://json-schema.org/draft/2019-09/schema#"),n.target==="openAi"&&("anyOf"in u||"oneOf"in u||"allOf"in u||"type"in u&&Array.isArray(u.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),u};function ig(t,e){const n=typeof t;if(n!==typeof e)return!1;if(Array.isArray(t)){if(!Array.isArray(e))return!1;const r=t.length;if(r!==e.length)return!1;for(let i=0;i<r;i++)if(!ig(t[i],e[i]))return!1;return!0}if(n==="object"){if(!t||!e)return t===e;const r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;for(const u of r)if(!ig(t[u],e[u]))return!1;return!0}return t===e}function Lr(t){if(typeof t!="object"||t===null)return!1;const e=t;if(!("_zod"in e))return!1;const n=e._zod;return typeof n=="object"&&n!==null&&"def"in n}function ha(t){if(typeof t!="object"||t===null)return!1;const e=t;if(!("_def"in e)||"_zod"in e)return!1;const n=e._def;return typeof n=="object"&&n!=null&&"typeName"in n}function Xl(t){return!t||typeof t!="object"||Array.isArray(t)?!1:!!(Lr(t)||ha(t))}async function vk(t,e){if(Lr(t))try{return{success:!0,data:await SN(t,e)}}catch(n){return{success:!1,error:n}}if(ha(t))return t.safeParse(e);throw new Error("Schema must be an instance of z3.ZodType or z4.$ZodType")}async function _k(t,e){if(Lr(t))return _N(t,e);if(ha(t))return t.parse(e);throw new Error("Schema must be an instance of z3.ZodType or z4.$ZodType")}function UE(t){var e;if(Lr(t))return(e=Ya.get(t))==null?void 0:e.description;if(ha(t)||"description"in t&&typeof t.description=="string")return t.description}function wk(t){return Xl(t)?ha(t)?t._def.typeName==="ZodString":Lr(t)?t._zod.def.type==="string":!1:!1}function xl(t){return Lr(t)?typeof t=="object"&&t!==null&&"_zod"in t&&typeof t._zod=="object"&&t._zod!==null&&"def"in t._zod&&typeof t._zod.def=="object"&&t._zod.def!==null&&"type"in t._zod.def&&t._zod.def.type==="object":!1}function zE(t){return Lr(t)?typeof t=="object"&&t!==null&&"_zod"in t&&typeof t._zod=="object"&&t._zod!==null&&"def"in t._zod&&typeof t._zod.def=="object"&&t._zod.def!==null&&"type"in t._zod.def&&t._zod.def.type==="array":!1}function sg(t,e=!1){if(ha(t))return t.strict();if(xl(t)){const n=t._zod.def.shape;if(e)for(const[o,u]of Object.entries(t._zod.def.shape)){if(xl(u)){const f=sg(u,e);n[o]=f}else if(zE(u)){let f=u._zod.def.element;xl(f)&&(f=sg(f,e)),n[o]=Jc(u,{...u._zod.def,element:f})}else n[o]=u;const d=Ya.get(u);d&&Ya.add(n[o],d)}const r=Jc(t,{...t._zod.def,shape:n,catchall:kN(AN)}),i=Ya.get(t);return i&&Ya.add(r,i),r}throw new Error("Schema must be an instance of z3.ZodObject or z4.$ZodObject")}function Sk(t){return ha(t)&&"typeName"in t._def&&t._def.typeName==="ZodEffects"}function Ek(t){return Lr(t)&&t._zod.def.type==="pipe"}function gl(t,e=!1){if(ha(t))return Sk(t)?gl(t._def.schema,e):t;if(Lr(t)){let n=t;if(Ek(t)&&(n=gl(t._zod.def.in,e)),e){if(xl(n)){const i=n._zod.def.shape;for(const[o,u]of Object.entries(n._zod.def.shape))i[o]=gl(u,e);n=Jc(n,{...n._zod.def,shape:i})}else if(zE(n)){const i=gl(n._zod.def.element,e);n=Jc(n,{...n._zod.def,element:i})}}const r=Ya.get(t);return r&&Ya.add(n,r),n}throw new Error("Schema must be an instance of z3.ZodType or z4.$ZodType")}function Zg(t){if(Lr(t)){const e=gl(t,!0);if(xl(e)){const n=sg(e,!0);return $S(n)}else return $S(t)}return ha(t)?bk(t):t}function Tk(t,e){if(t!==void 0&&!Us(t))return t;if(Vg(e))try{let n=e.getName();return n=n.startsWith("Runnable")?n.slice(8):n,n}catch{return e.getName()}else return e.name??"UnknownSchema"}function xk(t){return Vg(t.data)?{type:"runnable",data:{id:t.data.lc_id,name:t.data.getName()}}:{type:"schema",data:{...Zg(t.data.schema),title:t.data.name}}}class xd{constructor(e){Object.defineProperty(this,"nodes",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"edges",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this.nodes=(e==null?void 0:e.nodes)??this.nodes,this.edges=(e==null?void 0:e.edges)??this.edges}toJSON(){const e={};return Object.values(this.nodes).forEach((n,r)=>{e[n.id]=Us(n.id)?r:n.id}),{nodes:Object.values(this.nodes).map(n=>({id:e[n.id],...xk(n)})),edges:this.edges.map(n=>{const r={source:e[n.source],target:e[n.target]};return typeof n.data<"u"&&(r.data=n.data),typeof n.conditional<"u"&&(r.conditional=n.conditional),r})}}addNode(e,n,r){if(n!==void 0&&this.nodes[n]!==void 0)throw new Error(`Node with id ${n} already exists`);const i=n??vn(),o={id:i,data:e,name:Tk(n,e),metadata:r};return this.nodes[i]=o,o}removeNode(e){delete this.nodes[e.id],this.edges=this.edges.filter(n=>n.source!==e.id&&n.target!==e.id)}addEdge(e,n,r,i){if(this.nodes[e.id]===void 0)throw new Error(`Source node ${e.id} not in graph`);if(this.nodes[n.id]===void 0)throw new Error(`Target node ${n.id} not in graph`);const o={source:e.id,target:n.id,data:r,conditional:i};return this.edges.push(o),o}firstNode(){return LS(this)}lastNode(){return DS(this)}extend(e,n=""){let r=n;Object.values(e.nodes).map(h=>h.id).every(Us)&&(r="");const o=h=>r?`${r}:${h}`:h;Object.entries(e.nodes).forEach(([h,m])=>{this.nodes[o(h)]={...m,id:o(h)}});const u=e.edges.map(h=>({...h,source:o(h.source),target:o(h.target)}));this.edges=[...this.edges,...u];const d=e.firstNode(),f=e.lastNode();return[d?{id:o(d.id),data:d.data}:void 0,f?{id:o(f.id),data:f.data}:void 0]}trimFirstNode(){const e=this.firstNode();e&&LS(this,[e.id])&&this.removeNode(e)}trimLastNode(){const e=this.lastNode();e&&DS(this,[e.id])&&this.removeNode(e)}reid(){const e=Object.fromEntries(Object.values(this.nodes).map(i=>[i.id,i.name])),n=new Map;Object.values(e).forEach(i=>{n.set(i,(n.get(i)||0)+1)});const r=i=>{const o=e[i];return Us(i)&&n.get(o)===1?o:i};return new xd({nodes:Object.fromEntries(Object.entries(this.nodes).map(([i,o])=>[r(i),{...o,id:r(i)}])),edges:this.edges.map(i=>({...i,source:r(i.source),target:r(i.target)}))})}drawMermaid(e){const{withStyles:n,curveStyle:r,nodeColors:i={default:"fill:#f2f0ff,line-height:1.2",first:"fill-opacity:0",last:"fill:#bfb6fc"},wrapLabelNWords:o}=e??{},u=this.reid(),d=u.firstNode(),f=u.lastNode();return dN(u.nodes,u.edges,{firstNode:d==null?void 0:d.id,lastNode:f==null?void 0:f.id,withStyles:n,curveStyle:r,nodeColors:i,wrapLabelNWords:o})}async drawMermaidPng(e){const n=this.drawMermaid(e);return fN(n,{backgroundColor:e==null?void 0:e.backgroundColor})}}function LS(t,e=[]){const n=new Set(t.edges.filter(i=>!e.includes(i.source)).map(i=>i.target)),r=[];for(const i of Object.values(t.nodes))!e.includes(i.id)&&!n.has(i.id)&&r.push(i);return r.length===1?r[0]:void 0}function DS(t,e=[]){const n=new Set(t.edges.filter(i=>!e.includes(i.target)).map(i=>i.source)),r=[];for(const i of Object.values(t.nodes))!e.includes(i.id)&&!n.has(i.id)&&r.push(i);return r.length===1?r[0]:void 0}function Rk(t){const e=new TextEncoder,n=new ReadableStream({async start(r){for await(const i of t)r.enqueue(e.encode(`event: data
data: ${JSON.stringify(i)}

`));r.enqueue(e.encode(`event: end

`)),r.close()}});return qn.fromReadableStream(n)}function US(t){return typeof t=="object"&&t!==null&&typeof t[Symbol.iterator]=="function"&&typeof t.next=="function"}const Ok=t=>t!=null&&typeof t=="object"&&"next"in t&&typeof t.next=="function";function og(t){return typeof t=="object"&&t!==null&&typeof t[Symbol.asyncIterator]=="function"}function*zS(t,e){for(;;){const{value:n,done:r}=Ja.runWithConfig(Zs(t),e.next.bind(e),!0);if(r)break;yield n}}async function*lg(t,e){const n=e[Symbol.asyncIterator]();for(;;){const{value:r,done:i}=await Ja.runWithConfig(Zs(t),n.next.bind(e),!0);if(i)break;yield r}}function Wt(t,e){return t&&!Array.isArray(t)&&!(t instanceof Date)&&typeof t=="object"?t:{[e]:t}}class Jt extends ji{constructor(){super(...arguments),Object.defineProperty(this,"lc_runnable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}getName(e){const n=this.name??this.constructor.lc_name()??this.constructor.name;return e?`${n}${e}`:n}bind(e){return new Ni({bound:this,kwargs:e,config:{}})}map(){return new td({bound:this})}withRetry(e){return new BE({bound:this,kwargs:{},config:{},maxAttemptNumber:e==null?void 0:e.stopAfterAttempt,...e})}withConfig(e){return new Ni({bound:this,config:e,kwargs:{}})}withFallbacks(e){const n=Array.isArray(e)?e:e.fallbacks;return new Ak({runnable:this,fallbacks:n})}_getOptionsList(e,n=0){if(Array.isArray(e)&&e.length!==n)throw new Error(`Passed "options" must be an array with the same length as the inputs, but got ${e.length} options for ${n} inputs`);if(Array.isArray(e))return e.map(We);if(n>1&&!Array.isArray(e)&&e.runId){console.warn("Provided runId will be used only for the first element of the batch.");const r=Object.fromEntries(Object.entries(e).filter(([i])=>i!=="runId"));return Array.from({length:n},(i,o)=>We(o===0?e:r))}return Array.from({length:n},()=>We(e))}async batch(e,n,r){var f;const i=this._getOptionsList(n??{},e.length),o=((f=i[0])==null?void 0:f.maxConcurrency)??(r==null?void 0:r.maxConcurrency),u=new Fg({maxConcurrency:o,onFailedAttempt:h=>{throw h}}),d=e.map((h,m)=>u.call(async()=>{try{return await this.invoke(h,i[m])}catch(b){if(r!=null&&r.returnExceptions)return b;throw b}}));return Promise.all(d)}async*_streamIterator(e,n){yield this.invoke(e,n)}async stream(e,n){const r=We(n),i=new eo({generator:this._streamIterator(e,r),config:r});return await i.setup,qn.fromAsyncGenerator(i)}_separateRunnableConfigFromCallOptions(e){let n;e===void 0?n=We(e):n=We({callbacks:e.callbacks,tags:e.tags,metadata:e.metadata,runName:e.runName,configurable:e.configurable,recursionLimit:e.recursionLimit,maxConcurrency:e.maxConcurrency,runId:e.runId,timeout:e.timeout,signal:e.signal});const r={...e};return delete r.callbacks,delete r.tags,delete r.metadata,delete r.runName,delete r.configurable,delete r.recursionLimit,delete r.maxConcurrency,delete r.runId,delete r.timeout,delete r.signal,[n,r]}async _callWithConfig(e,n,r){const i=We(r),o=await pr(i),u=await(o==null?void 0:o.handleChainStart(this.toJSON(),Wt(n,"input"),i.runId,i==null?void 0:i.runType,void 0,void 0,(i==null?void 0:i.runName)??this.getName()));delete i.runId;let d;try{const f=e.call(this,n,i,u);d=await ei(f,r==null?void 0:r.signal)}catch(f){throw await(u==null?void 0:u.handleChainError(f)),f}return await(u==null?void 0:u.handleChainEnd(Wt(d,"output"))),d}async _batchWithConfig(e,n,r,i){var h;const o=this._getOptionsList(r??{},n.length),u=await Promise.all(o.map(pr)),d=await Promise.all(u.map(async(m,b)=>{const y=await(m==null?void 0:m.handleChainStart(this.toJSON(),Wt(n[b],"input"),o[b].runId,o[b].runType,void 0,void 0,o[b].runName??this.getName()));return delete o[b].runId,y}));let f;try{const m=e.call(this,n,o,d,i);f=await ei(m,(h=o==null?void 0:o[0])==null?void 0:h.signal)}catch(m){throw await Promise.all(d.map(b=>b==null?void 0:b.handleChainError(m))),m}return await Promise.all(d.map(m=>m==null?void 0:m.handleChainEnd(Wt(f,"output")))),f}async*_transformStreamWithConfig(e,n,r){let i,o=!0,u,d=!0;const f=We(r),h=await pr(f);async function*m(){for await(const y of e){if(o)if(i===void 0)i=y;else try{i=mr(i,y)}catch{i=void 0,o=!1}yield y}}let b;try{const y=await tN(n.bind(this),m(),async()=>h==null?void 0:h.handleChainStart(this.toJSON(),{input:""},f.runId,f.runType,void 0,void 0,f.runName??this.getName()),r==null?void 0:r.signal,f);delete f.runId,b=y.setup;const _=b==null?void 0:b.handlers.find(aN);let v=y.output;_!==void 0&&b!==void 0&&(v=_.tapOutputIterable(b.runId,v));const w=b==null?void 0:b.handlers.find(nN);w!==void 0&&b!==void 0&&(v=w.tapOutputIterable(b.runId,v));for await(const E of v)if(yield E,d)if(u===void 0)u=E;else try{u=mr(u,E)}catch{u=void 0,d=!1}}catch(y){throw await(b==null?void 0:b.handleChainError(y,void 0,void 0,void 0,{inputs:Wt(i,"input")})),y}await(b==null?void 0:b.handleChainEnd(u??{},void 0,void 0,void 0,{inputs:Wt(i,"input")}))}getGraph(e){const n=new xd,r=n.addNode({name:`${this.getName()}Input`,schema:uw()}),i=n.addNode(this),o=n.addNode({name:`${this.getName()}Output`,schema:uw()});return n.addEdge(r,i),n.addEdge(i,o),n}pipe(e){return new sa({first:this,last:Ri(e)})}pick(e){return this.pipe(new Nk(e))}assign(e){return this.pipe(new HE(new to({steps:e})))}async*transform(e,n){let r;for await(const i of e)r===void 0?r=i:r=mr(r,i);yield*this._streamIterator(r,We(n))}async*streamLog(e,n,r){const i=new kS({...r,autoClose:!1,_schemaFormat:"original"}),o=We(n);yield*this._streamLog(e,i,o)}async*_streamLog(e,n,r){const{callbacks:i}=r;if(i===void 0)r.callbacks=[n];else if(Array.isArray(i))r.callbacks=i.concat([n]);else{const f=i.copy();f.addHandler(n,!0),r.callbacks=f}const o=this.stream(e,r);async function u(){try{const f=await o;for await(const h of f){const m=new Fa({ops:[{op:"add",path:"/streamed_output/-",value:h}]});await n.writer.write(m)}}finally{await n.writer.close()}}const d=u();try{for await(const f of n)yield f}finally{await d}}streamEvents(e,n,r){let i;if(n.version==="v1")i=this._streamEventsV1(e,n,r);else if(n.version==="v2")i=this._streamEventsV2(e,n,r);else throw new Error('Only versions "v1" and "v2" of the schema are currently supported.');return n.encoding==="text/event-stream"?Rk(i):qn.fromAsyncGenerator(i)}async*_streamEventsV2(e,n,r){var v;const i=new iN({...r,autoClose:!1}),o=We(n),u=o.runId??vn();o.runId=u;const d=o.callbacks;if(d===void 0)o.callbacks=[i];else if(Array.isArray(d))o.callbacks=d.concat(i);else{const w=d.copy();w.addHandler(i,!0),o.callbacks=w}const f=new AbortController,h=this;async function m(){try{let w;n!=null&&n.signal?"any"in AbortSignal?w=AbortSignal.any([f.signal,n.signal]):(w=n.signal,n.signal.addEventListener("abort",()=>{f.abort()},{once:!0})):w=f.signal;const E=await h.stream(e,{...o,signal:w}),x=i.tapOutputIterable(u,E);for await(const N of x)if(f.signal.aborted)break}finally{await i.finish()}}const b=m();let y=!1,_;try{for await(const w of i){if(!y){w.data.input=e,y=!0,_=w.run_id,yield w;continue}w.run_id===_&&w.event.endsWith("_end")&&(v=w.data)!=null&&v.input&&delete w.data.input,yield w}}finally{f.abort(),await b}}async*_streamEventsV1(e,n,r){let i,o=!1;const u=We(n),d=u.tags??[],f=u.metadata??{},h=u.runName??this.getName(),m=new kS({...r,autoClose:!1,_schemaFormat:"streaming_events"}),b=new lN({...r}),y=this._streamLog(e,m,u);for await(const v of y){if(i?i=i.concat(v):i=Pl.fromRunLogPatch(v),i.state===void 0)throw new Error('Internal error: "streamEvents" state is missing. Please open a bug report.');if(!o){o=!0;const N={...i.state},T={run_id:N.id,event:`on_${N.type}_start`,name:h,tags:d,metadata:f,data:{input:e}};b.includeEvent(T,N.type)&&(yield T)}const w=v.ops.filter(N=>N.path.startsWith("/logs/")).map(N=>N.path.split("/")[2]),E=[...new Set(w)];for(const N of E){let T,A={};const R=i.state.logs[N];if(R.end_time===void 0?R.streamed_output.length>0?T="stream":T="start":T="end",T==="start")R.inputs!==void 0&&(A.input=R.inputs);else if(T==="end")R.inputs!==void 0&&(A.input=R.inputs),A.output=R.final_output;else if(T==="stream"){const M=R.streamed_output.length;if(M!==1)throw new Error(`Expected exactly one chunk of streamed output, got ${M} instead. Encountered in: "${R.name}"`);A={chunk:R.streamed_output[0]},R.streamed_output=[]}yield{event:`on_${R.type}_${T}`,name:R.name,run_id:R.id,tags:R.tags,metadata:R.metadata,data:A}}const{state:x}=i;if(x.streamed_output.length>0){const N=x.streamed_output.length;if(N!==1)throw new Error(`Expected exactly one chunk of streamed output, got ${N} instead. Encountered in: "${x.name}"`);const T={chunk:x.streamed_output[0]};x.streamed_output=[];const A={event:`on_${x.type}_stream`,run_id:x.id,tags:d,metadata:f,name:h,data:T};b.includeEvent(A,x.type)&&(yield A)}}const _=i==null?void 0:i.state;if(_!==void 0){const v={event:`on_${_.type}_end`,name:h,run_id:_.id,tags:d,metadata:f,data:{output:_.final_output}};b.includeEvent(v,_.type)&&(yield v)}}static isRunnable(e){return Vg(e)}withListeners({onStart:e,onEnd:n,onError:r}){return new Ni({bound:this,config:{},configFactories:[i=>({callbacks:[new kE({config:i,onStart:e,onEnd:n,onError:r})]})]})}asTool(e){return kk(this,e)}}class Ni extends Jt{static lc_name(){return"RunnableBinding"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"bound",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"configFactories",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.bound=e.bound,this.kwargs=e.kwargs,this.config=e.config,this.configFactories=e.configFactories}getName(e){return this.bound.getName(e)}async _mergeConfig(...e){const n=CS(this.config,...e);return CS(n,...this.configFactories?await Promise.all(this.configFactories.map(async r=>await r(n))):[])}bind(e){return new this.constructor({bound:this.bound,kwargs:{...this.kwargs,...e},config:this.config})}withConfig(e){return new this.constructor({bound:this.bound,kwargs:this.kwargs,config:{...this.config,...e}})}withRetry(e){return new BE({bound:this.bound,kwargs:this.kwargs,config:this.config,maxAttemptNumber:e==null?void 0:e.stopAfterAttempt,...e})}async invoke(e,n){return this.bound.invoke(e,await this._mergeConfig(We(n),this.kwargs))}async batch(e,n,r){const i=Array.isArray(n)?await Promise.all(n.map(async o=>this._mergeConfig(We(o),this.kwargs))):await this._mergeConfig(We(n),this.kwargs);return this.bound.batch(e,i,r)}async*_streamIterator(e,n){yield*this.bound._streamIterator(e,await this._mergeConfig(We(n),this.kwargs))}async stream(e,n){return this.bound.stream(e,await this._mergeConfig(We(n),this.kwargs))}async*transform(e,n){yield*this.bound.transform(e,await this._mergeConfig(We(n),this.kwargs))}streamEvents(e,n,r){const i=this,o=async function*(){yield*i.bound.streamEvents(e,{...await i._mergeConfig(We(n),i.kwargs),version:n.version},r)};return qn.fromAsyncGenerator(o())}static isRunnableBinding(e){return e.bound&&Jt.isRunnable(e.bound)}withListeners({onStart:e,onEnd:n,onError:r}){return new Ni({bound:this.bound,kwargs:this.kwargs,config:this.config,configFactories:[i=>({callbacks:[new kE({config:i,onStart:e,onEnd:n,onError:r})]})]})}}class td extends Jt{static lc_name(){return"RunnableEach"}constructor(e){super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"bound",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.bound=e.bound}bind(e){return new td({bound:this.bound.bind(e)})}async invoke(e,n){return this._callWithConfig(this._invoke.bind(this),e,n)}async _invoke(e,n,r){return this.bound.batch(e,hn(n,{callbacks:r==null?void 0:r.getChild()}))}withListeners({onStart:e,onEnd:n,onError:r}){return new td({bound:this.bound.withListeners({onStart:e,onEnd:n,onError:r})})}}class BE extends Ni{static lc_name(){return"RunnableRetry"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"maxAttemptNumber",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"onFailedAttempt",{enumerable:!0,configurable:!0,writable:!0,value:()=>{}}),this.maxAttemptNumber=e.maxAttemptNumber??this.maxAttemptNumber,this.onFailedAttempt=e.onFailedAttempt??this.onFailedAttempt}_patchConfigForRetry(e,n,r){const i=e>1?`retry:attempt:${e}`:void 0;return hn(n,{callbacks:r==null?void 0:r.getChild(i)})}async _invoke(e,n,r){return Vc(i=>super.invoke(e,this._patchConfigForRetry(i,n,r)),{onFailedAttempt:i=>this.onFailedAttempt(i,e),retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}async invoke(e,n){return this._callWithConfig(this._invoke.bind(this),e,n)}async _batch(e,n,r,i){const o={};try{await Vc(async u=>{const d=e.map((y,_)=>_).filter(y=>o[y.toString()]===void 0||o[y.toString()]instanceof Error),f=d.map(y=>e[y]),h=d.map(y=>this._patchConfigForRetry(u,n==null?void 0:n[y],r==null?void 0:r[y])),m=await super.batch(f,h,{...i,returnExceptions:!0});let b;for(let y=0;y<m.length;y+=1){const _=m[y],v=d[y];_ instanceof Error&&b===void 0&&(b=_,b.input=f[y]),o[v.toString()]=_}if(b)throw b;return m},{onFailedAttempt:u=>this.onFailedAttempt(u,u.input),retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}catch(u){if((i==null?void 0:i.returnExceptions)!==!0)throw u}return Object.keys(o).sort((u,d)=>parseInt(u,10)-parseInt(d,10)).map(u=>o[parseInt(u,10)])}async batch(e,n,r){return this._batchWithConfig(this._batch.bind(this),e,n,r)}}class sa extends Jt{static lc_name(){return"RunnableSequence"}constructor(e){super(e),Object.defineProperty(this,"first",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"middle",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"last",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"omitSequenceTags",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),this.first=e.first,this.middle=e.middle??this.middle,this.last=e.last,this.name=e.name,this.omitSequenceTags=e.omitSequenceTags??this.omitSequenceTags}get steps(){return[this.first,...this.middle,this.last]}async invoke(e,n){var f;const r=We(n),i=await pr(r),o=await(i==null?void 0:i.handleChainStart(this.toJSON(),Wt(e,"input"),r.runId,void 0,void 0,void 0,r==null?void 0:r.runName));delete r.runId;let u=e,d;try{const h=[this.first,...this.middle];for(let m=0;m<h.length;m+=1){const y=h[m].invoke(u,hn(r,{callbacks:o==null?void 0:o.getChild(this.omitSequenceTags?void 0:`seq:step:${m+1}`)}));u=await ei(y,n==null?void 0:n.signal)}if((f=n==null?void 0:n.signal)!=null&&f.aborted)throw new Error("Aborted");d=await this.last.invoke(u,hn(r,{callbacks:o==null?void 0:o.getChild(this.omitSequenceTags?void 0:`seq:step:${this.steps.length}`)}))}catch(h){throw await(o==null?void 0:o.handleChainError(h)),h}return await(o==null?void 0:o.handleChainEnd(Wt(d,"output"))),d}async batch(e,n,r){var f;const i=this._getOptionsList(n??{},e.length),o=await Promise.all(i.map(pr)),u=await Promise.all(o.map(async(h,m)=>{const b=await(h==null?void 0:h.handleChainStart(this.toJSON(),Wt(e[m],"input"),i[m].runId,void 0,void 0,void 0,i[m].runName));return delete i[m].runId,b}));let d=e;try{for(let h=0;h<this.steps.length;h+=1){const b=this.steps[h].batch(d,u.map((y,_)=>{const v=y==null?void 0:y.getChild(this.omitSequenceTags?void 0:`seq:step:${h+1}`);return hn(i[_],{callbacks:v})}),r);d=await ei(b,(f=i[0])==null?void 0:f.signal)}}catch(h){throw await Promise.all(u.map(m=>m==null?void 0:m.handleChainError(h))),h}return await Promise.all(u.map(h=>h==null?void 0:h.handleChainEnd(Wt(d,"output")))),d}async*_streamIterator(e,n){var b;const r=await pr(n),{runId:i,...o}=n??{},u=await(r==null?void 0:r.handleChainStart(this.toJSON(),Wt(e,"input"),i,void 0,void 0,void 0,o==null?void 0:o.runName)),d=[this.first,...this.middle,this.last];let f=!0,h;async function*m(){yield e}try{let y=d[0].transform(m(),hn(o,{callbacks:u==null?void 0:u.getChild(this.omitSequenceTags?void 0:"seq:step:1")}));for(let _=1;_<d.length;_+=1)y=await d[_].transform(y,hn(o,{callbacks:u==null?void 0:u.getChild(this.omitSequenceTags?void 0:`seq:step:${_+1}`)}));for await(const _ of y)if((b=n==null?void 0:n.signal)==null||b.throwIfAborted(),yield _,f)if(h===void 0)h=_;else try{h=mr(h,_)}catch{h=void 0,f=!1}}catch(y){throw await(u==null?void 0:u.handleChainError(y)),y}await(u==null?void 0:u.handleChainEnd(Wt(h,"output")))}getGraph(e){const n=new xd;let r=null;return this.steps.forEach((i,o)=>{const u=i.getGraph(e);o!==0&&u.trimFirstNode(),o!==this.steps.length-1&&u.trimLastNode(),n.extend(u);const d=u.firstNode();if(!d)throw new Error(`Runnable ${i} has no first node`);r&&n.addEdge(r,d),r=u.lastNode()}),n}pipe(e){return sa.isRunnableSequence(e)?new sa({first:this.first,middle:this.middle.concat([this.last,e.first,...e.middle]),last:e.last,name:this.name??e.name}):new sa({first:this.first,middle:[...this.middle,this.last],last:Ri(e),name:this.name})}static isRunnableSequence(e){return Array.isArray(e.middle)&&Jt.isRunnable(e)}static from([e,...n],r){let i={};return typeof r=="string"?i.name=r:r!==void 0&&(i=r),new sa({...i,first:Ri(e),middle:n.slice(0,-1).map(Ri),last:Ri(n[n.length-1])})}}class to extends Jt{static lc_name(){return"RunnableMap"}getStepsKeys(){return Object.keys(this.steps)}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"steps",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.steps={};for(const[n,r]of Object.entries(e.steps))this.steps[n]=Ri(r)}static from(e){return new to({steps:e})}async invoke(e,n){const r=We(n),i=await pr(r),o=await(i==null?void 0:i.handleChainStart(this.toJSON(),{input:e},r.runId,void 0,void 0,void 0,r==null?void 0:r.runName));delete r.runId;const u={};try{const d=Object.entries(this.steps).map(async([f,h])=>{u[f]=await h.invoke(e,hn(r,{callbacks:o==null?void 0:o.getChild(`map:key:${f}`)}))});await ei(Promise.all(d),n==null?void 0:n.signal)}catch(d){throw await(o==null?void 0:o.handleChainError(d)),d}return await(o==null?void 0:o.handleChainEnd(u)),u}async*_transform(e,n,r){const i={...this.steps},o=NE(e,Object.keys(i).length),u=new Map(Object.entries(i).map(([d,f],h)=>{const m=f.transform(o[h],hn(r,{callbacks:n==null?void 0:n.getChild(`map:key:${d}`)}));return[d,m.next().then(b=>({key:d,gen:m,result:b}))]}));for(;u.size;){const d=Promise.race(u.values()),{key:f,result:h,gen:m}=await ei(d,r==null?void 0:r.signal);u.delete(f),h.done||(yield{[f]:h.value},u.set(f,m.next().then(b=>({key:f,gen:m,result:b}))))}}transform(e,n){return this._transformStreamWithConfig(e,this._transform.bind(this),n)}async stream(e,n){async function*r(){yield e}const i=We(n),o=new eo({generator:this.transform(r(),i),config:i});return await o.setup,qn.fromAsyncGenerator(o)}}class Yg extends Jt{constructor(e){if(super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"func",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!Gg(e.func))throw new Error("RunnableTraceable requires a function that is wrapped in traceable higher-order function");this.func=e.func}async invoke(e,n){const[r]=this._getOptionsList(n??{},1),i=await pr(r),o=this.func(hn(r,{callbacks:i}),e);return ei(o,r==null?void 0:r.signal)}async*_streamIterator(e,n){var o,u;const[r]=this._getOptionsList(n??{},1),i=await this.invoke(e,n);if(og(i)){for await(const d of i)(o=r==null?void 0:r.signal)==null||o.throwIfAborted(),yield d;return}if(Ok(i)){for(;;){(u=r==null?void 0:r.signal)==null||u.throwIfAborted();const d=i.next();if(d.done)break;yield d.value}return}yield i}static from(e){return new Yg({func:e})}}function Ck(t){if(Gg(t))throw new Error("RunnableLambda requires a function that is not wrapped in traceable higher-order function. This shouldn't happen.")}class Ql extends Jt{static lc_name(){return"RunnableLambda"}constructor(e){if(Gg(e.func))return Yg.from(e.func);super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"func",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Ck(e.func),this.func=e.func}static from(e){return new Ql({func:e})}async _invoke(e,n,r){return new Promise((i,o)=>{const u=hn(n,{callbacks:r==null?void 0:r.getChild(),recursionLimit:((n==null?void 0:n.recursionLimit)??Sm)-1});Ja.runWithConfig(Zs(u),async()=>{var d,f;try{let h=await this.func(e,{...u});if(h&&Jt.isRunnable(h)){if((n==null?void 0:n.recursionLimit)===0)throw new Error("Recursion limit reached.");h=await h.invoke(e,{...u,recursionLimit:(u.recursionLimit??Sm)-1})}else if(og(h)){let m;for await(const b of lg(u,h))if((d=n==null?void 0:n.signal)==null||d.throwIfAborted(),m===void 0)m=b;else try{m=mr(m,b)}catch{m=b}h=m}else if(US(h)){let m;for(const b of zS(u,h))if((f=n==null?void 0:n.signal)==null||f.throwIfAborted(),m===void 0)m=b;else try{m=mr(m,b)}catch{m=b}h=m}i(h)}catch(h){o(h)}})})}async invoke(e,n){return this._callWithConfig(this._invoke.bind(this),e,n)}async*_transform(e,n,r){var d,f;let i;for await(const h of e)if(i===void 0)i=h;else try{i=mr(i,h)}catch{i=h}const o=hn(r,{callbacks:n==null?void 0:n.getChild(),recursionLimit:((r==null?void 0:r.recursionLimit)??Sm)-1}),u=await new Promise((h,m)=>{Ja.runWithConfig(Zs(o),async()=>{try{const b=await this.func(i,{...o,config:o});h(b)}catch(b){m(b)}})});if(u&&Jt.isRunnable(u)){if((r==null?void 0:r.recursionLimit)===0)throw new Error("Recursion limit reached.");const h=await u.stream(i,o);for await(const m of h)yield m}else if(og(u))for await(const h of lg(o,u))(d=r==null?void 0:r.signal)==null||d.throwIfAborted(),yield h;else if(US(u))for(const h of zS(o,u))(f=r==null?void 0:r.signal)==null||f.throwIfAborted(),yield h;else yield u}transform(e,n){return this._transformStreamWithConfig(e,this._transform.bind(this),n)}async stream(e,n){async function*r(){yield e}const i=We(n),o=new eo({generator:this.transform(r(),i),config:i});return await o.setup,qn.fromAsyncGenerator(o)}}class Ak extends Jt{static lc_name(){return"RunnableWithFallbacks"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"runnable",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fallbacks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.runnable=e.runnable,this.fallbacks=e.fallbacks}*runnables(){yield this.runnable;for(const e of this.fallbacks)yield e}async invoke(e,n){const r=We(n),i=await pr(r),{runId:o,...u}=r,d=await(i==null?void 0:i.handleChainStart(this.toJSON(),Wt(e,"input"),o,void 0,void 0,void 0,u==null?void 0:u.runName)),f=hn(u,{callbacks:d==null?void 0:d.getChild()});return await Ja.runWithConfig(f,async()=>{var b;let m;for(const y of this.runnables()){(b=r==null?void 0:r.signal)==null||b.throwIfAborted();try{const _=await y.invoke(e,f);return await(d==null?void 0:d.handleChainEnd(Wt(_,"output"))),_}catch(_){m===void 0&&(m=_)}}throw m===void 0?new Error("No error stored at end of fallback."):(await(d==null?void 0:d.handleChainError(m)),m)})}async*_streamIterator(e,n){var b;const r=We(n),i=await pr(r),{runId:o,...u}=r,d=await(i==null?void 0:i.handleChainStart(this.toJSON(),Wt(e,"input"),o,void 0,void 0,void 0,u==null?void 0:u.runName));let f,h;for(const y of this.runnables()){(b=r==null?void 0:r.signal)==null||b.throwIfAborted();const _=hn(u,{callbacks:d==null?void 0:d.getChild()});try{const v=await y.stream(e,_);h=lg(_,v);break}catch(v){f===void 0&&(f=v)}}if(h===void 0){const y=f??new Error("No error stored at end of fallback.");throw await(d==null?void 0:d.handleChainError(y)),y}let m;try{for await(const y of h){yield y;try{m=m===void 0?m:mr(m,y)}catch{m=void 0}}}catch(y){throw await(d==null?void 0:d.handleChainError(y)),y}await(d==null?void 0:d.handleChainEnd(Wt(m,"output")))}async batch(e,n,r){var f;if(r!=null&&r.returnExceptions)throw new Error("Not implemented.");const i=this._getOptionsList(n??{},e.length),o=await Promise.all(i.map(h=>pr(h))),u=await Promise.all(o.map(async(h,m)=>{const b=await(h==null?void 0:h.handleChainStart(this.toJSON(),Wt(e[m],"input"),i[m].runId,void 0,void 0,void 0,i[m].runName));return delete i[m].runId,b}));let d;for(const h of this.runnables()){(f=i[0].signal)==null||f.throwIfAborted();try{const m=await h.batch(e,u.map((b,y)=>hn(i[y],{callbacks:b==null?void 0:b.getChild()})),r);return await Promise.all(u.map((b,y)=>b==null?void 0:b.handleChainEnd(Wt(m[y],"output")))),m}catch(m){d===void 0&&(d=m)}}throw d?(await Promise.all(u.map(h=>h==null?void 0:h.handleChainError(d))),d):new Error("No error stored at end of fallbacks.")}}function Ri(t){if(typeof t=="function")return new Ql({func:t});if(Jt.isRunnable(t))return t;if(!Array.isArray(t)&&typeof t=="object"){const e={};for(const[n,r]of Object.entries(t))e[n]=Ri(r);return new to({steps:e})}else throw new Error(`Expected a Runnable, function or object.
Instead got an unsupported type.`)}class HE extends Jt{static lc_name(){return"RunnableAssign"}constructor(e){e instanceof to&&(e={mapper:e}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"mapper",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.mapper=e.mapper}async invoke(e,n){const r=await this.mapper.invoke(e,n);return{...e,...r}}async*_transform(e,n,r){const i=this.mapper.getStepsKeys(),[o,u]=NE(e),d=this.mapper.transform(u,hn(r,{callbacks:n==null?void 0:n.getChild()})),f=d.next();for await(const h of o){if(typeof h!="object"||Array.isArray(h))throw new Error(`RunnableAssign can only be used with objects as input, got ${typeof h}`);const m=Object.fromEntries(Object.entries(h).filter(([b])=>!i.includes(b)));Object.keys(m).length>0&&(yield m)}yield(await f).value;for await(const h of d)yield h}transform(e,n){return this._transformStreamWithConfig(e,this._transform.bind(this),n)}async stream(e,n){async function*r(){yield e}const i=We(n),o=new eo({generator:this.transform(r(),i),config:i});return await o.setup,qn.fromAsyncGenerator(o)}}class Nk extends Jt{static lc_name(){return"RunnablePick"}constructor(e){(typeof e=="string"||Array.isArray(e))&&(e={keys:e}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"keys",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.keys=e.keys}async _pick(e){if(typeof this.keys=="string")return e[this.keys];{const n=this.keys.map(r=>[r,e[r]]).filter(r=>r[1]!==void 0);return n.length===0?void 0:Object.fromEntries(n)}}async invoke(e,n){return this._callWithConfig(this._pick.bind(this),e,n)}async*_transform(e){for await(const n of e){const r=await this._pick(n);r!==void 0&&(yield r)}}transform(e,n){return this._transformStreamWithConfig(e,this._transform.bind(this),n)}async stream(e,n){async function*r(){yield e}const i=We(n),o=new eo({generator:this.transform(r(),i),config:i});return await o.setup,qn.fromAsyncGenerator(o)}}class BS extends Ni{constructor(e){const n=sa.from([Ql.from(async r=>{let i;if(lE(r))try{i=await _k(this.schema,r.args)}catch{throw new vC("Received tool input did not match expected schema",JSON.stringify(r.args))}else i=r;return i}).withConfig({runName:`${e.name}:parse_input`}),e.bound]).withConfig({runName:e.name});super({bound:n,config:e.config??{}}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"description",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"schema",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e.name,this.description=e.description,this.schema=e.schema}static lc_name(){return"RunnableToolLike"}}function kk(t,e){const n=e.name??t.getName(),r=e.description??UE(e.schema);return wk(e.schema)?new BS({name:n,description:r,schema:XC({input:KC()}).transform(i=>i.input),bound:t}):new BS({name:n,description:r,schema:e.schema,bound:t})}/*
 * [js-sha1]{@link https://github.com/emn178/js-sha1}
 *
 * @version 0.6.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */var Ik=typeof window=="object"?window:{},Ie="0123456789abcdef".split(""),jk=[-2147483648,8388608,32768,128],hr=[24,16,8,0],Qt=[];function gr(t){t?(Qt[0]=Qt[16]=Qt[1]=Qt[2]=Qt[3]=Qt[4]=Qt[5]=Qt[6]=Qt[7]=Qt[8]=Qt[9]=Qt[10]=Qt[11]=Qt[12]=Qt[13]=Qt[14]=Qt[15]=0,this.blocks=Qt):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.h0=1732584193,this.h1=4023233417,this.h2=2562383102,this.h3=271733878,this.h4=3285377520,this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}gr.prototype.update=function(t){if(!this.finalized){var e=typeof t!="string";e&&t.constructor===Ik.ArrayBuffer&&(t=new Uint8Array(t));for(var n,r=0,i,o=t.length||0,u=this.blocks;r<o;){if(this.hashed&&(this.hashed=!1,u[0]=this.block,u[16]=u[1]=u[2]=u[3]=u[4]=u[5]=u[6]=u[7]=u[8]=u[9]=u[10]=u[11]=u[12]=u[13]=u[14]=u[15]=0),e)for(i=this.start;r<o&&i<64;++r)u[i>>2]|=t[r]<<hr[i++&3];else for(i=this.start;r<o&&i<64;++r)n=t.charCodeAt(r),n<128?u[i>>2]|=n<<hr[i++&3]:n<2048?(u[i>>2]|=(192|n>>6)<<hr[i++&3],u[i>>2]|=(128|n&63)<<hr[i++&3]):n<55296||n>=57344?(u[i>>2]|=(224|n>>12)<<hr[i++&3],u[i>>2]|=(128|n>>6&63)<<hr[i++&3],u[i>>2]|=(128|n&63)<<hr[i++&3]):(n=65536+((n&1023)<<10|t.charCodeAt(++r)&1023),u[i>>2]|=(240|n>>18)<<hr[i++&3],u[i>>2]|=(128|n>>12&63)<<hr[i++&3],u[i>>2]|=(128|n>>6&63)<<hr[i++&3],u[i>>2]|=(128|n&63)<<hr[i++&3]);this.lastByteIndex=i,this.bytes+=i-this.start,i>=64?(this.block=u[16],this.start=i-64,this.hash(),this.hashed=!0):this.start=i}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}};gr.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[16]=this.block,t[e>>2]|=jk[e&3],this.block=t[16],e>=56&&(this.hashed||this.hash(),t[0]=this.block,t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.hBytes<<3|this.bytes>>>29,t[15]=this.bytes<<3,this.hash()}};gr.prototype.hash=function(){var t=this.h0,e=this.h1,n=this.h2,r=this.h3,i=this.h4,o,u,d,f=this.blocks;for(u=16;u<80;++u)d=f[u-3]^f[u-8]^f[u-14]^f[u-16],f[u]=d<<1|d>>>31;for(u=0;u<20;u+=5)o=e&n|~e&r,d=t<<5|t>>>27,i=d+o+i+1518500249+f[u]<<0,e=e<<30|e>>>2,o=t&e|~t&n,d=i<<5|i>>>27,r=d+o+r+1518500249+f[u+1]<<0,t=t<<30|t>>>2,o=i&t|~i&e,d=r<<5|r>>>27,n=d+o+n+1518500249+f[u+2]<<0,i=i<<30|i>>>2,o=r&i|~r&t,d=n<<5|n>>>27,e=d+o+e+1518500249+f[u+3]<<0,r=r<<30|r>>>2,o=n&r|~n&i,d=e<<5|e>>>27,t=d+o+t+1518500249+f[u+4]<<0,n=n<<30|n>>>2;for(;u<40;u+=5)o=e^n^r,d=t<<5|t>>>27,i=d+o+i+1859775393+f[u]<<0,e=e<<30|e>>>2,o=t^e^n,d=i<<5|i>>>27,r=d+o+r+1859775393+f[u+1]<<0,t=t<<30|t>>>2,o=i^t^e,d=r<<5|r>>>27,n=d+o+n+1859775393+f[u+2]<<0,i=i<<30|i>>>2,o=r^i^t,d=n<<5|n>>>27,e=d+o+e+1859775393+f[u+3]<<0,r=r<<30|r>>>2,o=n^r^i,d=e<<5|e>>>27,t=d+o+t+1859775393+f[u+4]<<0,n=n<<30|n>>>2;for(;u<60;u+=5)o=e&n|e&r|n&r,d=t<<5|t>>>27,i=d+o+i-1894007588+f[u]<<0,e=e<<30|e>>>2,o=t&e|t&n|e&n,d=i<<5|i>>>27,r=d+o+r-1894007588+f[u+1]<<0,t=t<<30|t>>>2,o=i&t|i&e|t&e,d=r<<5|r>>>27,n=d+o+n-1894007588+f[u+2]<<0,i=i<<30|i>>>2,o=r&i|r&t|i&t,d=n<<5|n>>>27,e=d+o+e-1894007588+f[u+3]<<0,r=r<<30|r>>>2,o=n&r|n&i|r&i,d=e<<5|e>>>27,t=d+o+t-1894007588+f[u+4]<<0,n=n<<30|n>>>2;for(;u<80;u+=5)o=e^n^r,d=t<<5|t>>>27,i=d+o+i-899497514+f[u]<<0,e=e<<30|e>>>2,o=t^e^n,d=i<<5|i>>>27,r=d+o+r-899497514+f[u+1]<<0,t=t<<30|t>>>2,o=i^t^e,d=r<<5|r>>>27,n=d+o+n-899497514+f[u+2]<<0,i=i<<30|i>>>2,o=r^i^t,d=n<<5|n>>>27,e=d+o+e-899497514+f[u+3]<<0,r=r<<30|r>>>2,o=n^r^i,d=e<<5|e>>>27,t=d+o+t-899497514+f[u+4]<<0,n=n<<30|n>>>2;this.h0=this.h0+t<<0,this.h1=this.h1+e<<0,this.h2=this.h2+n<<0,this.h3=this.h3+r<<0,this.h4=this.h4+i<<0};gr.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,r=this.h3,i=this.h4;return Ie[t>>28&15]+Ie[t>>24&15]+Ie[t>>20&15]+Ie[t>>16&15]+Ie[t>>12&15]+Ie[t>>8&15]+Ie[t>>4&15]+Ie[t&15]+Ie[e>>28&15]+Ie[e>>24&15]+Ie[e>>20&15]+Ie[e>>16&15]+Ie[e>>12&15]+Ie[e>>8&15]+Ie[e>>4&15]+Ie[e&15]+Ie[n>>28&15]+Ie[n>>24&15]+Ie[n>>20&15]+Ie[n>>16&15]+Ie[n>>12&15]+Ie[n>>8&15]+Ie[n>>4&15]+Ie[n&15]+Ie[r>>28&15]+Ie[r>>24&15]+Ie[r>>20&15]+Ie[r>>16&15]+Ie[r>>12&15]+Ie[r>>8&15]+Ie[r>>4&15]+Ie[r&15]+Ie[i>>28&15]+Ie[i>>24&15]+Ie[i>>20&15]+Ie[i>>16&15]+Ie[i>>12&15]+Ie[i>>8&15]+Ie[i>>4&15]+Ie[i&15]};gr.prototype.toString=gr.prototype.hex;gr.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,r=this.h3,i=this.h4;return[t>>24&255,t>>16&255,t>>8&255,t&255,e>>24&255,e>>16&255,e>>8&255,e&255,n>>24&255,n>>16&255,n>>8&255,n&255,r>>24&255,r>>16&255,r>>8&255,r&255,i>>24&255,i>>16&255,i>>8&255,i&255]};gr.prototype.array=gr.prototype.digest;gr.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(20),e=new DataView(t);return e.setUint32(0,this.h0),e.setUint32(4,this.h1),e.setUint32(8,this.h2),e.setUint32(12,this.h3),e.setUint32(16,this.h4),t};let HS=!1;const $k=t=>(HS||(console.warn(["The default method for hashing keys is insecure and will be replaced in a future version,","but hasn't been replaced yet as to not break existing caches. It's recommended that you use","a more secure hashing algorithm to avoid cache poisoning.","","See this page for more information:","|","└> https://js.langchain.com/docs/troubleshooting/warnings/insecure-cache-algorithm"].join(`
`)),HS=!0),new gr(!0).update(t).hex()),Mk=(...t)=>$k(t.join("_"));class Pk{constructor(){Object.defineProperty(this,"keyEncoder",{enumerable:!0,configurable:!0,writable:!0,value:Mk})}makeDefaultKeyEncoder(e){this.keyEncoder=e}}const Lk=new Map;class Kg extends Pk{constructor(e){super(),Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cache=e??new Map}lookup(e,n){return Promise.resolve(this.cache.get(this.keyEncoder(e,n))??null)}async update(e,n,r){this.cache.set(this.keyEncoder(e,n),r)}static global(){return new Kg(Lk)}}class qE extends ji{}class Dk extends qE{static lc_name(){return"StringPromptValue"}constructor(e){super({value:e}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompt_values"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.value=e}toString(){return this.value}toChatMessages(){return[new pd(this.value)]}}class Uk extends qE{static lc_name(){return"ChatPromptValue"}constructor(e){Array.isArray(e)&&(e={messages:e}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompt_values"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"messages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.messages=e.messages}toString(){return uE(this.messages)}toChatMessages(){return this.messages}}var ol={},qS;function zk(){if(qS)return ol;qS=1,ol.byteLength=d,ol.toByteArray=h,ol.fromByteArray=y;for(var t=[],e=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,o=r.length;i<o;++i)t[i]=r[i],e[r.charCodeAt(i)]=i;e[45]=62,e[95]=63;function u(_){var v=_.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var w=_.indexOf("=");w===-1&&(w=v);var E=w===v?0:4-w%4;return[w,E]}function d(_){var v=u(_),w=v[0],E=v[1];return(w+E)*3/4-E}function f(_,v,w){return(v+w)*3/4-w}function h(_){var v,w=u(_),E=w[0],x=w[1],N=new n(f(_,E,x)),T=0,A=x>0?E-4:E,R;for(R=0;R<A;R+=4)v=e[_.charCodeAt(R)]<<18|e[_.charCodeAt(R+1)]<<12|e[_.charCodeAt(R+2)]<<6|e[_.charCodeAt(R+3)],N[T++]=v>>16&255,N[T++]=v>>8&255,N[T++]=v&255;return x===2&&(v=e[_.charCodeAt(R)]<<2|e[_.charCodeAt(R+1)]>>4,N[T++]=v&255),x===1&&(v=e[_.charCodeAt(R)]<<10|e[_.charCodeAt(R+1)]<<4|e[_.charCodeAt(R+2)]>>2,N[T++]=v>>8&255,N[T++]=v&255),N}function m(_){return t[_>>18&63]+t[_>>12&63]+t[_>>6&63]+t[_&63]}function b(_,v,w){for(var E,x=[],N=v;N<w;N+=3)E=(_[N]<<16&16711680)+(_[N+1]<<8&65280)+(_[N+2]&255),x.push(m(E));return x.join("")}function y(_){for(var v,w=_.length,E=w%3,x=[],N=16383,T=0,A=w-E;T<A;T+=N)x.push(b(_,T,T+N>A?A:T+N));return E===1?(v=_[w-1],x.push(t[v>>2]+t[v<<4&63]+"==")):E===2&&(v=(_[w-2]<<8)+_[w-1],x.push(t[v>>10]+t[v>>4&63]+t[v<<2&63]+"=")),x.join("")}return ol}var Bk=zk();const Hk=ri(Bk);var qk=Object.defineProperty,Gk=(t,e,n)=>e in t?qk(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Fk=(t,e,n)=>(Gk(t,e+"",n),n);function Vk(t,e){let n=Array.from({length:t.length},(r,i)=>({start:i,end:i+1}));for(;n.length>1;){let r=null;for(let i=0;i<n.length-1;i++){const o=t.slice(n[i].start,n[i+1].end),u=e.get(o.join(","));u!=null&&(r==null||u<r[0])&&(r=[u,i])}if(r!=null){const i=r[1];n[i]={start:n[i].start,end:n[i+1].end},n.splice(i+1,1)}else break}return n}function Zk(t,e){return t.length===1?[e.get(t.join(","))]:Vk(t,e).map(n=>e.get(t.slice(n.start,n.end).join(","))).filter(n=>n!=null)}function Yk(t){return t.replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")}var ug=class{constructor(t,e){Jn(this,"specialTokens");Jn(this,"inverseSpecialTokens");Jn(this,"patStr");Jn(this,"textEncoder",new TextEncoder);Jn(this,"textDecoder",new TextDecoder("utf-8"));Jn(this,"rankMap",new Map);Jn(this,"textMap",new Map);this.patStr=t.pat_str;const n=t.bpe_ranks.split(`
`).filter(Boolean).reduce((r,i)=>{const[o,u,...d]=i.split(" "),f=Number.parseInt(u,10);return d.forEach((h,m)=>r[h]=f+m),r},{});for(const[r,i]of Object.entries(n)){const o=Hk.toByteArray(r);this.rankMap.set(o.join(","),i),this.textMap.set(i,o)}this.specialTokens={...t.special_tokens,...e},this.inverseSpecialTokens=Object.entries(this.specialTokens).reduce((r,[i,o])=>(r[o]=this.textEncoder.encode(i),r),{})}encode(t,e=[],n="all"){const r=new RegExp(this.patStr,"ug"),i=ug.specialTokenRegex(Object.keys(this.specialTokens)),o=[],u=new Set(e==="all"?Object.keys(this.specialTokens):e),d=new Set(n==="all"?Object.keys(this.specialTokens).filter(h=>!u.has(h)):n);if(d.size>0){const h=ug.specialTokenRegex([...d]),m=t.match(h);if(m!=null)throw new Error(`The text contains a special token that is not allowed: ${m[0]}`)}let f=0;for(;;){let h=null,m=f;for(;i.lastIndex=m,h=i.exec(t),!(h==null||u.has(h[0]));)m=h.index+1;const b=(h==null?void 0:h.index)??t.length;for(const _ of t.substring(f,b).matchAll(r)){const v=this.textEncoder.encode(_[0]),w=this.rankMap.get(v.join(","));if(w!=null){o.push(w);continue}o.push(...Zk(v,this.rankMap))}if(h==null)break;let y=this.specialTokens[h[0]];o.push(y),f=h.index+h[0].length}return o}decode(t){const e=[];let n=0;for(let o=0;o<t.length;++o){const u=t[o],d=this.textMap.get(u)??this.inverseSpecialTokens[u];d!=null&&(e.push(d),n+=d.length)}const r=new Uint8Array(n);let i=0;for(const o of e)r.set(o,i),i+=o.length;return this.textDecoder.decode(r)}},GE=ug;Fk(GE,"specialTokenRegex",t=>new RegExp(t.map(e=>Yk(e)).join("|"),"g"));function Kk(t){switch(t){case"gpt2":return"gpt2";case"code-cushman-001":case"code-cushman-002":case"code-davinci-001":case"code-davinci-002":case"cushman-codex":case"davinci-codex":case"davinci-002":case"text-davinci-002":case"text-davinci-003":return"p50k_base";case"code-davinci-edit-001":case"text-davinci-edit-001":return"p50k_edit";case"ada":case"babbage":case"babbage-002":case"code-search-ada-code-001":case"code-search-babbage-code-001":case"curie":case"davinci":case"text-ada-001":case"text-babbage-001":case"text-curie-001":case"text-davinci-001":case"text-search-ada-doc-001":case"text-search-babbage-doc-001":case"text-search-curie-doc-001":case"text-search-davinci-doc-001":case"text-similarity-ada-001":case"text-similarity-babbage-001":case"text-similarity-curie-001":case"text-similarity-davinci-001":return"r50k_base";case"gpt-3.5-turbo-instruct-0914":case"gpt-3.5-turbo-instruct":case"gpt-3.5-turbo-16k-0613":case"gpt-3.5-turbo-16k":case"gpt-3.5-turbo-0613":case"gpt-3.5-turbo-0301":case"gpt-3.5-turbo":case"gpt-4-32k-0613":case"gpt-4-32k-0314":case"gpt-4-32k":case"gpt-4-0613":case"gpt-4-0314":case"gpt-4":case"gpt-3.5-turbo-1106":case"gpt-35-turbo":case"gpt-4-1106-preview":case"gpt-4-vision-preview":case"gpt-3.5-turbo-0125":case"gpt-4-turbo":case"gpt-4-turbo-2024-04-09":case"gpt-4-turbo-preview":case"gpt-4-0125-preview":case"text-embedding-ada-002":case"text-embedding-3-small":case"text-embedding-3-large":return"cl100k_base";case"gpt-4o":case"gpt-4o-2024-05-13":case"gpt-4o-2024-08-06":case"gpt-4o-2024-11-20":case"gpt-4o-mini-2024-07-18":case"gpt-4o-mini":case"gpt-4o-search-preview":case"gpt-4o-search-preview-2025-03-11":case"gpt-4o-mini-search-preview":case"gpt-4o-mini-search-preview-2025-03-11":case"gpt-4o-audio-preview":case"gpt-4o-audio-preview-2024-12-17":case"gpt-4o-audio-preview-2024-10-01":case"gpt-4o-mini-audio-preview":case"gpt-4o-mini-audio-preview-2024-12-17":case"o1":case"o1-2024-12-17":case"o1-mini":case"o1-mini-2024-09-12":case"o1-preview":case"o1-preview-2024-09-12":case"o1-pro":case"o1-pro-2025-03-19":case"o3":case"o3-2025-04-16":case"o3-mini":case"o3-mini-2025-01-31":case"o4-mini":case"o4-mini-2025-04-16":case"chatgpt-4o-latest":case"gpt-4o-realtime":case"gpt-4o-realtime-preview-2024-10-01":case"gpt-4o-realtime-preview-2024-12-17":case"gpt-4o-mini-realtime-preview":case"gpt-4o-mini-realtime-preview-2024-12-17":case"gpt-4.1":case"gpt-4.1-2025-04-14":case"gpt-4.1-mini":case"gpt-4.1-mini-2025-04-14":case"gpt-4.1-nano":case"gpt-4.1-nano-2025-04-14":case"gpt-4.5-preview":case"gpt-4.5-preview-2025-02-27":return"o200k_base";default:throw new Error("Unknown model")}}const Tc={},Xk=new Fg({});async function Qk(t){return t in Tc||(Tc[t]=Xk.fetch(`https://tiktoken.pages.dev/js/${t}.json`).then(e=>e.json()).then(e=>new GE(e)).catch(e=>{throw delete Tc[t],e})),await Tc[t]}async function Wk(t){return Qk(Kk(t))}const Jk=t=>t.startsWith("gpt-3.5-turbo-16k")?"gpt-3.5-turbo-16k":t.startsWith("gpt-3.5-turbo-")?"gpt-3.5-turbo":t.startsWith("gpt-4-32k")?"gpt-4-32k":t.startsWith("gpt-4-")?"gpt-4":t.startsWith("gpt-4o")?"gpt-4o":t;function FE(t){return typeof t!="object"||!t?!1:!!("type"in t&&t.type==="function"&&"function"in t&&typeof t.function=="object"&&t.function&&"name"in t.function&&"parameters"in t.function)}const eI=()=>!1;class tI extends Jt{get lc_attributes(){return{callbacks:void 0,verbose:void 0}}constructor(e){super(e),Object.defineProperty(this,"verbose",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"callbacks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.verbose=e.verbose??eI(),this.callbacks=e.callbacks,this.tags=e.tags??[],this.metadata=e.metadata??{}}}class nI extends tI{get callKeys(){return["stop","timeout","signal","tags","metadata","callbacks"]}constructor({callbacks:e,callbackManager:n,...r}){const{cache:i,...o}=r;super({callbacks:e??n,...o}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_encoding",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),typeof i=="object"?this.cache=i:i?this.cache=Kg.global():this.cache=void 0,this.caller=new Fg(r??{})}async getNumTokens(e){let n;typeof e=="string"?n=e:n=e.map(i=>typeof i=="string"?i:i.type==="text"&&"text"in i?i.text:"").join("");let r=Math.ceil(n.length/4);if(!this._encoding)try{this._encoding=await Wk("modelName"in this?Jk(this.modelName):"gpt2")}catch(i){console.warn("Failed to calculate number of tokens, falling back to approximate count",i)}if(this._encoding)try{r=this._encoding.encode(n).length}catch(i){console.warn("Failed to calculate number of tokens, falling back to approximate count",i)}return r}static _convertInputToPromptValue(e){return typeof e=="string"?new Dk(e):Array.isArray(e)?new Uk(e.map(pl)):e}_identifyingParams(){return{}}_getSerializedCacheKeyParametersForCall({config:e,...n}){const r={...this._identifyingParams(),...n,_type:this._llmType(),_model:this._modelType()};return Object.entries(r).filter(([u,d])=>d!==void 0).map(([u,d])=>`${u}:${JSON.stringify(d)}`).sort().join(",")}serialize(){return{...this._identifyingParams(),_type:this._llmType(),_model:this._modelType()}}static async deserialize(e){throw new Error("Use .toJSON() instead")}}class nd extends Jt{static lc_name(){return"RunnablePassthrough"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"func",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e&&(this.func=e.func)}async invoke(e,n){const r=We(n);return this.func&&await this.func(e,r),this._callWithConfig(i=>Promise.resolve(i),e,r)}async*transform(e,n){const r=We(n);let i,o=!0;for await(const u of this._transformStreamWithConfig(e,d=>d,r))if(yield u,o)if(i===void 0)i=u;else try{i=mr(i,u)}catch{i=void 0,o=!1}this.func&&i!==void 0&&await this.func(i,r)}static assign(e){return new HE(new to({steps:e}))}}function Om(t){const e=[];for(const n of t){let r=n;if(Array.isArray(n.content))for(let i=0;i<n.content.length;i++){const o=n.content[i];(uC(o)||cC(o))&&r===n&&(r=new n.constructor({...r,content:[...n.content.slice(0,i),dC(o),...n.content.slice(i+1)]}))}e.push(r)}return e}class Va extends nI{constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","chat_models",this._llmType()]}),Object.defineProperty(this,"disableStreaming",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_separateRunnableConfigFromCallOptionsCompat(e){const[n,r]=super._separateRunnableConfigFromCallOptions(e);return r.signal=n.signal,[n,r]}async invoke(e,n){const r=Va._convertInputToPromptValue(e);return(await this.generatePrompt([r],n,n==null?void 0:n.callbacks)).generations[0][0].message}async*_streamResponseChunks(e,n,r){throw new Error("Not implemented.")}async*_streamIterator(e,n){var r;if(this._streamResponseChunks===Va.prototype._streamResponseChunks||this.disableStreaming)yield this.invoke(e,n);else{const o=Va._convertInputToPromptValue(e).toChatMessages(),[u,d]=this._separateRunnableConfigFromCallOptionsCompat(n),f={...u.metadata,...this.getLsParams(d)},h=await Cn.configure(u.callbacks,this.callbacks,u.tags,this.tags,f,this.metadata,{verbose:this.verbose}),m={options:d,invocation_params:this==null?void 0:this.invocationParams(d),batch_size:1},b=await(h==null?void 0:h.handleChatModelStart(this.toJSON(),[Om(o)],u.runId,void 0,m,void 0,void 0,u.runName));let y,_;try{for await(const v of this._streamResponseChunks(o,d,b==null?void 0:b[0])){if(v.message.id==null){const w=(r=b==null?void 0:b.at(0))==null?void 0:r.runId;w!=null&&v.message._updateId(`run-${w}`)}v.message.response_metadata={...v.generationInfo,...v.message.response_metadata},yield v.message,y?y=y.concat(v):y=v,V_(v.message)&&v.message.usage_metadata!==void 0&&(_={tokenUsage:{promptTokens:v.message.usage_metadata.input_tokens,completionTokens:v.message.usage_metadata.output_tokens,totalTokens:v.message.usage_metadata.total_tokens}})}}catch(v){throw await Promise.all((b??[]).map(w=>w==null?void 0:w.handleLLMError(v))),v}await Promise.all((b??[]).map(v=>v==null?void 0:v.handleLLMEnd({generations:[[y]],llmOutput:_})))}}getLsParams(e){const n=this.getName().startsWith("Chat")?this.getName().replace("Chat",""):this.getName();return{ls_model_type:"chat",ls_stop:e.stop,ls_provider:n}}async _generateUncached(e,n,r,i){var b,y;const o=e.map(_=>_.map(pl));let u;if(i!==void 0&&i.length===o.length)u=i;else{const _={...r.metadata,...this.getLsParams(n)},v=await Cn.configure(r.callbacks,this.callbacks,r.tags,this.tags,_,this.metadata,{verbose:this.verbose}),w={options:n,invocation_params:this==null?void 0:this.invocationParams(n),batch_size:1};u=await(v==null?void 0:v.handleChatModelStart(this.toJSON(),o.map(Om),r.runId,void 0,w,void 0,void 0,r.runName))}const d=[],f=[];if(!!(u!=null&&u[0].handlers.find(j2))&&!this.disableStreaming&&o.length===1&&this._streamResponseChunks!==Va.prototype._streamResponseChunks)try{const _=await this._streamResponseChunks(o[0],n,u==null?void 0:u[0]);let v,w;for await(const E of _){if(E.message.id==null){const x=(b=u==null?void 0:u.at(0))==null?void 0:b.runId;x!=null&&E.message._updateId(`run-${x}`)}v===void 0?v=E:v=mr(v,E),V_(E.message)&&E.message.usage_metadata!==void 0&&(w={tokenUsage:{promptTokens:E.message.usage_metadata.input_tokens,completionTokens:E.message.usage_metadata.output_tokens,totalTokens:E.message.usage_metadata.total_tokens}})}if(v===void 0)throw new Error("Received empty response from chat model call.");d.push([v]),await(u==null?void 0:u[0].handleLLMEnd({generations:d,llmOutput:w}))}catch(_){throw await(u==null?void 0:u[0].handleLLMError(_)),_}else{const _=await Promise.allSettled(o.map((v,w)=>this._generate(v,{...n,promptIndex:w},u==null?void 0:u[w])));await Promise.all(_.map(async(v,w)=>{var E,x,N;if(v.status==="fulfilled"){const T=v.value;for(const A of T.generations){if(A.message.id==null){const R=(E=u==null?void 0:u.at(0))==null?void 0:E.runId;R!=null&&A.message._updateId(`run-${R}`)}A.message.response_metadata={...A.generationInfo,...A.message.response_metadata}}return T.generations.length===1&&(T.generations[0].message.response_metadata={...T.llmOutput,...T.generations[0].message.response_metadata}),d[w]=T.generations,f[w]=T.llmOutput,(x=u==null?void 0:u[w])==null?void 0:x.handleLLMEnd({generations:[T.generations],llmOutput:T.llmOutput})}else return await((N=u==null?void 0:u[w])==null?void 0:N.handleLLMError(v.reason)),Promise.reject(v.reason)}))}const m={generations:d,llmOutput:f.length?(y=this._combineLLMOutput)==null?void 0:y.call(this,...f):void 0};return Object.defineProperty(m,IS,{value:u?{runIds:u==null?void 0:u.map(_=>_.runId)}:void 0,configurable:!0}),m}async _generateCached({messages:e,cache:n,llmStringKey:r,parsedOptions:i,handledOptions:o}){const u=e.map(E=>E.map(pl)),d={...o.metadata,...this.getLsParams(i)},f=await Cn.configure(o.callbacks,this.callbacks,o.tags,this.tags,d,this.metadata,{verbose:this.verbose}),h={options:i,invocation_params:this==null?void 0:this.invocationParams(i),batch_size:1},m=await(f==null?void 0:f.handleChatModelStart(this.toJSON(),u.map(Om),o.runId,void 0,h,void 0,void 0,o.runName)),b=[],_=(await Promise.allSettled(u.map(async(E,x)=>{const N=Va._convertInputToPromptValue(E).toString(),T=await n.lookup(N,r);return T==null&&b.push(x),T}))).map((E,x)=>({result:E,runManager:m==null?void 0:m[x]})).filter(({result:E})=>E.status==="fulfilled"&&E.value!=null||E.status==="rejected"),v=[];await Promise.all(_.map(async({result:E,runManager:x},N)=>{if(E.status==="fulfilled"){const T=E.value;return v[N]=T.map(A=>("message"in A&&Vl(A.message)&&Ig(A.message)&&(A.message.usage_metadata={input_tokens:0,output_tokens:0,total_tokens:0}),A.generationInfo={...A.generationInfo,tokenUsage:{}},A)),T.length&&await(x==null?void 0:x.handleLLMNewToken(T[0].text)),x==null?void 0:x.handleLLMEnd({generations:[T]},void 0,void 0,void 0,{cached:!0})}else return await(x==null?void 0:x.handleLLMError(E.reason,void 0,void 0,void 0,{cached:!0})),Promise.reject(E.reason)}));const w={generations:v,missingPromptIndices:b,startedRunManagers:m};return Object.defineProperty(w,IS,{value:m?{runIds:m==null?void 0:m.map(E=>E.runId)}:void 0,configurable:!0}),w}async generate(e,n,r){let i;Array.isArray(n)?i={stop:n}:i=n;const o=e.map(v=>v.map(pl)),[u,d]=this._separateRunnableConfigFromCallOptionsCompat(i);if(u.callbacks=u.callbacks??r,!this.cache)return this._generateUncached(o,d,u);const{cache:f}=this,h=this._getSerializedCacheKeyParametersForCall(d),{generations:m,missingPromptIndices:b,startedRunManagers:y}=await this._generateCached({messages:o,cache:f,llmStringKey:h,parsedOptions:d,handledOptions:u});let _={};if(b.length>0){const v=await this._generateUncached(b.map(w=>o[w]),d,u,y!==void 0?b.map(w=>y==null?void 0:y[w]):void 0);await Promise.all(v.generations.map(async(w,E)=>{const x=b[E];m[x]=w;const N=Va._convertInputToPromptValue(o[x]).toString();return f.update(N,h,w)})),_=v.llmOutput??{}}return{generations:m,llmOutput:_}}invocationParams(e){return{}}_modelType(){return"base_chat_model"}serialize(){return{...this.invocationParams(),_type:this._llmType(),_model:this._modelType()}}async generatePrompt(e,n,r){const i=e.map(o=>o.toChatMessages());return this.generate(i,n,r)}async call(e,n,r){return(await this.generate([e.map(pl)],n,r)).generations[0][0].message}async callPrompt(e,n,r){const i=e.toChatMessages();return this.call(i,n,r)}async predictMessages(e,n,r){return this.call(e,n,r)}async predict(e,n,r){const i=new pd(e),o=await this.call([i],n,r);if(typeof o.content!="string")throw new Error("Cannot use predict when output is not a string.");return o.content}withStructuredOutput(e,n){if(typeof this.bindTools!="function")throw new Error('Chat model must implement ".bindTools()" to use withStructuredOutput.');if(n!=null&&n.strict)throw new Error('"strict" mode is not supported for this model by default.');const r=e,i=n==null?void 0:n.name,o=UE(r)??"A function available to call.",u=n==null?void 0:n.method,d=n==null?void 0:n.includeRaw;if(u==="jsonMode")throw new Error('Base withStructuredOutput implementation only supports "functionCalling" as a method.');let f=i??"extract",h;Xl(r)?h=[{type:"function",function:{name:f,description:o,parameters:Zg(r)}}]:("name"in r&&(f=r.name),h=[{type:"function",function:{name:f,description:o,parameters:r}}]);const m=this.bindTools(h),b=Ql.from(w=>{if(!w.tool_calls||w.tool_calls.length===0)throw new Error("No tool calls found in the response.");const E=w.tool_calls.find(x=>x.name===f);if(!E)throw new Error(`No tool call found with name ${f}.`);return E.args});if(!d)return m.pipe(b).withConfig({runName:"StructuredOutput"});const y=nd.assign({parsed:(w,E)=>b.invoke(w.raw,E)}),_=nd.assign({parsed:()=>null}),v=y.withFallbacks({fallbacks:[_]});return sa.from([{raw:m},v]).withConfig({runName:"StructuredOutputRunnable"})}}class VE extends Jt{parseResultWithPrompt(e,n,r){return this.parseResult(e,r)}_baseMessageToString(e){return typeof e.content=="string"?e.content:this._baseMessageContentToString(e.content)}_baseMessageContentToString(e){return JSON.stringify(e)}async invoke(e,n){return typeof e=="string"?this._callWithConfig(async(r,i)=>this.parseResult([{text:r}],i==null?void 0:i.callbacks),e,{...n,runType:"parser"}):this._callWithConfig(async(r,i)=>this.parseResult([{message:r,text:this._baseMessageToString(r)}],i==null?void 0:i.callbacks),e,{...n,runType:"parser"})}}class rI extends VE{parseResult(e,n){return this.parse(e[0].text,n)}async parseWithPrompt(e,n,r){return this.parse(e,r)}_type(){throw new Error("_type not implemented")}}class aI extends Error{constructor(e,n,r,i=!1){if(super(e),Object.defineProperty(this,"llmOutput",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"observation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sendToLLM",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.llmOutput=n,this.observation=r,this.sendToLLM=i,i&&(r===void 0||n===void 0))throw new Error("Arguments 'observation' & 'llmOutput' are required if 'sendToLlm' is true");oE(this,"OUTPUT_PARSING_FAILURE")}}class iI extends rI{async*_transform(e){for await(const n of e)typeof n=="string"?yield this.parseResult([{text:n}]):yield this.parseResult([{message:n,text:this._baseMessageToString(n)}])}async*transform(e,n){yield*this._transformStreamWithConfig(e,this._transform.bind(this),{...n,runType:"parser"})}}class sI extends iI{constructor(e){super(e),Object.defineProperty(this,"diff",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this.diff=(e==null?void 0:e.diff)??this.diff}async*_transform(e){let n,r;for await(const i of e){if(typeof i!="string"&&typeof i.content!="string")throw new Error("Cannot handle non-string output.");let o;if(mC(i)){if(typeof i.content!="string")throw new Error("Cannot handle non-string message output.");o=new Ll({message:i,text:i.content})}else if(Vl(i)){if(typeof i.content!="string")throw new Error("Cannot handle non-string message output.");o=new Ll({message:SC(i),text:i.content})}else o=new Ys({text:i});r===void 0?r=o:r=r.concat(o);const u=await this.parsePartialResult([r]);u!=null&&!ig(u,n)&&(this.diff?yield this._diff(n,u):yield u,n=u)}}getFormatInstructions(){return""}}class oI extends sI{constructor(){super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","output_parsers"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0})}static lc_name(){return"JsonOutputParser"}_diff(e,n){if(n)return e?k2(e,n):[{op:"replace",path:"",value:n}]}async parsePartialResult(e){return H_(e[0].text)}async parse(e){return H_(e,JSON.parse)}getFormatInstructions(){return""}}function Mi(t){if(typeof t=="object"&&t!==null){const e={...t};"additionalProperties"in e&&delete e.additionalProperties,"$schema"in e&&delete e.$schema,"strict"in e&&delete e.strict;for(const n in e)n in e&&(Array.isArray(e[n])?e[n]=e[n].map(Mi):typeof e[n]=="object"&&e[n]!==null&&(e[n]=Mi(e[n])));return e}return t}function cg(t){const e=Mi(Xl(t)?Zg(t):t),{$schema:n,...r}=e;return r}function lI(t){const e=Mi(t),{$schema:n,...r}=e;return r}function uI(t){return t!==void 0&&Array.isArray(t.lc_namespace)}function cI(t){return t!==void 0&&Jt.isRunnable(t)&&"lc_name"in t.constructor&&typeof t.constructor.lc_name=="function"&&t.constructor.lc_name()==="RunnableToolLike"}function dI(t){return!!t&&typeof t=="object"&&"name"in t&&"schema"in t&&(Xl(t.schema)||t.schema!=null&&typeof t.schema=="object"&&"type"in t.schema&&typeof t.schema.type=="string"&&["null","boolean","object","array","number","string"].includes(t.schema.type))}function ZE(t){return dI(t)||cI(t)||uI(t)}const sn=[];for(let t=0;t<256;++t)sn.push((t+256).toString(16).slice(1));function fI(t,e=0){return(sn[t[e+0]]+sn[t[e+1]]+sn[t[e+2]]+sn[t[e+3]]+"-"+sn[t[e+4]]+sn[t[e+5]]+"-"+sn[t[e+6]]+sn[t[e+7]]+"-"+sn[t[e+8]]+sn[t[e+9]]+"-"+sn[t[e+10]]+sn[t[e+11]]+sn[t[e+12]]+sn[t[e+13]]+sn[t[e+14]]+sn[t[e+15]]).toLowerCase()}let Cm;const hI=new Uint8Array(16);function pI(){if(!Cm){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Cm=crypto.getRandomValues.bind(crypto)}return Cm(hI)}const mI=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),GS={randomUUID:mI};function YE(t,e,n){var i;if(GS.randomUUID&&!t)return GS.randomUUID();t=t||{};const r=t.random??((i=t.rng)==null?void 0:i.call(t))??pI();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,fI(r)}function gI(t){const e=t._getType();return hd.isInstance(t)?t.role:e==="tool"?e:t.name??e}function yI(t){switch(t){case"supervisor":case"ai":case"model":return"model";case"system":return"system";case"human":return"user";case"tool":case"function":return"function";default:throw new Error(`Unknown / unsupported author: ${t}`)}}function bI(t){if("mimeType"in t&&"data"in t)return{inlineData:{mimeType:t.mimeType,data:t.data}};if("mimeType"in t&&"fileUri"in t)return{fileData:{mimeType:t.mimeType,fileUri:t.fileUri}};throw new Error("Invalid media content")}function vI(t,e){var n;return(n=e.map(r=>Ig(r)?r.tool_calls??[]:[]).flat().find(r=>r.id===t.tool_call_id))==null?void 0:n.name}function _I(t){return{providerName:"Google Gemini",fromStandardTextBlock(n){return{text:n.text}},fromStandardImageBlock(n){if(!t)throw new Error("This model does not support images");if(n.source_type==="url"){const r=pp({dataUrl:n.url});return r?{inlineData:{mimeType:r.mime_type,data:r.data}}:{fileData:{mimeType:n.mime_type??"",fileUri:n.url}}}if(n.source_type==="base64")return{inlineData:{mimeType:n.mime_type??"",data:n.data}};throw new Error(`Unsupported source type: ${n.source_type}`)},fromStandardAudioBlock(n){if(!t)throw new Error("This model does not support audio");if(n.source_type==="url"){const r=pp({dataUrl:n.url});return r?{inlineData:{mimeType:r.mime_type,data:r.data}}:{fileData:{mimeType:n.mime_type??"",fileUri:n.url}}}if(n.source_type==="base64")return{inlineData:{mimeType:n.mime_type??"",data:n.data}};throw new Error(`Unsupported source type: ${n.source_type}`)},fromStandardFileBlock(n){if(!t)throw new Error("This model does not support files");if(n.source_type==="text")return{text:n.text};if(n.source_type==="url"){const r=pp({dataUrl:n.url});return r?{inlineData:{mimeType:r.mime_type,data:r.data}}:{fileData:{mimeType:n.mime_type??"",fileUri:n.url}}}if(n.source_type==="base64")return{inlineData:{mimeType:n.mime_type??"",data:n.data}};throw new Error(`Unsupported source type: ${n.source_type}`)}}}function FS(t,e){var n;if(Hs(t))return fC(t,_I(e));if(t.type==="text")return{text:t.text};if(t.type==="executableCode")return{executableCode:t.executableCode};if(t.type==="codeExecutionResult")return{codeExecutionResult:t.codeExecutionResult};if(t.type==="image_url"){if(!e)throw new Error("This model does not support images");let r;if(typeof t.image_url=="string")r=t.image_url;else if(typeof t.image_url=="object"&&"url"in t.image_url)r=t.image_url.url;else throw new Error("Please provide image as base64 encoded data URL");const[i,o]=r.split(",");if(!i.startsWith("data:"))throw new Error("Please provide image as base64 encoded data URL");const[u,d]=i.replace(/^data:/,"").split(";");if(d!=="base64")throw new Error("Please provide image as base64 encoded data URL");return{inlineData:{data:o,mimeType:u}}}else{if(t.type==="media")return bI(t);if(t.type==="tool_use")return{functionCall:{name:t.name,args:t.input}};if((n=t.type)!=null&&n.includes("/")&&t.type.split("/").length===2&&"data"in t&&typeof t.data=="string")return{inlineData:{mimeType:t.type,data:t.data}};if("functionCall"in t)return;throw"type"in t?new Error(`Unknown content type ${t.type}`):new Error(`Unknown content ${JSON.stringify(t)}`)}}function wI(t,e,n){var o;if(bC(t)){const u=t.name??vI(t,n);if(u===void 0)throw new Error(`Google requires a tool name for each tool call response, and we could not infer a called tool name for ToolMessage "${t.id}" from your passed messages. Please populate a "name" field on that ToolMessage explicitly.`);const d=Array.isArray(t.content)?t.content.map(f=>FS(f,e)).filter(f=>f!==void 0):t.content;return t.status==="error"?[{functionResponse:{name:u,response:{error:{details:d}}}}]:[{functionResponse:{name:u,response:{result:d}}}]}let r=[];const i=[];return typeof t.content=="string"&&t.content&&i.push({text:t.content}),Array.isArray(t.content)&&i.push(...t.content.map(u=>FS(u,e)).filter(u=>u!==void 0)),Ig(t)&&((o=t.tool_calls)!=null&&o.length)&&(r=t.tool_calls.map(u=>({functionCall:{name:u.name,args:u.args}}))),[...i,...r]}function VS(t,e,n=!1){return t.reduce((r,i,o)=>{if(!Vl(i))throw new Error("Unsupported message input");const u=gI(i);if(u==="system"&&o!==0)throw new Error("System message should be the first one");const d=yI(u),f=r.content[r.content.length];if(!r.mergeWithPreviousContent&&f&&f.role===d)throw new Error("Google Generative AI requires alternate messages between authors");const h=wI(i,e,t.slice(0,o));if(r.mergeWithPreviousContent){const y=r.content[r.content.length-1];if(!y)throw new Error("There was a problem parsing your system message. Please try a prompt without one.");return y.parts.push(...h),{mergeWithPreviousContent:!1,content:r.content}}let m=d;(m==="function"||m==="system"&&!n)&&(m="user");const b={role:m,parts:h};return{mergeWithPreviousContent:u==="system"&&!n,content:[...r.content,b]}},{content:[],mergeWithPreviousContent:!1}).content}function SI(t,e){var h,m,b;if(!t.candidates||t.candidates.length===0||!t.candidates[0])return{generations:[],llmOutput:{filters:t.promptFeedback}};const n=t.functionCalls(),[r]=t.candidates,{content:i,...o}=r;let u;Array.isArray(i==null?void 0:i.parts)&&i.parts.length===1&&i.parts[0].text?u=i.parts[0].text:Array.isArray(i==null?void 0:i.parts)&&i.parts.length>0?u=i.parts.map(y=>"text"in y?{type:"text",text:y.text}:"executableCode"in y?{type:"executableCode",executableCode:y.executableCode}:"codeExecutionResult"in y?{type:"codeExecutionResult",codeExecutionResult:y.codeExecutionResult}:y):u=[];let d="";if(typeof u=="string")d=u;else if(Array.isArray(u)&&u.length>0){const y=u.find(_=>"text"in _);d=(y==null?void 0:y.text)??d}return{generations:[{text:d,message:new Gm({content:u??"",tool_calls:n==null?void 0:n.map(y=>({...y,type:"tool_call",id:"id"in y&&typeof y.id=="string"?y.id:YE()})),additional_kwargs:{...o},usage_metadata:e==null?void 0:e.usageMetadata}),generationInfo:o}],llmOutput:{tokenUsage:{promptTokens:(h=e==null?void 0:e.usageMetadata)==null?void 0:h.input_tokens,completionTokens:(m=e==null?void 0:e.usageMetadata)==null?void 0:m.output_tokens,totalTokens:(b=e==null?void 0:e.usageMetadata)==null?void 0:b.total_tokens}}}}function EI(t,e){if(!t.candidates||t.candidates.length===0)return null;const n=t.functionCalls(),[r]=t.candidates,{content:i,...o}=r;let u;Array.isArray(i==null?void 0:i.parts)&&i.parts.every(h=>"text"in h)?u=i.parts.map(h=>h.text).join(""):Array.isArray(i==null?void 0:i.parts)?u=i.parts.map(h=>"text"in h?{type:"text",text:h.text}:"executableCode"in h?{type:"executableCode",executableCode:h.executableCode}:"codeExecutionResult"in h?{type:"codeExecutionResult",codeExecutionResult:h.codeExecutionResult}:h):u=[];let d="";if(u&&typeof u=="string")d=u;else if(Array.isArray(u)){const h=u.find(m=>"text"in m);d=(h==null?void 0:h.text)??""}const f=[];return n&&f.push(...n.map(h=>({...h,args:JSON.stringify(h.args),index:e.index,type:"tool_call_chunk",id:"id"in h&&typeof h.id=="string"?h.id:YE()}))),new Ll({text:d,message:new Ws({content:u||"",name:i?i.role:void 0,tool_call_chunks:f,additional_kwargs:{},usage_metadata:e.usageMetadata}),generationInfo:o})}function TI(t){return t.every(e=>"functionDeclarations"in e&&Array.isArray(e.functionDeclarations))?t:[{functionDeclarations:t.map(e=>{if(ZE(e)){const n=cg(e.schema);return n.type==="object"&&"properties"in n&&Object.keys(n.properties).length===0?{name:e.name,description:e.description}:{name:e.name,description:e.description,parameters:n}}return FE(e)?{name:e.function.name,description:e.function.description??"A function available to call.",parameters:lI(e.function.parameters)}:e})}]}class ZS extends VE{static lc_name(){return"GoogleGenerativeAIToolsOutputParser"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","google_genai","output_parsers"]}),Object.defineProperty(this,"returnId",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"keyName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"returnSingle",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"zodSchema",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.keyName=e.keyName,this.returnSingle=e.returnSingle??this.returnSingle,this.zodSchema=e.zodSchema}async _validateResult(e){if(this.zodSchema===void 0)return e;const n=await vk(this.zodSchema,e);if(n.success)return n.data;throw new aI(`Failed to parse. Text: "${JSON.stringify(e,null,2)}". Error: ${JSON.stringify(n.error.issues)}`,JSON.stringify(e,null,2))}async parseResult(e){const n=e.flatMap(o=>{const{message:u}=o;return!("tool_calls"in u)||!Array.isArray(u.tool_calls)?[]:u.tool_calls});if(n[0]===void 0)throw new Error("No parseable tool calls provided to GoogleGenerativeAIToolsOutputParser.");const[r]=n;return await this._validateResult(r.args)}}function YS(t,e){const n=xI(t),r=OI(n,e);return{tools:n,toolConfig:r}}function xI(t){let e=[];const n=[];return t.forEach(i=>{if(ZE(i)){const[o]=TI([i]);o.functionDeclarations&&e.push(...o.functionDeclarations)}else if(FE(i)){const{functionDeclarations:o}=RI(i);if(o)e.push(...o);else throw new Error("Failed to convert OpenAI structured tool to GenerativeAI tool")}else n.push(i)}),n.find(i=>"functionDeclarations"in i)?n.map(i=>{if((e==null?void 0:e.length)>0&&"functionDeclarations"in i){const o={functionDeclarations:[...i.functionDeclarations||[],...e]};return e=[],o}return i}):[...n,...e.length>0?[{functionDeclarations:e}]:[]]}function RI(t){return{functionDeclarations:[{name:t.function.name,description:t.function.description,parameters:Mi(t.function.parameters)}]}}function OI(t,e){if(!t.length||!e)return;const{toolChoice:n,allowedFunctionNames:r}=e,i={any:$s.ANY,auto:$s.AUTO,none:$s.NONE};if(n&&["any","auto","none"].includes(n))return{functionCallingConfig:{mode:i[n]??"MODE_UNSPECIFIED",allowedFunctionNames:r}};if(typeof n=="string"||r)return{functionCallingConfig:{mode:$s.ANY,allowedFunctionNames:[...r??[],...n&&typeof n=="string"?[n]:[]]}}}class CI extends Va{static lc_name(){return"ChatGoogleGenerativeAI"}get lc_secrets(){return{apiKey:"GOOGLE_API_KEY"}}get lc_aliases(){return{apiKey:"google_api_key"}}get _isMultimodalModel(){return this.model.includes("vision")||this.model.startsWith("gemini-1.5")||this.model.startsWith("gemini-2")}constructor(e){if(super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","chat_models","google_genai"]}),Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"temperature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxOutputTokens",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"topP",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"topK",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stopSequences",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"safetySettings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streaming",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"json",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streamUsage",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"convertSystemMessageToHumanContent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.model=e.model.replace(/^models\//,""),this.maxOutputTokens=e.maxOutputTokens??this.maxOutputTokens,this.maxOutputTokens&&this.maxOutputTokens<0)throw new Error("`maxOutputTokens` must be a positive integer");if(this.temperature=e.temperature??this.temperature,this.temperature&&(this.temperature<0||this.temperature>2))throw new Error("`temperature` must be in the range of [0.0,2.0]");if(this.topP=e.topP??this.topP,this.topP&&this.topP<0)throw new Error("`topP` must be a positive integer");if(this.topP&&this.topP>1)throw new Error("`topP` must be below 1.");if(this.topK=e.topK??this.topK,this.topK&&this.topK<0)throw new Error("`topK` must be a positive integer");if(this.stopSequences=e.stopSequences??this.stopSequences,this.apiKey=e.apiKey??Ai("GOOGLE_API_KEY"),!this.apiKey)throw new Error("Please set an API key for Google GenerativeAI in the environment variable GOOGLE_API_KEY or in the `apiKey` field of the ChatGoogleGenerativeAI constructor");if(this.safetySettings=e.safetySettings??this.safetySettings,this.safetySettings&&this.safetySettings.length>0&&new Set(this.safetySettings.map(r=>r.category)).size!==this.safetySettings.length)throw new Error("The categories in `safetySettings` array must be unique");this.streaming=e.streaming??this.streaming,this.json=e.json,this.client=new B_(this.apiKey).getGenerativeModel({model:this.model,safetySettings:this.safetySettings,generationConfig:{stopSequences:this.stopSequences,maxOutputTokens:this.maxOutputTokens,temperature:this.temperature,topP:this.topP,topK:this.topK,...this.json?{responseMimeType:"application/json"}:{}}},{apiVersion:e.apiVersion,baseUrl:e.baseUrl}),this.streamUsage=e.streamUsage??this.streamUsage}useCachedContent(e,n,r){this.apiKey&&(this.client=new B_(this.apiKey).getGenerativeModelFromCachedContent(e,n,r))}get useSystemInstruction(){return typeof this.convertSystemMessageToHumanContent=="boolean"?!this.convertSystemMessageToHumanContent:this.computeUseSystemInstruction}get computeUseSystemInstruction(){return this.model==="gemini-1.0-pro-001"||this.model.startsWith("gemini-pro-vision")||this.model.startsWith("gemini-1.0-pro-vision")?!1:this.model!=="gemini-pro"}getLsParams(e){return{ls_provider:"google_genai",ls_model_name:this.model,ls_model_type:"chat",ls_temperature:this.client.generationConfig.temperature,ls_max_tokens:this.client.generationConfig.maxOutputTokens,ls_stop:e.stop}}_combineLLMOutput(){return[]}_llmType(){return"googlegenerativeai"}bindTools(e,n){var r;return this.withConfig({tools:(r=YS(e))==null?void 0:r.tools,...n})}invocationParams(e){var r;const n=(r=e==null?void 0:e.tools)!=null&&r.length?YS(e.tools,{toolChoice:e.tool_choice,allowedFunctionNames:e.allowedFunctionNames}):void 0;return e!=null&&e.responseSchema?(this.client.generationConfig.responseSchema=e.responseSchema,this.client.generationConfig.responseMimeType="application/json"):(this.client.generationConfig.responseSchema=void 0,this.client.generationConfig.responseMimeType=this.json?"application/json":void 0),{...n!=null&&n.tools?{tools:n.tools}:{},...n!=null&&n.toolConfig?{toolConfig:n.toolConfig}:{}}}async _generate(e,n,r){var m,b,y;const i=VS(e,this._isMultimodalModel,this.useSystemInstruction);let o=i;if(i[0].role==="system"){const[_]=i;this.client.systemInstruction=_,o=i.slice(1)}const u=this.invocationParams(n);if(this.streaming){const _={},v=this._streamResponseChunks(e,n,r),w={};for await(const x of v){const N=((m=x.generationInfo)==null?void 0:m.completion)??0;w[N]===void 0?w[N]=x:w[N]=w[N].concat(x)}return{generations:Object.entries(w).sort(([x],[N])=>parseInt(x,10)-parseInt(N,10)).map(([x,N])=>N),llmOutput:{estimatedTokenUsage:_}}}const d=await this.completionWithRetry({...u,contents:o});let f;if("usageMetadata"in d.response){const _=d.response.usageMetadata;f={input_tokens:_.promptTokenCount??0,output_tokens:_.candidatesTokenCount??0,total_tokens:_.totalTokenCount??0}}const h=SI(d.response,{usageMetadata:f});return((b=h.generations)==null?void 0:b.length)>0&&await(r==null?void 0:r.handleLLMNewToken(((y=h.generations[0])==null?void 0:y.text)??"")),h}async*_streamResponseChunks(e,n,r){const i=VS(e,this._isMultimodalModel,this.useSystemInstruction);let o=i;if(i[0].role==="system"){const[b]=i;this.client.systemInstruction=b,o=i.slice(1)}const d={...this.invocationParams(n),contents:o},f=await this.caller.callWithOptions({signal:n==null?void 0:n.signal},async()=>{const{stream:b}=await this.client.generateContentStream(d);return b});let h,m=0;for await(const b of f){if("usageMetadata"in b&&this.streamUsage!==!1&&n.streamUsage!==!1){const _=b.usageMetadata;if(!h)h={input_tokens:_.promptTokenCount??0,output_tokens:_.candidatesTokenCount??0,total_tokens:_.totalTokenCount??0};else{const v=(_.candidatesTokenCount??0)-h.output_tokens;h={input_tokens:0,output_tokens:v,total_tokens:v}}}const y=EI(b,{usageMetadata:h,index:m});m+=1,y&&(yield y,await(r==null?void 0:r.handleLLMNewToken(y.text??"")))}}async completionWithRetry(e,n){return this.caller.callWithOptions({signal:n==null?void 0:n.signal},async()=>{var r;try{return await this.client.generateContent(e)}catch(i){throw(r=i.message)!=null&&r.includes("400 Bad Request")&&(i.status=400),i}})}withStructuredOutput(e,n){const r=e,i=n==null?void 0:n.name,o=n==null?void 0:n.method,u=n==null?void 0:n.includeRaw;if(o==="jsonMode")throw new Error('ChatGoogleGenerativeAI only supports "jsonSchema" or "functionCalling" as a method.');let d,f;if(o==="functionCalling"){let y=i??"extract",_;if(Xl(r)){const v=cg(r);_=[{functionDeclarations:[{name:y,description:v.description??"A function available to call.",parameters:v}]}],f=new ZS({returnSingle:!0,keyName:y,zodSchema:r})}else{let v;typeof r.name=="string"&&typeof r.parameters=="object"&&r.parameters!=null?(v=r,v.parameters=Mi(r.parameters),y=r.name):v={name:y,description:r.description??"",parameters:Mi(r)},_=[{functionDeclarations:[v]}],f=new ZS({returnSingle:!0,keyName:y})}d=this.bindTools(_).withConfig({allowedFunctionNames:[y]})}else{const y=cg(r);d=this.withConfig({responseSchema:y}),f=new oI}if(!u)return d.pipe(f).withConfig({runName:"ChatGoogleGenerativeAIStructuredOutput"});const h=nd.assign({parsed:(y,_)=>f.invoke(y.raw,_)}),m=nd.assign({parsed:()=>null}),b=h.withFallbacks({fallbacks:[m]});return sa.from([{raw:d},b]).withConfig({runName:"StructuredOutputRunnable"})}}function KS(t,e,n,r,i,o,u){try{var d=t[o](u),f=d.value}catch(h){n(h);return}d.done?e(f):Promise.resolve(f).then(r,i)}function Oi(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function u(f){KS(o,r,i,u,d,"next",f)}function d(f){KS(o,r,i,u,d,"throw",f)}u(void 0)})}}var Am,XS;function AI(){if(XS)return Am;XS=1;var t="Expected a function",e=NaN,n="[object Symbol]",r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,u=/^0o[0-7]+$/i,d=parseInt,f=typeof pc=="object"&&pc&&pc.Object===Object&&pc,h=typeof self=="object"&&self&&self.Object===Object&&self,m=f||h||Function("return this")(),b=Object.prototype,y=b.toString,_=Math.max,v=Math.min,w=function(){return m.Date.now()};function E(R,M,H){var U,ie,C,X,ee,se,V=0,L=!1,I=!1,D=!0;if(typeof R!="function")throw new TypeError(t);M=A(M)||0,x(H)&&(L=!!H.leading,I="maxWait"in H,C=I?_(A(H.maxWait)||0,M):C,D="trailing"in H?!!H.trailing:D);function Y(ge){var Te=U,Ce=ie;return U=ie=void 0,V=ge,X=R.apply(Ce,Te),X}function B(ge){return V=ge,ee=setTimeout(Q,M),L?Y(ge):X}function k(ge){var Te=ge-se,Ce=ge-V,ye=M-Te;return I?v(ye,C-Ce):ye}function q(ge){var Te=ge-se,Ce=ge-V;return se===void 0||Te>=M||Te<0||I&&Ce>=C}function Q(){var ge=w();if(q(ge))return W(ge);ee=setTimeout(Q,k(ge))}function W(ge){return ee=void 0,D&&U?Y(ge):(U=ie=void 0,X)}function oe(){ee!==void 0&&clearTimeout(ee),V=0,U=se=ie=ee=void 0}function ce(){return ee===void 0?X:W(w())}function de(){var ge=w(),Te=q(ge);if(U=arguments,ie=this,se=ge,Te){if(ee===void 0)return B(se);if(I)return ee=setTimeout(Q,M),Y(se)}return ee===void 0&&(ee=setTimeout(Q,M)),X}return de.cancel=oe,de.flush=ce,de}function x(R){var M=typeof R;return!!R&&(M=="object"||M=="function")}function N(R){return!!R&&typeof R=="object"}function T(R){return typeof R=="symbol"||N(R)&&y.call(R)==n}function A(R){if(typeof R=="number")return R;if(T(R))return e;if(x(R)){var M=typeof R.valueOf=="function"?R.valueOf():R;R=x(M)?M+"":M}if(typeof R!="string")return R===0?R:+R;R=R.replace(r,"");var H=o.test(R);return H||u.test(R)?d(R.slice(2),H?2:8):i.test(R)?e:+R}return Am=E,Am}var NI=AI();const kI=ri(NI),Ls=typeof window<"u"&&(window.SpeechRecognition||window.webkitSpeechRecognition||window.mozSpeechRecognition||window.msSpeechRecognition||window.oSpeechRecognition),II=t=>t===Ls;var rd=()=>/(android)/i.test(typeof navigator<"u"?navigator.userAgent:"");const ad=(...t)=>t.map(e=>e.trim()).join(" ").trim(),jI=/\s*\((.*?)\)\s*/g,$I=/(\(\?:[^)]+\))\?/g,MI=/(\(\?)?:\w+/g,PI=/\*/g,LI=/[-{}[\]+?.,\\^$|#]/g,DI=t=>t instanceof RegExp?new RegExp(t.source,"i"):(t=t.replace(LI,"\\$&").replace(jI,"(?:$1)?").replace(MI,(e,n)=>n?e:"([^\\s]+)").replace(PI,"(.*?)").replace($I,"\\s*$1?\\s*"),new RegExp("^"+t+"$","i")),UI=(t,e)=>{if(t=t.replace(/\s+/g,"").toLowerCase(),e=e.replace(/\s+/g,"").toLowerCase(),!t.length&&!e.length)return 1;if(!t.length||!e.length)return 0;if(t===e)return 1;if(t.length===1&&e.length===1||t.length<2||e.length<2)return 0;const n=new Map;for(let i=0;i<t.length-1;i++){const o=t.substring(i,i+2),u=n.has(o)?n.get(o)+1:1;n.set(o,u)}let r=0;for(let i=0;i<e.length-1;i++){const o=e.substring(i,i+2),u=n.has(o)?n.get(o):0;u>0&&(n.set(o,u-1),r++)}return 2*r/(t.length+e.length-2)},KE=()=>typeof window<"u"&&window.navigator!==void 0&&window.navigator.mediaDevices!==void 0&&window.navigator.mediaDevices.getUserMedia!==void 0&&(window.AudioContext!==void 0||window.webkitAudioContext!==void 0);class Nm{setSpeechRecognition(e){const n=!!e&&(II(e)||KE());n&&(this.disableRecognition(),this.recognition=new e,this.recognition.continuous=!1,this.recognition.interimResults=!0,this.recognition.onresult=this.updateTranscript.bind(this),this.recognition.onend=this.onRecognitionDisconnect.bind(this),this.recognition.onerror=this.onError.bind(this)),this.emitBrowserSupportsSpeechRecognitionChange(n)}subscribe(e,n){this.subscribers[e]=n}unsubscribe(e){delete this.subscribers[e]}emitListeningChange(e){this.listening=e,Object.keys(this.subscribers).forEach(n=>{const{onListeningChange:r}=this.subscribers[n];r(e)})}emitMicrophoneAvailabilityChange(e){this.isMicrophoneAvailable=e,Object.keys(this.subscribers).forEach(n=>{const{onMicrophoneAvailabilityChange:r}=this.subscribers[n];r(e)})}emitTranscriptChange(e,n){Object.keys(this.subscribers).forEach(r=>{const{onTranscriptChange:i}=this.subscribers[r];i(e,n)})}emitClearTranscript(){Object.keys(this.subscribers).forEach(e=>{const{onClearTranscript:n}=this.subscribers[e];n()})}emitBrowserSupportsSpeechRecognitionChange(e){Object.keys(this.subscribers).forEach(n=>{const{onBrowserSupportsSpeechRecognitionChange:r,onBrowserSupportsContinuousListeningChange:i}=this.subscribers[n];r(e),i(e)})}disconnect(e){if(this.recognition&&this.listening)switch(e){case"ABORT":this.pauseAfterDisconnect=!0,this.abort();break;case"RESET":this.pauseAfterDisconnect=!1,this.abort();break;case"STOP":default:this.pauseAfterDisconnect=!0,this.stop()}}disableRecognition(){this.recognition&&(this.recognition.onresult=()=>{},this.recognition.onend=()=>{},this.recognition.onerror=()=>{},this.listening&&this.stopListening())}onError(e){e&&e.error&&e.error==="not-allowed"&&(this.emitMicrophoneAvailabilityChange(!1),this.disableRecognition())}onRecognitionDisconnect(){this.onStopListening(),this.listening=!1,this.pauseAfterDisconnect?this.emitListeningChange(!1):this.recognition&&(this.recognition.continuous?this.startListening({continuous:this.recognition.continuous}):this.emitListeningChange(!1)),this.pauseAfterDisconnect=!1}updateTranscript({results:e,resultIndex:n}){const r=n===void 0?e.length-1:n;this.interimTranscript="",this.finalTranscript="";for(let o=r;o<e.length;++o)e[o].isFinal&&(!rd()||e[o][0].confidence>0)?this.updateFinalTranscript(e[o][0].transcript):this.interimTranscript=ad(this.interimTranscript,e[o][0].transcript);let i=!1;this.interimTranscript===""&&this.finalTranscript!==""?(this.previousResultWasFinalOnly&&(i=!0),this.previousResultWasFinalOnly=!0):this.previousResultWasFinalOnly=!1,i||this.emitTranscriptChange(this.interimTranscript,this.finalTranscript)}updateFinalTranscript(e){this.finalTranscript=ad(this.finalTranscript,e)}resetTranscript(){this.disconnect("RESET")}startListening(){return Oi(function*({continuous:e=!1,language:n}={}){if(!this.recognition)return;const r=e!==this.recognition.continuous,i=n&&n!==this.recognition.lang;if((r||i)&&(this.listening&&(yield this.stopListening()),this.recognition.continuous=r?e:this.recognition.continuous,this.recognition.lang=i?n:this.recognition.lang),!this.listening){this.recognition.continuous||(this.resetTranscript(),this.emitClearTranscript());try{yield this.start(),this.emitListeningChange(!0)}catch(o){o instanceof DOMException||this.emitMicrophoneAvailabilityChange(!1)}}}).apply(this,arguments)}abortListening(){return Oi(function*(){this.disconnect("ABORT"),this.emitListeningChange(!1),yield new Promise(e=>{this.onStopListening=e})}).call(this)}stopListening(){return Oi(function*(){this.disconnect("STOP"),this.emitListeningChange(!1),yield new Promise(e=>{this.onStopListening=e})}).call(this)}getRecognition(){return this.recognition}start(){return Oi(function*(){this.recognition&&!this.listening&&(yield this.recognition.start(),this.listening=!0)}).call(this)}stop(){this.recognition&&this.listening&&(this.recognition.stop(),this.listening=!1)}abort(){this.recognition&&this.listening&&(this.recognition.abort(),this.listening=!1)}constructor(e){this.recognition=null,this.pauseAfterDisconnect=!1,this.interimTranscript="",this.finalTranscript="",this.listening=!1,this.isMicrophoneAvailable=!0,this.subscribers={},this.onStopListening=()=>{},this.previousResultWasFinalOnly=!1,this.resetTranscript=this.resetTranscript.bind(this),this.startListening=this.startListening.bind(this),this.stopListening=this.stopListening.bind(this),this.abortListening=this.abortListening.bind(this),this.setSpeechRecognition=this.setSpeechRecognition.bind(this),this.disableRecognition=this.disableRecognition.bind(this),this.setSpeechRecognition(e),rd()&&(this.updateFinalTranscript=kI(this.updateFinalTranscript,250,{leading:!0}))}}const XE="CLEAR_TRANSCRIPT",QE="APPEND_TRANSCRIPT",zI=()=>({type:XE}),BI=(t,e)=>({type:QE,payload:{interimTranscript:t,finalTranscript:e}}),HI=(t,e)=>{switch(e.type){case XE:return{interimTranscript:"",finalTranscript:""};case QE:return{interimTranscript:e.payload.interimTranscript,finalTranscript:ad(t.finalTranscript,e.payload.finalTranscript)};default:throw new Error}};let Ds=!!Ls,Mc=Ds&&!rd(),ra;const qI=({transcribing:t=!0,clearTranscriptOnListen:e=!0,commands:n=[]}={})=>{const[r]=$.useState(oa.getRecognitionManager()),[i,o]=$.useState(Ds),[u,d]=$.useState(Mc),[{interimTranscript:f,finalTranscript:h},m]=$.useReducer(HI,{interimTranscript:r.interimTranscript,finalTranscript:""}),[b,y]=$.useState(r.listening),[_,v]=$.useState(r.isMicrophoneAvailable),w=$.useRef(n);w.current=n;const E=()=>{m(zI())},x=$.useCallback(()=>{r.resetTranscript(),E()},[r]),N=(U,ie,C)=>{const ee=(typeof U=="object"?U.toString():U).replace(/[&/\\#,+()!$~%.'":*?<>{}]/g,"").replace(/  +/g," ").trim(),se=UI(ee,ie);return se>=C?{command:U,commandWithoutSpecials:ee,howSimilar:se,isFuzzyMatch:!0}:null},T=(U,ie)=>{const X=DI(U).exec(ie);return X?{command:U,parameters:X.slice(1)}:null},A=$.useCallback((U,ie)=>{w.current.forEach(({command:C,callback:X,matchInterim:ee=!1,isFuzzyMatch:se=!1,fuzzyMatchingThreshold:V=.8,bestMatchOnly:L=!1})=>{const I=!ie&&ee?U.trim():ie.trim(),Y=(Array.isArray(C)?C:[C]).map(B=>se?N(B,I,V):T(B,I)).filter(B=>B);if(se&&L&&Y.length>=2){Y.sort((Q,W)=>W.howSimilar-Q.howSimilar);const{command:B,commandWithoutSpecials:k,howSimilar:q}=Y[0];X(k,I,q,{command:B,resetTranscript:x})}else Y.forEach(B=>{if(B.isFuzzyMatch){const{command:k,commandWithoutSpecials:q,howSimilar:Q}=B;X(q,I,Q,{command:k,resetTranscript:x})}else{const{command:k,parameters:q}=B;X(...q,{command:k,resetTranscript:x})}})})},[x]),R=$.useCallback((U,ie)=>{t&&m(BI(U,ie)),A(U,ie)},[A,t]),M=$.useCallback(()=>{e&&E()},[e]);return $.useEffect(()=>{const U=oa.counter;oa.counter+=1;const ie={onListeningChange:y,onMicrophoneAvailabilityChange:v,onTranscriptChange:R,onClearTranscript:M,onBrowserSupportsSpeechRecognitionChange:o,onBrowserSupportsContinuousListeningChange:d};return r.subscribe(U,ie),()=>{r.unsubscribe(U)}},[t,e,r,R,M]),{transcript:ad(h,f),interimTranscript:f,finalTranscript:h,listening:b,isMicrophoneAvailable:_,resetTranscript:x,browserSupportsSpeechRecognition:i,browserSupportsContinuousListening:u}},oa={counter:0,applyPolyfill:t=>{ra?ra.setSpeechRecognition(t):ra=new Nm(t);const e=!!t&&KE();Ds=e,Mc=e},removePolyfill:()=>{ra?ra.setSpeechRecognition(Ls):ra=new Nm(Ls),Ds=!!Ls,Mc=Ds&&!rd()},getRecognitionManager:()=>(ra||(ra=new Nm(Ls)),ra),getRecognition:()=>oa.getRecognitionManager().getRecognition(),startListening:({continuous:t,language:e}={})=>Oi(function*(){yield oa.getRecognitionManager().startListening({continuous:t,language:e})})(),stopListening:()=>Oi(function*(){yield oa.getRecognitionManager().stopListening()})(),abortListening:()=>Oi(function*(){yield oa.getRecognitionManager().abortListening()})(),browserSupportsSpeechRecognition:()=>Ds,browserSupportsContinuousListening:()=>Mc},Dl={black:"#000",white:"#fff"},Rs={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Os={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Cs={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},As={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Ns={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},ll={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},GI={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function da(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${t}; visit ${n} for the full message.`}const Rd="$$material";function id(){return id=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},id.apply(null,arguments)}function FI(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function VI(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var ZI=function(){function t(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(VI(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=FI(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),dn="-ms-",sd="-moz-",Ye="-webkit-",WE="comm",Xg="rule",Qg="decl",YI="@import",JE="@keyframes",KI="@layer",XI=Math.abs,Od=String.fromCharCode,QI=Object.assign;function WI(t,e){return on(t,0)^45?(((e<<2^on(t,0))<<2^on(t,1))<<2^on(t,2))<<2^on(t,3):0}function eT(t){return t.trim()}function JI(t,e){return(t=e.exec(t))?t[0]:t}function Ke(t,e,n){return t.replace(e,n)}function dg(t,e){return t.indexOf(e)}function on(t,e){return t.charCodeAt(e)|0}function Ul(t,e,n){return t.slice(e,n)}function Ar(t){return t.length}function Wg(t){return t.length}function xc(t,e){return e.push(t),t}function ej(t,e){return t.map(e).join("")}var Cd=1,Ks=1,tT=0,An=0,Dt=0,no="";function Ad(t,e,n,r,i,o,u){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:Cd,column:Ks,length:u,return:""}}function ul(t,e){return QI(Ad("",null,null,"",null,null,0),t,{length:-t.length},e)}function tj(){return Dt}function nj(){return Dt=An>0?on(no,--An):0,Ks--,Dt===10&&(Ks=1,Cd--),Dt}function Bn(){return Dt=An<tT?on(no,An++):0,Ks++,Dt===10&&(Ks=1,Cd++),Dt}function Pr(){return on(no,An)}function Pc(){return An}function Wl(t,e){return Ul(no,t,e)}function zl(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function nT(t){return Cd=Ks=1,tT=Ar(no=t),An=0,[]}function rT(t){return no="",t}function Lc(t){return eT(Wl(An-1,fg(t===91?t+2:t===40?t+1:t)))}function rj(t){for(;(Dt=Pr())&&Dt<33;)Bn();return zl(t)>2||zl(Dt)>3?"":" "}function aj(t,e){for(;--e&&Bn()&&!(Dt<48||Dt>102||Dt>57&&Dt<65||Dt>70&&Dt<97););return Wl(t,Pc()+(e<6&&Pr()==32&&Bn()==32))}function fg(t){for(;Bn();)switch(Dt){case t:return An;case 34:case 39:t!==34&&t!==39&&fg(Dt);break;case 40:t===41&&fg(t);break;case 92:Bn();break}return An}function ij(t,e){for(;Bn()&&t+Dt!==57;)if(t+Dt===84&&Pr()===47)break;return"/*"+Wl(e,An-1)+"*"+Od(t===47?t:Bn())}function sj(t){for(;!zl(Pr());)Bn();return Wl(t,An)}function oj(t){return rT(Dc("",null,null,null,[""],t=nT(t),0,[0],t))}function Dc(t,e,n,r,i,o,u,d,f){for(var h=0,m=0,b=u,y=0,_=0,v=0,w=1,E=1,x=1,N=0,T="",A=i,R=o,M=r,H=T;E;)switch(v=N,N=Bn()){case 40:if(v!=108&&on(H,b-1)==58){dg(H+=Ke(Lc(N),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:H+=Lc(N);break;case 9:case 10:case 13:case 32:H+=rj(v);break;case 92:H+=aj(Pc()-1,7);continue;case 47:switch(Pr()){case 42:case 47:xc(lj(ij(Bn(),Pc()),e,n),f);break;default:H+="/"}break;case 123*w:d[h++]=Ar(H)*x;case 125*w:case 59:case 0:switch(N){case 0:case 125:E=0;case 59+m:x==-1&&(H=Ke(H,/\f/g,"")),_>0&&Ar(H)-b&&xc(_>32?WS(H+";",r,n,b-1):WS(Ke(H," ","")+";",r,n,b-2),f);break;case 59:H+=";";default:if(xc(M=QS(H,e,n,h,m,i,d,T,A=[],R=[],b),o),N===123)if(m===0)Dc(H,e,M,M,A,o,b,d,R);else switch(y===99&&on(H,3)===110?100:y){case 100:case 108:case 109:case 115:Dc(t,M,M,r&&xc(QS(t,M,M,0,0,i,d,T,i,A=[],b),R),i,R,b,d,r?A:R);break;default:Dc(H,M,M,M,[""],R,0,d,R)}}h=m=_=0,w=x=1,T=H="",b=u;break;case 58:b=1+Ar(H),_=v;default:if(w<1){if(N==123)--w;else if(N==125&&w++==0&&nj()==125)continue}switch(H+=Od(N),N*w){case 38:x=m>0?1:(H+="\f",-1);break;case 44:d[h++]=(Ar(H)-1)*x,x=1;break;case 64:Pr()===45&&(H+=Lc(Bn())),y=Pr(),m=b=Ar(T=H+=sj(Pc())),N++;break;case 45:v===45&&Ar(H)==2&&(w=0)}}return o}function QS(t,e,n,r,i,o,u,d,f,h,m){for(var b=i-1,y=i===0?o:[""],_=Wg(y),v=0,w=0,E=0;v<r;++v)for(var x=0,N=Ul(t,b+1,b=XI(w=u[v])),T=t;x<_;++x)(T=eT(w>0?y[x]+" "+N:Ke(N,/&\f/g,y[x])))&&(f[E++]=T);return Ad(t,e,n,i===0?Xg:d,f,h,m)}function lj(t,e,n){return Ad(t,e,n,WE,Od(tj()),Ul(t,2,-2),0)}function WS(t,e,n,r){return Ad(t,e,n,Qg,Ul(t,0,r),Ul(t,r+1,-1),r)}function zs(t,e){for(var n="",r=Wg(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function uj(t,e,n,r){switch(t.type){case KI:if(t.children.length)break;case YI:case Qg:return t.return=t.return||t.value;case WE:return"";case JE:return t.return=t.value+"{"+zs(t.children,r)+"}";case Xg:t.value=t.props.join(",")}return Ar(n=zs(t.children,r))?t.return=t.value+"{"+n+"}":""}function cj(t){var e=Wg(t);return function(n,r,i,o){for(var u="",d=0;d<e;d++)u+=t[d](n,r,i,o)||"";return u}}function dj(t){return function(e){e.root||(e=e.return)&&t(e)}}function aT(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var fj=function(e,n,r){for(var i=0,o=0;i=o,o=Pr(),i===38&&o===12&&(n[r]=1),!zl(o);)Bn();return Wl(e,An)},hj=function(e,n){var r=-1,i=44;do switch(zl(i)){case 0:i===38&&Pr()===12&&(n[r]=1),e[r]+=fj(An-1,n,r);break;case 2:e[r]+=Lc(i);break;case 4:if(i===44){e[++r]=Pr()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Od(i)}while(i=Bn());return e},pj=function(e,n){return rT(hj(nT(e),n))},JS=new WeakMap,mj=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!JS.get(r))&&!i){JS.set(e,!0);for(var o=[],u=pj(n,o),d=r.props,f=0,h=0;f<u.length;f++)for(var m=0;m<d.length;m++,h++)e.props[h]=o[f]?u[f].replace(/&\f/g,d[m]):d[m]+" "+u[f]}}},gj=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function iT(t,e){switch(WI(t,e)){case 5103:return Ye+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ye+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Ye+t+sd+t+dn+t+t;case 6828:case 4268:return Ye+t+dn+t+t;case 6165:return Ye+t+dn+"flex-"+t+t;case 5187:return Ye+t+Ke(t,/(\w+).+(:[^]+)/,Ye+"box-$1$2"+dn+"flex-$1$2")+t;case 5443:return Ye+t+dn+"flex-item-"+Ke(t,/flex-|-self/,"")+t;case 4675:return Ye+t+dn+"flex-line-pack"+Ke(t,/align-content|flex-|-self/,"")+t;case 5548:return Ye+t+dn+Ke(t,"shrink","negative")+t;case 5292:return Ye+t+dn+Ke(t,"basis","preferred-size")+t;case 6060:return Ye+"box-"+Ke(t,"-grow","")+Ye+t+dn+Ke(t,"grow","positive")+t;case 4554:return Ye+Ke(t,/([^-])(transform)/g,"$1"+Ye+"$2")+t;case 6187:return Ke(Ke(Ke(t,/(zoom-|grab)/,Ye+"$1"),/(image-set)/,Ye+"$1"),t,"")+t;case 5495:case 3959:return Ke(t,/(image-set\([^]*)/,Ye+"$1$`$1");case 4968:return Ke(Ke(t,/(.+:)(flex-)?(.*)/,Ye+"box-pack:$3"+dn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ye+t+t;case 4095:case 3583:case 4068:case 2532:return Ke(t,/(.+)-inline(.+)/,Ye+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ar(t)-1-e>6)switch(on(t,e+1)){case 109:if(on(t,e+4)!==45)break;case 102:return Ke(t,/(.+:)(.+)-([^]+)/,"$1"+Ye+"$2-$3$1"+sd+(on(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~dg(t,"stretch")?iT(Ke(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(on(t,e+1)!==115)break;case 6444:switch(on(t,Ar(t)-3-(~dg(t,"!important")&&10))){case 107:return Ke(t,":",":"+Ye)+t;case 101:return Ke(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ye+(on(t,14)===45?"inline-":"")+"box$3$1"+Ye+"$2$3$1"+dn+"$2box$3")+t}break;case 5936:switch(on(t,e+11)){case 114:return Ye+t+dn+Ke(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Ye+t+dn+Ke(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Ye+t+dn+Ke(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Ye+t+dn+t+t}return t}var yj=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case Qg:e.return=iT(e.value,e.length);break;case JE:return zs([ul(e,{value:Ke(e.value,"@","@"+Ye)})],i);case Xg:if(e.length)return ej(e.props,function(o){switch(JI(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return zs([ul(e,{props:[Ke(o,/:(read-\w+)/,":"+sd+"$1")]})],i);case"::placeholder":return zs([ul(e,{props:[Ke(o,/:(plac\w+)/,":"+Ye+"input-$1")]}),ul(e,{props:[Ke(o,/:(plac\w+)/,":"+sd+"$1")]}),ul(e,{props:[Ke(o,/:(plac\w+)/,dn+"input-$1")]})],i)}return""})}},bj=[yj],vj=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(w){var E=w.getAttribute("data-emotion");E.indexOf(" ")!==-1&&(document.head.appendChild(w),w.setAttribute("data-s",""))})}var i=e.stylisPlugins||bj,o={},u,d=[];u=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(w){for(var E=w.getAttribute("data-emotion").split(" "),x=1;x<E.length;x++)o[E[x]]=!0;d.push(w)});var f,h=[mj,gj];{var m,b=[uj,dj(function(w){m.insert(w)})],y=cj(h.concat(i,b)),_=function(E){return zs(oj(E),y)};f=function(E,x,N,T){m=N,_(E?E+"{"+x.styles+"}":x.styles),T&&(v.inserted[x.name]=!0)}}var v={key:n,sheet:new ZI({key:n,container:u,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:f};return v.sheet.hydrate(d),v},km={exports:{}},Qe={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e1;function _j(){if(e1)return Qe;e1=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,o=t?Symbol.for("react.profiler"):60114,u=t?Symbol.for("react.provider"):60109,d=t?Symbol.for("react.context"):60110,f=t?Symbol.for("react.async_mode"):60111,h=t?Symbol.for("react.concurrent_mode"):60111,m=t?Symbol.for("react.forward_ref"):60112,b=t?Symbol.for("react.suspense"):60113,y=t?Symbol.for("react.suspense_list"):60120,_=t?Symbol.for("react.memo"):60115,v=t?Symbol.for("react.lazy"):60116,w=t?Symbol.for("react.block"):60121,E=t?Symbol.for("react.fundamental"):60117,x=t?Symbol.for("react.responder"):60118,N=t?Symbol.for("react.scope"):60119;function T(R){if(typeof R=="object"&&R!==null){var M=R.$$typeof;switch(M){case e:switch(R=R.type,R){case f:case h:case r:case o:case i:case b:return R;default:switch(R=R&&R.$$typeof,R){case d:case m:case v:case _:case u:return R;default:return M}}case n:return M}}}function A(R){return T(R)===h}return Qe.AsyncMode=f,Qe.ConcurrentMode=h,Qe.ContextConsumer=d,Qe.ContextProvider=u,Qe.Element=e,Qe.ForwardRef=m,Qe.Fragment=r,Qe.Lazy=v,Qe.Memo=_,Qe.Portal=n,Qe.Profiler=o,Qe.StrictMode=i,Qe.Suspense=b,Qe.isAsyncMode=function(R){return A(R)||T(R)===f},Qe.isConcurrentMode=A,Qe.isContextConsumer=function(R){return T(R)===d},Qe.isContextProvider=function(R){return T(R)===u},Qe.isElement=function(R){return typeof R=="object"&&R!==null&&R.$$typeof===e},Qe.isForwardRef=function(R){return T(R)===m},Qe.isFragment=function(R){return T(R)===r},Qe.isLazy=function(R){return T(R)===v},Qe.isMemo=function(R){return T(R)===_},Qe.isPortal=function(R){return T(R)===n},Qe.isProfiler=function(R){return T(R)===o},Qe.isStrictMode=function(R){return T(R)===i},Qe.isSuspense=function(R){return T(R)===b},Qe.isValidElementType=function(R){return typeof R=="string"||typeof R=="function"||R===r||R===h||R===o||R===i||R===b||R===y||typeof R=="object"&&R!==null&&(R.$$typeof===v||R.$$typeof===_||R.$$typeof===u||R.$$typeof===d||R.$$typeof===m||R.$$typeof===E||R.$$typeof===x||R.$$typeof===N||R.$$typeof===w)},Qe.typeOf=T,Qe}var t1;function wj(){return t1||(t1=1,km.exports=_j()),km.exports}var Im,n1;function Sj(){if(n1)return Im;n1=1;var t=wj(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[t.ForwardRef]=r,o[t.Memo]=i;function u(v){return t.isMemo(v)?i:o[v.$$typeof]||e}var d=Object.defineProperty,f=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,m=Object.getOwnPropertyDescriptor,b=Object.getPrototypeOf,y=Object.prototype;function _(v,w,E){if(typeof w!="string"){if(y){var x=b(w);x&&x!==y&&_(v,x,E)}var N=f(w);h&&(N=N.concat(h(w)));for(var T=u(v),A=u(w),R=0;R<N.length;++R){var M=N[R];if(!n[M]&&!(E&&E[M])&&!(A&&A[M])&&!(T&&T[M])){var H=m(w,M);try{d(v,M,H)}catch{}}}}return v}return Im=_,Im}Sj();var Ej=!0;function sT(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var Jg=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||Ej===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},ey=function(e,n,r){Jg(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var o=n;do e.insert(n===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function Tj(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var xj={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Rj=/[A-Z]|^ms/g,Oj=/_EMO_([^_]+?)_([^]*?)_EMO_/g,oT=function(e){return e.charCodeAt(1)===45},r1=function(e){return e!=null&&typeof e!="boolean"},jm=aT(function(t){return oT(t)?t:t.replace(Rj,"-$&").toLowerCase()}),a1=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(Oj,function(r,i,o){return Nr={name:i,styles:o,next:Nr},i})}return xj[e]!==1&&!oT(e)&&typeof n=="number"&&n!==0?n+"px":n};function Bl(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return Nr={name:i.name,styles:i.styles,next:Nr},i.name;var o=n;if(o.styles!==void 0){var u=o.next;if(u!==void 0)for(;u!==void 0;)Nr={name:u.name,styles:u.styles,next:Nr},u=u.next;var d=o.styles+";";return d}return Cj(t,e,n)}case"function":{if(t!==void 0){var f=Nr,h=n(t);return Nr=f,Bl(t,e,h)}break}}var m=n;if(e==null)return m;var b=e[m];return b!==void 0?b:m}function Cj(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Bl(t,e,n[i])+";";else for(var o in n){var u=n[o];if(typeof u!="object"){var d=u;e!=null&&e[d]!==void 0?r+=o+"{"+e[d]+"}":r1(d)&&(r+=jm(o)+":"+a1(o,d)+";")}else if(Array.isArray(u)&&typeof u[0]=="string"&&(e==null||e[u[0]]===void 0))for(var f=0;f<u.length;f++)r1(u[f])&&(r+=jm(o)+":"+a1(o,u[f])+";");else{var h=Bl(t,e,u);switch(o){case"animation":case"animationName":{r+=jm(o)+":"+h+";";break}default:r+=o+"{"+h+"}"}}}return r}var i1=/label:\s*([^\s;{]+)\s*(;|$)/g,Nr;function Jl(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";Nr=void 0;var o=t[0];if(o==null||o.raw===void 0)r=!1,i+=Bl(n,e,o);else{var u=o;i+=u[0]}for(var d=1;d<t.length;d++)if(i+=Bl(n,e,t[d]),r){var f=o;i+=f[d]}i1.lastIndex=0;for(var h="",m;(m=i1.exec(i))!==null;)h+="-"+m[1];var b=Tj(i)+h;return{name:b,styles:i,next:Nr}}var Aj=function(e){return e()},lT=qm.useInsertionEffect?qm.useInsertionEffect:!1,uT=lT||Aj,s1=lT||$.useLayoutEffect,cT=$.createContext(typeof HTMLElement<"u"?vj({key:"css"}):null);cT.Provider;var ty=function(e){return $.forwardRef(function(n,r){var i=$.useContext(cT);return e(n,i,r)})},Nd=$.createContext({}),ny={}.hasOwnProperty,hg="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Nj=function(e,n){var r={};for(var i in n)ny.call(n,i)&&(r[i]=n[i]);return r[hg]=e,r},kj=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return Jg(n,r,i),uT(function(){return ey(n,r,i)}),null},Ij=ty(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[hg],o=[r],u="";typeof t.className=="string"?u=sT(e.registered,o,t.className):t.className!=null&&(u=t.className+" ");var d=Jl(o,void 0,$.useContext(Nd));u+=e.key+"-"+d.name;var f={};for(var h in t)ny.call(t,h)&&h!=="css"&&h!==hg&&(f[h]=t[h]);return f.className=u,n&&(f.ref=n),$.createElement($.Fragment,null,$.createElement(kj,{cache:e,serialized:d,isStringTag:typeof i=="string"}),$.createElement(i,f))}),jj=Ij,o1=function(e,n){var r=arguments;if(n==null||!ny.call(n,"css"))return $.createElement.apply(void 0,r);var i=r.length,o=new Array(i);o[0]=jj,o[1]=Nj(e,n);for(var u=2;u<i;u++)o[u]=r[u];return $.createElement.apply(null,o)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(o1||(o1={}));var $j=ty(function(t,e){var n=t.styles,r=Jl([n],void 0,$.useContext(Nd)),i=$.useRef();return s1(function(){var o=e.key+"-global",u=new e.sheet.constructor({key:o,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),d=!1,f=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return e.sheet.tags.length&&(u.before=e.sheet.tags[0]),f!==null&&(d=!0,f.setAttribute("data-emotion",o),u.hydrate([f])),i.current=[u,d],function(){u.flush()}},[e]),s1(function(){var o=i.current,u=o[0],d=o[1];if(d){o[1]=!1;return}if(r.next!==void 0&&ey(e,r.next,!0),u.tags.length){var f=u.tags[u.tags.length-1].nextElementSibling;u.before=f,u.flush()}e.insert("",r,u,!1)},[e,r.name]),null});function ry(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Jl(e)}function eu(){var t=ry.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var Mj=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Pj=aT(function(t){return Mj.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),Lj=Pj,Dj=function(e){return e!=="theme"},l1=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?Lj:Dj},u1=function(e,n,r){var i;if(n){var o=n.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(u){return e.__emotion_forwardProp(u)&&o(u)}:o}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},Uj=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return Jg(n,r,i),uT(function(){return ey(n,r,i)}),null},zj=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,o,u;n!==void 0&&(o=n.label,u=n.target);var d=u1(e,n,r),f=d||l1(i),h=!f("as");return function(){var m=arguments,b=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&b.push("label:"+o+";"),m[0]==null||m[0].raw===void 0)b.push.apply(b,m);else{var y=m[0];b.push(y[0]);for(var _=m.length,v=1;v<_;v++)b.push(m[v],y[v])}var w=ty(function(E,x,N){var T=h&&E.as||i,A="",R=[],M=E;if(E.theme==null){M={};for(var H in E)M[H]=E[H];M.theme=$.useContext(Nd)}typeof E.className=="string"?A=sT(x.registered,R,E.className):E.className!=null&&(A=E.className+" ");var U=Jl(b.concat(R),x.registered,M);A+=x.key+"-"+U.name,u!==void 0&&(A+=" "+u);var ie=h&&d===void 0?l1(T):f,C={};for(var X in E)h&&X==="as"||ie(X)&&(C[X]=E[X]);return C.className=A,N&&(C.ref=N),$.createElement($.Fragment,null,$.createElement(Uj,{cache:x,serialized:U,isStringTag:typeof T=="string"}),$.createElement(T,C))});return w.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",w.defaultProps=e.defaultProps,w.__emotion_real=w,w.__emotion_base=i,w.__emotion_styles=b,w.__emotion_forwardProp=d,Object.defineProperty(w,"toString",{value:function(){return"."+u}}),w.withComponent=function(E,x){var N=t(E,id({},n,x,{shouldForwardProp:u1(w,x,!0)}));return N.apply(void 0,b)},w}},Bj=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],pg=zj.bind(null);Bj.forEach(function(t){pg[t]=pg(t)});function Hj(t){return t==null||Object.keys(t).length===0}function qj(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(Hj(i)?n:i):e;return J.jsx($j,{styles:r})}function dT(t,e){return pg(t,e)}function Gj(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const c1=[];function d1(t){return c1[0]=t,Jl(c1)}var $m={exports:{}},st={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f1;function Fj(){if(f1)return st;f1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),_=Symbol.for("react.client.reference");function v(w){if(typeof w=="object"&&w!==null){var E=w.$$typeof;switch(E){case t:switch(w=w.type,w){case n:case i:case r:case f:case h:case y:return w;default:switch(w=w&&w.$$typeof,w){case u:case d:case b:case m:return w;case o:return w;default:return E}}case e:return E}}}return st.ContextConsumer=o,st.ContextProvider=u,st.Element=t,st.ForwardRef=d,st.Fragment=n,st.Lazy=b,st.Memo=m,st.Portal=e,st.Profiler=i,st.StrictMode=r,st.Suspense=f,st.SuspenseList=h,st.isContextConsumer=function(w){return v(w)===o},st.isContextProvider=function(w){return v(w)===u},st.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===t},st.isForwardRef=function(w){return v(w)===d},st.isFragment=function(w){return v(w)===n},st.isLazy=function(w){return v(w)===b},st.isMemo=function(w){return v(w)===m},st.isPortal=function(w){return v(w)===e},st.isProfiler=function(w){return v(w)===i},st.isStrictMode=function(w){return v(w)===r},st.isSuspense=function(w){return v(w)===f},st.isSuspenseList=function(w){return v(w)===h},st.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===n||w===i||w===r||w===f||w===h||typeof w=="object"&&w!==null&&(w.$$typeof===b||w.$$typeof===m||w.$$typeof===u||w.$$typeof===o||w.$$typeof===d||w.$$typeof===_||w.getModuleId!==void 0)},st.typeOf=v,st}var h1;function Vj(){return h1||(h1=1,$m.exports=Fj()),$m.exports}var fT=Vj();function Ir(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function hT(t){if($.isValidElement(t)||fT.isValidElementType(t)||!Ir(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=hT(t[n])}),e}function en(t,e,n={clone:!0}){const r=n.clone?{...t}:t;return Ir(t)&&Ir(e)&&Object.keys(e).forEach(i=>{$.isValidElement(e[i])||fT.isValidElementType(e[i])?r[i]=e[i]:Ir(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&Ir(t[i])?r[i]=en(t[i],e[i],n):n.clone?r[i]=Ir(e[i])?hT(e[i]):e[i]:r[i]=e[i]}),r}const Zj=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function Yj(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=t,o=Zj(e),u=Object.keys(o);function d(y){return`@media (min-width:${typeof e[y]=="number"?e[y]:y}${n})`}function f(y){return`@media (max-width:${(typeof e[y]=="number"?e[y]:y)-r/100}${n})`}function h(y,_){const v=u.indexOf(_);return`@media (min-width:${typeof e[y]=="number"?e[y]:y}${n}) and (max-width:${(v!==-1&&typeof e[u[v]]=="number"?e[u[v]]:_)-r/100}${n})`}function m(y){return u.indexOf(y)+1<u.length?h(y,u[u.indexOf(y)+1]):d(y)}function b(y){const _=u.indexOf(y);return _===0?d(u[1]):_===u.length-1?f(u[_]):h(y,u[u.indexOf(y)+1]).replace("@media","@media not all and")}return{keys:u,values:o,up:d,down:f,between:h,only:m,not:b,unit:n,...i}}function Kj(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var u,d;const o=/min-width:\s*([0-9.]+)/;return+(((u=r.match(o))==null?void 0:u[1])||0)-+(((d=i.match(o))==null?void 0:d[1])||0)});return n.length?n.reduce((r,i)=>{const o=e[i];return delete r[i],r[i]=o,r},{...e}):e}function Xj(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function Qj(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,o=Number.isNaN(+r)?r||0:+r;return t.containerQueries(i).up(o)}function Wj(t){const e=(o,u)=>o.replace("@media",u?`@container ${u}`:"@container");function n(o,u){o.up=(...d)=>e(t.breakpoints.up(...d),u),o.down=(...d)=>e(t.breakpoints.down(...d),u),o.between=(...d)=>e(t.breakpoints.between(...d),u),o.only=(...d)=>e(t.breakpoints.only(...d),u),o.not=(...d)=>{const f=e(t.breakpoints.not(...d),u);return f.includes("not all and")?f.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):f}}const r={},i=o=>(n(r,o),r);return n(i),{...t,containerQueries:i}}const Jj={borderRadius:4};function Rl(t,e){return e?en(t,e,{clone:!1}):t}const kd={xs:0,sm:600,md:900,lg:1200,xl:1536},p1={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${kd[t]}px)`},e$={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:kd[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function yr(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const o=r.breakpoints||p1;return e.reduce((u,d,f)=>(u[o.up(o.keys[f])]=n(e[f]),u),{})}if(typeof e=="object"){const o=r.breakpoints||p1;return Object.keys(e).reduce((u,d)=>{if(Xj(o.keys,d)){const f=Qj(r.containerQueries?r:e$,d);f&&(u[f]=n(e[d],d))}else if(Object.keys(o.values||kd).includes(d)){const f=o.up(d);u[f]=n(e[d],d)}else{const f=d;u[f]=e[f]}return u},{})}return n(e)}function pT(t={}){var n;return((n=t.keys)==null?void 0:n.reduce((r,i)=>{const o=t.up(i);return r[o]={},r},{}))||{}}function mT(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function t$(t,...e){const n=pT(t),r=[n,...e].reduce((i,o)=>en(i,o),{});return mT(Object.keys(n),r)}function n$(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((i,o)=>{o<t.length&&(n[i]=!0)}):r.forEach(i=>{t[i]!=null&&(n[i]=!0)}),n}function Mm({values:t,breakpoints:e,base:n}){const r=n||n$(t,e),i=Object.keys(r);if(i.length===0)return t;let o;return i.reduce((u,d,f)=>(Array.isArray(t)?(u[d]=t[f]!=null?t[f]:t[o],o=f):typeof t=="object"?(u[d]=t[d]!=null?t[d]:t[o],o=d):u[d]=t,u),{})}function qe(t){if(typeof t!="string")throw new Error(da(7));return t.charAt(0).toUpperCase()+t.slice(1)}function Id(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function od(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=Id(t,n)||r,e&&(i=e(i,r,t)),i}function kt(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,o=u=>{if(u[e]==null)return null;const d=u[e],f=u.theme,h=Id(f,r)||{};return yr(u,d,b=>{let y=od(h,i,b);return b===y&&typeof b=="string"&&(y=od(h,i,`${e}${b==="default"?"":qe(b)}`,b)),n===!1?y:{[n]:y}})};return o.propTypes={},o.filterProps=[e],o}function r$(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const a$={m:"margin",p:"padding"},i$={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},m1={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},s$=r$(t=>{if(t.length>2)if(m1[t])t=m1[t];else return[t];const[e,n]=t.split(""),r=a$[e],i=i$[n]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),ay=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],iy=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...ay,...iy];function tu(t,e,n,r){const i=Id(t,e,!0)??n;return typeof i=="number"||typeof i=="string"?o=>typeof o=="string"?o:typeof i=="string"?i.startsWith("var(")&&o===0?0:i.startsWith("var(")&&o===1?i:`calc(${o} * ${i})`:i*o:Array.isArray(i)?o=>{if(typeof o=="string")return o;const u=Math.abs(o),d=i[u];return o>=0?d:typeof d=="number"?-d:typeof d=="string"&&d.startsWith("var(")?`calc(-1 * ${d})`:`-${d}`}:typeof i=="function"?i:()=>{}}function jd(t){return tu(t,"spacing",8)}function Pi(t,e){return typeof e=="string"||e==null?e:t(e)}function o$(t,e){return n=>t.reduce((r,i)=>(r[i]=Pi(e,n),r),{})}function l$(t,e,n,r){if(!e.includes(n))return null;const i=s$(n),o=o$(i,r),u=t[n];return yr(t,u,o)}function gT(t,e){const n=jd(t.theme);return Object.keys(t).map(r=>l$(t,e,r,n)).reduce(Rl,{})}function Rt(t){return gT(t,ay)}Rt.propTypes={};Rt.filterProps=ay;function Ot(t){return gT(t,iy)}Ot.propTypes={};Ot.filterProps=iy;function yT(t=8,e=jd({spacing:t})){if(t.mui)return t;const n=(...r)=>(r.length===0?[1]:r).map(o=>{const u=e(o);return typeof u=="number"?`${u}px`:u}).join(" ");return n.mui=!0,n}function $d(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),n=r=>Object.keys(r).reduce((i,o)=>e[o]?Rl(i,e[o](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function nr(t){return typeof t!="number"?t:`${t}px solid`}function ir(t,e){return kt({prop:t,themeKey:"borders",transform:e})}const u$=ir("border",nr),c$=ir("borderTop",nr),d$=ir("borderRight",nr),f$=ir("borderBottom",nr),h$=ir("borderLeft",nr),p$=ir("borderColor"),m$=ir("borderTopColor"),g$=ir("borderRightColor"),y$=ir("borderBottomColor"),b$=ir("borderLeftColor"),v$=ir("outline",nr),_$=ir("outlineColor"),Md=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=tu(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:Pi(e,r)});return yr(t,t.borderRadius,n)}return null};Md.propTypes={};Md.filterProps=["borderRadius"];$d(u$,c$,d$,f$,h$,p$,m$,g$,y$,b$,Md,v$,_$);const Pd=t=>{if(t.gap!==void 0&&t.gap!==null){const e=tu(t.theme,"spacing",8),n=r=>({gap:Pi(e,r)});return yr(t,t.gap,n)}return null};Pd.propTypes={};Pd.filterProps=["gap"];const Ld=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=tu(t.theme,"spacing",8),n=r=>({columnGap:Pi(e,r)});return yr(t,t.columnGap,n)}return null};Ld.propTypes={};Ld.filterProps=["columnGap"];const Dd=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=tu(t.theme,"spacing",8),n=r=>({rowGap:Pi(e,r)});return yr(t,t.rowGap,n)}return null};Dd.propTypes={};Dd.filterProps=["rowGap"];const w$=kt({prop:"gridColumn"}),S$=kt({prop:"gridRow"}),E$=kt({prop:"gridAutoFlow"}),T$=kt({prop:"gridAutoColumns"}),x$=kt({prop:"gridAutoRows"}),R$=kt({prop:"gridTemplateColumns"}),O$=kt({prop:"gridTemplateRows"}),C$=kt({prop:"gridTemplateAreas"}),A$=kt({prop:"gridArea"});$d(Pd,Ld,Dd,w$,S$,E$,T$,x$,R$,O$,C$,A$);function Bs(t,e){return e==="grey"?e:t}const N$=kt({prop:"color",themeKey:"palette",transform:Bs}),k$=kt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Bs}),I$=kt({prop:"backgroundColor",themeKey:"palette",transform:Bs});$d(N$,k$,I$);function zn(t){return t<=1&&t!==0?`${t*100}%`:t}const j$=kt({prop:"width",transform:zn}),sy=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var i,o,u,d,f;const r=((u=(o=(i=t.theme)==null?void 0:i.breakpoints)==null?void 0:o.values)==null?void 0:u[n])||kd[n];return r?((f=(d=t.theme)==null?void 0:d.breakpoints)==null?void 0:f.unit)!=="px"?{maxWidth:`${r}${t.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:zn(n)}};return yr(t,t.maxWidth,e)}return null};sy.filterProps=["maxWidth"];const $$=kt({prop:"minWidth",transform:zn}),M$=kt({prop:"height",transform:zn}),P$=kt({prop:"maxHeight",transform:zn}),L$=kt({prop:"minHeight",transform:zn});kt({prop:"size",cssProperty:"width",transform:zn});kt({prop:"size",cssProperty:"height",transform:zn});const D$=kt({prop:"boxSizing"});$d(j$,sy,$$,M$,P$,L$,D$);const nu={border:{themeKey:"borders",transform:nr},borderTop:{themeKey:"borders",transform:nr},borderRight:{themeKey:"borders",transform:nr},borderBottom:{themeKey:"borders",transform:nr},borderLeft:{themeKey:"borders",transform:nr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:nr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Md},color:{themeKey:"palette",transform:Bs},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Bs},backgroundColor:{themeKey:"palette",transform:Bs},p:{style:Ot},pt:{style:Ot},pr:{style:Ot},pb:{style:Ot},pl:{style:Ot},px:{style:Ot},py:{style:Ot},padding:{style:Ot},paddingTop:{style:Ot},paddingRight:{style:Ot},paddingBottom:{style:Ot},paddingLeft:{style:Ot},paddingX:{style:Ot},paddingY:{style:Ot},paddingInline:{style:Ot},paddingInlineStart:{style:Ot},paddingInlineEnd:{style:Ot},paddingBlock:{style:Ot},paddingBlockStart:{style:Ot},paddingBlockEnd:{style:Ot},m:{style:Rt},mt:{style:Rt},mr:{style:Rt},mb:{style:Rt},ml:{style:Rt},mx:{style:Rt},my:{style:Rt},margin:{style:Rt},marginTop:{style:Rt},marginRight:{style:Rt},marginBottom:{style:Rt},marginLeft:{style:Rt},marginX:{style:Rt},marginY:{style:Rt},marginInline:{style:Rt},marginInlineStart:{style:Rt},marginInlineEnd:{style:Rt},marginBlock:{style:Rt},marginBlockStart:{style:Rt},marginBlockEnd:{style:Rt},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Pd},rowGap:{style:Dd},columnGap:{style:Ld},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:zn},maxWidth:{style:sy},minWidth:{transform:zn},height:{transform:zn},maxHeight:{transform:zn},minHeight:{transform:zn},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function U$(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function z$(t,e){return typeof t=="function"?t(e):t}function B$(){function t(n,r,i,o){const u={[n]:r,theme:i},d=o[n];if(!d)return{[n]:r};const{cssProperty:f=n,themeKey:h,transform:m,style:b}=d;if(r==null)return null;if(h==="typography"&&r==="inherit")return{[n]:r};const y=Id(i,h)||{};return b?b(u):yr(u,r,v=>{let w=od(y,m,v);return v===w&&typeof v=="string"&&(w=od(y,m,`${n}${v==="default"?"":qe(v)}`,v)),f===!1?w:{[f]:w}})}function e(n){const{sx:r,theme:i={}}=n||{};if(!r)return null;const o=i.unstable_sxConfig??nu;function u(d){let f=d;if(typeof d=="function")f=d(i);else if(typeof d!="object")return d;if(!f)return null;const h=pT(i.breakpoints),m=Object.keys(h);let b=h;return Object.keys(f).forEach(y=>{const _=z$(f[y],i);if(_!=null)if(typeof _=="object")if(o[y])b=Rl(b,t(y,_,i,o));else{const v=yr({theme:i},_,w=>({[y]:w}));U$(v,_)?b[y]=e({sx:_,theme:i}):b=Rl(b,v)}else b=Rl(b,t(y,_,i,o))}),Kj(i,mT(m,b))}return Array.isArray(r)?r.map(u):u(r)}return e}const Li=B$();Li.filterProps=["sx"];function H$(t,e){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[t])||typeof n.getColorSchemeSelector!="function")return{};let i=n.getColorSchemeSelector(t);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return n.palette.mode===t?e:{}}function Ud(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:o={},...u}=t,d=Yj(n),f=yT(i);let h=en({breakpoints:d,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:f,shape:{...Jj,...o}},u);return h=Wj(h),h.applyStyles=H$,h=e.reduce((m,b)=>en(m,b),h),h.unstable_sxConfig={...nu,...u==null?void 0:u.unstable_sxConfig},h.unstable_sx=function(b){return Li({sx:b,theme:this})},h}function q$(t){return Object.keys(t).length===0}function G$(t=null){const e=$.useContext(Nd);return!e||q$(e)?t:e}const F$=Ud();function zd(t=F$){return G$(t)}function V$({styles:t,themeId:e,defaultTheme:n={}}){const r=zd(n),i=typeof t=="function"?t(e&&r[e]||r):t;return J.jsx(qj,{styles:i})}const Z$=t=>{var r;const e={systemProps:{},otherProps:{}},n=((r=t==null?void 0:t.theme)==null?void 0:r.unstable_sxConfig)??nu;return Object.keys(t).forEach(i=>{n[i]?e.systemProps[i]=t[i]:e.otherProps[i]=t[i]}),e};function oy(t){const{sx:e,...n}=t,{systemProps:r,otherProps:i}=Z$(n);let o;return Array.isArray(e)?o=[r,...e]:typeof e=="function"?o=(...u)=>{const d=e(...u);return Ir(d)?{...r,...d}:r}:o={...r,...e},{...i,sx:o}}const g1=t=>t,Y$=()=>{let t=g1;return{configure(e){t=e},generate(e){return t(e)},reset(){t=g1}}},bT=Y$();function vT(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=vT(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Le(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=vT(t))&&(r&&(r+=" "),r+=e);return r}function K$(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,o=dT("div",{shouldForwardProp:d=>d!=="theme"&&d!=="sx"&&d!=="as"})(Li);return $.forwardRef(function(f,h){const m=zd(n),{className:b,component:y="div",..._}=oy(f);return J.jsx(o,{as:y,ref:h,className:Le(b,i?i(r):r),theme:e&&m[e]||m,..._})})}const X$={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function pt(t,e,n="Mui"){const r=X$[e];return r?`${n}-${r}`:`${bT.generate(t)}-${e}`}function mt(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=pt(t,i,n)}),r}function _T(t){const{variants:e,...n}=t,r={variants:e,style:d1(n),isProcessed:!0};return r.style===n||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=d1(i.style))}),r}const Q$=Ud();function Pm(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function W$(t){return t?(e,n)=>n[t]:null}function J$(t,e,n){t.theme=tM(t.theme)?n:t.theme[e]||t.theme}function Uc(t,e){const n=typeof e=="function"?e(t):e;if(Array.isArray(n))return n.flatMap(r=>Uc(t,r));if(Array.isArray(n==null?void 0:n.variants)){let r;if(n.isProcessed)r=n.style;else{const{variants:i,...o}=n;r=o}return wT(t,n.variants,[r])}return n!=null&&n.isProcessed?n.style:n}function wT(t,e,n=[]){var i;let r;e:for(let o=0;o<e.length;o+=1){const u=e[o];if(typeof u.props=="function"){if(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),!u.props(r))continue}else for(const d in u.props)if(t[d]!==u.props[d]&&((i=t.ownerState)==null?void 0:i[d])!==u.props[d])continue e;typeof u.style=="function"?(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),n.push(u.style(r))):n.push(u.style)}return n}function ST(t={}){const{themeId:e,defaultTheme:n=Q$,rootShouldForwardProp:r=Pm,slotShouldForwardProp:i=Pm}=t;function o(d){J$(d,e,n)}return(d,f={})=>{Gj(d,R=>R.filter(M=>M!==Li));const{name:h,slot:m,skipVariantsResolver:b,skipSx:y,overridesResolver:_=W$(rM(m)),...v}=f,w=b!==void 0?b:m&&m!=="Root"&&m!=="root"||!1,E=y||!1;let x=Pm;m==="Root"||m==="root"?x=r:m?x=i:nM(d)&&(x=void 0);const N=dT(d,{shouldForwardProp:x,label:eM(),...v}),T=R=>{if(typeof R=="function"&&R.__emotion_real!==R)return function(H){return Uc(H,R)};if(Ir(R)){const M=_T(R);return M.variants?function(U){return Uc(U,M)}:M.style}return R},A=(...R)=>{const M=[],H=R.map(T),U=[];if(M.push(o),h&&_&&U.push(function(ee){var I,D;const V=(D=(I=ee.theme.components)==null?void 0:I[h])==null?void 0:D.styleOverrides;if(!V)return null;const L={};for(const Y in V)L[Y]=Uc(ee,V[Y]);return _(ee,L)}),h&&!w&&U.push(function(ee){var L,I;const se=ee.theme,V=(I=(L=se==null?void 0:se.components)==null?void 0:L[h])==null?void 0:I.variants;return V?wT(ee,V):null}),E||U.push(Li),Array.isArray(H[0])){const X=H.shift(),ee=new Array(M.length).fill(""),se=new Array(U.length).fill("");let V;V=[...ee,...X,...se],V.raw=[...ee,...X.raw,...se],M.unshift(V)}const ie=[...M,...H,...U],C=N(...ie);return d.muiName&&(C.muiName=d.muiName),C};return N.withConfig&&(A.withConfig=N.withConfig),A}}function eM(t,e){return void 0}function tM(t){for(const e in t)return!1;return!0}function nM(t){return typeof t=="string"&&t.charCodeAt(0)>96}function rM(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}const aM=ST();function ld(t,e){const n={...e};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const i=r;if(i==="components"||i==="slots")n[i]={...t[i],...n[i]};else if(i==="componentsProps"||i==="slotProps"){const o=t[i],u=e[i];if(!u)n[i]=o||{};else if(!o)n[i]=u;else{n[i]={...u};for(const d in o)if(Object.prototype.hasOwnProperty.call(o,d)){const f=d;n[i][f]=ld(o[f],u[f])}}}else n[i]===void 0&&(n[i]=t[i])}return n}function iM(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:ld(e.components[n].defaultProps,r)}function sM({props:t,name:e,defaultTheme:n,themeId:r}){let i=zd(n);return r&&(i=i[r]||i),iM({theme:i,name:e,props:t})}const Di=typeof window<"u"?$.useLayoutEffect:$.useEffect;function oM(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}function ly(t,e=0,n=1){return oM(t,e,n)}function lM(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function ti(t){if(t.type)return t;if(t.charAt(0)==="#")return ti(lM(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(da(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(da(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:n,values:r,colorSpace:i}}const uM=t=>{const e=ti(t);return e.values.slice(0,3).map((n,r)=>e.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},yl=(t,e)=>{try{return uM(t)}catch{return t}};function Bd(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.includes("rgb")?r=r.map((i,o)=>o<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function ET(t){t=ti(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,o=r*Math.min(i,1-i),u=(h,m=(h+n/30)%12)=>i-o*Math.max(Math.min(m-3,9-m,1),-1);let d="rgb";const f=[Math.round(u(0)*255),Math.round(u(8)*255),Math.round(u(4)*255)];return t.type==="hsla"&&(d+="a",f.push(e[3])),Bd({type:d,values:f})}function mg(t){t=ti(t);let e=t.type==="hsl"||t.type==="hsla"?ti(ET(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function cM(t,e){const n=mg(t),r=mg(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Hl(t,e){return t=ti(t),e=ly(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Bd(t)}function Rc(t,e,n){try{return Hl(t,e)}catch{return t}}function uy(t,e){if(t=ti(t),e=ly(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return Bd(t)}function lt(t,e,n){try{return uy(t,e)}catch{return t}}function cy(t,e){if(t=ti(t),e=ly(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return Bd(t)}function ut(t,e,n){try{return cy(t,e)}catch{return t}}function dM(t,e=.15){return mg(t)>.5?uy(t,e):cy(t,e)}function Oc(t,e,n){try{return dM(t,e)}catch{return t}}const fM=$.createContext(),hM=()=>$.useContext(fM)??!1,pM=$.createContext(void 0);function mM(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?ld(i.defaultProps,r):!i.styleOverrides&&!i.variants?ld(i,r):r}function gM({props:t,name:e}){const n=$.useContext(pM);return mM({props:t,name:e,theme:{components:n}})}const y1={theme:void 0};function yM(t){let e,n;return function(i){let o=e;return(o===void 0||i.theme!==n)&&(y1.theme=i.theme,o=_T(t(y1)),e=o,n=i.theme),o}}function bM(t=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${t?`${t}-`:""}${r}${e(...i)})`}const b1=(t,e,n,r=[])=>{let i=t;e.forEach((o,u)=>{u===e.length-1?Array.isArray(i)?i[Number(o)]=n:i&&typeof i=="object"&&(i[o]=n):i&&typeof i=="object"&&(i[o]||(i[o]=r.includes(o)?[]:{}),i=i[o])})},vM=(t,e,n)=>{function r(i,o=[],u=[]){Object.entries(i).forEach(([d,f])=>{(!n||n&&!n([...o,d]))&&f!=null&&(typeof f=="object"&&Object.keys(f).length>0?r(f,[...o,d],Array.isArray(f)?[...u,d]:u):e([...o,d],f,u))})}r(t)},_M=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>t.includes(r))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function Lm(t,e){const{prefix:n,shouldSkipGeneratingVar:r}=e||{},i={},o={},u={};return vM(t,(d,f,h)=>{if((typeof f=="string"||typeof f=="number")&&(!r||!r(d,f))){const m=`--${n?`${n}-`:""}${d.join("-")}`,b=_M(d,f);Object.assign(i,{[m]:b}),b1(o,d,`var(${m})`,h),b1(u,d,`var(${m}, ${b})`,h)}},d=>d[0]==="vars"),{css:i,vars:o,varsWithDefaults:u}}function wM(t,e={}){const{getSelector:n=E,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:o={},components:u,defaultColorScheme:d="light",...f}=t,{vars:h,css:m,varsWithDefaults:b}=Lm(f,e);let y=b;const _={},{[d]:v,...w}=o;if(Object.entries(w||{}).forEach(([T,A])=>{const{vars:R,css:M,varsWithDefaults:H}=Lm(A,e);y=en(y,H),_[T]={css:M,vars:R}}),v){const{css:T,vars:A,varsWithDefaults:R}=Lm(v,e);y=en(y,R),_[d]={css:T,vars:A}}function E(T,A){var M,H;let R=i;if(i==="class"&&(R=".%s"),i==="data"&&(R="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(R=`[${i}="%s"]`),T){if(R==="media")return t.defaultColorScheme===T?":root":{[`@media (prefers-color-scheme: ${((H=(M=o[T])==null?void 0:M.palette)==null?void 0:H.mode)||T})`]:{":root":A}};if(R)return t.defaultColorScheme===T?`:root, ${R.replace("%s",String(T))}`:R.replace("%s",String(T))}return":root"}return{vars:y,generateThemeVars:()=>{let T={...h};return Object.entries(_).forEach(([,{vars:A}])=>{T=en(T,A)}),T},generateStyleSheets:()=>{var U,ie;const T=[],A=t.defaultColorScheme||"light";function R(C,X){Object.keys(X).length&&T.push(typeof C=="string"?{[C]:{...X}}:C)}R(n(void 0,{...m}),m);const{[A]:M,...H}=_;if(M){const{css:C}=M,X=(ie=(U=o[A])==null?void 0:U.palette)==null?void 0:ie.mode,ee=!r&&X?{colorScheme:X,...C}:{...C};R(n(A,{...ee}),ee)}return Object.entries(H).forEach(([C,{css:X}])=>{var V,L;const ee=(L=(V=o[C])==null?void 0:V.palette)==null?void 0:L.mode,se=!r&&ee?{colorScheme:ee,...X}:{...X};R(n(C,{...se}),se)}),T}}}function SM(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}function gt(t,e,n=void 0){const r={};for(const i in t){const o=t[i];let u="",d=!0;for(let f=0;f<o.length;f+=1){const h=o[f];h&&(u+=(d===!0?"":" ")+e(h),d=!1,n&&n[h]&&(u+=" "+n[h]))}r[i]=u}return r}function Dm(t,e){var n,r,i;return $.isValidElement(t)&&e.indexOf(t.type.muiName??((i=(r=(n=t.type)==null?void 0:n._payload)==null?void 0:r.value)==null?void 0:i.muiName))!==-1}const EM=Ud(),TM=aM("div",{name:"MuiStack",slot:"Root"});function xM(t){return sM({props:t,name:"MuiStack",defaultTheme:EM})}function RM(t,e){const n=$.Children.toArray(t).filter(Boolean);return n.reduce((r,i,o)=>(r.push(i),o<n.length-1&&r.push($.cloneElement(e,{key:`separator-${o}`})),r),[])}const OM=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],CM=({ownerState:t,theme:e})=>{let n={display:"flex",flexDirection:"column",...yr({theme:e},Mm({values:t.direction,breakpoints:e.breakpoints.values}),r=>({flexDirection:r}))};if(t.spacing){const r=jd(e),i=Object.keys(e.breakpoints.values).reduce((f,h)=>((typeof t.spacing=="object"&&t.spacing[h]!=null||typeof t.direction=="object"&&t.direction[h]!=null)&&(f[h]=!0),f),{}),o=Mm({values:t.direction,base:i}),u=Mm({values:t.spacing,base:i});typeof o=="object"&&Object.keys(o).forEach((f,h,m)=>{if(!o[f]){const y=h>0?o[m[h-1]]:"column";o[f]=y}}),n=en(n,yr({theme:e},u,(f,h)=>t.useFlexGap?{gap:Pi(r,f)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${OM(h?o[h]:t.direction)}`]:Pi(r,f)}}))}return n=t$(e.breakpoints,n),n};function AM(t={}){const{createStyledComponent:e=TM,useThemeProps:n=xM,componentName:r="MuiStack"}=t,i=()=>gt({root:["root"]},f=>pt(r,f),{}),o=e(CM);return $.forwardRef(function(f,h){const m=n(f),b=oy(m),{component:y="div",direction:_="column",spacing:v=0,divider:w,children:E,className:x,useFlexGap:N=!1,...T}=b,A={direction:_,spacing:v,useFlexGap:N},R=i();return J.jsx(o,{as:y,ownerState:A,ref:h,className:Le(R.root,x),...T,children:w?RM(E,w):E})})}function TT(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Dl.white,default:Dl.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const NM=TT();function xT(){return{text:{primary:Dl.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Dl.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const v1=xT();function _1(t,e,n,r){const i=r.light||r,o=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=cy(t.main,i):e==="dark"&&(t.dark=uy(t.main,o)))}function kM(t="light"){return t==="dark"?{main:Cs[200],light:Cs[50],dark:Cs[400]}:{main:Cs[700],light:Cs[400],dark:Cs[800]}}function IM(t="light"){return t==="dark"?{main:Os[200],light:Os[50],dark:Os[400]}:{main:Os[500],light:Os[300],dark:Os[700]}}function jM(t="light"){return t==="dark"?{main:Rs[500],light:Rs[300],dark:Rs[700]}:{main:Rs[700],light:Rs[400],dark:Rs[800]}}function $M(t="light"){return t==="dark"?{main:As[400],light:As[300],dark:As[700]}:{main:As[700],light:As[500],dark:As[900]}}function MM(t="light"){return t==="dark"?{main:Ns[400],light:Ns[300],dark:Ns[700]}:{main:Ns[800],light:Ns[500],dark:Ns[900]}}function PM(t="light"){return t==="dark"?{main:ll[400],light:ll[300],dark:ll[700]}:{main:"#ed6c02",light:ll[500],dark:ll[900]}}function dy(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2,...i}=t,o=t.primary||kM(e),u=t.secondary||IM(e),d=t.error||jM(e),f=t.info||$M(e),h=t.success||MM(e),m=t.warning||PM(e);function b(w){return cM(w,v1.text.primary)>=n?v1.text.primary:NM.text.primary}const y=({color:w,name:E,mainShade:x=500,lightShade:N=300,darkShade:T=700})=>{if(w={...w},!w.main&&w[x]&&(w.main=w[x]),!w.hasOwnProperty("main"))throw new Error(da(11,E?` (${E})`:"",x));if(typeof w.main!="string")throw new Error(da(12,E?` (${E})`:"",JSON.stringify(w.main)));return _1(w,"light",N,r),_1(w,"dark",T,r),w.contrastText||(w.contrastText=b(w.main)),w};let _;return e==="light"?_=TT():e==="dark"&&(_=xT()),en({common:{...Dl},mode:e,primary:y({color:o,name:"primary"}),secondary:y({color:u,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:y({color:d,name:"error"}),warning:y({color:m,name:"warning"}),info:y({color:f,name:"info"}),success:y({color:h,name:"success"}),grey:GI,contrastThreshold:n,getContrastText:b,augmentColor:y,tonalOffset:r,..._},i)}function LM(t){const e={};return Object.entries(t).forEach(r=>{const[i,o]=r;typeof o=="object"&&(e[i]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),e}function DM(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function UM(t){return Math.round(t*1e5)/1e5}const w1={textTransform:"uppercase"},S1='"Roboto", "Helvetica", "Arial", sans-serif';function zM(t,e){const{fontFamily:n=S1,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:u=500,fontWeightBold:d=700,htmlFontSize:f=16,allVariants:h,pxToRem:m,...b}=typeof e=="function"?e(t):e,y=r/14,_=m||(E=>`${E/f*y}rem`),v=(E,x,N,T,A)=>({fontFamily:n,fontWeight:E,fontSize:_(x),lineHeight:N,...n===S1?{letterSpacing:`${UM(T/x)}em`}:{},...A,...h}),w={h1:v(i,96,1.167,-1.5),h2:v(i,60,1.2,-.5),h3:v(o,48,1.167,0),h4:v(o,34,1.235,.25),h5:v(o,24,1.334,0),h6:v(u,20,1.6,.15),subtitle1:v(o,16,1.75,.15),subtitle2:v(u,14,1.57,.1),body1:v(o,16,1.5,.15),body2:v(o,14,1.43,.15),button:v(u,14,1.75,.4,w1),caption:v(o,12,1.66,.4),overline:v(o,12,2.66,1,w1),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return en({htmlFontSize:f,pxToRem:_,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:u,fontWeightBold:d,...w},b,{clone:!1})}const BM=.2,HM=.14,qM=.12;function _t(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${BM})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${HM})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${qM})`].join(",")}const GM=["none",_t(0,2,1,-1,0,1,1,0,0,1,3,0),_t(0,3,1,-2,0,2,2,0,0,1,5,0),_t(0,3,3,-2,0,3,4,0,0,1,8,0),_t(0,2,4,-1,0,4,5,0,0,1,10,0),_t(0,3,5,-1,0,5,8,0,0,1,14,0),_t(0,3,5,-1,0,6,10,0,0,1,18,0),_t(0,4,5,-2,0,7,10,1,0,2,16,1),_t(0,5,5,-3,0,8,10,1,0,3,14,2),_t(0,5,6,-3,0,9,12,1,0,3,16,2),_t(0,6,6,-3,0,10,14,1,0,4,18,3),_t(0,6,7,-4,0,11,15,1,0,4,20,3),_t(0,7,8,-4,0,12,17,2,0,5,22,4),_t(0,7,8,-4,0,13,19,2,0,5,24,4),_t(0,7,9,-4,0,14,21,2,0,5,26,4),_t(0,8,9,-5,0,15,22,2,0,6,28,5),_t(0,8,10,-5,0,16,24,2,0,6,30,5),_t(0,8,11,-5,0,17,26,2,0,6,32,5),_t(0,9,11,-5,0,18,28,2,0,7,34,6),_t(0,9,12,-6,0,19,29,2,0,7,36,6),_t(0,10,13,-6,0,20,31,3,0,8,38,7),_t(0,10,13,-6,0,21,33,3,0,8,40,7),_t(0,10,14,-6,0,22,35,3,0,8,42,7),_t(0,11,14,-7,0,23,36,3,0,9,44,8),_t(0,11,15,-7,0,24,38,3,0,9,46,8)],FM={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},VM={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function E1(t){return`${Math.round(t)}ms`}function ZM(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function YM(t){const e={...FM,...t.easing},n={...VM,...t.duration};return{getAutoHeightDuration:ZM,create:(i=["all"],o={})=>{const{duration:u=n.standard,easing:d=e.easeInOut,delay:f=0,...h}=o;return(Array.isArray(i)?i:[i]).map(m=>`${m} ${typeof u=="string"?u:E1(u)} ${d} ${typeof f=="string"?f:E1(f)}`).join(",")},...t,easing:e,duration:n}}const KM={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function XM(t){return Ir(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function RT(t={}){const e={...t};function n(r){const i=Object.entries(r);for(let o=0;o<i.length;o++){const[u,d]=i[o];!XM(d)||u.startsWith("unstable_")?delete r[u]:Ir(d)&&(r[u]={...d},n(r[u]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function gg(t={},...e){const{breakpoints:n,mixins:r={},spacing:i,palette:o={},transitions:u={},typography:d={},shape:f,...h}=t;if(t.vars&&t.generateThemeVars===void 0)throw new Error(da(20));const m=dy(o),b=Ud(t);let y=en(b,{mixins:DM(b.breakpoints,r),palette:m,shadows:GM.slice(),typography:zM(m,d),transitions:YM(u),zIndex:{...KM}});return y=en(y,h),y=e.reduce((_,v)=>en(_,v),y),y.unstable_sxConfig={...nu,...h==null?void 0:h.unstable_sxConfig},y.unstable_sx=function(v){return Li({sx:v,theme:this})},y.toRuntimeSource=RT,y}function yg(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const QM=[...Array(25)].map((t,e)=>{if(e===0)return"none";const n=yg(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function OT(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function CT(t){return t==="dark"?QM:[]}function WM(t){const{palette:e={mode:"light"},opacity:n,overlays:r,...i}=t,o=dy(e);return{palette:o,opacity:{...OT(o.mode),...n},overlays:r||CT(o.mode),...i}}function JM(t){var e;return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!((e=t[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const e4=t=>[...[...Array(25)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],t4=t=>(e,n)=>{const r=t.rootSelector||":root",i=t.colorSchemeSelector;let o=i;if(i==="class"&&(o=".%s"),i==="data"&&(o="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(o=`[${i}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const u={};return e4(t.cssVarPrefix).forEach(d=>{u[d]=n[d],delete n[d]}),o==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:u}}:o?{[o.replace("%s",e)]:u,[`${r}, ${o.replace("%s",e)}`]:n}:{[r]:{...n,...u}}}if(o&&o!=="media")return`${r}, ${o.replace("%s",String(e))}`}else if(e){if(o==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:n}};if(o)return o.replace("%s",String(e))}return r};function n4(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function te(t,e,n){!t[e]&&n&&(t[e]=n)}function bl(t){return typeof t!="string"||!t.startsWith("hsl")?t:ET(t)}function aa(t,e){`${e}Channel`in t||(t[`${e}Channel`]=yl(bl(t[e])))}function r4(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const Or=t=>{try{return t()}catch{}},a4=(t="mui")=>bM(t);function Um(t,e,n,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!n){t[r]=WM({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:o,...u}=gg({...n,palette:{mode:i,...e==null?void 0:e.palette}});return t[r]={...e,palette:o,opacity:{...OT(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||CT(i)},u}function i4(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:o="mui",shouldSkipGeneratingVar:u=JM,colorSchemeSelector:d=n.light&&n.dark?"media":void 0,rootSelector:f=":root",...h}=t,m=Object.keys(n)[0],b=r||(n.light&&m!=="light"?"light":m),y=a4(o),{[b]:_,light:v,dark:w,...E}=n,x={...E};let N=_;if((b==="dark"&&!("dark"in n)||b==="light"&&!("light"in n))&&(N=!0),!N)throw new Error(da(21,b));const T=Um(x,N,h,b);v&&!x.light&&Um(x,v,void 0,"light"),w&&!x.dark&&Um(x,w,void 0,"dark");let A={defaultColorScheme:b,...T,cssVarPrefix:o,colorSchemeSelector:d,rootSelector:f,getCssVar:y,colorSchemes:x,font:{...LM(T.typography),...T.font},spacing:r4(h.spacing)};Object.keys(A.colorSchemes).forEach(ie=>{const C=A.colorSchemes[ie].palette,X=ee=>{const se=ee.split("-"),V=se[1],L=se[2];return y(ee,C[V][L])};if(C.mode==="light"&&(te(C.common,"background","#fff"),te(C.common,"onBackground","#000")),C.mode==="dark"&&(te(C.common,"background","#000"),te(C.common,"onBackground","#fff")),n4(C,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),C.mode==="light"){te(C.Alert,"errorColor",lt(C.error.light,.6)),te(C.Alert,"infoColor",lt(C.info.light,.6)),te(C.Alert,"successColor",lt(C.success.light,.6)),te(C.Alert,"warningColor",lt(C.warning.light,.6)),te(C.Alert,"errorFilledBg",X("palette-error-main")),te(C.Alert,"infoFilledBg",X("palette-info-main")),te(C.Alert,"successFilledBg",X("palette-success-main")),te(C.Alert,"warningFilledBg",X("palette-warning-main")),te(C.Alert,"errorFilledColor",Or(()=>C.getContrastText(C.error.main))),te(C.Alert,"infoFilledColor",Or(()=>C.getContrastText(C.info.main))),te(C.Alert,"successFilledColor",Or(()=>C.getContrastText(C.success.main))),te(C.Alert,"warningFilledColor",Or(()=>C.getContrastText(C.warning.main))),te(C.Alert,"errorStandardBg",ut(C.error.light,.9)),te(C.Alert,"infoStandardBg",ut(C.info.light,.9)),te(C.Alert,"successStandardBg",ut(C.success.light,.9)),te(C.Alert,"warningStandardBg",ut(C.warning.light,.9)),te(C.Alert,"errorIconColor",X("palette-error-main")),te(C.Alert,"infoIconColor",X("palette-info-main")),te(C.Alert,"successIconColor",X("palette-success-main")),te(C.Alert,"warningIconColor",X("palette-warning-main")),te(C.AppBar,"defaultBg",X("palette-grey-100")),te(C.Avatar,"defaultBg",X("palette-grey-400")),te(C.Button,"inheritContainedBg",X("palette-grey-300")),te(C.Button,"inheritContainedHoverBg",X("palette-grey-A100")),te(C.Chip,"defaultBorder",X("palette-grey-400")),te(C.Chip,"defaultAvatarColor",X("palette-grey-700")),te(C.Chip,"defaultIconColor",X("palette-grey-700")),te(C.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),te(C.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),te(C.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),te(C.LinearProgress,"primaryBg",ut(C.primary.main,.62)),te(C.LinearProgress,"secondaryBg",ut(C.secondary.main,.62)),te(C.LinearProgress,"errorBg",ut(C.error.main,.62)),te(C.LinearProgress,"infoBg",ut(C.info.main,.62)),te(C.LinearProgress,"successBg",ut(C.success.main,.62)),te(C.LinearProgress,"warningBg",ut(C.warning.main,.62)),te(C.Skeleton,"bg",`rgba(${X("palette-text-primaryChannel")} / 0.11)`),te(C.Slider,"primaryTrack",ut(C.primary.main,.62)),te(C.Slider,"secondaryTrack",ut(C.secondary.main,.62)),te(C.Slider,"errorTrack",ut(C.error.main,.62)),te(C.Slider,"infoTrack",ut(C.info.main,.62)),te(C.Slider,"successTrack",ut(C.success.main,.62)),te(C.Slider,"warningTrack",ut(C.warning.main,.62));const ee=Oc(C.background.default,.8);te(C.SnackbarContent,"bg",ee),te(C.SnackbarContent,"color",Or(()=>C.getContrastText(ee))),te(C.SpeedDialAction,"fabHoverBg",Oc(C.background.paper,.15)),te(C.StepConnector,"border",X("palette-grey-400")),te(C.StepContent,"border",X("palette-grey-400")),te(C.Switch,"defaultColor",X("palette-common-white")),te(C.Switch,"defaultDisabledColor",X("palette-grey-100")),te(C.Switch,"primaryDisabledColor",ut(C.primary.main,.62)),te(C.Switch,"secondaryDisabledColor",ut(C.secondary.main,.62)),te(C.Switch,"errorDisabledColor",ut(C.error.main,.62)),te(C.Switch,"infoDisabledColor",ut(C.info.main,.62)),te(C.Switch,"successDisabledColor",ut(C.success.main,.62)),te(C.Switch,"warningDisabledColor",ut(C.warning.main,.62)),te(C.TableCell,"border",ut(Rc(C.divider,1),.88)),te(C.Tooltip,"bg",Rc(C.grey[700],.92))}if(C.mode==="dark"){te(C.Alert,"errorColor",ut(C.error.light,.6)),te(C.Alert,"infoColor",ut(C.info.light,.6)),te(C.Alert,"successColor",ut(C.success.light,.6)),te(C.Alert,"warningColor",ut(C.warning.light,.6)),te(C.Alert,"errorFilledBg",X("palette-error-dark")),te(C.Alert,"infoFilledBg",X("palette-info-dark")),te(C.Alert,"successFilledBg",X("palette-success-dark")),te(C.Alert,"warningFilledBg",X("palette-warning-dark")),te(C.Alert,"errorFilledColor",Or(()=>C.getContrastText(C.error.dark))),te(C.Alert,"infoFilledColor",Or(()=>C.getContrastText(C.info.dark))),te(C.Alert,"successFilledColor",Or(()=>C.getContrastText(C.success.dark))),te(C.Alert,"warningFilledColor",Or(()=>C.getContrastText(C.warning.dark))),te(C.Alert,"errorStandardBg",lt(C.error.light,.9)),te(C.Alert,"infoStandardBg",lt(C.info.light,.9)),te(C.Alert,"successStandardBg",lt(C.success.light,.9)),te(C.Alert,"warningStandardBg",lt(C.warning.light,.9)),te(C.Alert,"errorIconColor",X("palette-error-main")),te(C.Alert,"infoIconColor",X("palette-info-main")),te(C.Alert,"successIconColor",X("palette-success-main")),te(C.Alert,"warningIconColor",X("palette-warning-main")),te(C.AppBar,"defaultBg",X("palette-grey-900")),te(C.AppBar,"darkBg",X("palette-background-paper")),te(C.AppBar,"darkColor",X("palette-text-primary")),te(C.Avatar,"defaultBg",X("palette-grey-600")),te(C.Button,"inheritContainedBg",X("palette-grey-800")),te(C.Button,"inheritContainedHoverBg",X("palette-grey-700")),te(C.Chip,"defaultBorder",X("palette-grey-700")),te(C.Chip,"defaultAvatarColor",X("palette-grey-300")),te(C.Chip,"defaultIconColor",X("palette-grey-300")),te(C.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),te(C.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),te(C.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),te(C.LinearProgress,"primaryBg",lt(C.primary.main,.5)),te(C.LinearProgress,"secondaryBg",lt(C.secondary.main,.5)),te(C.LinearProgress,"errorBg",lt(C.error.main,.5)),te(C.LinearProgress,"infoBg",lt(C.info.main,.5)),te(C.LinearProgress,"successBg",lt(C.success.main,.5)),te(C.LinearProgress,"warningBg",lt(C.warning.main,.5)),te(C.Skeleton,"bg",`rgba(${X("palette-text-primaryChannel")} / 0.13)`),te(C.Slider,"primaryTrack",lt(C.primary.main,.5)),te(C.Slider,"secondaryTrack",lt(C.secondary.main,.5)),te(C.Slider,"errorTrack",lt(C.error.main,.5)),te(C.Slider,"infoTrack",lt(C.info.main,.5)),te(C.Slider,"successTrack",lt(C.success.main,.5)),te(C.Slider,"warningTrack",lt(C.warning.main,.5));const ee=Oc(C.background.default,.98);te(C.SnackbarContent,"bg",ee),te(C.SnackbarContent,"color",Or(()=>C.getContrastText(ee))),te(C.SpeedDialAction,"fabHoverBg",Oc(C.background.paper,.15)),te(C.StepConnector,"border",X("palette-grey-600")),te(C.StepContent,"border",X("palette-grey-600")),te(C.Switch,"defaultColor",X("palette-grey-300")),te(C.Switch,"defaultDisabledColor",X("palette-grey-600")),te(C.Switch,"primaryDisabledColor",lt(C.primary.main,.55)),te(C.Switch,"secondaryDisabledColor",lt(C.secondary.main,.55)),te(C.Switch,"errorDisabledColor",lt(C.error.main,.55)),te(C.Switch,"infoDisabledColor",lt(C.info.main,.55)),te(C.Switch,"successDisabledColor",lt(C.success.main,.55)),te(C.Switch,"warningDisabledColor",lt(C.warning.main,.55)),te(C.TableCell,"border",lt(Rc(C.divider,1),.68)),te(C.Tooltip,"bg",Rc(C.grey[700],.92))}aa(C.background,"default"),aa(C.background,"paper"),aa(C.common,"background"),aa(C.common,"onBackground"),aa(C,"divider"),Object.keys(C).forEach(ee=>{const se=C[ee];ee!=="tonalOffset"&&se&&typeof se=="object"&&(se.main&&te(C[ee],"mainChannel",yl(bl(se.main))),se.light&&te(C[ee],"lightChannel",yl(bl(se.light))),se.dark&&te(C[ee],"darkChannel",yl(bl(se.dark))),se.contrastText&&te(C[ee],"contrastTextChannel",yl(bl(se.contrastText))),ee==="text"&&(aa(C[ee],"primary"),aa(C[ee],"secondary")),ee==="action"&&(se.active&&aa(C[ee],"active"),se.selected&&aa(C[ee],"selected")))})}),A=e.reduce((ie,C)=>en(ie,C),A);const R={prefix:o,disableCssColorScheme:i,shouldSkipGeneratingVar:u,getSelector:t4(A)},{vars:M,generateThemeVars:H,generateStyleSheets:U}=wM(A,R);return A.vars=M,Object.entries(A.colorSchemes[A.defaultColorScheme]).forEach(([ie,C])=>{A[ie]=C}),A.generateThemeVars=H,A.generateStyleSheets=U,A.generateSpacing=function(){return yT(h.spacing,jd(this))},A.getColorSchemeSelector=SM(d),A.spacing=A.generateSpacing(),A.shouldSkipGeneratingVar=u,A.unstable_sxConfig={...nu,...h==null?void 0:h.unstable_sxConfig},A.unstable_sx=function(C){return Li({sx:C,theme:this})},A.toRuntimeSource=RT,A}function T1(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:dy({...n===!0?{}:n.palette,mode:e})})}function AT(t={},...e){const{palette:n,cssVariables:r=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:o=n==null?void 0:n.mode,...u}=t,d=o||"light",f=i==null?void 0:i[d],h={...i,...n?{[d]:{...typeof f!="boolean"&&f,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in t))return gg(t,...e);let m=n;"palette"in t||h[d]&&(h[d]!==!0?m=h[d].palette:d==="dark"&&(m={mode:"dark"}));const b=gg({...t,palette:m},...e);return b.defaultColorScheme=d,b.colorSchemes=h,b.palette.mode==="light"&&(b.colorSchemes.light={...h.light!==!0&&h.light,palette:b.palette},T1(b,"dark",h.dark)),b.palette.mode==="dark"&&(b.colorSchemes.dark={...h.dark!==!0&&h.dark,palette:b.palette},T1(b,"light",h.light)),b}return!n&&!("light"in h)&&d==="light"&&(h.light=!0),i4({...u,colorSchemes:h,defaultColorScheme:d,...typeof r!="boolean"&&r},...e)}const fy=AT();function hy(){const t=zd(fy);return t[Rd]||t}function NT(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Dr=t=>NT(t)&&t!=="classes",Ee=ST({themeId:Rd,defaultTheme:fy,rootShouldForwardProp:Dr});function x1(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function s4(t){return J.jsx(V$,{...t,defaultTheme:fy,themeId:Rd})}function py(t){return function(n){return J.jsx(s4,{styles:typeof t=="function"?r=>t({theme:r,...n}):t})}}function o4(){return oy}const Ct=yM;function yt(t){return gM(t)}function l4(t){return pt("MuiSvgIcon",t)}mt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const u4=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${qe(e)}`,`fontSize${qe(n)}`]};return gt(i,l4,r)},c4=Ee("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${qe(n.color)}`],e[`fontSize${qe(n.fontSize)}`]]}})(Ct(({theme:t})=>{var e,n,r,i,o,u,d,f,h,m,b,y,_,v;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(e=t.transitions)==null?void 0:e.create)==null?void 0:i.call(e,"fill",{duration:(r=(n=(t.vars??t).transitions)==null?void 0:n.duration)==null?void 0:r.shorter}),variants:[{props:w=>!w.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((u=(o=t.typography)==null?void 0:o.pxToRem)==null?void 0:u.call(o,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((f=(d=t.typography)==null?void 0:d.pxToRem)==null?void 0:f.call(d,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((m=(h=t.typography)==null?void 0:h.pxToRem)==null?void 0:m.call(h,35))||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,w])=>w&&w.main).map(([w])=>{var E,x;return{props:{color:w},style:{color:(x=(E=(t.vars??t).palette)==null?void 0:E[w])==null?void 0:x.main}}}),{props:{color:"action"},style:{color:(y=(b=(t.vars??t).palette)==null?void 0:b.action)==null?void 0:y.active}},{props:{color:"disabled"},style:{color:(v=(_=(t.vars??t).palette)==null?void 0:_.action)==null?void 0:v.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),bg=$.forwardRef(function(e,n){const r=yt({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:u="inherit",component:d="svg",fontSize:f="medium",htmlColor:h,inheritViewBox:m=!1,titleAccess:b,viewBox:y="0 0 24 24",..._}=r,v=$.isValidElement(i)&&i.type==="svg",w={...r,color:u,component:d,fontSize:f,instanceFontSize:e.fontSize,inheritViewBox:m,viewBox:y,hasSvgAsChild:v},E={};m||(E.viewBox=y);const x=u4(w);return J.jsxs(c4,{as:d,className:Le(x.root,o),focusable:"false",color:h,"aria-hidden":b?void 0:!0,role:b?"img":void 0,ref:n,...E,..._,...v&&i.props,ownerState:w,children:[v?i.props.children:i,b?J.jsx("title",{children:b}):null]})});bg.muiName="SvgIcon";function Hd(t,e){function n(r,i){return J.jsx(bg,{"data-testid":void 0,ref:i,...r,children:t})}return n.muiName=bg.muiName,$.memo($.forwardRef(n))}function kT(t,e=166){let n;function r(...i){const o=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(o,e)}return r.clear=()=>{clearTimeout(n)},r}function br(t){return t&&t.ownerDocument||document}function fa(t){return br(t).defaultView||window}function R1(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let O1=0;function d4(t){const[e,n]=$.useState(t),r=t||e;return $.useEffect(()=>{e==null&&(O1+=1,n(`mui-${O1}`))},[e]),r}const f4={...qm},C1=f4.useId;function my(t){if(C1!==void 0){const e=C1();return t??e}return d4(t)}function A1(t){const{controlled:e,default:n,name:r,state:i="value"}=t,{current:o}=$.useRef(e!==void 0),[u,d]=$.useState(n),f=o?e:u,h=$.useCallback(m=>{o||d(m)},[]);return[f,h]}function ki(t){const e=$.useRef(t);return Di(()=>{e.current=t}),$.useRef((...n)=>(0,e.current)(...n)).current}function Nn(...t){const e=$.useRef(void 0),n=$.useCallback(r=>{const i=t.map(o=>{if(o==null)return null;if(typeof o=="function"){const u=o,d=u(r);return typeof d=="function"?d:()=>{u(null)}}return o.current=r,()=>{o.current=null}});return()=>{i.forEach(o=>o==null?void 0:o())}},t);return $.useMemo(()=>t.every(r=>r==null)?null:r=>{e.current&&(e.current(),e.current=void 0),r!=null&&(e.current=n(r))},t)}function h4(t,e){const n=t.charCodeAt(2);return t[0]==="o"&&t[1]==="n"&&n>=65&&n<=90&&typeof e=="function"}function p4(t,e){if(!t)return e;function n(u,d){const f={};return Object.keys(d).forEach(h=>{h4(h,d[h])&&typeof u[h]=="function"&&(f[h]=(...m)=>{u[h](...m),d[h](...m)})}),f}if(typeof t=="function"||typeof e=="function")return u=>{const d=typeof e=="function"?e(u):e,f=typeof t=="function"?t({...u,...d}):t,h=Le(u==null?void 0:u.className,d==null?void 0:d.className,f==null?void 0:f.className),m=n(f,d);return{...d,...f,...m,...!!h&&{className:h},...(d==null?void 0:d.style)&&(f==null?void 0:f.style)&&{style:{...d.style,...f.style}},...(d==null?void 0:d.sx)&&(f==null?void 0:f.sx)&&{sx:[...Array.isArray(d.sx)?d.sx:[d.sx],...Array.isArray(f.sx)?f.sx:[f.sx]]}}};const r=e,i=n(t,r),o=Le(r==null?void 0:r.className,t==null?void 0:t.className);return{...e,...t,...i,...!!o&&{className:o},...(r==null?void 0:r.style)&&(t==null?void 0:t.style)&&{style:{...r.style,...t.style}},...(r==null?void 0:r.sx)&&(t==null?void 0:t.sx)&&{sx:[...Array.isArray(r.sx)?r.sx:[r.sx],...Array.isArray(t.sx)?t.sx:[t.sx]]}}}function IT(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function vg(t,e){return vg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},vg(t,e)}function jT(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,vg(t,e)}var $T=J1();const Cc=ri($T),N1={disabled:!1},ud=jr.createContext(null);var m4=function(e){return e.scrollTop},vl="unmounted",Ei="exited",Ti="entering",js="entered",_g="exiting",Ur=function(t){jT(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var u=i,d=u&&!u.isMounting?r.enter:r.appear,f;return o.appearStatus=null,r.in?d?(f=Ei,o.appearStatus=Ti):f=js:r.unmountOnExit||r.mountOnEnter?f=vl:f=Ei,o.state={status:f},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var u=i.in;return u&&o.status===vl?{status:Ei}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var u=this.state.status;this.props.in?u!==Ti&&u!==js&&(o=Ti):(u===Ti||u===js)&&(o=_g)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,u,d;return o=u=d=i,i!=null&&typeof i!="number"&&(o=i.exit,u=i.enter,d=i.appear!==void 0?i.appear:u),{exit:o,enter:u,appear:d}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===Ti){if(this.props.unmountOnExit||this.props.mountOnEnter){var u=this.props.nodeRef?this.props.nodeRef.current:Cc.findDOMNode(this);u&&m4(u)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ei&&this.setState({status:vl})},n.performEnter=function(i){var o=this,u=this.props.enter,d=this.context?this.context.isMounting:i,f=this.props.nodeRef?[d]:[Cc.findDOMNode(this),d],h=f[0],m=f[1],b=this.getTimeouts(),y=d?b.appear:b.enter;if(!i&&!u||N1.disabled){this.safeSetState({status:js},function(){o.props.onEntered(h)});return}this.props.onEnter(h,m),this.safeSetState({status:Ti},function(){o.props.onEntering(h,m),o.onTransitionEnd(y,function(){o.safeSetState({status:js},function(){o.props.onEntered(h,m)})})})},n.performExit=function(){var i=this,o=this.props.exit,u=this.getTimeouts(),d=this.props.nodeRef?void 0:Cc.findDOMNode(this);if(!o||N1.disabled){this.safeSetState({status:Ei},function(){i.props.onExited(d)});return}this.props.onExit(d),this.safeSetState({status:_g},function(){i.props.onExiting(d),i.onTransitionEnd(u.exit,function(){i.safeSetState({status:Ei},function(){i.props.onExited(d)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,u=!0;return this.nextCallback=function(d){u&&(u=!1,o.nextCallback=null,i(d))},this.nextCallback.cancel=function(){u=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var u=this.props.nodeRef?this.props.nodeRef.current:Cc.findDOMNode(this),d=i==null&&!this.props.addEndListener;if(!u||d){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var f=this.props.nodeRef?[this.nextCallback]:[u,this.nextCallback],h=f[0],m=f[1];this.props.addEndListener(h,m)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===vl)return null;var o=this.props,u=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var d=IT(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return jr.createElement(ud.Provider,{value:null},typeof u=="function"?u(i,d):jr.cloneElement(jr.Children.only(u),d))},e}(jr.Component);Ur.contextType=ud;Ur.propTypes={};function ks(){}Ur.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ks,onEntering:ks,onEntered:ks,onExit:ks,onExiting:ks,onExited:ks};Ur.UNMOUNTED=vl;Ur.EXITED=Ei;Ur.ENTERING=Ti;Ur.ENTERED=js;Ur.EXITING=_g;function g4(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gy(t,e){var n=function(o){return e&&$.isValidElement(o)?e(o):o},r=Object.create(null);return t&&$.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function y4(t,e){t=t||{},e=e||{};function n(m){return m in e?e[m]:t[m]}var r=Object.create(null),i=[];for(var o in t)o in e?i.length&&(r[o]=i,i=[]):i.push(o);var u,d={};for(var f in e){if(r[f])for(u=0;u<r[f].length;u++){var h=r[f][u];d[r[f][u]]=n(h)}d[f]=n(f)}for(u=0;u<i.length;u++)d[i[u]]=n(i[u]);return d}function Ci(t,e,n){return n[e]!=null?n[e]:t.props[e]}function b4(t,e){return gy(t.children,function(n){return $.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:Ci(n,"appear",t),enter:Ci(n,"enter",t),exit:Ci(n,"exit",t)})})}function v4(t,e,n){var r=gy(t.children),i=y4(e,r);return Object.keys(i).forEach(function(o){var u=i[o];if($.isValidElement(u)){var d=o in e,f=o in r,h=e[o],m=$.isValidElement(h)&&!h.props.in;f&&(!d||m)?i[o]=$.cloneElement(u,{onExited:n.bind(null,u),in:!0,exit:Ci(u,"exit",t),enter:Ci(u,"enter",t)}):!f&&d&&!m?i[o]=$.cloneElement(u,{in:!1}):f&&d&&$.isValidElement(h)&&(i[o]=$.cloneElement(u,{onExited:n.bind(null,u),in:h.props.in,exit:Ci(u,"exit",t),enter:Ci(u,"enter",t)}))}}),i}var _4=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},w4={component:"div",childFactory:function(e){return e}},yy=function(t){jT(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var u=o.handleExited.bind(g4(o));return o.state={contextValue:{isMounting:!0},handleExited:u,firstRender:!0},o}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,o){var u=o.children,d=o.handleExited,f=o.firstRender;return{children:f?b4(i,d):v4(i,u,d),firstRender:!1}},n.handleExited=function(i,o){var u=gy(this.props.children);i.key in u||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(d){var f=id({},d.children);return delete f[i.key],{children:f}}))},n.render=function(){var i=this.props,o=i.component,u=i.childFactory,d=IT(i,["component","childFactory"]),f=this.state.contextValue,h=_4(this.state.children).map(u);return delete d.appear,delete d.enter,delete d.exit,o===null?jr.createElement(ud.Provider,{value:f},h):jr.createElement(ud.Provider,{value:f},jr.createElement(o,d,h))},e}(jr.Component);yy.propTypes={};yy.defaultProps=w4;const k1={};function MT(t,e){const n=$.useRef(k1);return n.current===k1&&(n.current=t(e)),n}const S4=[];function E4(t){$.useEffect(t,S4)}class by{constructor(){Jn(this,"currentId",null);Jn(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});Jn(this,"disposeEffect",()=>this.clear)}static create(){return new by}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function PT(){const t=MT(by.create).current;return E4(t.disposeEffect),t}const LT=t=>t.scrollTop;function cd(t,e){const{timeout:n,easing:r,style:i={}}=t;return{duration:i.transitionDuration??(typeof n=="number"?n:n[e.mode]||0),easing:i.transitionTimingFunction??(typeof r=="object"?r[e.mode]:r),delay:i.transitionDelay}}function T4(t){return pt("MuiPaper",t)}mt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const x4=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,o={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return gt(o,T4,i)},R4=Ee("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(Ct(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(t.vars||t).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),O4=$.forwardRef(function(e,n){var _;const r=yt({props:e,name:"MuiPaper"}),i=hy(),{className:o,component:u="div",elevation:d=1,square:f=!1,variant:h="elevation",...m}=r,b={...r,component:u,elevation:d,square:f,variant:h},y=x4(b);return J.jsx(R4,{as:u,ownerState:b,className:Le(y.root,o),ref:n,...m,style:{...h==="elevation"&&{"--Paper-shadow":(i.vars||i).shadows[d],...i.vars&&{"--Paper-overlay":(_=i.vars.overlays)==null?void 0:_[d]},...!i.vars&&i.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${Hl("#fff",yg(d))}, ${Hl("#fff",yg(d))})`}},...m.style}})});function C4(t){return typeof t=="string"}function DT(t,e,n){return t===void 0||C4(t)?e:{...e,ownerState:{...e.ownerState,...n}}}function UT(t,e,n){return typeof t=="function"?t(e,n):t}function zT(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function I1(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function BT(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=t;if(!e){const _=Le(n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),v={...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},w={...n,...i,...r};return _.length>0&&(w.className=_),Object.keys(v).length>0&&(w.style=v),{props:w,internalRef:void 0}}const u=zT({...i,...r}),d=I1(r),f=I1(i),h=e(u),m=Le(h==null?void 0:h.className,n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),b={...h==null?void 0:h.style,...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},y={...h,...n,...f,...d};return m.length>0&&(y.className=m),Object.keys(b).length>0&&(y.style=b),{props:y,internalRef:h.ref}}function Ft(t,e){const{className:n,elementType:r,ownerState:i,externalForwardedProps:o,internalForwardedProps:u,shouldForwardComponentProp:d=!1,...f}=e,{component:h,slots:m={[t]:void 0},slotProps:b={[t]:void 0},...y}=o,_=m[t]||r,v=UT(b[t],i),{props:{component:w,...E},internalRef:x}=BT({className:n,...f,externalForwardedProps:t==="root"?y:void 0,externalSlotProps:v}),N=Nn(x,v==null?void 0:v.ref,e.ref),T=t==="root"?w||h:w,A=DT(_,{...t==="root"&&!h&&!m[t]&&u,...t!=="root"&&!m[t]&&u,...E,...T&&!d&&{as:T},...T&&d&&{component:T},ref:N},i);return[_,A]}function j1(t){try{return t.matches(":focus-visible")}catch{}return!1}class dd{constructor(){Jn(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new dd}static use(){const e=MT(dd.create).current,[n,r]=$.useState(!1);return e.shouldMount=n,e.setShouldMount=r,$.useEffect(e.mountEffect,[n]),e}mount(){return this.mounted||(this.mounted=N4(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.start(...e)})}stop(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.stop(...e)})}pulsate(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.pulsate(...e)})}}function A4(){return dd.use()}function N4(){let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n}function k4(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:o,rippleSize:u,in:d,onExited:f,timeout:h}=t,[m,b]=$.useState(!1),y=Le(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),_={width:u,height:u,top:-(u/2)+o,left:-(u/2)+i},v=Le(n.child,m&&n.childLeaving,r&&n.childPulsate);return!d&&!m&&b(!0),$.useEffect(()=>{if(!d&&f!=null){const w=setTimeout(f,h);return()=>{clearTimeout(w)}}},[f,d,h]),J.jsx("span",{className:y,style:_,children:J.jsx("span",{className:v})})}const tr=mt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),wg=550,I4=80,j4=eu`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,$4=eu`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,M4=eu`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,P4=Ee("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),L4=Ee(k4,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${tr.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${j4};
    animation-duration: ${wg}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  &.${tr.ripplePulsate} {
    animation-duration: ${({theme:t})=>t.transitions.duration.shorter}ms;
  }

  & .${tr.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${tr.childLeaving} {
    opacity: 0;
    animation-name: ${$4};
    animation-duration: ${wg}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  & .${tr.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${M4};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,D4=$.forwardRef(function(e,n){const r=yt({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:u,...d}=r,[f,h]=$.useState([]),m=$.useRef(0),b=$.useRef(null);$.useEffect(()=>{b.current&&(b.current(),b.current=null)},[f]);const y=$.useRef(!1),_=PT(),v=$.useRef(null),w=$.useRef(null),E=$.useCallback(A=>{const{pulsate:R,rippleX:M,rippleY:H,rippleSize:U,cb:ie}=A;h(C=>[...C,J.jsx(L4,{classes:{ripple:Le(o.ripple,tr.ripple),rippleVisible:Le(o.rippleVisible,tr.rippleVisible),ripplePulsate:Le(o.ripplePulsate,tr.ripplePulsate),child:Le(o.child,tr.child),childLeaving:Le(o.childLeaving,tr.childLeaving),childPulsate:Le(o.childPulsate,tr.childPulsate)},timeout:wg,pulsate:R,rippleX:M,rippleY:H,rippleSize:U},m.current)]),m.current+=1,b.current=ie},[o]),x=$.useCallback((A={},R={},M=()=>{})=>{const{pulsate:H=!1,center:U=i||R.pulsate,fakeElement:ie=!1}=R;if((A==null?void 0:A.type)==="mousedown"&&y.current){y.current=!1;return}(A==null?void 0:A.type)==="touchstart"&&(y.current=!0);const C=ie?null:w.current,X=C?C.getBoundingClientRect():{width:0,height:0,left:0,top:0};let ee,se,V;if(U||A===void 0||A.clientX===0&&A.clientY===0||!A.clientX&&!A.touches)ee=Math.round(X.width/2),se=Math.round(X.height/2);else{const{clientX:L,clientY:I}=A.touches&&A.touches.length>0?A.touches[0]:A;ee=Math.round(L-X.left),se=Math.round(I-X.top)}if(U)V=Math.sqrt((2*X.width**2+X.height**2)/3),V%2===0&&(V+=1);else{const L=Math.max(Math.abs((C?C.clientWidth:0)-ee),ee)*2+2,I=Math.max(Math.abs((C?C.clientHeight:0)-se),se)*2+2;V=Math.sqrt(L**2+I**2)}A!=null&&A.touches?v.current===null&&(v.current=()=>{E({pulsate:H,rippleX:ee,rippleY:se,rippleSize:V,cb:M})},_.start(I4,()=>{v.current&&(v.current(),v.current=null)})):E({pulsate:H,rippleX:ee,rippleY:se,rippleSize:V,cb:M})},[i,E,_]),N=$.useCallback(()=>{x({},{pulsate:!0})},[x]),T=$.useCallback((A,R)=>{if(_.clear(),(A==null?void 0:A.type)==="touchend"&&v.current){v.current(),v.current=null,_.start(0,()=>{T(A,R)});return}v.current=null,h(M=>M.length>0?M.slice(1):M),b.current=R},[_]);return $.useImperativeHandle(n,()=>({pulsate:N,start:x,stop:T}),[N,x,T]),J.jsx(P4,{className:Le(tr.root,o.root,u),ref:w,...d,children:J.jsx(yy,{component:null,exit:!0,children:f})})});function U4(t){return pt("MuiButtonBase",t)}const z4=mt("MuiButtonBase",["root","disabled","focusVisible"]),B4=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,u=gt({root:["root",e&&"disabled",n&&"focusVisible"]},U4,i);return n&&r&&(u.root+=` ${r}`),u},H4=Ee("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${z4.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),q4=$.forwardRef(function(e,n){const r=yt({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:u,className:d,component:f="button",disabled:h=!1,disableRipple:m=!1,disableTouchRipple:b=!1,focusRipple:y=!1,focusVisibleClassName:_,LinkComponent:v="a",onBlur:w,onClick:E,onContextMenu:x,onDragLeave:N,onFocus:T,onFocusVisible:A,onKeyDown:R,onKeyUp:M,onMouseDown:H,onMouseLeave:U,onMouseUp:ie,onTouchEnd:C,onTouchMove:X,onTouchStart:ee,tabIndex:se=0,TouchRippleProps:V,touchRippleRef:L,type:I,...D}=r,Y=$.useRef(null),B=A4(),k=Nn(B.ref,L),[q,Q]=$.useState(!1);h&&q&&Q(!1),$.useImperativeHandle(i,()=>({focusVisible:()=>{Q(!0),Y.current.focus()}}),[]);const W=B.shouldMount&&!m&&!h;$.useEffect(()=>{q&&y&&!m&&B.pulsate()},[m,y,q,B]);const oe=ia(B,"start",H,b),ce=ia(B,"stop",x,b),de=ia(B,"stop",N,b),ge=ia(B,"stop",ie,b),Te=ia(B,"stop",we=>{q&&we.preventDefault(),U&&U(we)},b),Ce=ia(B,"start",ee,b),ye=ia(B,"stop",C,b),$e=ia(B,"stop",X,b),Be=ia(B,"stop",we=>{j1(we.target)||Q(!1),w&&w(we)},!1),Et=ki(we=>{Y.current||(Y.current=we.currentTarget),j1(we.target)&&(Q(!0),A&&A(we)),T&&T(we)}),Me=()=>{const we=Y.current;return f&&f!=="button"&&!(we.tagName==="A"&&we.href)},ct=ki(we=>{y&&!we.repeat&&q&&we.key===" "&&B.stop(we,()=>{B.start(we)}),we.target===we.currentTarget&&Me()&&we.key===" "&&we.preventDefault(),R&&R(we),we.target===we.currentTarget&&Me()&&we.key==="Enter"&&!h&&(we.preventDefault(),E&&E(we))}),pn=ki(we=>{y&&we.key===" "&&q&&!we.defaultPrevented&&B.stop(we,()=>{B.pulsate(we)}),M&&M(we),E&&we.target===we.currentTarget&&Me()&&we.key===" "&&!we.defaultPrevented&&E(we)});let dt=f;dt==="button"&&(D.href||D.to)&&(dt=v);const It={};dt==="button"?(It.type=I===void 0?"button":I,It.disabled=h):(!D.href&&!D.to&&(It.role="button"),h&&(It["aria-disabled"]=h));const kn=Nn(n,Y),Vt={...r,centerRipple:o,component:f,disabled:h,disableRipple:m,disableTouchRipple:b,focusRipple:y,tabIndex:se,focusVisible:q},bt=B4(Vt);return J.jsxs(H4,{as:dt,className:Le(bt.root,d),ownerState:Vt,onBlur:Be,onClick:E,onContextMenu:ce,onFocus:Et,onKeyDown:ct,onKeyUp:pn,onMouseDown:oe,onMouseLeave:Te,onMouseUp:ge,onDragLeave:de,onTouchEnd:ye,onTouchMove:$e,onTouchStart:Ce,ref:kn,tabIndex:h?-1:se,type:I,...It,...D,children:[u,W?J.jsx(D4,{ref:k,center:o,...V}):null]})});function ia(t,e,n,r=!1){return ki(i=>(n&&n(i),r||t[e](i),!0))}function G4(t){return typeof t.main=="string"}function F4(t,e=[]){if(!G4(t))return!1;for(const n of e)if(!t.hasOwnProperty(n)||typeof t[n]!="string")return!1;return!0}function ni(t=[]){return([,e])=>e&&F4(e,t)}function V4(t){return pt("MuiCircularProgress",t)}mt("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Ha=44,Sg=eu`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,Eg=eu`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,Z4=typeof Sg!="string"?ry`
        animation: ${Sg} 1.4s linear infinite;
      `:null,Y4=typeof Eg!="string"?ry`
        animation: ${Eg} 1.4s ease-in-out infinite;
      `:null,K4=t=>{const{classes:e,variant:n,color:r,disableShrink:i}=t,o={root:["root",n,`color${qe(r)}`],svg:["svg"],circle:["circle",`circle${qe(n)}`,i&&"circleDisableShrink"]};return gt(o,V4,e)},X4=Ee("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${qe(n.color)}`]]}})(Ct(({theme:t})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:Z4||{animation:`${Sg} 1.4s linear infinite`}},...Object.entries(t.palette).filter(ni()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}}))]}))),Q4=Ee("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),W4=Ee("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${qe(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(Ct(({theme:t})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:Y4||{animation:`${Eg} 1.4s ease-in-out infinite`}}]}))),J4=$.forwardRef(function(e,n){const r=yt({props:e,name:"MuiCircularProgress"}),{className:i,color:o="primary",disableShrink:u=!1,size:d=40,style:f,thickness:h=3.6,value:m=0,variant:b="indeterminate",...y}=r,_={...r,color:o,disableShrink:u,size:d,thickness:h,value:m,variant:b},v=K4(_),w={},E={},x={};if(b==="determinate"){const N=2*Math.PI*((Ha-h)/2);w.strokeDasharray=N.toFixed(3),x["aria-valuenow"]=Math.round(m),w.strokeDashoffset=`${((100-m)/100*N).toFixed(3)}px`,E.transform="rotate(-90deg)"}return J.jsx(X4,{className:Le(v.root,i),style:{width:d,height:d,...E,...f},ownerState:_,ref:n,role:"progressbar",...x,...y,children:J.jsx(Q4,{className:v.svg,ownerState:_,viewBox:`${Ha/2} ${Ha/2} ${Ha} ${Ha}`,children:J.jsx(W4,{className:v.circle,style:w,ownerState:_,cx:Ha,cy:Ha,r:(Ha-h)/2,fill:"none",strokeWidth:h})})})});function eP(t){return pt("MuiIconButton",t)}const $1=mt("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),tP=t=>{const{classes:e,disabled:n,color:r,edge:i,size:o,loading:u}=t,d={root:["root",u&&"loading",n&&"disabled",r!=="default"&&`color${qe(r)}`,i&&`edge${qe(i)}`,`size${qe(o)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return gt(d,eP,e)},nP=Ee(q4,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.loading&&e.loading,n.color!=="default"&&e[`color${qe(n.color)}`],n.edge&&e[`edge${qe(n.edge)}`],e[`size${qe(n.size)}`]]}})(Ct(({theme:t})=>({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Hl(t.palette.action.active,t.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),Ct(({theme:t})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(ni()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),...Object.entries(t.palette).filter(ni()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":t.vars?`rgba(${(t.vars||t).palette[e].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Hl((t.vars||t).palette[e].main,t.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],[`&.${$1.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled},[`&.${$1.loading}`]:{color:"transparent"}}))),rP=Ee("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(t.vars||t).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),aP=$.forwardRef(function(e,n){const r=yt({props:e,name:"MuiIconButton"}),{edge:i=!1,children:o,className:u,color:d="default",disabled:f=!1,disableFocusRipple:h=!1,size:m="medium",id:b,loading:y=null,loadingIndicator:_,...v}=r,w=my(b),E=_??J.jsx(J4,{"aria-labelledby":w,color:"inherit",size:16}),x={...r,edge:i,color:d,disabled:f,disableFocusRipple:h,loading:y,loadingIndicator:E,size:m},N=tP(x);return J.jsxs(nP,{id:y?w:b,className:Le(N.root,u),centerRipple:!0,focusRipple:!h,disabled:f||y,ref:n,...v,ownerState:x,children:[typeof y=="boolean"&&J.jsx("span",{className:N.loadingWrapper,style:{display:"contents"},children:J.jsx(rP,{className:N.loadingIndicator,ownerState:x,children:y&&E})}),o]})});function iP(t){return pt("MuiTypography",t)}mt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const sP={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},oP=o4(),lP=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:u}=t,d={root:["root",o,t.align!=="inherit"&&`align${qe(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return gt(d,iP,u)},uP=Ee("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${qe(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(Ct(({theme:t})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([n,r])=>n!=="inherit"&&r&&typeof r=="object").map(([n,r])=>({props:{variant:n},style:r})),...Object.entries(t.palette).filter(ni()).map(([n])=>({props:{color:n},style:{color:(t.vars||t).palette[n].main}})),...Object.entries(((e=t.palette)==null?void 0:e.text)||{}).filter(([,n])=>typeof n=="string").map(([n])=>({props:{color:`text${qe(n)}`},style:{color:(t.vars||t).palette.text[n]}})),{props:({ownerState:n})=>n.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:n})=>n.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:n})=>n.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:n})=>n.paragraph,style:{marginBottom:16}}]}})),M1={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},xi=$.forwardRef(function(e,n){const{color:r,...i}=yt({props:e,name:"MuiTypography"}),o=!sP[r],u=oP({...i,...o&&{color:r}}),{align:d="inherit",className:f,component:h,gutterBottom:m=!1,noWrap:b=!1,paragraph:y=!1,variant:_="body1",variantMapping:v=M1,...w}=u,E={...u,align:d,color:r,className:f,component:h,gutterBottom:m,noWrap:b,paragraph:y,variant:_,variantMapping:v},x=h||(y?"p":v[_]||M1[_])||"span",N=lP(E);return J.jsx(uP,{as:x,ref:n,className:Le(N.root,f),...w,ownerState:E,style:{...d!=="inherit"&&{"--Typography-textAlign":d},...w.style}})});function cP(t){var b;const{elementType:e,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:i=!1,...o}=t,u=i?{}:UT(n,r),{props:d,internalRef:f}=BT({...o,externalSlotProps:u}),h=Nn(f,u==null?void 0:u.ref,(b=t.additionalProps)==null?void 0:b.ref);return DT(e,{...d,ref:h},r)}function ru(t){var e;return parseInt($.version,10)>=19?((e=t==null?void 0:t.props)==null?void 0:e.ref)||null:(t==null?void 0:t.ref)||null}function dP(t){return typeof t=="function"?t():t}const fP=$.forwardRef(function(e,n){const{children:r,container:i,disablePortal:o=!1}=e,[u,d]=$.useState(null),f=Nn($.isValidElement(r)?ru(r):null,n);if(Di(()=>{o||d(dP(i)||document.body)},[i,o]),Di(()=>{if(u&&!o)return R1(n,u),()=>{R1(n,null)}},[n,u,o]),o){if($.isValidElement(r)){const h={ref:f};return $.cloneElement(r,h)}return r}return u&&$T.createPortal(r,u)});function Ac(t){return parseInt(t,10)||0}const hP={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function pP(t){for(const e in t)return!1;return!0}function P1(t){return pP(t)||t.outerHeightStyle===0&&!t.overflowing}const mP=$.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:o=1,style:u,value:d,...f}=e,{current:h}=$.useRef(d!=null),m=$.useRef(null),b=Nn(n,m),y=$.useRef(null),_=$.useRef(null),v=$.useCallback(()=>{const T=m.current,A=_.current;if(!T||!A)return;const M=fa(T).getComputedStyle(T);if(M.width==="0px")return{outerHeightStyle:0,overflowing:!1};A.style.width=M.width,A.value=T.value||e.placeholder||"x",A.value.slice(-1)===`
`&&(A.value+=" ");const H=M.boxSizing,U=Ac(M.paddingBottom)+Ac(M.paddingTop),ie=Ac(M.borderBottomWidth)+Ac(M.borderTopWidth),C=A.scrollHeight;A.value="x";const X=A.scrollHeight;let ee=C;o&&(ee=Math.max(Number(o)*X,ee)),i&&(ee=Math.min(Number(i)*X,ee)),ee=Math.max(ee,X);const se=ee+(H==="border-box"?U+ie:0),V=Math.abs(ee-C)<=1;return{outerHeightStyle:se,overflowing:V}},[i,o,e.placeholder]),w=ki(()=>{const T=m.current,A=v();if(!T||!A||P1(A))return!1;const R=A.outerHeightStyle;return y.current!=null&&y.current!==R}),E=$.useCallback(()=>{const T=m.current,A=v();if(!T||!A||P1(A))return;const R=A.outerHeightStyle;y.current!==R&&(y.current=R,T.style.height=`${R}px`),T.style.overflow=A.overflowing?"hidden":""},[v]),x=$.useRef(-1);Di(()=>{const T=kT(E),A=m==null?void 0:m.current;if(!A)return;const R=fa(A);R.addEventListener("resize",T);let M;return typeof ResizeObserver<"u"&&(M=new ResizeObserver(()=>{w()&&(M.unobserve(A),cancelAnimationFrame(x.current),E(),x.current=requestAnimationFrame(()=>{M.observe(A)}))}),M.observe(A)),()=>{T.clear(),cancelAnimationFrame(x.current),R.removeEventListener("resize",T),M&&M.disconnect()}},[v,E,w]),Di(()=>{E()});const N=T=>{h||E();const A=T.target,R=A.value.length,M=A.value.endsWith(`
`),H=A.selectionStart===R;M&&H&&A.setSelectionRange(R,R),r&&r(T)};return J.jsxs($.Fragment,{children:[J.jsx("textarea",{value:d,onChange:N,ref:b,rows:o,style:u,...f}),J.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:_,tabIndex:-1,style:{...hP.shadow,...u,paddingTop:0,paddingBottom:0}})]})});function Tg(t){return typeof t=="string"}function ro({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const vy=$.createContext(void 0);function ao(){return $.useContext(vy)}function L1(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function fd(t,e=!1){return t&&(L1(t.value)&&t.value!==""||e&&L1(t.defaultValue)&&t.defaultValue!=="")}function gP(t){return t.startAdornment}function yP(t){return pt("MuiInputBase",t)}const Xs=mt("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var D1;const qd=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${qe(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},Gd=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},bP=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:o,focused:u,formControl:d,fullWidth:f,hiddenLabel:h,multiline:m,readOnly:b,size:y,startAdornment:_,type:v}=t,w={root:["root",`color${qe(n)}`,r&&"disabled",i&&"error",f&&"fullWidth",u&&"focused",d&&"formControl",y&&y!=="medium"&&`size${qe(y)}`,m&&"multiline",_&&"adornedStart",o&&"adornedEnd",h&&"hiddenLabel",b&&"readOnly"],input:["input",r&&"disabled",v==="search"&&"inputTypeSearch",m&&"inputMultiline",y==="small"&&"inputSizeSmall",h&&"inputHiddenLabel",_&&"inputAdornedStart",o&&"inputAdornedEnd",b&&"readOnly"]};return gt(w,yP,e)},Fd=Ee("div",{name:"MuiInputBase",slot:"Root",overridesResolver:qd})(Ct(({theme:t})=>({...t.typography.body1,color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Xs.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:n})=>e.multiline&&n==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),Vd=Ee("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Gd})(Ct(({theme:t})=>{const e=t.palette.mode==="light",n={color:"currentColor",...t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})},r={opacity:"0 !important"},i=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Xs.formControl} &`]:{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${Xs.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},variants:[{props:({ownerState:o})=>!o.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:o})=>o.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),U1=py({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),_y=$.forwardRef(function(e,n){const r=yt({props:e,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:o,autoFocus:u,className:d,color:f,components:h={},componentsProps:m={},defaultValue:b,disabled:y,disableInjectingGlobalStyles:_,endAdornment:v,error:w,fullWidth:E=!1,id:x,inputComponent:N="input",inputProps:T={},inputRef:A,margin:R,maxRows:M,minRows:H,multiline:U=!1,name:ie,onBlur:C,onChange:X,onClick:ee,onFocus:se,onKeyDown:V,onKeyUp:L,placeholder:I,readOnly:D,renderSuffix:Y,rows:B,size:k,slotProps:q={},slots:Q={},startAdornment:W,type:oe="text",value:ce,...de}=r,ge=T.value!=null?T.value:ce,{current:Te}=$.useRef(ge!=null),Ce=$.useRef(),ye=$.useCallback(ft=>{},[]),$e=Nn(Ce,A,T.ref,ye),[Be,Et]=$.useState(!1),Me=ao(),ct=ro({props:r,muiFormControl:Me,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ct.focused=Me?Me.focused:Be,$.useEffect(()=>{!Me&&y&&Be&&(Et(!1),C&&C())},[Me,y,Be,C]);const pn=Me&&Me.onFilled,dt=Me&&Me.onEmpty,It=$.useCallback(ft=>{fd(ft)?pn&&pn():dt&&dt()},[pn,dt]);Di(()=>{Te&&It({value:ge})},[ge,It,Te]);const kn=ft=>{se&&se(ft),T.onFocus&&T.onFocus(ft),Me&&Me.onFocus?Me.onFocus(ft):Et(!0)},Vt=ft=>{C&&C(ft),T.onBlur&&T.onBlur(ft),Me&&Me.onBlur?Me.onBlur(ft):Et(!1)},bt=(ft,...ma)=>{if(!Te){const wr=ft.target||Ce.current;if(wr==null)throw new Error(da(1));It({value:wr.value})}T.onChange&&T.onChange(ft,...ma),X&&X(ft,...ma)};$.useEffect(()=>{It(Ce.current)},[]);const we=ft=>{Ce.current&&ft.currentTarget===ft.target&&Ce.current.focus(),ee&&ee(ft)};let sr=N,Ut=T;U&&sr==="input"&&(B?Ut={type:void 0,minRows:B,maxRows:B,...Ut}:Ut={type:void 0,maxRows:M,minRows:H,...Ut},sr=mP);const pa=ft=>{It(ft.animationName==="mui-auto-fill-cancel"?Ce.current:{value:"x"})};$.useEffect(()=>{Me&&Me.setAdornedStart(!!W)},[Me,W]);const or={...r,color:ct.color||"primary",disabled:ct.disabled,endAdornment:v,error:ct.error,focused:ct.focused,formControl:Me,fullWidth:E,hiddenLabel:ct.hiddenLabel,multiline:U,size:ct.size,startAdornment:W,type:oe},zt=bP(or),mn=Q.root||h.Root||Fd,jt=q.root||m.root||{},zr=Q.input||h.Input||Vd;return Ut={...Ut,...q.input??m.input},J.jsxs($.Fragment,{children:[!_&&typeof U1=="function"&&(D1||(D1=J.jsx(U1,{}))),J.jsxs(mn,{...jt,ref:n,onClick:we,...de,...!Tg(mn)&&{ownerState:{...or,...jt.ownerState}},className:Le(zt.root,jt.className,d,D&&"MuiInputBase-readOnly"),children:[W,J.jsx(vy.Provider,{value:null,children:J.jsx(zr,{"aria-invalid":ct.error,"aria-describedby":i,autoComplete:o,autoFocus:u,defaultValue:b,disabled:ct.disabled,id:x,onAnimationStart:pa,name:ie,placeholder:I,readOnly:D,required:ct.required,rows:B,value:ge,onKeyDown:V,onKeyUp:L,type:oe,...Ut,...!Tg(zr)&&{as:sr,ownerState:{...or,...Ut.ownerState}},ref:$e,className:Le(zt.input,Ut.className,D&&"MuiInputBase-readOnly"),onBlur:Vt,onChange:bt,onFocus:kn})}),v,Y?Y({...ct,startAdornment:W}):null]})]})});function vP(t){return pt("MuiInput",t)}const cl={...Xs,...mt("MuiInput",["root","underline","input"])};function _P(t){return pt("MuiOutlinedInput",t)}const Cr={...Xs,...mt("MuiOutlinedInput",["root","notchedOutline","input"])};function wP(t){return pt("MuiFilledInput",t)}const Si={...Xs,...mt("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},SP=Hd(J.jsx("path",{d:"M7 10l5 5 5-5z"})),EP=Hd(J.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}));function TP(t){return pt("MuiAvatar",t)}mt("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const xP=t=>{const{classes:e,variant:n,colorDefault:r}=t;return gt({root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]},TP,e)},RP=Ee("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.colorDefault&&e.colorDefault]}})(Ct(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(t.vars||t).palette.background.default,...t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:t.palette.grey[400],...t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})}}}]}))),OP=Ee("img",{name:"MuiAvatar",slot:"Img"})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),CP=Ee(EP,{name:"MuiAvatar",slot:"Fallback"})({width:"75%",height:"75%"});function AP({crossOrigin:t,referrerPolicy:e,src:n,srcSet:r}){const[i,o]=$.useState(!1);return $.useEffect(()=>{if(!n&&!r)return;o(!1);let u=!0;const d=new Image;return d.onload=()=>{u&&o("loaded")},d.onerror=()=>{u&&o("error")},d.crossOrigin=t,d.referrerPolicy=e,d.src=n,r&&(d.srcset=r),()=>{u=!1}},[t,e,n,r]),i}const NP=$.forwardRef(function(e,n){const r=yt({props:e,name:"MuiAvatar"}),{alt:i,children:o,className:u,component:d="div",slots:f={},slotProps:h={},imgProps:m,sizes:b,src:y,srcSet:_,variant:v="circular",...w}=r;let E=null;const x={...r,component:d,variant:v},N=AP({...m,...typeof h.img=="function"?h.img(x):h.img,src:y,srcSet:_}),T=y||_,A=T&&N!=="error";x.colorDefault=!A,delete x.ownerState;const R=xP(x),[M,H]=Ft("root",{ref:n,className:Le(R.root,u),elementType:RP,externalForwardedProps:{slots:f,slotProps:h,component:d,...w},ownerState:x}),[U,ie]=Ft("img",{className:R.img,elementType:OP,externalForwardedProps:{slots:f,slotProps:{img:{...m,...h.img}}},additionalProps:{alt:i,src:y,srcSet:_,sizes:b},ownerState:x}),[C,X]=Ft("fallback",{className:R.fallback,elementType:CP,externalForwardedProps:{slots:f,slotProps:h},shouldForwardComponentProp:!0,ownerState:x});return A?E=J.jsx(U,{...ie}):o||o===0?E=o:T&&i?E=i[0]:E=J.jsx(C,{...X}),J.jsx(M,{...H,children:E})}),kP={entering:{opacity:1},entered:{opacity:1}},IP=$.forwardRef(function(e,n){const r=hy(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:u=!0,children:d,easing:f,in:h,onEnter:m,onEntered:b,onEntering:y,onExit:_,onExited:v,onExiting:w,style:E,timeout:x=i,TransitionComponent:N=Ur,...T}=e,A=$.useRef(null),R=Nn(A,ru(d),n),M=V=>L=>{if(V){const I=A.current;L===void 0?V(I):V(I,L)}},H=M(y),U=M((V,L)=>{LT(V);const I=cd({style:E,timeout:x,easing:f},{mode:"enter"});V.style.webkitTransition=r.transitions.create("opacity",I),V.style.transition=r.transitions.create("opacity",I),m&&m(V,L)}),ie=M(b),C=M(w),X=M(V=>{const L=cd({style:E,timeout:x,easing:f},{mode:"exit"});V.style.webkitTransition=r.transitions.create("opacity",L),V.style.transition=r.transitions.create("opacity",L),_&&_(V)}),ee=M(v),se=V=>{o&&o(A.current,V)};return J.jsx(N,{appear:u,in:h,nodeRef:A,onEnter:U,onEntered:ie,onEntering:H,onExit:X,onExited:ee,onExiting:C,addEndListener:se,timeout:x,...T,children:(V,{ownerState:L,...I})=>$.cloneElement(d,{style:{opacity:0,visibility:V==="exited"&&!h?"hidden":void 0,...kP[V],...E,...d.props.style},ref:R,...I})})});function jP(t){return pt("MuiBackdrop",t)}mt("MuiBackdrop",["root","invisible"]);const $P=t=>{const{classes:e,invisible:n}=t;return gt({root:["root",n&&"invisible"]},jP,e)},MP=Ee("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),PP=$.forwardRef(function(e,n){const r=yt({props:e,name:"MuiBackdrop"}),{children:i,className:o,component:u="div",invisible:d=!1,open:f,components:h={},componentsProps:m={},slotProps:b={},slots:y={},TransitionComponent:_,transitionDuration:v,...w}=r,E={...r,component:u,invisible:d},x=$P(E),N={transition:_,root:h.Root,...y},T={...m,...b},A={slots:N,slotProps:T},[R,M]=Ft("root",{elementType:MP,externalForwardedProps:A,className:Le(x.root,o),ownerState:E}),[H,U]=Ft("transition",{elementType:IP,externalForwardedProps:A,ownerState:E});return J.jsx(H,{in:f,timeout:v,...w,...U,children:J.jsx(R,{"aria-hidden":!0,...M,classes:x,ref:n,children:i})})}),LP=mt("MuiBox",["root"]),DP=AT(),dl=K$({themeId:Rd,defaultTheme:DP,defaultClassName:LP.root,generateClassName:bT.generate}),xg=typeof py({})=="function",UP=(t,e)=>({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%",...e&&!t.vars&&{colorScheme:t.palette.mode}}),zP=t=>({color:(t.vars||t).palette.text.primary,...t.typography.body1,backgroundColor:(t.vars||t).palette.background.default,"@media print":{backgroundColor:(t.vars||t).palette.common.white}}),HT=(t,e=!1)=>{var o,u;const n={};e&&t.colorSchemes&&typeof t.getColorSchemeSelector=="function"&&Object.entries(t.colorSchemes).forEach(([d,f])=>{var m,b;const h=t.getColorSchemeSelector(d);h.startsWith("@")?n[h]={":root":{colorScheme:(m=f.palette)==null?void 0:m.mode}}:n[h.replace(/\s*&/,"")]={colorScheme:(b=f.palette)==null?void 0:b.mode}});let r={html:UP(t,e),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:t.typography.fontWeightBold},body:{margin:0,...zP(t),"&::backdrop":{backgroundColor:(t.vars||t).palette.background.default}},...n};const i=(u=(o=t.components)==null?void 0:o.MuiCssBaseline)==null?void 0:u.styleOverrides;return i&&(r=[r,i]),r},zc="mui-ecs",BP=t=>{const e=HT(t,!1),n=Array.isArray(e)?e[0]:e;return!t.vars&&n&&(n.html[`:root:has(${zc})`]={colorScheme:t.palette.mode}),t.colorSchemes&&Object.entries(t.colorSchemes).forEach(([r,i])=>{var u,d;const o=t.getColorSchemeSelector(r);o.startsWith("@")?n[o]={[`:root:not(:has(.${zc}))`]:{colorScheme:(u=i.palette)==null?void 0:u.mode}}:n[o.replace(/\s*&/,"")]={[`&:not(:has(.${zc}))`]:{colorScheme:(d=i.palette)==null?void 0:d.mode}}}),e},HP=py(xg?({theme:t,enableColorScheme:e})=>HT(t,e):({theme:t})=>BP(t));function qP(t){const e=yt({props:t,name:"MuiCssBaseline"}),{children:n,enableColorScheme:r=!1}=e;return J.jsxs($.Fragment,{children:[xg&&J.jsx(HP,{enableColorScheme:r}),!xg&&!r&&J.jsx("span",{className:zc,style:{display:"none"}}),n]})}function qT(t=window){const e=t.document.documentElement.clientWidth;return t.innerWidth-e}function GP(t){const e=br(t);return e.body===t?fa(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function Ol(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function z1(t){return parseInt(fa(t).getComputedStyle(t).paddingRight,10)||0}function FP(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(t.tagName),r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function B1(t,e,n,r,i){const o=[e,n,...r];[].forEach.call(t.children,u=>{const d=!o.includes(u),f=!FP(u);d&&f&&Ol(u,i)})}function zm(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function VP(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(GP(r)){const u=qT(fa(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${z1(r)+u}px`;const d=br(r).querySelectorAll(".mui-fixed");[].forEach.call(d,f=>{n.push({value:f.style.paddingRight,property:"padding-right",el:f}),f.style.paddingRight=`${z1(f)+u}px`})}let o;if(r.parentNode instanceof DocumentFragment)o=br(r).body;else{const u=r.parentElement,d=fa(r);o=(u==null?void 0:u.nodeName)==="HTML"&&d.getComputedStyle(u).overflowY==="scroll"?u:r}n.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{n.forEach(({value:o,el:u,property:d})=>{o?u.style.setProperty(d,o):u.style.removeProperty(d)})}}function ZP(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class YP{constructor(){this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&Ol(e.modalRef,!1);const i=ZP(n);B1(n,e.mount,e.modalRef,i,!0);const o=zm(this.containers,u=>u.container===n);return o!==-1?(this.containers[o].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=zm(this.containers,o=>o.modals.includes(e)),i=this.containers[r];i.restore||(i.restore=VP(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=zm(this.containers,u=>u.modals.includes(e)),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(r,1),o.modals.length===0)o.restore&&o.restore(),e.modalRef&&Ol(e.modalRef,n),B1(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const u=o.modals[o.modals.length-1];u.modalRef&&Ol(u.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const KP=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function XP(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function QP(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function WP(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||QP(t))}function JP(t){const e=[],n=[];return Array.from(t.querySelectorAll(KP)).forEach((r,i)=>{const o=XP(r);o===-1||!WP(r)||(o===0?e.push(r):n.push({documentOrder:i,tabIndex:o,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function eL(){return!0}function tL(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:o=JP,isEnabled:u=eL,open:d}=t,f=$.useRef(!1),h=$.useRef(null),m=$.useRef(null),b=$.useRef(null),y=$.useRef(null),_=$.useRef(!1),v=$.useRef(null),w=Nn(ru(e),v),E=$.useRef(null);$.useEffect(()=>{!d||!v.current||(_.current=!n)},[n,d]),$.useEffect(()=>{if(!d||!v.current)return;const T=br(v.current);return v.current.contains(T.activeElement)||(v.current.hasAttribute("tabIndex")||v.current.setAttribute("tabIndex","-1"),_.current&&v.current.focus()),()=>{i||(b.current&&b.current.focus&&(f.current=!0,b.current.focus()),b.current=null)}},[d]),$.useEffect(()=>{if(!d||!v.current)return;const T=br(v.current),A=H=>{E.current=H,!(r||!u()||H.key!=="Tab")&&T.activeElement===v.current&&H.shiftKey&&(f.current=!0,m.current&&m.current.focus())},R=()=>{var ie,C;const H=v.current;if(H===null)return;if(!T.hasFocus()||!u()||f.current){f.current=!1;return}if(H.contains(T.activeElement)||r&&T.activeElement!==h.current&&T.activeElement!==m.current)return;if(T.activeElement!==y.current)y.current=null;else if(y.current!==null)return;if(!_.current)return;let U=[];if((T.activeElement===h.current||T.activeElement===m.current)&&(U=o(v.current)),U.length>0){const X=!!((ie=E.current)!=null&&ie.shiftKey&&((C=E.current)==null?void 0:C.key)==="Tab"),ee=U[0],se=U[U.length-1];typeof ee!="string"&&typeof se!="string"&&(X?se.focus():ee.focus())}else H.focus()};T.addEventListener("focusin",R),T.addEventListener("keydown",A,!0);const M=setInterval(()=>{T.activeElement&&T.activeElement.tagName==="BODY"&&R()},50);return()=>{clearInterval(M),T.removeEventListener("focusin",R),T.removeEventListener("keydown",A,!0)}},[n,r,i,u,d,o]);const x=T=>{b.current===null&&(b.current=T.relatedTarget),_.current=!0,y.current=T.target;const A=e.props.onFocus;A&&A(T)},N=T=>{b.current===null&&(b.current=T.relatedTarget),_.current=!0};return J.jsxs($.Fragment,{children:[J.jsx("div",{tabIndex:d?0:-1,onFocus:N,ref:h,"data-testid":"sentinelStart"}),$.cloneElement(e,{ref:w,onFocus:x}),J.jsx("div",{tabIndex:d?0:-1,onFocus:N,ref:m,"data-testid":"sentinelEnd"})]})}function nL(t){return typeof t=="function"?t():t}function rL(t){return t?t.props.hasOwnProperty("in"):!1}const H1=()=>{},Nc=new YP;function aL(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:i=!1,onTransitionEnter:o,onTransitionExited:u,children:d,onClose:f,open:h,rootRef:m}=t,b=$.useRef({}),y=$.useRef(null),_=$.useRef(null),v=Nn(_,m),[w,E]=$.useState(!h),x=rL(d);let N=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(N=!1);const T=()=>br(y.current),A=()=>(b.current.modalRef=_.current,b.current.mount=y.current,b.current),R=()=>{Nc.mount(A(),{disableScrollLock:r}),_.current&&(_.current.scrollTop=0)},M=ki(()=>{const L=nL(e)||T().body;Nc.add(A(),L),_.current&&R()}),H=()=>Nc.isTopModal(A()),U=ki(L=>{y.current=L,L&&(h&&H()?R():_.current&&Ol(_.current,N))}),ie=$.useCallback(()=>{Nc.remove(A(),N)},[N]);$.useEffect(()=>()=>{ie()},[ie]),$.useEffect(()=>{h?M():(!x||!i)&&ie()},[h,ie,x,i,M]);const C=L=>I=>{var D;(D=L.onKeyDown)==null||D.call(L,I),!(I.key!=="Escape"||I.which===229||!H())&&(n||(I.stopPropagation(),f&&f(I,"escapeKeyDown")))},X=L=>I=>{var D;(D=L.onClick)==null||D.call(L,I),I.target===I.currentTarget&&f&&f(I,"backdropClick")};return{getRootProps:(L={})=>{const I=zT(t);delete I.onTransitionEnter,delete I.onTransitionExited;const D={...I,...L};return{role:"presentation",...D,onKeyDown:C(D),ref:v}},getBackdropProps:(L={})=>{const I=L;return{"aria-hidden":!0,...I,onClick:X(I),open:h}},getTransitionProps:()=>{const L=()=>{E(!1),o&&o()},I=()=>{E(!0),u&&u(),i&&ie()};return{onEnter:x1(L,(d==null?void 0:d.props.onEnter)??H1),onExited:x1(I,(d==null?void 0:d.props.onExited)??H1)}},rootRef:v,portalRef:U,isTopModal:H,exited:w,hasTransition:x}}function iL(t){return pt("MuiModal",t)}mt("MuiModal",["root","hidden","backdrop"]);const sL=t=>{const{open:e,exited:n,classes:r}=t;return gt({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},iL,r)},oL=Ee("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(Ct(({theme:t})=>({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),lL=Ee(PP,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),uL=$.forwardRef(function(e,n){const r=yt({name:"MuiModal",props:e}),{BackdropComponent:i=lL,BackdropProps:o,classes:u,className:d,closeAfterTransition:f=!1,children:h,container:m,component:b,components:y={},componentsProps:_={},disableAutoFocus:v=!1,disableEnforceFocus:w=!1,disableEscapeKeyDown:E=!1,disablePortal:x=!1,disableRestoreFocus:N=!1,disableScrollLock:T=!1,hideBackdrop:A=!1,keepMounted:R=!1,onClose:M,onTransitionEnter:H,onTransitionExited:U,open:ie,slotProps:C={},slots:X={},theme:ee,...se}=r,V={...r,closeAfterTransition:f,disableAutoFocus:v,disableEnforceFocus:w,disableEscapeKeyDown:E,disablePortal:x,disableRestoreFocus:N,disableScrollLock:T,hideBackdrop:A,keepMounted:R},{getRootProps:L,getBackdropProps:I,getTransitionProps:D,portalRef:Y,isTopModal:B,exited:k,hasTransition:q}=aL({...V,rootRef:n}),Q={...V,exited:k},W=sL(Q),oe={};if(h.props.tabIndex===void 0&&(oe.tabIndex="-1"),q){const{onEnter:ye,onExited:$e}=D();oe.onEnter=ye,oe.onExited=$e}const ce={slots:{root:y.Root,backdrop:y.Backdrop,...X},slotProps:{..._,...C}},[de,ge]=Ft("root",{ref:n,elementType:oL,externalForwardedProps:{...ce,...se,component:b},getSlotProps:L,ownerState:Q,className:Le(d,W==null?void 0:W.root,!Q.open&&Q.exited&&(W==null?void 0:W.hidden))}),[Te,Ce]=Ft("backdrop",{ref:o==null?void 0:o.ref,elementType:i,externalForwardedProps:ce,shouldForwardComponentProp:!0,additionalProps:o,getSlotProps:ye=>I({...ye,onClick:$e=>{ye!=null&&ye.onClick&&ye.onClick($e)}}),className:Le(o==null?void 0:o.className,W==null?void 0:W.backdrop),ownerState:Q});return!R&&!ie&&(!q||k)?null:J.jsx(fP,{ref:Y,container:m,disablePortal:x,children:J.jsxs(de,{...ge,children:[!A&&i?J.jsx(Te,{...Ce}):null,J.jsx(tL,{disableEnforceFocus:w,disableAutoFocus:v,disableRestoreFocus:N,isEnabled:B,open:ie,children:$.cloneElement(h,oe)})]})})}),cL=t=>{const{classes:e,disableUnderline:n,startAdornment:r,endAdornment:i,size:o,hiddenLabel:u,multiline:d}=t,f={root:["root",!n&&"underline",r&&"adornedStart",i&&"adornedEnd",o==="small"&&`size${qe(o)}`,u&&"hiddenLabel",d&&"multiline"],input:["input"]},h=gt(f,wP,e);return{...e,...h}},dL=Ee(Fd,{shouldForwardProp:t=>Dr(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...qd(t,e),!n.disableUnderline&&e.underline]}})(Ct(({theme:t})=>{const e=t.palette.mode==="light",n=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",o=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r}},[`&.${Si.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r},[`&.${Si.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:o},variants:[{props:({ownerState:u})=>!u.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Si.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Si.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Si.disabled}, .${Si.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${Si.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(ni()).map(([u])=>{var d;return{props:{disableUnderline:!1,color:u},style:{"&::after":{borderBottom:`2px solid ${(d=(t.vars||t).palette[u])==null?void 0:d.main}`}}}}),{props:({ownerState:u})=>u.startAdornment,style:{paddingLeft:12}},{props:({ownerState:u})=>u.endAdornment,style:{paddingRight:12}},{props:({ownerState:u})=>u.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:u,size:d})=>u.multiline&&d==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:u})=>u.multiline&&u.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:u})=>u.multiline&&u.hiddenLabel&&u.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),fL=Ee(Vd,{name:"MuiFilledInput",slot:"Input",overridesResolver:Gd})(Ct(({theme:t})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&e.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),wy=$.forwardRef(function(e,n){const r=yt({props:e,name:"MuiFilledInput"}),{disableUnderline:i=!1,components:o={},componentsProps:u,fullWidth:d=!1,hiddenLabel:f,inputComponent:h="input",multiline:m=!1,slotProps:b,slots:y={},type:_="text",...v}=r,w={...r,disableUnderline:i,fullWidth:d,inputComponent:h,multiline:m,type:_},E=cL(r),x={root:{ownerState:w},input:{ownerState:w}},N=b??u?en(x,b??u):x,T=y.root??o.Root??dL,A=y.input??o.Input??fL;return J.jsx(_y,{slots:{root:T,input:A},slotProps:N,fullWidth:d,inputComponent:h,multiline:m,ref:n,type:_,...v,classes:E})});wy.muiName="Input";function hL(t){return pt("MuiFormControl",t)}mt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const pL=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${qe(n)}`,r&&"fullWidth"]};return gt(i,hL,e)},mL=Ee("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`margin${qe(n.margin)}`],n.fullWidth&&e.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),gL=$.forwardRef(function(e,n){const r=yt({props:e,name:"MuiFormControl"}),{children:i,className:o,color:u="primary",component:d="div",disabled:f=!1,error:h=!1,focused:m,fullWidth:b=!1,hiddenLabel:y=!1,margin:_="none",required:v=!1,size:w="medium",variant:E="outlined",...x}=r,N={...r,color:u,component:d,disabled:f,error:h,fullWidth:b,hiddenLabel:y,margin:_,required:v,size:w,variant:E},T=pL(N),[A,R]=$.useState(()=>{let L=!1;return i&&$.Children.forEach(i,I=>{if(!Dm(I,["Input","Select"]))return;const D=Dm(I,["Select"])?I.props.input:I;D&&gP(D.props)&&(L=!0)}),L}),[M,H]=$.useState(()=>{let L=!1;return i&&$.Children.forEach(i,I=>{Dm(I,["Input","Select"])&&(fd(I.props,!0)||fd(I.props.inputProps,!0))&&(L=!0)}),L}),[U,ie]=$.useState(!1);f&&U&&ie(!1);const C=m!==void 0&&!f?m:U;let X;$.useRef(!1);const ee=$.useCallback(()=>{H(!0)},[]),se=$.useCallback(()=>{H(!1)},[]),V=$.useMemo(()=>({adornedStart:A,setAdornedStart:R,color:u,disabled:f,error:h,filled:M,focused:C,fullWidth:b,hiddenLabel:y,size:w,onBlur:()=>{ie(!1)},onFocus:()=>{ie(!0)},onEmpty:se,onFilled:ee,registerEffect:X,required:v,variant:E}),[A,u,f,h,M,C,b,y,X,se,ee,v,w,E]);return J.jsx(vy.Provider,{value:V,children:J.jsx(mL,{as:d,ownerState:N,className:Le(T.root,o),ref:n,...x,children:i})})});function yL(t){return pt("MuiFormHelperText",t)}const q1=mt("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var G1;const bL=t=>{const{classes:e,contained:n,size:r,disabled:i,error:o,filled:u,focused:d,required:f}=t,h={root:["root",i&&"disabled",o&&"error",r&&`size${qe(r)}`,n&&"contained",d&&"focused",u&&"filled",f&&"required"]};return gt(h,yL,e)},vL=Ee("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${qe(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(Ct(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${q1.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${q1.error}`]:{color:(t.vars||t).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),_L=$.forwardRef(function(e,n){const r=yt({props:e,name:"MuiFormHelperText"}),{children:i,className:o,component:u="p",disabled:d,error:f,filled:h,focused:m,margin:b,required:y,variant:_,...v}=r,w=ao(),E=ro({props:r,muiFormControl:w,states:["variant","size","disabled","error","filled","focused","required"]}),x={...r,component:u,contained:E.variant==="filled"||E.variant==="outlined",variant:E.variant,size:E.size,disabled:E.disabled,error:E.error,filled:E.filled,focused:E.focused,required:E.required};delete x.ownerState;const N=bL(x);return J.jsx(vL,{as:u,className:Le(N.root,o),ref:n,...v,ownerState:x,children:i===" "?G1||(G1=J.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):i})});function wL(t){return pt("MuiFormLabel",t)}const Cl=mt("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),SL=t=>{const{classes:e,color:n,focused:r,disabled:i,error:o,filled:u,required:d}=t,f={root:["root",`color${qe(n)}`,i&&"disabled",o&&"error",u&&"filled",r&&"focused",d&&"required"],asterisk:["asterisk",o&&"error"]};return gt(f,wL,e)},EL=Ee("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color==="secondary"&&e.colorSecondary,n.filled&&e.filled]}})(Ct(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(t.palette).filter(ni()).map(([e])=>({props:{color:e},style:{[`&.${Cl.focused}`]:{color:(t.vars||t).palette[e].main}}})),{props:{},style:{[`&.${Cl.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Cl.error}`]:{color:(t.vars||t).palette.error.main}}}]}))),TL=Ee("span",{name:"MuiFormLabel",slot:"Asterisk"})(Ct(({theme:t})=>({[`&.${Cl.error}`]:{color:(t.vars||t).palette.error.main}}))),xL=$.forwardRef(function(e,n){const r=yt({props:e,name:"MuiFormLabel"}),{children:i,className:o,color:u,component:d="label",disabled:f,error:h,filled:m,focused:b,required:y,..._}=r,v=ao(),w=ro({props:r,muiFormControl:v,states:["color","required","focused","disabled","error","filled"]}),E={...r,color:w.color||"primary",component:d,disabled:w.disabled,error:w.error,filled:w.filled,focused:w.focused,required:w.required},x=SL(E);return J.jsxs(EL,{as:d,ownerState:E,className:Le(x.root,o),ref:n,..._,children:[i,w.required&&J.jsxs(TL,{ownerState:E,"aria-hidden":!0,className:x.asterisk,children:[" ","*"]})]})});function Rg(t){return`scale(${t}, ${t**2})`}const RL={entering:{opacity:1,transform:Rg(1)},entered:{opacity:1,transform:"none"}},Bm=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Og=$.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:o,easing:u,in:d,onEnter:f,onEntered:h,onEntering:m,onExit:b,onExited:y,onExiting:_,style:v,timeout:w="auto",TransitionComponent:E=Ur,...x}=e,N=PT(),T=$.useRef(),A=hy(),R=$.useRef(null),M=Nn(R,ru(o),n),H=L=>I=>{if(L){const D=R.current;I===void 0?L(D):L(D,I)}},U=H(m),ie=H((L,I)=>{LT(L);const{duration:D,delay:Y,easing:B}=cd({style:v,timeout:w,easing:u},{mode:"enter"});let k;w==="auto"?(k=A.transitions.getAutoHeightDuration(L.clientHeight),T.current=k):k=D,L.style.transition=[A.transitions.create("opacity",{duration:k,delay:Y}),A.transitions.create("transform",{duration:Bm?k:k*.666,delay:Y,easing:B})].join(","),f&&f(L,I)}),C=H(h),X=H(_),ee=H(L=>{const{duration:I,delay:D,easing:Y}=cd({style:v,timeout:w,easing:u},{mode:"exit"});let B;w==="auto"?(B=A.transitions.getAutoHeightDuration(L.clientHeight),T.current=B):B=I,L.style.transition=[A.transitions.create("opacity",{duration:B,delay:D}),A.transitions.create("transform",{duration:Bm?B:B*.666,delay:Bm?D:D||B*.333,easing:Y})].join(","),L.style.opacity=0,L.style.transform=Rg(.75),b&&b(L)}),se=H(y),V=L=>{w==="auto"&&N.start(T.current||0,L),r&&r(R.current,L)};return J.jsx(E,{appear:i,in:d,nodeRef:R,onEnter:ie,onEntered:C,onEntering:U,onExit:ee,onExited:se,onExiting:X,addEndListener:V,timeout:w==="auto"?null:w,...x,children:(L,{ownerState:I,...D})=>$.cloneElement(o,{style:{opacity:0,transform:Rg(.75),visibility:L==="exited"&&!d?"hidden":void 0,...RL[L],...v,...o.props.style},ref:M,...D})})});Og&&(Og.muiSupportAuto=!0);const OL=t=>{const{classes:e,disableUnderline:n}=t,i=gt({root:["root",!n&&"underline"],input:["input"]},vP,e);return{...e,...i}},CL=Ee(Fd,{shouldForwardProp:t=>Dr(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...qd(t,e),!n.disableUnderline&&e.underline]}})(Ct(({theme:t})=>{let n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(n=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:r})=>r.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:r})=>!r.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${cl.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${cl.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${cl.disabled}, .${cl.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${cl.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(ni()).map(([r])=>({props:{color:r,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[r].main}`}}}))]}})),AL=Ee(Vd,{name:"MuiInput",slot:"Input",overridesResolver:Gd})({}),Sy=$.forwardRef(function(e,n){const r=yt({props:e,name:"MuiInput"}),{disableUnderline:i=!1,components:o={},componentsProps:u,fullWidth:d=!1,inputComponent:f="input",multiline:h=!1,slotProps:m,slots:b={},type:y="text",..._}=r,v=OL(r),E={root:{ownerState:{disableUnderline:i}}},x=m??u?en(m??u,E):E,N=b.root??o.Root??CL,T=b.input??o.Input??AL;return J.jsx(_y,{slots:{root:N,input:T},slotProps:x,fullWidth:d,inputComponent:f,multiline:h,ref:n,type:y,..._,classes:v})});Sy.muiName="Input";function NL(t){return pt("MuiInputLabel",t)}mt("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const kL=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:o,variant:u,required:d}=t,f={root:["root",n&&"formControl",!o&&"animated",i&&"shrink",r&&r!=="medium"&&`size${qe(r)}`,u],asterisk:[d&&"asterisk"]},h=gt(f,NL,e);return{...e,...h}},IL=Ee(xL,{shouldForwardProp:t=>Dr(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Cl.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(Ct(({theme:t})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:n})=>e==="filled"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:n,size:r})=>e==="filled"&&n.shrink&&r==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:n})=>e==="outlined"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),jL=$.forwardRef(function(e,n){const r=yt({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,margin:o,shrink:u,variant:d,className:f,...h}=r,m=ao();let b=u;typeof b>"u"&&m&&(b=m.filled||m.focused||m.adornedStart);const y=ro({props:r,muiFormControl:m,states:["size","variant","required","focused"]}),_={...r,disableAnimation:i,formControl:m,shrink:b,size:y.size,variant:y.variant,required:y.required,focused:y.focused},v=kL(_);return J.jsx(IL,{"data-shrink":b,ref:n,className:Le(v.root,f),...h,ownerState:_,classes:v})}),$L=$.createContext({});function ML(t){return pt("MuiList",t)}mt("MuiList",["root","padding","dense","subheader"]);const PL=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return gt({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},ML,e)},LL=Ee("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>t.subheader,style:{paddingTop:0}}]}),DL=$.forwardRef(function(e,n){const r=yt({props:e,name:"MuiList"}),{children:i,className:o,component:u="ul",dense:d=!1,disablePadding:f=!1,subheader:h,...m}=r,b=$.useMemo(()=>({dense:d}),[d]),y={...r,component:u,dense:d,disablePadding:f},_=PL(y);return J.jsx($L.Provider,{value:b,children:J.jsxs(LL,{as:u,className:Le(_.root,o),ref:n,ownerState:y,...m,children:[h,i]})})});function Hm(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function F1(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function GT(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.startsWith(e.keys.join(""))}function fl(t,e,n,r,i,o){let u=!1,d=i(t,e,e?n:!1);for(;d;){if(d===t.firstChild){if(u)return!1;u=!0}const f=r?!1:d.disabled||d.getAttribute("aria-disabled")==="true";if(!d.hasAttribute("tabindex")||!GT(d,o)||f)d=i(t,d,n);else return d.focus(),!0}return!1}const UL=$.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:o=!1,children:u,className:d,disabledItemsFocusable:f=!1,disableListWrap:h=!1,onKeyDown:m,variant:b="selectedMenu",...y}=e,_=$.useRef(null),v=$.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Di(()=>{i&&_.current.focus()},[i]),$.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(T,{direction:A})=>{const R=!_.current.style.width;if(T.clientHeight<_.current.clientHeight&&R){const M=`${qT(fa(T))}px`;_.current.style[A==="rtl"?"paddingLeft":"paddingRight"]=M,_.current.style.width=`calc(100% + ${M})`}return _.current}}),[]);const w=T=>{const A=_.current,R=T.key;if(T.ctrlKey||T.metaKey||T.altKey){m&&m(T);return}const H=br(A).activeElement;if(R==="ArrowDown")T.preventDefault(),fl(A,H,h,f,Hm);else if(R==="ArrowUp")T.preventDefault(),fl(A,H,h,f,F1);else if(R==="Home")T.preventDefault(),fl(A,null,h,f,Hm);else if(R==="End")T.preventDefault(),fl(A,null,h,f,F1);else if(R.length===1){const U=v.current,ie=R.toLowerCase(),C=performance.now();U.keys.length>0&&(C-U.lastTime>500?(U.keys=[],U.repeating=!0,U.previousKeyMatched=!0):U.repeating&&ie!==U.keys[0]&&(U.repeating=!1)),U.lastTime=C,U.keys.push(ie);const X=H&&!U.repeating&&GT(H,U);U.previousKeyMatched&&(X||fl(A,H,!1,f,Hm,U))?T.preventDefault():U.previousKeyMatched=!1}m&&m(T)},E=Nn(_,n);let x=-1;$.Children.forEach(u,(T,A)=>{if(!$.isValidElement(T)){x===A&&(x+=1,x>=u.length&&(x=-1));return}T.props.disabled||(b==="selectedMenu"&&T.props.selected||x===-1)&&(x=A),x===A&&(T.props.disabled||T.props.muiSkipListHighlight||T.type.muiSkipListHighlight)&&(x+=1,x>=u.length&&(x=-1))});const N=$.Children.map(u,(T,A)=>{if(A===x){const R={};return o&&(R.autoFocus=!0),T.props.tabIndex===void 0&&b==="selectedMenu"&&(R.tabIndex=0),$.cloneElement(T,R)}return T});return J.jsx(DL,{role:"menu",ref:E,className:d,onKeyDown:w,tabIndex:i?0:-1,...y,children:N})});function zL(t){return pt("MuiPopover",t)}mt("MuiPopover",["root","paper"]);function V1(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function Z1(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function Y1(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function kc(t){return typeof t=="function"?t():t}const BL=t=>{const{classes:e}=t;return gt({root:["root"],paper:["paper"]},zL,e)},HL=Ee(uL,{name:"MuiPopover",slot:"Root"})({}),FT=Ee(O4,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),qL=$.forwardRef(function(e,n){const r=yt({props:e,name:"MuiPopover"}),{action:i,anchorEl:o,anchorOrigin:u={vertical:"top",horizontal:"left"},anchorPosition:d,anchorReference:f="anchorEl",children:h,className:m,container:b,elevation:y=8,marginThreshold:_=16,open:v,PaperProps:w={},slots:E={},slotProps:x={},transformOrigin:N={vertical:"top",horizontal:"left"},TransitionComponent:T,transitionDuration:A="auto",TransitionProps:R={},disableScrollLock:M=!1,...H}=r,U=$.useRef(),ie={...r,anchorOrigin:u,anchorReference:f,elevation:y,marginThreshold:_,transformOrigin:N,TransitionComponent:T,transitionDuration:A,TransitionProps:R},C=BL(ie),X=$.useCallback(()=>{if(f==="anchorPosition")return d;const ye=kc(o),Be=(ye&&ye.nodeType===1?ye:br(U.current).body).getBoundingClientRect();return{top:Be.top+V1(Be,u.vertical),left:Be.left+Z1(Be,u.horizontal)}},[o,u.horizontal,u.vertical,d,f]),ee=$.useCallback(ye=>({vertical:V1(ye,N.vertical),horizontal:Z1(ye,N.horizontal)}),[N.horizontal,N.vertical]),se=$.useCallback(ye=>{const $e={width:ye.offsetWidth,height:ye.offsetHeight},Be=ee($e);if(f==="none")return{top:null,left:null,transformOrigin:Y1(Be)};const Et=X();let Me=Et.top-Be.vertical,ct=Et.left-Be.horizontal;const pn=Me+$e.height,dt=ct+$e.width,It=fa(kc(o)),kn=It.innerHeight-_,Vt=It.innerWidth-_;if(_!==null&&Me<_){const bt=Me-_;Me-=bt,Be.vertical+=bt}else if(_!==null&&pn>kn){const bt=pn-kn;Me-=bt,Be.vertical+=bt}if(_!==null&&ct<_){const bt=ct-_;ct-=bt,Be.horizontal+=bt}else if(dt>Vt){const bt=dt-Vt;ct-=bt,Be.horizontal+=bt}return{top:`${Math.round(Me)}px`,left:`${Math.round(ct)}px`,transformOrigin:Y1(Be)}},[o,f,X,ee,_]),[V,L]=$.useState(v),I=$.useCallback(()=>{const ye=U.current;if(!ye)return;const $e=se(ye);$e.top!==null&&ye.style.setProperty("top",$e.top),$e.left!==null&&(ye.style.left=$e.left),ye.style.transformOrigin=$e.transformOrigin,L(!0)},[se]);$.useEffect(()=>(M&&window.addEventListener("scroll",I),()=>window.removeEventListener("scroll",I)),[o,M,I]);const D=()=>{I()},Y=()=>{L(!1)};$.useEffect(()=>{v&&I()}),$.useImperativeHandle(i,()=>v?{updatePosition:()=>{I()}}:null,[v,I]),$.useEffect(()=>{if(!v)return;const ye=kT(()=>{I()}),$e=fa(kc(o));return $e.addEventListener("resize",ye),()=>{ye.clear(),$e.removeEventListener("resize",ye)}},[o,v,I]);let B=A;const k={slots:{transition:T,...E},slotProps:{transition:R,paper:w,...x}},[q,Q]=Ft("transition",{elementType:Og,externalForwardedProps:k,ownerState:ie,getSlotProps:ye=>({...ye,onEntering:($e,Be)=>{var Et;(Et=ye.onEntering)==null||Et.call(ye,$e,Be),D()},onExited:$e=>{var Be;(Be=ye.onExited)==null||Be.call(ye,$e),Y()}}),additionalProps:{appear:!0,in:v}});A==="auto"&&!q.muiSupportAuto&&(B=void 0);const W=b||(o?br(kc(o)).body:void 0),[oe,{slots:ce,slotProps:de,...ge}]=Ft("root",{ref:n,elementType:HL,externalForwardedProps:{...k,...H},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:E.backdrop},slotProps:{backdrop:p4(typeof x.backdrop=="function"?x.backdrop(ie):x.backdrop,{invisible:!0})},container:W,open:v},ownerState:ie,className:Le(C.root,m)}),[Te,Ce]=Ft("paper",{ref:U,className:C.paper,elementType:FT,externalForwardedProps:k,shouldForwardComponentProp:!0,additionalProps:{elevation:y,style:V?void 0:{opacity:0}},ownerState:ie});return J.jsx(oe,{...ge,...!Tg(oe)&&{slots:ce,slotProps:de,disableScrollLock:M},children:J.jsx(q,{...Q,timeout:B,children:J.jsx(Te,{...Ce,children:h})})})});function GL(t){return pt("MuiMenu",t)}mt("MuiMenu",["root","paper","list"]);const FL={vertical:"top",horizontal:"right"},VL={vertical:"top",horizontal:"left"},ZL=t=>{const{classes:e}=t;return gt({root:["root"],paper:["paper"],list:["list"]},GL,e)},YL=Ee(qL,{shouldForwardProp:t=>Dr(t)||t==="classes",name:"MuiMenu",slot:"Root"})({}),KL=Ee(FT,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),XL=Ee(UL,{name:"MuiMenu",slot:"List"})({outline:0}),QL=$.forwardRef(function(e,n){const r=yt({props:e,name:"MuiMenu"}),{autoFocus:i=!0,children:o,className:u,disableAutoFocusItem:d=!1,MenuListProps:f={},onClose:h,open:m,PaperProps:b={},PopoverClasses:y,transitionDuration:_="auto",TransitionProps:{onEntering:v,...w}={},variant:E="selectedMenu",slots:x={},slotProps:N={},...T}=r,A=hM(),R={...r,autoFocus:i,disableAutoFocusItem:d,MenuListProps:f,onEntering:v,PaperProps:b,transitionDuration:_,TransitionProps:w,variant:E},M=ZL(R),H=i&&!d&&m,U=$.useRef(null),ie=(B,k)=>{U.current&&U.current.adjustStyleForScrollbar(B,{direction:A?"rtl":"ltr"}),v&&v(B,k)},C=B=>{B.key==="Tab"&&(B.preventDefault(),h&&h(B,"tabKeyDown"))};let X=-1;$.Children.map(o,(B,k)=>{$.isValidElement(B)&&(B.props.disabled||(E==="selectedMenu"&&B.props.selected||X===-1)&&(X=k))});const ee={slots:x,slotProps:{list:f,transition:w,paper:b,...N}},se=cP({elementType:x.root,externalSlotProps:N.root,ownerState:R,className:[M.root,u]}),[V,L]=Ft("paper",{className:M.paper,elementType:KL,externalForwardedProps:ee,shouldForwardComponentProp:!0,ownerState:R}),[I,D]=Ft("list",{className:Le(M.list,f.className),elementType:XL,shouldForwardComponentProp:!0,externalForwardedProps:ee,getSlotProps:B=>({...B,onKeyDown:k=>{var q;C(k),(q=B.onKeyDown)==null||q.call(B,k)}}),ownerState:R}),Y=typeof ee.slotProps.transition=="function"?ee.slotProps.transition(R):ee.slotProps.transition;return J.jsx(YL,{onClose:h,anchorOrigin:{vertical:"bottom",horizontal:A?"right":"left"},transformOrigin:A?FL:VL,slots:{root:x.root,paper:V,backdrop:x.backdrop,...x.transition&&{transition:x.transition}},slotProps:{root:se,paper:L,backdrop:typeof N.backdrop=="function"?N.backdrop(R):N.backdrop,transition:{...Y,onEntering:(...B)=>{var k;ie(...B),(k=Y==null?void 0:Y.onEntering)==null||k.call(Y,...B)}}},open:m,ref:n,transitionDuration:_,ownerState:R,...T,classes:y,children:J.jsx(I,{actions:U,autoFocus:i&&(X===-1||d),autoFocusItem:H,variant:E,...D,children:o})})});function WL(t){return pt("MuiNativeSelect",t)}const Ey=mt("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),JL=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:o,error:u}=t,d={select:["select",n,r&&"disabled",i&&"multiple",u&&"error"],icon:["icon",`icon${qe(n)}`,o&&"iconOpen",r&&"disabled"]};return gt(d,WL,e)},VT=Ee("select")(({theme:t})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${Ey.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},variants:[{props:({ownerState:e})=>e.variant!=="filled"&&e.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}}]})),e3=Ee(VT,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Dr,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${Ey.multiple}`]:e.multiple}]}})({}),ZT=Ee("svg")(({theme:t})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${Ey.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),t3=Ee(ZT,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${qe(n.variant)}`],n.open&&e.iconOpen]}})({}),n3=$.forwardRef(function(e,n){const{className:r,disabled:i,error:o,IconComponent:u,inputRef:d,variant:f="standard",...h}=e,m={...e,disabled:i,variant:f,error:o},b=JL(m);return J.jsxs($.Fragment,{children:[J.jsx(e3,{ownerState:m,className:Le(b.select,r),disabled:i,ref:d||n,...h}),e.multiple?null:J.jsx(t3,{as:u,ownerState:m,className:b.icon})]})});var K1;const r3=Ee("fieldset",{shouldForwardProp:Dr})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),a3=Ee("legend",{shouldForwardProp:Dr})(Ct(({theme:t})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]})));function i3(t){const{children:e,classes:n,className:r,label:i,notched:o,...u}=t,d=i!=null&&i!=="",f={...t,notched:o,withLabel:d};return J.jsx(r3,{"aria-hidden":!0,className:r,ownerState:f,...u,children:J.jsx(a3,{ownerState:f,children:d?J.jsx("span",{children:i}):K1||(K1=J.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"}))})})}const s3=t=>{const{classes:e}=t,r=gt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},_P,e);return{...e,...r}},o3=Ee(Fd,{shouldForwardProp:t=>Dr(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:qd})(Ct(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Cr.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Cr.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}},[`&.${Cr.focused} .${Cr.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(t.palette).filter(ni()).map(([n])=>({props:{color:n},style:{[`&.${Cr.focused} .${Cr.notchedOutline}`]:{borderColor:(t.vars||t).palette[n].main}}})),{props:{},style:{[`&.${Cr.error} .${Cr.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${Cr.disabled} .${Cr.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}}},{props:({ownerState:n})=>n.startAdornment,style:{paddingLeft:14}},{props:({ownerState:n})=>n.endAdornment,style:{paddingRight:14}},{props:({ownerState:n})=>n.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:n,size:r})=>n.multiline&&r==="small",style:{padding:"8.5px 14px"}}]}})),l3=Ee(i3,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(Ct(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}})),u3=Ee(Vd,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Gd})(Ct(({theme:t})=>({padding:"16.5px 14px",...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),Ty=$.forwardRef(function(e,n){const r=yt({props:e,name:"MuiOutlinedInput"}),{components:i={},fullWidth:o=!1,inputComponent:u="input",label:d,multiline:f=!1,notched:h,slots:m={},slotProps:b={},type:y="text",..._}=r,v=s3(r),w=ao(),E=ro({props:r,muiFormControl:w,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),x={...r,color:E.color||"primary",disabled:E.disabled,error:E.error,focused:E.focused,formControl:w,fullWidth:o,hiddenLabel:E.hiddenLabel,multiline:f,size:E.size,type:y},N=m.root??i.Root??o3,T=m.input??i.Input??u3,[A,R]=Ft("notchedOutline",{elementType:l3,className:v.notchedOutline,shouldForwardComponentProp:!0,ownerState:x,externalForwardedProps:{slots:m,slotProps:b},additionalProps:{label:d!=null&&d!==""&&E.required?J.jsxs($.Fragment,{children:[d," ","*"]}):d}});return J.jsx(_y,{slots:{root:N,input:T},slotProps:b,renderSuffix:M=>J.jsx(A,{...R,notched:typeof h<"u"?h:!!(M.startAdornment||M.filled||M.focused)}),fullWidth:o,inputComponent:u,multiline:f,ref:n,type:y,..._,classes:{...v,notchedOutline:null}})});Ty.muiName="Input";function YT(t){return pt("MuiSelect",t)}const hl=mt("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var X1;const c3=Ee(VT,{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${hl.select}`]:e.select},{[`&.${hl.select}`]:e[n.variant]},{[`&.${hl.error}`]:e.error},{[`&.${hl.multiple}`]:e.multiple}]}})({[`&.${hl.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),d3=Ee(ZT,{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${qe(n.variant)}`],n.open&&e.iconOpen]}})({}),f3=Ee("input",{shouldForwardProp:t=>NT(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function Q1(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function h3(t){return t==null||typeof t=="string"&&!t.trim()}const p3=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:o,error:u}=t,d={select:["select",n,r&&"disabled",i&&"multiple",u&&"error"],icon:["icon",`icon${qe(n)}`,o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return gt(d,YT,e)},m3=$.forwardRef(function(e,n){var ai;const{"aria-describedby":r,"aria-label":i,autoFocus:o,autoWidth:u,children:d,className:f,defaultOpen:h,defaultValue:m,disabled:b,displayEmpty:y,error:_=!1,IconComponent:v,inputRef:w,labelId:E,MenuProps:x={},multiple:N,name:T,onBlur:A,onChange:R,onClose:M,onFocus:H,onOpen:U,open:ie,readOnly:C,renderValue:X,required:ee,SelectDisplayProps:se={},tabIndex:V,type:L,value:I,variant:D="standard",...Y}=e,[B,k]=A1({controlled:I,default:m,name:"Select"}),[q,Q]=A1({controlled:ie,default:h,name:"Select"}),W=$.useRef(null),oe=$.useRef(null),[ce,de]=$.useState(null),{current:ge}=$.useRef(ie!=null),[Te,Ce]=$.useState(),ye=Nn(n,w),$e=$.useCallback(_e=>{oe.current=_e,_e&&de(_e)},[]),Be=ce==null?void 0:ce.parentNode;$.useImperativeHandle(ye,()=>({focus:()=>{oe.current.focus()},node:W.current,value:B}),[B]),$.useEffect(()=>{h&&q&&ce&&!ge&&(Ce(u?null:Be.clientWidth),oe.current.focus())},[ce,u]),$.useEffect(()=>{o&&oe.current.focus()},[o]),$.useEffect(()=>{if(!E)return;const _e=br(oe.current).getElementById(E);if(_e){const Xe=()=>{getSelection().isCollapsed&&oe.current.focus()};return _e.addEventListener("click",Xe),()=>{_e.removeEventListener("click",Xe)}}},[E]);const Et=(_e,Xe)=>{_e?U&&U(Xe):M&&M(Xe),ge||(Ce(u?null:Be.clientWidth),Q(_e))},Me=_e=>{_e.button===0&&(_e.preventDefault(),oe.current.focus(),Et(!0,_e))},ct=_e=>{Et(!1,_e)},pn=$.Children.toArray(d),dt=_e=>{const Xe=pn.find(wt=>wt.props.value===_e.target.value);Xe!==void 0&&(k(Xe.props.value),R&&R(_e,Xe))},It=_e=>Xe=>{let wt;if(Xe.currentTarget.hasAttribute("tabindex")){if(N){wt=Array.isArray(B)?B.slice():[];const ga=B.indexOf(_e.props.value);ga===-1?wt.push(_e.props.value):wt.splice(ga,1)}else wt=_e.props.value;if(_e.props.onClick&&_e.props.onClick(Xe),B!==wt&&(k(wt),R)){const ga=Xe.nativeEvent||Xe,io=new ga.constructor(ga.type,ga);Object.defineProperty(io,"target",{writable:!0,value:{value:wt,name:T}}),R(io,_e)}N||Et(!1,Xe)}},kn=_e=>{C||[" ","ArrowUp","ArrowDown","Enter"].includes(_e.key)&&(_e.preventDefault(),Et(!0,_e))},Vt=ce!==null&&q,bt=_e=>{!Vt&&A&&(Object.defineProperty(_e,"target",{writable:!0,value:{value:B,name:T}}),A(_e))};delete Y["aria-invalid"];let we,sr;const Ut=[];let pa=!1;(fd({value:B})||y)&&(X?we=X(B):pa=!0);const or=pn.map(_e=>{if(!$.isValidElement(_e))return null;let Xe;if(N){if(!Array.isArray(B))throw new Error(da(2));Xe=B.some(wt=>Q1(wt,_e.props.value)),Xe&&pa&&Ut.push(_e.props.children)}else Xe=Q1(B,_e.props.value),Xe&&pa&&(sr=_e.props.children);return $.cloneElement(_e,{"aria-selected":Xe?"true":"false",onClick:It(_e),onKeyUp:wt=>{wt.key===" "&&wt.preventDefault(),_e.props.onKeyUp&&_e.props.onKeyUp(wt)},role:"option",selected:Xe,value:void 0,"data-value":_e.props.value})});pa&&(N?Ut.length===0?we=null:we=Ut.reduce((_e,Xe,wt)=>(_e.push(Xe),wt<Ut.length-1&&_e.push(", "),_e),[]):we=sr);let zt=Te;!u&&ge&&ce&&(zt=Be.clientWidth);let mn;typeof V<"u"?mn=V:mn=b?null:0;const jt=se.id||(T?`mui-component-select-${T}`:void 0),zr={...e,variant:D,value:B,open:Vt,error:_},ft=p3(zr),ma={...x.PaperProps,...(ai=x.slotProps)==null?void 0:ai.paper},wr=my();return J.jsxs($.Fragment,{children:[J.jsx(c3,{as:"div",ref:$e,tabIndex:mn,role:"combobox","aria-controls":Vt?wr:void 0,"aria-disabled":b?"true":void 0,"aria-expanded":Vt?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[E,jt].filter(Boolean).join(" ")||void 0,"aria-describedby":r,"aria-required":ee?"true":void 0,"aria-invalid":_?"true":void 0,onKeyDown:kn,onMouseDown:b||C?null:Me,onBlur:bt,onFocus:H,...se,ownerState:zr,className:Le(se.className,ft.select,f),id:jt,children:h3(we)?X1||(X1=J.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):we}),J.jsx(f3,{"aria-invalid":_,value:Array.isArray(B)?B.join(","):B,name:T,ref:W,"aria-hidden":!0,onChange:dt,tabIndex:-1,disabled:b,className:ft.nativeInput,autoFocus:o,required:ee,...Y,ownerState:zr}),J.jsx(d3,{as:v,className:ft.icon,ownerState:zr}),J.jsx(QL,{id:`menu-${T||""}`,anchorEl:Be,open:Vt,onClose:ct,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...x,slotProps:{...x.slotProps,list:{"aria-labelledby":E,role:"listbox","aria-multiselectable":N?"true":void 0,disableListWrap:!0,id:wr,...x.MenuListProps},paper:{...ma,style:{minWidth:zt,...ma!=null?ma.style:null}}},children:or})]})}),g3=t=>{const{classes:e}=t,r=gt({root:["root"]},YT,e);return{...e,...r}},xy={name:"MuiSelect",slot:"Root",shouldForwardProp:t=>Dr(t)&&t!=="variant"},y3=Ee(Sy,xy)(""),b3=Ee(Ty,xy)(""),v3=Ee(wy,xy)(""),KT=$.forwardRef(function(e,n){const r=yt({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:o,classes:u={},className:d,defaultOpen:f=!1,displayEmpty:h=!1,IconComponent:m=SP,id:b,input:y,inputProps:_,label:v,labelId:w,MenuProps:E,multiple:x=!1,native:N=!1,onClose:T,onOpen:A,open:R,renderValue:M,SelectDisplayProps:H,variant:U="outlined",...ie}=r,C=N?n3:m3,X=ao(),ee=ro({props:r,muiFormControl:X,states:["variant","error"]}),se=ee.variant||U,V={...r,variant:se,classes:u},L=g3(V),{root:I,...D}=L,Y=y||{standard:J.jsx(y3,{ownerState:V}),outlined:J.jsx(b3,{label:v,ownerState:V}),filled:J.jsx(v3,{ownerState:V})}[se],B=Nn(n,ru(Y));return J.jsx($.Fragment,{children:$.cloneElement(Y,{inputComponent:C,inputProps:{children:o,error:ee.error,IconComponent:m,variant:se,type:void 0,multiple:x,...N?{id:b}:{autoWidth:i,defaultOpen:f,displayEmpty:h,labelId:w,MenuProps:E,onClose:T,onOpen:A,open:R,renderValue:M,SelectDisplayProps:{id:b,...H}},..._,classes:_?en(D,_.classes):D,...y?y.props.inputProps:{}},...(x&&N||h)&&se==="outlined"?{notched:!0}:{},ref:B,className:Le(Y.props.className,d,L.root),...!y&&{variant:se},...ie})})});KT.muiName="Select";const XT=AM({createStyledComponent:Ee("div",{name:"MuiStack",slot:"Root"}),useThemeProps:t=>yt({props:t,name:"MuiStack"})});function _3(t){return pt("MuiTextField",t)}mt("MuiTextField",["root"]);const w3={standard:Sy,filled:wy,outlined:Ty},S3=t=>{const{classes:e}=t;return gt({root:["root"]},_3,e)},E3=Ee(gL,{name:"MuiTextField",slot:"Root"})({}),T3=$.forwardRef(function(e,n){const r=yt({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:o=!1,children:u,className:d,color:f="primary",defaultValue:h,disabled:m=!1,error:b=!1,FormHelperTextProps:y,fullWidth:_=!1,helperText:v,id:w,InputLabelProps:E,inputProps:x,InputProps:N,inputRef:T,label:A,maxRows:R,minRows:M,multiline:H=!1,name:U,onBlur:ie,onChange:C,onFocus:X,placeholder:ee,required:se=!1,rows:V,select:L=!1,SelectProps:I,slots:D={},slotProps:Y={},type:B,value:k,variant:q="outlined",...Q}=r,W={...r,autoFocus:o,color:f,disabled:m,error:b,fullWidth:_,multiline:H,required:se,select:L,variant:q},oe=S3(W),ce=my(w),de=v&&ce?`${ce}-helper-text`:void 0,ge=A&&ce?`${ce}-label`:void 0,Te=w3[q],Ce={slots:D,slotProps:{input:N,inputLabel:E,htmlInput:x,formHelperText:y,select:I,...Y}},ye={},$e=Ce.slotProps.inputLabel;q==="outlined"&&($e&&typeof $e.shrink<"u"&&(ye.notched=$e.shrink),ye.label=A),L&&((!I||!I.native)&&(ye.id=void 0),ye["aria-describedby"]=void 0);const[Be,Et]=Ft("root",{elementType:E3,shouldForwardComponentProp:!0,externalForwardedProps:{...Ce,...Q},ownerState:W,className:Le(oe.root,d),ref:n,additionalProps:{disabled:m,error:b,fullWidth:_,required:se,color:f,variant:q}}),[Me,ct]=Ft("input",{elementType:Te,externalForwardedProps:Ce,additionalProps:ye,ownerState:W}),[pn,dt]=Ft("inputLabel",{elementType:jL,externalForwardedProps:Ce,ownerState:W}),[It,kn]=Ft("htmlInput",{elementType:"input",externalForwardedProps:Ce,ownerState:W}),[Vt,bt]=Ft("formHelperText",{elementType:_L,externalForwardedProps:Ce,ownerState:W}),[we,sr]=Ft("select",{elementType:KT,externalForwardedProps:Ce,ownerState:W}),Ut=J.jsx(Me,{"aria-describedby":de,autoComplete:i,autoFocus:o,defaultValue:h,fullWidth:_,multiline:H,name:U,rows:V,maxRows:R,minRows:M,type:B,value:k,id:ce,inputRef:T,onBlur:ie,onChange:C,onFocus:X,placeholder:ee,inputProps:kn,slots:{input:D.htmlInput?It:void 0},...ct});return J.jsxs(Be,{...Et,children:[A!=null&&A!==""&&J.jsx(pn,{htmlFor:ce,id:ge,...dt,children:A}),L?J.jsx(we,{"aria-describedby":de,id:ce,labelId:ge,value:k,input:Ut,...sr,children:u}):Ut,v&&J.jsx(Vt,{id:de,...bt,children:v})]})}),x3=Hd(J.jsx("path",{d:"M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3m5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72z"})),R3=Hd(J.jsx("path",{d:"M6 6h12v12H6z"}));function O3({chat:t,listening:e,micDisabled:n,onMicClick:r,onMicStop:i}){const o=$.useRef(null);return $.useEffect(()=>{var u;(u=o.current)==null||u.scrollIntoView({behavior:"smooth"})},[t]),J.jsxs(dl,{sx:{display:"flex",flexDirection:"column",border:"1px solid #ccc",borderRadius:2,flexGrow:1,overflow:"hidden"},children:[J.jsxs(dl,{sx:{flex:1,overflowY:"auto",p:2,backgroundColor:"#fafafa"},children:[t.map((u,d)=>J.jsxs(dl,{display:"flex",flexDirection:u.role==="user"?"row":"row-reverse",alignItems:"flex-start",mb:2,children:[J.jsx(NP,{sx:{bgcolor:u.role==="user"?"success.main":"primary.main",mx:1},children:u.role==="user"?"U":"A"}),J.jsxs(dl,{sx:{bgcolor:u.role==="user"?"#e8f5e9":"#e3f2fd",p:1.5,borderRadius:2,maxWidth:"50%",wordBreak:"break-word",display:"flex",flexDirection:"column",gap:1},children:[J.jsx(xi,{variant:"body2",children:u.content}),u.audio&&J.jsx("audio",{style:{width:"100%"},controls:!0,src:u.audio,autoPlay:!0,children:"Your browser does not support the audio element."})]})]},d)),J.jsx("div",{ref:o})]}),J.jsx(dl,{sx:{borderTop:"1px solid #ccc",p:1,display:"flex",justifyContent:"center"},children:J.jsx(aP,{onClick:e?i:r,color:e?"error":"primary",size:"large",disabled:n,children:e?J.jsx(R3,{fontSize:"large"}):J.jsx(x3,{fontSize:"large"})})})]})}const C3=({listening:t,transcript:e,finalTranscript:n,lastTranscript:r,prompt:i})=>J.jsxs(XT,{sx:{gap:.5,p:2,border:"1px solid #ccc",borderRadius:2},children:[J.jsx(xi,{variant:"subtitle1",children:J.jsx("strong",{children:"Debug Section"})}),J.jsxs(xi,{variant:"body2",children:["Microphone: ",J.jsx("strong",{children:t?"On":"Off"})]}),J.jsxs(xi,{variant:"body2",children:["Transcript: ",J.jsx("span",{children:e})]}),J.jsxs(xi,{variant:"body2",children:["Final Transcript: ",J.jsx("span",{children:n})]}),J.jsxs(xi,{variant:"body2",children:["Last Handled Transcript: ",J.jsx("span",{children:r})]}),J.jsxs(xi,{variant:"body2",children:["Prompt: ",J.jsx("span",{children:i})]})]}),W1="あなたはフレンドリーでやさしい日本語のAIチャットボットです。あなたの名前はアイです。話し方は自然で丁寧すぎない、親しみのある口調（やさしい友達や先輩のように）で会話します。ユーザーの話にしっかり共感し、返事をしたあとは、必ず関連する質問を返して会話を続けてください。オープンな質問で、ユーザーにもっと話してもらえるようにしてください。必ず日本語で答えてください。",A3=()=>{const{transcript:t,listening:e,finalTranscript:n,browserSupportsSpeechRecognition:r,resetTranscript:i}=qI(),[o,u]=$.useState(""),[d,f]=$.useState(""),[h,m]=$.useState([]);return r?($.useEffect(()=>{(async()=>{const y="こんにちは！アイだよ｡今日はどんな話をしようか？",_="https://api.tts.quest/v3/voicevox/synthesis?"+new URLSearchParams({speaker:"0",text:y}).toString(),E=(await(await fetch(_)).json()).mp3StreamingUrl;m([{role:"ai",content:y,audio:E}])})()},[]),$.useEffect(()=>{(async()=>{if(e||!n||n===d)return;const y=[...h,{role:"user",content:n}];m(y);const v=await new CI({apiKey:o,model:"gemini-2.0-flash-lite",temperature:1,maxOutputTokens:128}).invoke([{role:"system",content:W1},...y]),w=v.content;console.log("model response:",v);const E="https://api.tts.quest/v3/voicevox/synthesis?"+new URLSearchParams({speaker:"0",text:w}).toString(),N=await(await fetch(E)).json();console.log("Voicevox response:",N);const T=N.mp3StreamingUrl;m([...y,{role:"ai",content:w,audio:T}]),f(n),i()})()},[e,n,d]),J.jsxs(J.Fragment,{children:[J.jsx(qP,{}),J.jsxs(XT,{spacing:1,p:2,height:"100vh",children:[J.jsx(T3,{label:"Gemini API Key",variant:"outlined",fullWidth:!0,value:o,onChange:b=>u(b.target.value),required:!0}),J.jsx(O3,{chat:h,listening:e,micDisabled:!o,onMicClick:()=>oa.startListening({continuous:!0,language:"ja",interimResults:!1}),onMicStop:oa.stopListening}),J.jsx(C3,{listening:e,transcript:t,finalTranscript:n,lastTranscript:d,prompt:W1})]})]})):J.jsx("span",{children:"Browser doesn't support speech recognition."})};_O.createRoot(document.getElementById("root")).render(J.jsx($.StrictMode,{children:J.jsx(A3,{})}));
